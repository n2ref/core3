/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var t="3.7.1",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=ue.call(t,"constructor")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)while(t=e[r++])n+=ce.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function p(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ce.escapeSelector=function(e){return(e+"").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",p="\\["+ge+"*("+t+")(?:"+ge+"*([*^$|!~]?=)"+ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+ge+"*\\]",g=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+p+")*)|.*)\\)|)",v=new RegExp(ge+"+","g"),y=new RegExp("^"+ge+"*,"+ge+"*"),m=new RegExp("^"+ge+"*([>+~]|"+ge+")"+ge+"*"),x=new RegExp(ge+"|>"),j=new RegExp(g),A=new RegExp("^"+t+"$"),D={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+p),PSEUDO:new RegExp("^"+g),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ge+"*(even|odd|(([+-]|)(\\d*)n|)"+ge+"*(?:([+-]|)"+ge+"*(\\d+)|))"+ge+"*\\)|)","i"),bool:new RegExp("^(?:"+f+")$","i"),needsContext:new RegExp("^"+ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ge+"*((?:-\\d)?\\d*)"+ge+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\([^\\r\\n\\f])","g"),P=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},M=function(){V()},R=J(function(e){return!0===e.disabled&&fe(e,"fieldset")},{dir:"parentNode",next:"legend"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+" "]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&U(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute("id"))?s=ce.escapeSelector(s):e.setAttribute("id",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+Q(l[o]);c=l.join(",")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return re(t.replace(ve,"$1"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,"input")&&e.type===t}}function _(t){return function(e){return(fe(e,"input")||fe(e,"button"))&&e.type===t}}function z(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&R(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function X(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function U(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",M),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,"*")}),le.scope=$(function(){return T.querySelectorAll(":scope")}),le.cssHas=$(function(){try{return T.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if("undefined"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+ge+"*(?:value|"+f+")"),e.querySelectorAll("[id~="+S+"-]").length||d.push("~="),e.querySelectorAll("a#"+S+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+ge+"*name"+ge+"*="+ge+"*(?:''|\"\")")}),le.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+" "]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||"").replace(O,P),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return"*"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+ge+")"+e+"("+ge+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(v," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,"$1"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:z(!1),disabled:z(!0),checked:function(e){return fe(e,"input")&&!!e.checked||fe(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,"input")&&"button"===e.type||fe(e,"button")},text:function(e){var t;return fe(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:X(function(){return[0]}),last:X(function(e,t){return[t-1]}),eq:X(function(e,t,n){return[n<0?n+t:n]}),even:X(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:X(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:X(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:X(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve," ")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ve,"$1"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+" "];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&U(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&U(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split("").sort(l).join("")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ce.find=I,ce.expr[":"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.tokenize=Y,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,"template")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener("DOMContentLoaded",P),ie.removeEventListener("load",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)["catch"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener("DOMContentLoaded",P),ie.addEventListener("load",P));var M=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)M(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},R=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(R,"ms-").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,z=new B,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:X.test(i)?JSON.parse(i):i)}catch(e){}z.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return z.hasData(e)||_.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=z.get(o),1===o.nodeType&&!_.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){z.set(this,n)}):M(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=z.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){z.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=_.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&K(e)&&"none"===ce.css(e,"display")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,"")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=e.nodeType&&(ce.cssNumber[t]||"px"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=_.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ne[s]=u)))):"none"!==n&&(l[c]="none",_.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement("div")),(be=C.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",le.option=!!xe.lastChild;var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement("div")),s=(Te.exec(o)||["",""])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),"script"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||"")&&n.push(o)}return f}var De=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(D)||[""]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,"events")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,"input")&&_.get(t,"click")||fe(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,"handle"),n=ce.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return fe(e,"table")&&fe(11!==t.nodeType?t:t.firstChild,"tr")&&ce(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);z.hasData(e)&&(o=z.access(e),a=ce.extend({},o),z.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&"string"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,"script"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||"")&&!_.access(u,"globalEval")&&ce.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):m(u.textContent.replace(Me,""),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,"script")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,"script")).length&&Ee(a,!f&&Se(e,"script")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return M(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),ze=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join("|"),"i");function Ge(e,t,n){var r,i,o,a,s=ze.test(t),u=e.style;return(n=n||Xe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,"$1")||void 0),""!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=["Webkit","Moz","ms"],Je=C.createElement("div").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?("content"===n&&(u-=ce.css(e,"padding"+Q[a],!0,i)),"margin"!==n&&(u-=ce.css(e,"border"+Q[a]+"Width",!0,i))):(u+=ce.css(e,"padding"+Q[a],!0,i),"padding"!==n?u+=ce.css(e,"border"+Q[a]+"Width",!0,i):s+=ce.css(e,"border"+Q[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Xe(e),i=(!le.boxSizingReliable()||n)&&"border-box"===ce.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===ce.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===ce.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=ze.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return ze.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each(["height","width"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):Ue(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Xe(e),o=!le.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===ce.css(e,"boxSizing",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,"border",!1,i)-.5)),s&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,"fxshow");for(r in n.queue||(null==(a=ce._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,"display")),"none"===(c=ce.css(e,"display"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,"display"),re([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=_.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,"fxshow"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=_.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each(["toggle","show","hide"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement("input"),ct=C.createElement("select").appendChild(C.createElement("option")),lt.type="checkbox",le.checkOn=""!==lt.value,le.optSelected=ct.selected,(lt=C.createElement("input")).value="t",lt.type="radio",le.radioValue="t"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return M(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&fe(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return M(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=Ct(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":_.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var St=/\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?"":e+""})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(St,""):null==e?"":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,"optgroup"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\?/;ce.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||ce.error("Invalid XML: "+(n?ce.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,"type")?e.type:e,h=ue.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,"events")||Object.create(null))[e.type]&&_.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==x(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},_t={},zt="*/".concat("*"),Xt=C.createElement("a");function Ut(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Xt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace($t,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(D)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Rt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Mt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),o=(At.test(f)?"&":"?")+"_="+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader("If-None-Match",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+zt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray("script",v.dataTypes)&&ce.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ce.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ce.active||ce.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&"withCredentials"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||ce.expando+"_"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ce.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),"script"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ce("<div>").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,"position"),c=ce(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ce.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===ce.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,"borderTopWidth",!0),i.left+=ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ce.css(r,"marginTop",!0),left:t.left-i.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===ce.css(e,"position"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ce.fn[t]=function(e){return M(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each(["top","left"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+"px":t})}),ce.each({Height:"height",Width:"width"},function(a,s){ce.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,n){var r;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},"undefined"==typeof e&&(ie.jQuery=ie.$=ce),ce});
;
/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e()}(this,(function(){"use strict";const t=new Map,e={set(e,i,n){t.has(e)||t.set(e,new Map);const s=t.get(e);s.has(i)||0===s.size?s.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(e,i)=>t.has(e)&&t.get(e).get(i)||null,remove(e,i){if(!t.has(e))return;const n=t.get(e);n.delete(i),0===n.size&&t.delete(e)}},i="transitionend",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),s=t=>{t.dispatchEvent(new Event(i))},o=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),r=t=>o(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(n(t)):null,a=t=>{if(!o(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},l=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),c=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?c(t.parentNode):null},h=()=>{},d=t=>{t.offsetHeight},u=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,f=[],p=()=>"rtl"===document.documentElement.dir,m=t=>{var e;e=()=>{const e=u();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},"loading"===document.readyState?(f.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of f)t()})),f.push(e)):e()},g=(t,e=[],i=t)=>"function"==typeof t?t(...e):i,_=(t,e,n=!0)=>{if(!n)return void g(t);const o=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return n||s?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let r=!1;const a=({target:n})=>{n===e&&(r=!0,e.removeEventListener(i,a),g(t))};e.addEventListener(i,a),setTimeout((()=>{r||s(e)}),o)},b=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return-1===o?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},v=/[^.]*(?=\..*)\.|.*/,y=/\..*/,w=/::\d+$/,A={};let E=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},C=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function O(t,e){return e&&`${e}::${E++}`||t.uidEvent||E++}function x(t){const e=O(t);return t.uidEvent=e,A[e]=A[e]||{},A[e]}function k(t,e,i=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===i))}function L(t,e,i){const n="string"==typeof e,s=n?i:e||i;let o=I(t);return C.has(o)||(o=t),[n,s,o]}function S(t,e,i,n,s){if("string"!=typeof e||!t)return;let[o,r,a]=L(e,i,n);if(e in T){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r=t(r)}const l=x(t),c=l[a]||(l[a]={}),h=k(c,r,o?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const d=O(r,e.replace(v,"")),u=o?function(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return P(s,{delegateTarget:r}),n.oneOff&&N.off(t,s.type,e,i),i.apply(r,[s])}}(t,i,r):function(t,e){return function i(n){return P(n,{delegateTarget:t}),i.oneOff&&N.off(t,n.type,e),e.apply(t,[n])}}(t,r);u.delegationSelector=o?i:null,u.callable=r,u.oneOff=s,u.uidEvent=d,c[d]=u,t.addEventListener(a,u,o)}function D(t,e,i,n,s){const o=k(e[i],n,s);o&&(t.removeEventListener(i,o,Boolean(s)),delete e[i][o.uidEvent])}function $(t,e,i,n){const s=e[i]||{};for(const[o,r]of Object.entries(s))o.includes(n)&&D(t,e,i,r.callable,r.delegationSelector)}function I(t){return t=t.replace(y,""),T[t]||t}const N={on(t,e,i,n){S(t,e,i,n,!1)},one(t,e,i,n){S(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[s,o,r]=L(e,i,n),a=r!==e,l=x(t),c=l[r]||{},h=e.startsWith(".");if(void 0===o){if(h)for(const i of Object.keys(l))$(t,l,i,e.slice(1));for(const[i,n]of Object.entries(c)){const s=i.replace(w,"");a&&!e.includes(s)||D(t,l,r,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;D(t,l,r,o,s?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=u();let s=null,o=!0,r=!0,a=!1;e!==I(e)&&n&&(s=n.Event(e,i),n(t).trigger(s),o=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());const l=P(new Event(e,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),r&&t.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function P(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}function j(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function M(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const F={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${M(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${M(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=j(t.dataset[n])}return e},getDataAttribute:(t,e)=>j(t.getAttribute(`data-bs-${M(e)}`))};class H{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=o(e)?F.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...o(e)?F.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[n,s]of Object.entries(e)){const e=t[n],r=o(e)?"element":null==(i=e)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${s}".`)}var i}}class W extends H{constructor(t,i){super(),(t=r(t))&&(this._element=t,this._config=this._getConfig(i),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){_(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(r(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const B=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map((t=>n(t))).join(","):null},z={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!l(t)&&a(t)))},getSelectorFromElement(t){const e=B(t);return e&&z.findOne(e)?e:null},getElementFromSelector(t){const e=B(t);return e?z.findOne(e):null},getMultipleElementsFromSelector(t){const e=B(t);return e?z.find(e):[]}},R=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;N.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),l(this))return;const s=z.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()}))},q=".bs.alert",V=`close${q}`,K=`closed${q}`;class Q extends W{static get NAME(){return"alert"}close(){if(N.trigger(this._element,V).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),N.trigger(this._element,K),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=Q.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}R(Q,"close"),m(Q);const X='[data-bs-toggle="button"]';class Y extends W{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=Y.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}N.on(document,"click.bs.button.data-api",X,(t=>{t.preventDefault();const e=t.target.closest(X);Y.getOrCreateInstance(e).toggle()})),m(Y);const U=".bs.swipe",G=`touchstart${U}`,J=`touchmove${U}`,Z=`touchend${U}`,tt=`pointerdown${U}`,et=`pointerup${U}`,it={endCallback:null,leftCallback:null,rightCallback:null},nt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class st extends H{constructor(t,e){super(),this._element=t,t&&st.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return it}static get DefaultType(){return nt}static get NAME(){return"swipe"}dispose(){N.off(this._element,U)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&g(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,tt,(t=>this._start(t))),N.on(this._element,et,(t=>this._end(t))),this._element.classList.add("pointer-event")):(N.on(this._element,G,(t=>this._start(t))),N.on(this._element,J,(t=>this._move(t))),N.on(this._element,Z,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ot=".bs.carousel",rt=".data-api",at="next",lt="prev",ct="left",ht="right",dt=`slide${ot}`,ut=`slid${ot}`,ft=`keydown${ot}`,pt=`mouseenter${ot}`,mt=`mouseleave${ot}`,gt=`dragstart${ot}`,_t=`load${ot}${rt}`,bt=`click${ot}${rt}`,vt="carousel",yt="active",wt=".active",At=".carousel-item",Et=wt+At,Tt={ArrowLeft:ht,ArrowRight:ct},Ct={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ot={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xt extends W{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===vt&&this.cycle()}static get Default(){return Ct}static get DefaultType(){return Ot}static get NAME(){return"carousel"}next(){this._slide(at)}nextWhenVisible(){!document.hidden&&a(this._element)&&this.next()}prev(){this._slide(lt)}pause(){this._isSliding&&s(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?N.one(this._element,ut,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void N.one(this._element,ut,(()=>this.to(t)));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?at:lt;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&N.on(this._element,ft,(t=>this._keydown(t))),"hover"===this._config.pause&&(N.on(this._element,pt,(()=>this.pause())),N.on(this._element,mt,(()=>this._maybeEnableCycle()))),this._config.touch&&st.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of z.find(".carousel-item img",this._element))N.on(t,gt,(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(ct)),rightCallback:()=>this._slide(this._directionToOrder(ht)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new st(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Tt[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=z.findOne(wt,this._indicatorsElement);e.classList.remove(yt),e.removeAttribute("aria-current");const i=z.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(yt),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===at,s=e||b(this._getItems(),i,n,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),r=e=>N.trigger(this._element,e,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(r(dt).defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";s.classList.add(c),d(s),i.classList.add(l),s.classList.add(l),this._queueCallback((()=>{s.classList.remove(l,c),s.classList.add(yt),i.classList.remove(yt,c,l),this._isSliding=!1,r(ut)}),i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return z.findOne(Et,this._element)}_getItems(){return z.find(At,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return p()?t===ct?lt:at:t===ct?at:lt}_orderToDirection(t){return p()?t===lt?ct:ht:t===lt?ht:ct}static jQueryInterface(t){return this.each((function(){const e=xt.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}N.on(document,bt,"[data-bs-slide], [data-bs-slide-to]",(function(t){const e=z.getElementFromSelector(this);if(!e||!e.classList.contains(vt))return;t.preventDefault();const i=xt.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===F.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),N.on(window,_t,(()=>{const t=z.find('[data-bs-ride="carousel"]');for(const e of t)xt.getOrCreateInstance(e)})),m(xt);const kt=".bs.collapse",Lt=`show${kt}`,St=`shown${kt}`,Dt=`hide${kt}`,$t=`hidden${kt}`,It=`click${kt}.data-api`,Nt="show",Pt="collapse",jt="collapsing",Mt=`:scope .${Pt} .${Pt}`,Ft='[data-bs-toggle="collapse"]',Ht={parent:null,toggle:!0},Wt={parent:"(null|element)",toggle:"boolean"};class Bt extends W{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=z.find(Ft);for(const t of i){const e=z.getSelectorFromElement(t),i=z.find(e).filter((t=>t===this._element));null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ht}static get DefaultType(){return Wt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>Bt.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(N.trigger(this._element,Lt).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(Pt),this._element.classList.add(jt),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(jt),this._element.classList.add(Pt,Nt),this._element.style[e]="",N.trigger(this._element,St)}),this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(N.trigger(this._element,Dt).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,d(this._element),this._element.classList.add(jt),this._element.classList.remove(Pt,Nt);for(const t of this._triggerArray){const e=z.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(jt),this._element.classList.add(Pt),N.trigger(this._element,$t)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(Nt)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=r(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Ft);for(const e of t){const t=z.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=z.find(Mt,this._config.parent);return z.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const i=Bt.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}N.on(document,It,Ft,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of z.getMultipleElementsFromSelector(this))Bt.getOrCreateInstance(t,{toggle:!1}).toggle()})),m(Bt);var zt="top",Rt="bottom",qt="right",Vt="left",Kt="auto",Qt=[zt,Rt,qt,Vt],Xt="start",Yt="end",Ut="clippingParents",Gt="viewport",Jt="popper",Zt="reference",te=Qt.reduce((function(t,e){return t.concat([e+"-"+Xt,e+"-"+Yt])}),[]),ee=[].concat(Qt,[Kt]).reduce((function(t,e){return t.concat([e,e+"-"+Xt,e+"-"+Yt])}),[]),ie="beforeRead",ne="read",se="afterRead",oe="beforeMain",re="main",ae="afterMain",le="beforeWrite",ce="write",he="afterWrite",de=[ie,ne,se,oe,re,ae,le,ce,he];function ue(t){return t?(t.nodeName||"").toLowerCase():null}function fe(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function pe(t){return t instanceof fe(t).Element||t instanceof Element}function me(t){return t instanceof fe(t).HTMLElement||t instanceof HTMLElement}function ge(t){return"undefined"!=typeof ShadowRoot&&(t instanceof fe(t).ShadowRoot||t instanceof ShadowRoot)}const _e={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];me(s)&&ue(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],s=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});me(n)&&ue(n)&&(Object.assign(n.style,o),Object.keys(s).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]};function be(t){return t.split("-")[0]}var ve=Math.max,ye=Math.min,we=Math.round;function Ae(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function Ee(){return!/^((?!chrome|android).)*safari/i.test(Ae())}function Te(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&me(t)&&(s=t.offsetWidth>0&&we(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&we(n.height)/t.offsetHeight||1);var r=(pe(t)?fe(t):window).visualViewport,a=!Ee()&&i,l=(n.left+(a&&r?r.offsetLeft:0))/s,c=(n.top+(a&&r?r.offsetTop:0))/o,h=n.width/s,d=n.height/o;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function Ce(t){var e=Te(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function Oe(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&ge(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function xe(t){return fe(t).getComputedStyle(t)}function ke(t){return["table","td","th"].indexOf(ue(t))>=0}function Le(t){return((pe(t)?t.ownerDocument:t.document)||window.document).documentElement}function Se(t){return"html"===ue(t)?t:t.assignedSlot||t.parentNode||(ge(t)?t.host:null)||Le(t)}function De(t){return me(t)&&"fixed"!==xe(t).position?t.offsetParent:null}function $e(t){for(var e=fe(t),i=De(t);i&&ke(i)&&"static"===xe(i).position;)i=De(i);return i&&("html"===ue(i)||"body"===ue(i)&&"static"===xe(i).position)?e:i||function(t){var e=/firefox/i.test(Ae());if(/Trident/i.test(Ae())&&me(t)&&"fixed"===xe(t).position)return null;var i=Se(t);for(ge(i)&&(i=i.host);me(i)&&["html","body"].indexOf(ue(i))<0;){var n=xe(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function Ie(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ne(t,e,i){return ve(t,ye(e,i))}function Pe(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function je(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}const Me={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,s=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=be(i.placement),l=Ie(a),c=[Vt,qt].indexOf(a)>=0?"height":"width";if(o&&r){var h=function(t,e){return Pe("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:je(t,Qt))}(s.padding,i),d=Ce(o),u="y"===l?zt:Vt,f="y"===l?Rt:qt,p=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],m=r[l]-i.rects.reference[l],g=$e(o),_=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=p/2-m/2,v=h[u],y=_-d[c]-h[f],w=_/2-d[c]/2+b,A=Ne(v,w,y),E=l;i.modifiersData[n]=((e={})[E]=A,e.centerOffset=A-w,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Oe(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fe(t){return t.split("-")[1]}var He={top:"auto",right:"auto",bottom:"auto",left:"auto"};function We(t){var e,i=t.popper,n=t.popperRect,s=t.placement,o=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,u=r.x,f=void 0===u?0:u,p=r.y,m=void 0===p?0:p,g="function"==typeof h?h({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var _=r.hasOwnProperty("x"),b=r.hasOwnProperty("y"),v=Vt,y=zt,w=window;if(c){var A=$e(i),E="clientHeight",T="clientWidth";A===fe(i)&&"static"!==xe(A=Le(i)).position&&"absolute"===a&&(E="scrollHeight",T="scrollWidth"),(s===zt||(s===Vt||s===qt)&&o===Yt)&&(y=Rt,m-=(d&&A===w&&w.visualViewport?w.visualViewport.height:A[E])-n.height,m*=l?1:-1),s!==Vt&&(s!==zt&&s!==Rt||o!==Yt)||(v=qt,f-=(d&&A===w&&w.visualViewport?w.visualViewport.width:A[T])-n.width,f*=l?1:-1)}var C,O=Object.assign({position:a},c&&He),x=!0===h?function(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:we(i*s)/s||0,y:we(n*s)/s||0}}({x:f,y:m},fe(i)):{x:f,y:m};return f=x.x,m=x.y,l?Object.assign({},O,((C={})[y]=b?"0":"",C[v]=_?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",C)):Object.assign({},O,((e={})[y]=b?m+"px":"",e[v]=_?f+"px":"",e.transform="",e))}const Be={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=void 0===n||n,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:be(e.placement),variation:Fe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,We(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,We(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var ze={passive:!0};const Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=void 0===s||s,r=n.resize,a=void 0===r||r,l=fe(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",i.update,ze)})),a&&l.addEventListener("resize",i.update,ze),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",i.update,ze)})),a&&l.removeEventListener("resize",i.update,ze)}},data:{}};var qe={left:"right",right:"left",bottom:"top",top:"bottom"};function Ve(t){return t.replace(/left|right|bottom|top/g,(function(t){return qe[t]}))}var Ke={start:"end",end:"start"};function Qe(t){return t.replace(/start|end/g,(function(t){return Ke[t]}))}function Xe(t){var e=fe(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ye(t){return Te(Le(t)).left+Xe(t).scrollLeft}function Ue(t){var e=xe(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function Ge(t){return["html","body","#document"].indexOf(ue(t))>=0?t.ownerDocument.body:me(t)&&Ue(t)?t:Ge(Se(t))}function Je(t,e){var i;void 0===e&&(e=[]);var n=Ge(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),o=fe(n),r=s?[o].concat(o.visualViewport||[],Ue(n)?n:[]):n,a=e.concat(r);return s?a:a.concat(Je(Se(r)))}function Ze(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ti(t,e,i){return e===Gt?Ze(function(t,e){var i=fe(t),n=Le(t),s=i.visualViewport,o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var c=Ee();(c||!c&&"fixed"===e)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+Ye(t),y:l}}(t,i)):pe(e)?function(t,e){var i=Te(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):Ze(function(t){var e,i=Le(t),n=Xe(t),s=null==(e=t.ownerDocument)?void 0:e.body,o=ve(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=ve(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+Ye(t),l=-n.scrollTop;return"rtl"===xe(s||i).direction&&(a+=ve(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(Le(t)))}function ei(t){var e,i=t.reference,n=t.element,s=t.placement,o=s?be(s):null,r=s?Fe(s):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case zt:e={x:a,y:i.y-n.height};break;case Rt:e={x:a,y:i.y+i.height};break;case qt:e={x:i.x+i.width,y:l};break;case Vt:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?Ie(o):null;if(null!=c){var h="y"===c?"height":"width";switch(r){case Xt:e[c]=e[c]-(i[h]/2-n[h]/2);break;case Yt:e[c]=e[c]+(i[h]/2-n[h]/2)}}return e}function ii(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=void 0===n?t.placement:n,o=i.strategy,r=void 0===o?t.strategy:o,a=i.boundary,l=void 0===a?Ut:a,c=i.rootBoundary,h=void 0===c?Gt:c,d=i.elementContext,u=void 0===d?Jt:d,f=i.altBoundary,p=void 0!==f&&f,m=i.padding,g=void 0===m?0:m,_=Pe("number"!=typeof g?g:je(g,Qt)),b=u===Jt?Zt:Jt,v=t.rects.popper,y=t.elements[p?b:u],w=function(t,e,i,n){var s="clippingParents"===e?function(t){var e=Je(Se(t)),i=["absolute","fixed"].indexOf(xe(t).position)>=0&&me(t)?$e(t):t;return pe(i)?e.filter((function(t){return pe(t)&&Oe(t,i)&&"body"!==ue(t)})):[]}(t):[].concat(e),o=[].concat(s,[i]),r=o[0],a=o.reduce((function(e,i){var s=ti(t,i,n);return e.top=ve(s.top,e.top),e.right=ye(s.right,e.right),e.bottom=ye(s.bottom,e.bottom),e.left=ve(s.left,e.left),e}),ti(t,r,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(pe(y)?y:y.contextElement||Le(t.elements.popper),l,h,r),A=Te(t.elements.reference),E=ei({reference:A,element:v,strategy:"absolute",placement:s}),T=Ze(Object.assign({},v,E)),C=u===Jt?T:A,O={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},x=t.modifiersData.offset;if(u===Jt&&x){var k=x[s];Object.keys(O).forEach((function(t){var e=[qt,Rt].indexOf(t)>=0?1:-1,i=[zt,Rt].indexOf(t)>=0?"y":"x";O[t]+=k[i]*e}))}return O}function ni(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?ee:l,h=Fe(n),d=h?a?te:te.filter((function(t){return Fe(t)===h})):Qt,u=d.filter((function(t){return c.indexOf(t)>=0}));0===u.length&&(u=d);var f=u.reduce((function(e,i){return e[i]=ii(t,{placement:i,boundary:s,rootBoundary:o,padding:r})[be(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}const si={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,h=i.boundary,d=i.rootBoundary,u=i.altBoundary,f=i.flipVariations,p=void 0===f||f,m=i.allowedAutoPlacements,g=e.options.placement,_=be(g),b=l||(_!==g&&p?function(t){if(be(t)===Kt)return[];var e=Ve(t);return[Qe(t),e,Qe(e)]}(g):[Ve(g)]),v=[g].concat(b).reduce((function(t,i){return t.concat(be(i)===Kt?ni(e,{placement:i,boundary:h,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):i)}),[]),y=e.rects.reference,w=e.rects.popper,A=new Map,E=!0,T=v[0],C=0;C<v.length;C++){var O=v[C],x=be(O),k=Fe(O)===Xt,L=[zt,Rt].indexOf(x)>=0,S=L?"width":"height",D=ii(e,{placement:O,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),$=L?k?qt:Vt:k?Rt:zt;y[S]>w[S]&&($=Ve($));var I=Ve($),N=[];if(o&&N.push(D[x]<=0),a&&N.push(D[$]<=0,D[I]<=0),N.every((function(t){return t}))){T=O,E=!1;break}A.set(O,N)}if(E)for(var P=function(t){var e=v.find((function(e){var i=A.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return T=e,"break"},j=p?3:1;j>0&&"break"!==P(j);j--);e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function oi(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function ri(t){return[zt,qt,Rt,Vt].some((function(e){return t[e]>=0}))}const ai={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,r=ii(e,{elementContext:"reference"}),a=ii(e,{altBoundary:!0}),l=oi(r,n),c=oi(a,s,o),h=ri(l),d=ri(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}},li={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.offset,o=void 0===s?[0,0]:s,r=ee.reduce((function(t,i){return t[i]=function(t,e,i){var n=be(t),s=[Vt,zt].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[Vt,qt].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(i,e.rects,o),t}),{}),a=r[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=r}},ci={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=ei({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},hi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,d=i.padding,u=i.tether,f=void 0===u||u,p=i.tetherOffset,m=void 0===p?0:p,g=ii(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),_=be(e.placement),b=Fe(e.placement),v=!b,y=Ie(_),w="x"===y?"y":"x",A=e.modifiersData.popperOffsets,E=e.rects.reference,T=e.rects.popper,C="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,O="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(A){if(o){var L,S="y"===y?zt:Vt,D="y"===y?Rt:qt,$="y"===y?"height":"width",I=A[y],N=I+g[S],P=I-g[D],j=f?-T[$]/2:0,M=b===Xt?E[$]:T[$],F=b===Xt?-T[$]:-E[$],H=e.elements.arrow,W=f&&H?Ce(H):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[S],R=B[D],q=Ne(0,E[$],W[$]),V=v?E[$]/2-j-q-z-O.mainAxis:M-q-z-O.mainAxis,K=v?-E[$]/2+j+q+R+O.mainAxis:F+q+R+O.mainAxis,Q=e.elements.arrow&&$e(e.elements.arrow),X=Q?"y"===y?Q.clientTop||0:Q.clientLeft||0:0,Y=null!=(L=null==x?void 0:x[y])?L:0,U=I+K-Y,G=Ne(f?ye(N,I+V-Y-X):N,I,f?ve(P,U):P);A[y]=G,k[y]=G-I}if(a){var J,Z="x"===y?zt:Vt,tt="x"===y?Rt:qt,et=A[w],it="y"===w?"height":"width",nt=et+g[Z],st=et-g[tt],ot=-1!==[zt,Vt].indexOf(_),rt=null!=(J=null==x?void 0:x[w])?J:0,at=ot?nt:et-E[it]-T[it]-rt+O.altAxis,lt=ot?et+E[it]+T[it]-rt-O.altAxis:st,ct=f&&ot?function(t,e,i){var n=Ne(t,e,i);return n>i?i:n}(at,et,lt):Ne(f?at:nt,et,f?lt:st);A[w]=ct,k[w]=ct-et}e.modifiersData[n]=k}},requiresIfExists:["offset"]};function di(t,e,i){void 0===i&&(i=!1);var n,s,o=me(e),r=me(e)&&function(t){var e=t.getBoundingClientRect(),i=we(e.width)/t.offsetWidth||1,n=we(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),a=Le(e),l=Te(t,r,i),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&(("body"!==ue(e)||Ue(a))&&(c=(n=e)!==fe(n)&&me(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:Xe(n)),me(e)?((h=Te(e,!0)).x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=Ye(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function ui(t){var e=new Map,i=new Set,n=[];function s(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&s(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||s(t)})),n}var fi={placement:"bottom",modifiers:[],strategy:"absolute"};function pi(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function mi(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,s=e.defaultOptions,o=void 0===s?fi:s;return function(t,e,i){void 0===i&&(i=o);var s,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},fi,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(i){var s="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:pe(t)?Je(t):t.contextElement?Je(t.contextElement):[],popper:Je(e)};var r,c,u=function(t){var e=ui(t);return de.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((r=[].concat(n,a.options.modifiers),c=r.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return a.orderedModifiers=u.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,s=t.effect;if("function"==typeof s){var o=s({state:a,name:e,instance:h,options:n});l.push(o||function(){})}})),h.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,i=t.popper;if(pi(e,i)){a.rects={reference:di(e,$e(i),"fixed"===a.options.strategy),popper:Ce(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],o=s.fn,r=s.options,l=void 0===r?{}:r,d=s.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(t){h.forceUpdate(),t(a)}))},function(){return r||(r=new Promise((function(t){Promise.resolve().then((function(){r=void 0,t(s())}))}))),r}),destroy:function(){d(),c=!0}};if(!pi(t,e))return h;function d(){l.forEach((function(t){return t()})),l=[]}return h.setOptions(i).then((function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)})),h}}var gi=mi(),_i=mi({defaultModifiers:[Re,ci,Be,_e]}),bi=mi({defaultModifiers:[Re,ci,Be,_e,li,si,hi,Me,ai]});const vi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ae,afterRead:se,afterWrite:he,applyStyles:_e,arrow:Me,auto:Kt,basePlacements:Qt,beforeMain:oe,beforeRead:ie,beforeWrite:le,bottom:Rt,clippingParents:Ut,computeStyles:Be,createPopper:bi,createPopperBase:gi,createPopperLite:_i,detectOverflow:ii,end:Yt,eventListeners:Re,flip:si,hide:ai,left:Vt,main:re,modifierPhases:de,offset:li,placements:ee,popper:Jt,popperGenerator:mi,popperOffsets:ci,preventOverflow:hi,read:ne,reference:Zt,right:qt,start:Xt,top:zt,variationPlacements:te,viewport:Gt,write:ce},Symbol.toStringTag,{value:"Module"})),yi="dropdown",wi=".bs.dropdown",Ai=".data-api",Ei="ArrowUp",Ti="ArrowDown",Ci=`hide${wi}`,Oi=`hidden${wi}`,xi=`show${wi}`,ki=`shown${wi}`,Li=`click${wi}${Ai}`,Si=`keydown${wi}${Ai}`,Di=`keyup${wi}${Ai}`,$i="show",Ii='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ni=`${Ii}.${$i}`,Pi=".dropdown-menu",ji=p()?"top-end":"top-start",Mi=p()?"top-start":"top-end",Fi=p()?"bottom-end":"bottom-start",Hi=p()?"bottom-start":"bottom-end",Wi=p()?"left-start":"right-start",Bi=p()?"right-start":"left-start",zi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ri={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class qi extends W{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,Pi)[0]||z.prev(this._element,Pi)[0]||z.findOne(Pi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zi}static get DefaultType(){return Ri}static get NAME(){return yi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!N.trigger(this._element,xi,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))N.on(t,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($i),this._element.classList.add($i),N.trigger(this._element,ki,t)}}hide(){if(l(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!N.trigger(this._element,Ci,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))N.off(t,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove($i),this._element.classList.remove($i),this._element.setAttribute("aria-expanded","false"),F.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,Oi,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!o(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${yi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===vi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:o(this._config.reference)?t=r(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=bi(t,this._menu,e)}_isShown(){return this._menu.classList.contains($i)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Wi;if(t.classList.contains("dropstart"))return Bi;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Mi:ji:e?Hi:Fi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(F.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...g(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const i=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((t=>a(t)));i.length&&b(i,e,t===Ti,!i.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=qi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=z.find(Ni);for(const i of e){const e=qi.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),s=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!s||"outside"===e._config.autoClose&&s)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=[Ei,Ti].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const s=this.matches(Ii)?this:z.prev(this,Ii)[0]||z.next(this,Ii)[0]||z.findOne(Ii,t.delegateTarget.parentNode),o=qi.getOrCreateInstance(s);if(n)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}N.on(document,Si,Ii,qi.dataApiKeydownHandler),N.on(document,Si,Pi,qi.dataApiKeydownHandler),N.on(document,Li,qi.clearMenus),N.on(document,Di,qi.clearMenus),N.on(document,Li,Ii,(function(t){t.preventDefault(),qi.getOrCreateInstance(this).toggle()})),m(qi);const Vi="backdrop",Ki="show",Qi=`mousedown.bs.${Vi}`,Xi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Yi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ui extends H{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Xi}static get DefaultType(){return Yi}static get NAME(){return Vi}show(t){if(!this._config.isVisible)return void g(t);this._append();const e=this._getElement();this._config.isAnimated&&d(e),e.classList.add(Ki),this._emulateAnimation((()=>{g(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(Ki),this._emulateAnimation((()=>{this.dispose(),g(t)}))):g(t)}dispose(){this._isAppended&&(N.off(this._element,Qi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=r(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),N.on(t,Qi,(()=>{g(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){_(t,this._getElement(),this._config.isAnimated)}}const Gi=".bs.focustrap",Ji=`focusin${Gi}`,Zi=`keydown.tab${Gi}`,tn="backward",en={autofocus:!0,trapElement:null},nn={autofocus:"boolean",trapElement:"element"};class sn extends H{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return en}static get DefaultType(){return nn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,Gi),N.on(document,Ji,(t=>this._handleFocusin(t))),N.on(document,Zi,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,Gi))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=z.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===tn?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?tn:"forward")}}const on=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rn=".sticky-top",an="padding-right",ln="margin-right";class cn{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,an,(e=>e+t)),this._setElementAttributes(on,an,(e=>e+t)),this._setElementAttributes(rn,ln,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,an),this._resetElementAttributes(on,an),this._resetElementAttributes(rn,ln)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(s))}px`)}))}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&F.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const i=F.getDataAttribute(t,e);null!==i?(F.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(o(t))e(t);else for(const i of z.find(t,this._element))e(i)}}const hn=".bs.modal",dn=`hide${hn}`,un=`hidePrevented${hn}`,fn=`hidden${hn}`,pn=`show${hn}`,mn=`shown${hn}`,gn=`resize${hn}`,_n=`click.dismiss${hn}`,bn=`mousedown.dismiss${hn}`,vn=`keydown.dismiss${hn}`,yn=`click${hn}.data-api`,wn="modal-open",An="show",En="modal-static",Tn={backdrop:!0,focus:!0,keyboard:!0},Cn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class On extends W{constructor(t,e){super(t,e),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new cn,this._addEventListeners()}static get Default(){return Tn}static get DefaultType(){return Cn}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||N.trigger(this._element,pn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(wn),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(N.trigger(this._element,dn).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(An),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){N.off(window,hn),N.off(this._dialog,hn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ui({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new sn({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=z.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),d(this._element),this._element.classList.add(An),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,mn,{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,vn,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),N.on(window,gn,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),N.on(this._element,bn,(t=>{N.one(this._element,_n,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(wn),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,fn)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(N.trigger(this._element,un).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(En)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(En),this._queueCallback((()=>{this._element.classList.remove(En),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=p()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){const t=p()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const i=On.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}}))}}N.on(document,yn,'[data-bs-toggle="modal"]',(function(t){const e=z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),N.one(e,pn,(t=>{t.defaultPrevented||N.one(e,fn,(()=>{a(this)&&this.focus()}))}));const i=z.findOne(".modal.show");i&&On.getInstance(i).hide(),On.getOrCreateInstance(e).toggle(this)})),R(On),m(On);const xn=".bs.offcanvas",kn=".data-api",Ln=`load${xn}${kn}`,Sn="show",Dn="showing",$n="hiding",In=".offcanvas.show",Nn=`show${xn}`,Pn=`shown${xn}`,jn=`hide${xn}`,Mn=`hidePrevented${xn}`,Fn=`hidden${xn}`,Hn=`resize${xn}`,Wn=`click${xn}${kn}`,Bn=`keydown.dismiss${xn}`,zn={backdrop:!0,keyboard:!0,scroll:!1},Rn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class qn extends W{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return zn}static get DefaultType(){return Rn}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||N.trigger(this._element,Nn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new cn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Dn),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Sn),this._element.classList.remove(Dn),N.trigger(this._element,Pn,{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(N.trigger(this._element,jn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add($n),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Sn,$n),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new cn).reset(),N.trigger(this._element,Fn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new Ui({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():N.trigger(this._element,Mn)}:null})}_initializeFocusTrap(){return new sn({trapElement:this._element})}_addEventListeners(){N.on(this._element,Bn,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():N.trigger(this._element,Mn))}))}static jQueryInterface(t){return this.each((function(){const e=qn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}N.on(document,Wn,'[data-bs-toggle="offcanvas"]',(function(t){const e=z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),l(this))return;N.one(e,Fn,(()=>{a(this)&&this.focus()}));const i=z.findOne(In);i&&i!==e&&qn.getInstance(i).hide(),qn.getOrCreateInstance(e).toggle(this)})),N.on(window,Ln,(()=>{for(const t of z.find(In))qn.getOrCreateInstance(t).show()})),N.on(window,Hn,(()=>{for(const t of z.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&qn.getOrCreateInstance(t).hide()})),R(qn),m(qn);const Vn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Kn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xn=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!Kn.has(i)||Boolean(Qn.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(i)))},Yn={allowList:Vn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Un={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Gn={entry:"(string|element|function|null)",selector:"(string|element)"};class Jn extends H{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Yn}static get DefaultType(){return Un}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,i]of Object.entries(this._config.content))this._setContent(t,i,e);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Gn)}_setContent(t,e,i){const n=z.findOne(i,t);n&&((e=this._resolvePossibleFunction(e))?o(e)?this._putElementInTemplate(r(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const t of s){const i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const n=[].concat(...t.attributes),s=[].concat(e["*"]||[],e[i]||[]);for(const e of n)Xn(e,s)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return g(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const Zn=new Set(["sanitize","allowList","sanitizeFn"]),ts="fade",es="show",is=".modal",ns="hide.bs.modal",ss="hover",os="focus",rs={AUTO:"auto",TOP:"top",RIGHT:p()?"left":"right",BOTTOM:"bottom",LEFT:p()?"right":"left"},as={allowList:Vn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ls={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class cs extends W{constructor(t,e){if(void 0===vi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return as}static get DefaultType(){return ls}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(is),ns,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=N.trigger(this._element,this.constructor.eventName("show")),e=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),N.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(es),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))N.on(t,"mouseover",h);this._queueCallback((()=>{N.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!N.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(es),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))N.off(t,"mouseover",h);this._activeTrigger.click=!1,this._activeTrigger[os]=!1,this._activeTrigger[ss]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(ts,es),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(ts),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Jn({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ts)}_isShown(){return this.tip&&this.tip.classList.contains(es)}_createPopper(t){const e=g(this._config.placement,[this,t,this._element]),i=rs[e.toUpperCase()];return bi(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return g(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...g(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)N.on(this._element,this.constructor.eventName("click"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if("manual"!==e){const t=e===ss?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===ss?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");N.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?os:ss]=!0,e._enter()})),N.on(this._element,i,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?os:ss]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(is),ns,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=F.getDataAttributes(this._element);for(const t of Object.keys(e))Zn.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:r(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=cs.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}m(cs);const hs={...cs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ds={...cs.DefaultType,content:"(null|string|element|function)"};class us extends cs{static get Default(){return hs}static get DefaultType(){return ds}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=us.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}m(us);const fs=".bs.scrollspy",ps=`activate${fs}`,ms=`click${fs}`,gs=`load${fs}.data-api`,_s="active",bs="[href]",vs=".nav-link",ys=`${vs}, .nav-item > ${vs}, .list-group-item`,ws={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},As={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Es extends W{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ws}static get DefaultType(){return As}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=r(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,ms),N.on(this._config.target,ms,bs,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&t){if(i(o),!n)return}else s||t||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=z.find(bs,this._config.target);for(const e of t){if(!e.hash||l(e))continue;const t=z.findOne(decodeURI(e.hash),this._element);a(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(_s),this._activateParents(t),N.trigger(this._element,ps,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))z.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(_s);else for(const e of z.parents(t,".nav, .list-group"))for(const t of z.prev(e,ys))t.classList.add(_s)}_clearActiveClass(t){t.classList.remove(_s);const e=z.find(`${bs}.${_s}`,t);for(const t of e)t.classList.remove(_s)}static jQueryInterface(t){return this.each((function(){const e=Es.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}N.on(window,gs,(()=>{for(const t of z.find('[data-bs-spy="scroll"]'))Es.getOrCreateInstance(t)})),m(Es);const Ts=".bs.tab",Cs=`hide${Ts}`,Os=`hidden${Ts}`,xs=`show${Ts}`,ks=`shown${Ts}`,Ls=`click${Ts}`,Ss=`keydown${Ts}`,Ds=`load${Ts}`,$s="ArrowLeft",Is="ArrowRight",Ns="ArrowUp",Ps="ArrowDown",js="Home",Ms="End",Fs="active",Hs="fade",Ws="show",Bs=".dropdown-toggle",zs=`:not(${Bs})`,Rs='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',qs=`.nav-link${zs}, .list-group-item${zs}, [role="tab"]${zs}, ${Rs}`,Vs=`.${Fs}[data-bs-toggle="tab"], .${Fs}[data-bs-toggle="pill"], .${Fs}[data-bs-toggle="list"]`;class Ks extends W{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,Ss,(t=>this._keydown(t))))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?N.trigger(e,Cs,{relatedTarget:t}):null;N.trigger(t,xs,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Fs),this._activate(z.getElementFromSelector(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),N.trigger(t,ks,{relatedTarget:e})):t.classList.add(Ws)}),t,t.classList.contains(Hs)))}_deactivate(t,e){t&&(t.classList.remove(Fs),t.blur(),this._deactivate(z.getElementFromSelector(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),N.trigger(t,Os,{relatedTarget:e})):t.classList.remove(Ws)}),t,t.classList.contains(Hs)))}_keydown(t){if(![$s,Is,Ns,Ps,js,Ms].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter((t=>!l(t)));let i;if([js,Ms].includes(t.key))i=e[t.key===js?0:e.length-1];else{const n=[Is,Ps].includes(t.key);i=b(e,t.target,n,!0)}i&&(i.focus({preventScroll:!0}),Ks.getOrCreateInstance(i).show())}_getChildren(){return z.find(qs,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=z.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const n=(t,n)=>{const s=z.findOne(t,i);s&&s.classList.toggle(n,e)};n(Bs,Fs),n(".dropdown-menu",Ws),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Fs)}_getInnerElement(t){return t.matches(qs)?t:z.findOne(qs,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each((function(){const e=Ks.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}N.on(document,Ls,Rs,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),l(this)||Ks.getOrCreateInstance(this).show()})),N.on(window,Ds,(()=>{for(const t of z.find(Vs))Ks.getOrCreateInstance(t)})),m(Ks);const Qs=".bs.toast",Xs=`mouseover${Qs}`,Ys=`mouseout${Qs}`,Us=`focusin${Qs}`,Gs=`focusout${Qs}`,Js=`hide${Qs}`,Zs=`hidden${Qs}`,to=`show${Qs}`,eo=`shown${Qs}`,io="hide",no="show",so="showing",oo={animation:"boolean",autohide:"boolean",delay:"number"},ro={animation:!0,autohide:!0,delay:5e3};class ao extends W{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ro}static get DefaultType(){return oo}static get NAME(){return"toast"}show(){N.trigger(this._element,to).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(io),d(this._element),this._element.classList.add(no,so),this._queueCallback((()=>{this._element.classList.remove(so),N.trigger(this._element,eo),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(N.trigger(this._element,Js).defaultPrevented||(this._element.classList.add(so),this._queueCallback((()=>{this._element.classList.add(io),this._element.classList.remove(so,no),N.trigger(this._element,Zs)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(no),super.dispose()}isShown(){return this._element.classList.contains(no)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,Xs,(t=>this._onInteraction(t,!0))),N.on(this._element,Ys,(t=>this._onInteraction(t,!1))),N.on(this._element,Us,(t=>this._onInteraction(t,!0))),N.on(this._element,Gs,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=ao.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return R(ao),m(ao),{Alert:Q,Button:Y,Carousel:xt,Collapse:Bt,Dropdown:qi,Modal:On,Offcanvas:qn,Popover:us,ScrollSpy:Es,Tab:Ks,Toast:ao,Tooltip:cs}}));
//# sourceMappingURL=bootstrap.bundle.min.js.map;
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.CoreUI = global.CoreUI || {}, global.CoreUI.panel = factory());
}(this, (function () { 'use strict';

(function (f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define([], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    g.ejs = f();
  }
})(function () {
  return function () {
    function r(e, n, t) {
      function o(i, f) {
        if (!n[i]) {
          if (!e[i]) {
            var c = "function" == typeof require && require;
            if (!f && c) return c(i, !0);
            if (u) return u(i, !0);
            var a = new Error("Cannot find module '" + i + "'");
            throw a.code = "MODULE_NOT_FOUND", a;
          }
          var p = n[i] = {
            exports: {}
          };
          e[i][0].call(p.exports, function (r) {
            var n = e[i][1][r];
            return o(n || r);
          }, p, p.exports, r, e, n, t);
        }
        return n[i].exports;
      }
      for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
      return o;
    }
    return r;
  }()({
    1: [function (require, module, exports) {
      "use strict";

      var fs = require("fs");
      var path = require("path");
      var utils = require("./utils");
      var scopeOptionWarned = false;
      var _VERSION_STRING = require("../package.json").version;
      var _DEFAULT_OPEN_DELIMITER = "<";
      var _DEFAULT_CLOSE_DELIMITER = ">";
      var _DEFAULT_DELIMITER = "%";
      var _DEFAULT_LOCALS_NAME = "locals";
      var _NAME = "ejs";
      var _REGEX_STRING = "(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";
      var _OPTS_PASSABLE_WITH_DATA = ["delimiter", "scope", "context", "debug", "compileDebug", "client", "_with", "rmWhitespace", "strict", "filename", "async"];
      var _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat("cache");
      var _BOM = /^\uFEFF/;
      var _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;
      exports.cache = utils.cache;
      exports.fileLoader = fs.readFileSync;
      exports.localsName = _DEFAULT_LOCALS_NAME;
      exports.promiseImpl = new Function("return this;")().Promise;
      exports.resolveInclude = function (name, filename, isDir) {
        var dirname = path.dirname;
        var extname = path.extname;
        var resolve = path.resolve;
        var includePath = resolve(isDir ? filename : dirname(filename), name);
        var ext = extname(name);
        if (!ext) {
          includePath += ".ejs";
        }
        return includePath;
      };
      function resolvePaths(name, paths) {
        var filePath;
        if (paths.some(function (v) {
          filePath = exports.resolveInclude(name, v, true);
          return fs.existsSync(filePath);
        })) {
          return filePath;
        }
      }
      function getIncludePath(path, options) {
        var includePath;
        var filePath;
        var views = options.views;
        var match = /^[A-Za-z]+:\\|^\//.exec(path);
        if (match && match.length) {
          path = path.replace(/^\/*/, "");
          if (Array.isArray(options.root)) {
            includePath = resolvePaths(path, options.root);
          } else {
            includePath = exports.resolveInclude(path, options.root || "/", true);
          }
        } else {
          if (options.filename) {
            filePath = exports.resolveInclude(path, options.filename);
            if (fs.existsSync(filePath)) {
              includePath = filePath;
            }
          }
          if (!includePath && Array.isArray(views)) {
            includePath = resolvePaths(path, views);
          }
          if (!includePath && typeof options.includer !== "function") {
            throw new Error('Could not find the include file "' + options.escapeFunction(path) + '"');
          }
        }
        return includePath;
      }
      function handleCache(options, template) {
        var func;
        var filename = options.filename;
        var hasTemplate = arguments.length > 1;
        if (options.cache) {
          if (!filename) {
            throw new Error("cache option requires a filename");
          }
          func = exports.cache.get(filename);
          if (func) {
            return func;
          }
          if (!hasTemplate) {
            template = fileLoader(filename).toString().replace(_BOM, "");
          }
        } else if (!hasTemplate) {
          if (!filename) {
            throw new Error("Internal EJS error: no file name or template " + "provided");
          }
          template = fileLoader(filename).toString().replace(_BOM, "");
        }
        func = exports.compile(template, options);
        if (options.cache) {
          exports.cache.set(filename, func);
        }
        return func;
      }
      function tryHandleCache(options, data, cb) {
        var result;
        if (!cb) {
          if (typeof exports.promiseImpl == "function") {
            return new exports.promiseImpl(function (resolve, reject) {
              try {
                result = handleCache(options)(data);
                resolve(result);
              } catch (err) {
                reject(err);
              }
            });
          } else {
            throw new Error("Please provide a callback function");
          }
        } else {
          try {
            result = handleCache(options)(data);
          } catch (err) {
            return cb(err);
          }
          cb(null, result);
        }
      }
      function fileLoader(filePath) {
        return exports.fileLoader(filePath);
      }
      function includeFile(path, options) {
        var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);
        opts.filename = getIncludePath(path, opts);
        if (typeof options.includer === "function") {
          var includerResult = options.includer(path, opts.filename);
          if (includerResult) {
            if (includerResult.filename) {
              opts.filename = includerResult.filename;
            }
            if (includerResult.template) {
              return handleCache(opts, includerResult.template);
            }
          }
        }
        return handleCache(opts);
      }
      function rethrow(err, str, flnm, lineno, esc) {
        var lines = str.split("\n");
        var start = Math.max(lineno - 3, 0);
        var end = Math.min(lines.length, lineno + 3);
        var filename = esc(flnm);
        var context = lines.slice(start, end).map(function (line, i) {
          var curr = i + start + 1;
          return (curr == lineno ? " >> " : "    ") + curr + "| " + line;
        }).join("\n");
        err.path = filename;
        err.message = (filename || "ejs") + ":" + lineno + "\n" + context + "\n\n" + err.message;
        throw err;
      }
      function stripSemi(str) {
        return str.replace(/;(\s*$)/, "$1");
      }
      exports.compile = function compile(template, opts) {
        var templ;
        if (opts && opts.scope) {
          if (!scopeOptionWarned) {
            console.warn("`scope` option is deprecated and will be removed in EJS 3");
            scopeOptionWarned = true;
          }
          if (!opts.context) {
            opts.context = opts.scope;
          }
          delete opts.scope;
        }
        templ = new Template(template, opts);
        return templ.compile();
      };
      exports.render = function (template, d, o) {
        var data = d || utils.createNullProtoObjWherePossible();
        var opts = o || utils.createNullProtoObjWherePossible();
        if (arguments.length == 2) {
          utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);
        }
        return handleCache(opts, template)(data);
      };
      exports.renderFile = function () {
        var args = Array.prototype.slice.call(arguments);
        var filename = args.shift();
        var cb;
        var opts = {
          filename: filename
        };
        var data;
        var viewOpts;
        if (typeof arguments[arguments.length - 1] == "function") {
          cb = args.pop();
        }
        if (args.length) {
          data = args.shift();
          if (args.length) {
            utils.shallowCopy(opts, args.pop());
          } else {
            if (data.settings) {
              if (data.settings.views) {
                opts.views = data.settings.views;
              }
              if (data.settings["view cache"]) {
                opts.cache = true;
              }
              viewOpts = data.settings["view options"];
              if (viewOpts) {
                utils.shallowCopy(opts, viewOpts);
              }
            }
            utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);
          }
          opts.filename = filename;
        } else {
          data = utils.createNullProtoObjWherePossible();
        }
        return tryHandleCache(opts, data, cb);
      };
      exports.Template = Template;
      exports.clearCache = function () {
        exports.cache.reset();
      };
      function Template(text, opts) {
        opts = opts || utils.createNullProtoObjWherePossible();
        var options = utils.createNullProtoObjWherePossible();
        this.templateText = text;
        this.mode = null;
        this.truncate = false;
        this.currentLine = 1;
        this.source = "";
        options.client = opts.client || false;
        options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;
        options.compileDebug = opts.compileDebug !== false;
        options.debug = !!opts.debug;
        options.filename = opts.filename;
        options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;
        options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;
        options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;
        options.strict = opts.strict || false;
        options.context = opts.context;
        options.cache = opts.cache || false;
        options.rmWhitespace = opts.rmWhitespace;
        options.root = opts.root;
        options.includer = opts.includer;
        options.outputFunctionName = opts.outputFunctionName;
        options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;
        options.views = opts.views;
        options.async = opts.async;
        options.destructuredLocals = opts.destructuredLocals;
        options.legacyInclude = typeof opts.legacyInclude != "undefined" ? !!opts.legacyInclude : true;
        if (options.strict) {
          options._with = false;
        } else {
          options._with = typeof opts._with != "undefined" ? opts._with : true;
        }
        this.opts = options;
        this.regex = this.createRegex();
      }
      Template.modes = {
        EVAL: "eval",
        ESCAPED: "escaped",
        RAW: "raw",
        COMMENT: "comment",
        LITERAL: "literal"
      };
      Template.prototype = {
        createRegex: function () {
          var str = _REGEX_STRING;
          var delim = utils.escapeRegExpChars(this.opts.delimiter);
          var open = utils.escapeRegExpChars(this.opts.openDelimiter);
          var close = utils.escapeRegExpChars(this.opts.closeDelimiter);
          str = str.replace(/%/g, delim).replace(/</g, open).replace(/>/g, close);
          return new RegExp(str);
        },
        compile: function () {
          var src;
          var fn;
          var opts = this.opts;
          var prepended = "";
          var appended = "";
          var escapeFn = opts.escapeFunction;
          var ctor;
          var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : "undefined";
          if (!this.source) {
            this.generateSource();
            prepended += '  var __output = "";\n' + "  function __append(s) { if (s !== undefined && s !== null) __output += s }\n";
            if (opts.outputFunctionName) {
              if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {
                throw new Error("outputFunctionName is not a valid JS identifier.");
              }
              prepended += "  var " + opts.outputFunctionName + " = __append;" + "\n";
            }
            if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {
              throw new Error("localsName is not a valid JS identifier.");
            }
            if (opts.destructuredLocals && opts.destructuredLocals.length) {
              var destructuring = "  var __locals = (" + opts.localsName + " || {}),\n";
              for (var i = 0; i < opts.destructuredLocals.length; i++) {
                var name = opts.destructuredLocals[i];
                if (!_JS_IDENTIFIER.test(name)) {
                  throw new Error("destructuredLocals[" + i + "] is not a valid JS identifier.");
                }
                if (i > 0) {
                  destructuring += ",\n  ";
                }
                destructuring += name + " = __locals." + name;
              }
              prepended += destructuring + ";\n";
            }
            if (opts._with !== false) {
              prepended += "  with (" + opts.localsName + " || {}) {" + "\n";
              appended += "  }" + "\n";
            }
            appended += "  return __output;" + "\n";
            this.source = prepended + this.source + appended;
          }
          if (opts.compileDebug) {
            src = "var __line = 1" + "\n" + "  , __lines = " + JSON.stringify(this.templateText) + "\n" + "  , __filename = " + sanitizedFilename + ";" + "\n" + "try {" + "\n" + this.source + "} catch (e) {" + "\n" + "  rethrow(e, __lines, __filename, __line, escapeFn);" + "\n" + "}" + "\n";
          } else {
            src = this.source;
          }
          if (opts.client) {
            src = "escapeFn = escapeFn || " + escapeFn.toString() + ";" + "\n" + src;
            if (opts.compileDebug) {
              src = "rethrow = rethrow || " + rethrow.toString() + ";" + "\n" + src;
            }
          }
          if (opts.strict) {
            src = '"use strict";\n' + src;
          }
          if (opts.debug) {
            console.log(src);
          }
          if (opts.compileDebug && opts.filename) {
            src = src + "\n" + "//# sourceURL=" + sanitizedFilename + "\n";
          }
          try {
            if (opts.async) {
              try {
                ctor = new Function("return (async function(){}).constructor;")();
              } catch (e) {
                if (e instanceof SyntaxError) {
                  throw new Error("This environment does not support async/await");
                } else {
                  throw e;
                }
              }
            } else {
              ctor = Function;
            }
            fn = new ctor(opts.localsName + ", escapeFn, include, rethrow", src);
          } catch (e) {
            if (e instanceof SyntaxError) {
              if (opts.filename) {
                e.message += " in " + opts.filename;
              }
              e.message += " while compiling ejs\n\n";
              e.message += "If the above error is not helpful, you may want to try EJS-Lint:\n";
              e.message += "https://github.com/RyanZim/EJS-Lint";
              if (!opts.async) {
                e.message += "\n";
                e.message += "Or, if you meant to create an async function, pass `async: true` as an option.";
              }
            }
            throw e;
          }
          var returnedFn = opts.client ? fn : function anonymous(data) {
            var include = function (path, includeData) {
              var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);
              if (includeData) {
                d = utils.shallowCopy(d, includeData);
              }
              return includeFile(path, opts)(d);
            };
            return fn.apply(opts.context, [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);
          };
          if (opts.filename && typeof Object.defineProperty === "function") {
            var filename = opts.filename;
            var basename = path.basename(filename, path.extname(filename));
            try {
              Object.defineProperty(returnedFn, "name", {
                value: basename,
                writable: false,
                enumerable: false,
                configurable: true
              });
            } catch (e) {}
          }
          return returnedFn;
        },
        generateSource: function () {
          var opts = this.opts;
          if (opts.rmWhitespace) {
            this.templateText = this.templateText.replace(/[\r\n]+/g, "\n").replace(/^\s+|\s+$/gm, "");
          }
          this.templateText = this.templateText.replace(/[ \t]*<%_/gm, "<%_").replace(/_%>[ \t]*/gm, "_%>");
          var self = this;
          var matches = this.parseTemplateText();
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          if (matches && matches.length) {
            matches.forEach(function (line, index) {
              var closing;
              if (line.indexOf(o + d) === 0 && line.indexOf(o + d + d) !== 0) {
                closing = matches[index + 2];
                if (!(closing == d + c || closing == "-" + d + c || closing == "_" + d + c)) {
                  throw new Error('Could not find matching close tag for "' + line + '".');
                }
              }
              self.scanLine(line);
            });
          }
        },
        parseTemplateText: function () {
          var str = this.templateText;
          var pat = this.regex;
          var result = pat.exec(str);
          var arr = [];
          var firstPos;
          while (result) {
            firstPos = result.index;
            if (firstPos !== 0) {
              arr.push(str.substring(0, firstPos));
              str = str.slice(firstPos);
            }
            arr.push(result[0]);
            str = str.slice(result[0].length);
            result = pat.exec(str);
          }
          if (str) {
            arr.push(str);
          }
          return arr;
        },
        _addOutput: function (line) {
          if (this.truncate) {
            line = line.replace(/^(?:\r\n|\r|\n)/, "");
            this.truncate = false;
          }
          if (!line) {
            return line;
          }
          line = line.replace(/\\/g, "\\\\");
          line = line.replace(/\n/g, "\\n");
          line = line.replace(/\r/g, "\\r");
          line = line.replace(/"/g, '\\"');
          this.source += '    ; __append("' + line + '")' + "\n";
        },
        scanLine: function (line) {
          var self = this;
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          var newLineCount = 0;
          newLineCount = line.split("\n").length - 1;
          switch (line) {
            case o + d:
            case o + d + "_":
              this.mode = Template.modes.EVAL;
              break;
            case o + d + "=":
              this.mode = Template.modes.ESCAPED;
              break;
            case o + d + "-":
              this.mode = Template.modes.RAW;
              break;
            case o + d + "#":
              this.mode = Template.modes.COMMENT;
              break;
            case o + d + d:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(o + d + d, o + d) + '")' + "\n";
              break;
            case d + d + c:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(d + d + c, d + c) + '")' + "\n";
              break;
            case d + c:
            case "-" + d + c:
            case "_" + d + c:
              if (this.mode == Template.modes.LITERAL) {
                this._addOutput(line);
              }
              this.mode = null;
              this.truncate = line.indexOf("-") === 0 || line.indexOf("_") === 0;
              break;
            default:
              if (this.mode) {
                switch (this.mode) {
                  case Template.modes.EVAL:
                  case Template.modes.ESCAPED:
                  case Template.modes.RAW:
                    if (line.lastIndexOf("//") > line.lastIndexOf("\n")) {
                      line += "\n";
                    }
                }
                switch (this.mode) {
                  case Template.modes.EVAL:
                    this.source += "    ; " + line + "\n";
                    break;
                  case Template.modes.ESCAPED:
                    this.source += "    ; __append(escapeFn(" + stripSemi(line) + "))" + "\n";
                    break;
                  case Template.modes.RAW:
                    this.source += "    ; __append(" + stripSemi(line) + ")" + "\n";
                    break;
                  case Template.modes.COMMENT:
                    break;
                  case Template.modes.LITERAL:
                    this._addOutput(line);
                    break;
                }
              } else {
                this._addOutput(line);
              }
          }
          if (self.opts.compileDebug && newLineCount) {
            this.currentLine += newLineCount;
            this.source += "    ; __line = " + this.currentLine + "\n";
          }
        }
      };
      exports.escapeXML = utils.escapeXML;
      exports.__express = exports.renderFile;
      exports.VERSION = _VERSION_STRING;
      exports.name = _NAME;
      if (typeof window != "undefined") {
        window.ejs = exports;
      }
    }, {
      "../package.json": 6,
      "./utils": 2,
      fs: 3,
      path: 4
    }],
    2: [function (require, module, exports) {
      "use strict";

      var regExpChars = /[|\\{}()[\]^$+*?.]/g;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var hasOwn = function (obj, key) {
        return hasOwnProperty.apply(obj, [key]);
      };
      exports.escapeRegExpChars = function (string) {
        if (!string) {
          return "";
        }
        return String(string).replace(regExpChars, "\\$&");
      };
      var _ENCODE_HTML_RULES = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&#34;",
        "'": "&#39;"
      };
      var _MATCH_HTML = /[&<>'"]/g;
      function encode_char(c) {
        return _ENCODE_HTML_RULES[c] || c;
      }
      var escapeFuncStr = "var _ENCODE_HTML_RULES = {\n" + '      "&": "&amp;"\n' + '    , "<": "&lt;"\n' + '    , ">": "&gt;"\n' + '    , \'"\': "&#34;"\n' + '    , "\'": "&#39;"\n' + "    }\n" + "  , _MATCH_HTML = /[&<>'\"]/g;\n" + "function encode_char(c) {\n" + "  return _ENCODE_HTML_RULES[c] || c;\n" + "};\n";
      exports.escapeXML = function (markup) {
        return markup == undefined ? "" : String(markup).replace(_MATCH_HTML, encode_char);
      };
      function escapeXMLToString() {
        return Function.prototype.toString.call(this) + ";\n" + escapeFuncStr;
      }
      try {
        if (typeof Object.defineProperty === "function") {
          Object.defineProperty(exports.escapeXML, "toString", {
            value: escapeXMLToString
          });
        } else {
          exports.escapeXML.toString = escapeXMLToString;
        }
      } catch (err) {
        console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)");
      }
      exports.shallowCopy = function (to, from) {
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var p in from) {
            if (!hasOwn(from, p)) {
              continue;
            }
            if (p === "__proto__" || p === "constructor") {
              continue;
            }
            to[p] = from[p];
          }
        }
        return to;
      };
      exports.shallowCopyFromList = function (to, from, list) {
        list = list || [];
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var i = 0; i < list.length; i++) {
            var p = list[i];
            if (typeof from[p] != "undefined") {
              if (!hasOwn(from, p)) {
                continue;
              }
              if (p === "__proto__" || p === "constructor") {
                continue;
              }
              to[p] = from[p];
            }
          }
        }
        return to;
      };
      exports.cache = {
        _data: {},
        set: function (key, val) {
          this._data[key] = val;
        },
        get: function (key) {
          return this._data[key];
        },
        remove: function (key) {
          delete this._data[key];
        },
        reset: function () {
          this._data = {};
        }
      };
      exports.hyphenToCamel = function (str) {
        return str.replace(/-[a-z]/g, function (match) {
          return match[1].toUpperCase();
        });
      };
      exports.createNullProtoObjWherePossible = function () {
        if (typeof Object.create == "function") {
          return function () {
            return Object.create(null);
          };
        }
        if (!({
          __proto__: null
        } instanceof Object)) {
          return function () {
            return {
              __proto__: null
            };
          };
        }
        return function () {
          return {};
        };
      }();
    }, {}],
    3: [function (require, module, exports) {}, {}],
    4: [function (require, module, exports) {
      (function (process) {
        function normalizeArray(parts, allowAboveRoot) {
          var up = 0;
          for (var i = parts.length - 1; i >= 0; i--) {
            var last = parts[i];
            if (last === ".") {
              parts.splice(i, 1);
            } else if (last === "..") {
              parts.splice(i, 1);
              up++;
            } else if (up) {
              parts.splice(i, 1);
              up--;
            }
          }
          if (allowAboveRoot) {
            for (; up--; up) {
              parts.unshift("..");
            }
          }
          return parts;
        }
        exports.resolve = function () {
          var resolvedPath = "",
            resolvedAbsolute = false;
          for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
            var path = i >= 0 ? arguments[i] : process.cwd();
            if (typeof path !== "string") {
              throw new TypeError("Arguments to path.resolve must be strings");
            } else if (!path) {
              continue;
            }
            resolvedPath = path + "/" + resolvedPath;
            resolvedAbsolute = path.charAt(0) === "/";
          }
          resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function (p) {
            return !!p;
          }), !resolvedAbsolute).join("/");
          return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
        };
        exports.normalize = function (path) {
          var isAbsolute = exports.isAbsolute(path),
            trailingSlash = substr(path, -1) === "/";
          path = normalizeArray(filter(path.split("/"), function (p) {
            return !!p;
          }), !isAbsolute).join("/");
          if (!path && !isAbsolute) {
            path = ".";
          }
          if (path && trailingSlash) {
            path += "/";
          }
          return (isAbsolute ? "/" : "") + path;
        };
        exports.isAbsolute = function (path) {
          return path.charAt(0) === "/";
        };
        exports.join = function () {
          var paths = Array.prototype.slice.call(arguments, 0);
          return exports.normalize(filter(paths, function (p, index) {
            if (typeof p !== "string") {
              throw new TypeError("Arguments to path.join must be strings");
            }
            return p;
          }).join("/"));
        };
        exports.relative = function (from, to) {
          from = exports.resolve(from).substr(1);
          to = exports.resolve(to).substr(1);
          function trim(arr) {
            var start = 0;
            for (; start < arr.length; start++) {
              if (arr[start] !== "") break;
            }
            var end = arr.length - 1;
            for (; end >= 0; end--) {
              if (arr[end] !== "") break;
            }
            if (start > end) return [];
            return arr.slice(start, end - start + 1);
          }
          var fromParts = trim(from.split("/"));
          var toParts = trim(to.split("/"));
          var length = Math.min(fromParts.length, toParts.length);
          var samePartsLength = length;
          for (var i = 0; i < length; i++) {
            if (fromParts[i] !== toParts[i]) {
              samePartsLength = i;
              break;
            }
          }
          var outputParts = [];
          for (var i = samePartsLength; i < fromParts.length; i++) {
            outputParts.push("..");
          }
          outputParts = outputParts.concat(toParts.slice(samePartsLength));
          return outputParts.join("/");
        };
        exports.sep = "/";
        exports.delimiter = ":";
        exports.dirname = function (path) {
          if (typeof path !== "string") path = path + "";
          if (path.length === 0) return ".";
          var code = path.charCodeAt(0);
          var hasRoot = code === 47;
          var end = -1;
          var matchedSlash = true;
          for (var i = path.length - 1; i >= 1; --i) {
            code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                end = i;
                break;
              }
            } else {
              matchedSlash = false;
            }
          }
          if (end === -1) return hasRoot ? "/" : ".";
          if (hasRoot && end === 1) {
            return "/";
          }
          return path.slice(0, end);
        };
        function basename(path) {
          if (typeof path !== "string") path = path + "";
          var start = 0;
          var end = -1;
          var matchedSlash = true;
          var i;
          for (i = path.length - 1; i >= 0; --i) {
            if (path.charCodeAt(i) === 47) {
              if (!matchedSlash) {
                start = i + 1;
                break;
              }
            } else if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
          }
          if (end === -1) return "";
          return path.slice(start, end);
        }
        exports.basename = function (path, ext) {
          var f = basename(path);
          if (ext && f.substr(-1 * ext.length) === ext) {
            f = f.substr(0, f.length - ext.length);
          }
          return f;
        };
        exports.extname = function (path) {
          if (typeof path !== "string") path = path + "";
          var startDot = -1;
          var startPart = 0;
          var end = -1;
          var matchedSlash = true;
          var preDotState = 0;
          for (var i = path.length - 1; i >= 0; --i) {
            var code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                startPart = i + 1;
                break;
              }
              continue;
            }
            if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
            if (code === 46) {
              if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
            } else if (startDot !== -1) {
              preDotState = -1;
            }
          }
          if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
            return "";
          }
          return path.slice(startDot, end);
        };
        function filter(xs, f) {
          if (xs.filter) return xs.filter(f);
          var res = [];
          for (var i = 0; i < xs.length; i++) {
            if (f(xs[i], i, xs)) res.push(xs[i]);
          }
          return res;
        }
        var substr = "ab".substr(-1) === "b" ? function (str, start, len) {
          return str.substr(start, len);
        } : function (str, start, len) {
          if (start < 0) start = str.length + start;
          return str.substr(start, len);
        };
      }).call(this, require("_process"));
    }, {
      _process: 5
    }],
    5: [function (require, module, exports) {
      var process = module.exports = {};
      var cachedSetTimeout;
      var cachedClearTimeout;
      function defaultSetTimout() {
        throw new Error("setTimeout has not been defined");
      }
      function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined");
      }
      (function () {
        try {
          if (typeof setTimeout === "function") {
            cachedSetTimeout = setTimeout;
          } else {
            cachedSetTimeout = defaultSetTimout;
          }
        } catch (e) {
          cachedSetTimeout = defaultSetTimout;
        }
        try {
          if (typeof clearTimeout === "function") {
            cachedClearTimeout = clearTimeout;
          } else {
            cachedClearTimeout = defaultClearTimeout;
          }
        } catch (e) {
          cachedClearTimeout = defaultClearTimeout;
        }
      })();
      function runTimeout(fun) {
        if (cachedSetTimeout === setTimeout) {
          return setTimeout(fun, 0);
        }
        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
          cachedSetTimeout = setTimeout;
          return setTimeout(fun, 0);
        }
        try {
          return cachedSetTimeout(fun, 0);
        } catch (e) {
          try {
            return cachedSetTimeout.call(null, fun, 0);
          } catch (e) {
            return cachedSetTimeout.call(this, fun, 0);
          }
        }
      }
      function runClearTimeout(marker) {
        if (cachedClearTimeout === clearTimeout) {
          return clearTimeout(marker);
        }
        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
          cachedClearTimeout = clearTimeout;
          return clearTimeout(marker);
        }
        try {
          return cachedClearTimeout(marker);
        } catch (e) {
          try {
            return cachedClearTimeout.call(null, marker);
          } catch (e) {
            return cachedClearTimeout.call(this, marker);
          }
        }
      }
      var queue = [];
      var draining = false;
      var currentQueue;
      var queueIndex = -1;
      function cleanUpNextTick() {
        if (!draining || !currentQueue) {
          return;
        }
        draining = false;
        if (currentQueue.length) {
          queue = currentQueue.concat(queue);
        } else {
          queueIndex = -1;
        }
        if (queue.length) {
          drainQueue();
        }
      }
      function drainQueue() {
        if (draining) {
          return;
        }
        var timeout = runTimeout(cleanUpNextTick);
        draining = true;
        var len = queue.length;
        while (len) {
          currentQueue = queue;
          queue = [];
          while (++queueIndex < len) {
            if (currentQueue) {
              currentQueue[queueIndex].run();
            }
          }
          queueIndex = -1;
          len = queue.length;
        }
        currentQueue = null;
        draining = false;
        runClearTimeout(timeout);
      }
      process.nextTick = function (fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
          for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
          }
        }
        queue.push(new Item(fun, args));
        if (queue.length === 1 && !draining) {
          runTimeout(drainQueue);
        }
      };
      function Item(fun, array) {
        this.fun = fun;
        this.array = array;
      }
      Item.prototype.run = function () {
        this.fun.apply(null, this.array);
      };
      process.title = "browser";
      process.browser = true;
      process.env = {};
      process.argv = [];
      process.version = "";
      process.versions = {};
      function noop() {}
      process.on = noop;
      process.addListener = noop;
      process.once = noop;
      process.off = noop;
      process.removeListener = noop;
      process.removeAllListeners = noop;
      process.emit = noop;
      process.prependListener = noop;
      process.prependOnceListener = noop;
      process.listeners = function (name) {
        return [];
      };
      process.binding = function (name) {
        throw new Error("process.binding is not supported");
      };
      process.cwd = function () {
        return "/";
      };
      process.chdir = function (dir) {
        throw new Error("process.chdir is not supported");
      };
      process.umask = function () {
        return 0;
      };
    }, {}],
    6: [function (require, module, exports) {
      module.exports = {
        name: "ejs",
        description: "Embedded JavaScript templates",
        keywords: ["template", "engine", "ejs"],
        version: "3.1.8",
        author: "Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",
        license: "Apache-2.0",
        bin: {
          ejs: "./bin/cli.js"
        },
        main: "./lib/ejs.js",
        jsdelivr: "ejs.min.js",
        unpkg: "ejs.min.js",
        repository: {
          type: "git",
          url: "git://github.com/mde/ejs.git"
        },
        bugs: "https://github.com/mde/ejs/issues",
        homepage: "https://github.com/mde/ejs",
        dependencies: {
          jake: "^10.8.5"
        },
        devDependencies: {
          browserify: "^16.5.1",
          eslint: "^6.8.0",
          "git-directory-deploy": "^1.5.1",
          jsdoc: "^4.0.2",
          "lru-cache": "^4.0.1",
          mocha: "^10.2.0",
          "uglify-js": "^3.3.16"
        },
        engines: {
          node: ">=0.10.0"
        },
        scripts: {
          test: "mocha -u tdd"
        }
      };
    }, {}]
  }, {}, [1])(1);
});

let coreuiPanelUtils = {
  /**
   * Проверка на объект
   * @param value
   */
  isObject: function (value) {
    return typeof value === 'object' && !Array.isArray(value) && value !== null;
  },
  /**
   * @returns {string}
   * @private
   */
  hashCode: function () {
    return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);
  },
  /**
   * @param str
   * @returns {number}
   * @private
   */
  crc32: function (str) {
    for (var a, o = [], c = 0; c < 256; c++) {
      a = c;
      for (var f = 0; f < 8; f++) {
        a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
      }
      o[c] = a;
    }
    for (var n = -1, t = 0; t < str.length; t++) {
      n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))];
    }
    return (-1 ^ n) >>> 0;
  }
};

let tpl = Object.create(null);
tpl['badge.html'] = '<span class="coreui-panel__tab-badge position-absolute top-0 translate-middle z-1 badge<%= badge.classes %>"<%- badge.attr %>> <%= badge.text %> </span>';
tpl['container.html'] = '<div class="coreui-panel card text-center mb-3 shadow-sm<%= fit %>" id="coreui-panel-<%= id %>"> <div class="card-body text-start"> <% if (issetControls) { %> <div class="coreui-panel-controls position-relative top-0 end-0 float-end gap-1 d-flex flex-wrap justify-content-end"></div> <% } %> <% if (title) { %> <h4 class="card-title<% if ( ! subtitle) { %> mb-4<% } %>"> <%- title %> </h4> <% } %> <% if (subtitle) { %> <p class="coreui-panel-subtitle text-body-secondary"><%- subtitle %></p> <% } %> <% if (tabs.content) { %> <% if ([\'top-left\', \'top-center\', \'top-right\'].indexOf(tabs.position) >= 0) { %> <%- tabs.content %> <div class="coreui-panel-content card-content"></div> <% } else if (tabs.position === \'left\') { %> <div class="d-flex"> <div class="me-3" style="width: <%= tabs.width %>"><%- tabs.content %></div> <div class="coreui-panel-content card-content flex-grow-1"></div> </div> <% } else if (tabs.position === \'right\') { %> <div class="d-flex"> <div class="coreui-panel-content card-content flex-grow-1 pe-3"></div> <div style="width: <%= tabs.width %>"><%- tabs.content %></div> </div> <% } %> <% } else { %> <div class="coreui-panel-content card-content"></div> <% } %> </div> </div>';
tpl['loader.html'] = '<div class="coreui-panel-lock position-absolute w-100 top-0 bottom-0"> <div class="coreui-panel-block bg-secondary-subtle position-absolute opacity-50 w-100 top-0 bottom-0"></div> <div class="coreui-panel-message position-relative d-flex align-content-center justify-content-start gap-2 mt-3 py-1 px-2 m-auto border border-secondary-subtle rounded-3 bg-body-secondary"> <div class="spinner-border text-secondary align-self-center"></div> <span class="lh-lg"><%= loading %></span> </div> </div>';
tpl['panel-control.html'] = '<div id="coreui-panel-control-<%= id %>" class="coreui-panel__control"></div>';
tpl['tabs.html'] = ' <ul class="coreui-panel-tabs nav <% if (type) { %>nav-<%= type %><% } %> card-body-tabs mb-3 <% if (classes) { %><%= classes %><% } %> <% if (fill) { %>nav-<%= fill %><% } %>"> <% $.each(tabsContents, function(key, tabContent) { %> <%- tabContent %> <% }) %> </ul>';
tpl['controls/button.html'] = '<button type="button"<%- attr %>><%- content %></button>';
tpl['controls/button_group.html'] = ' <div class="btn-group" role="group"> <% $.each(buttons, function(key, button) { %> <% if (button.type === \'link\') { %> <a href="<%= button.link %>"<%- button.attr %>><%= button.content %></a> <% } else if (button.type === \'button\') { %> <button type="button" id="btn-<%= button.id %>"<%- button.attr %>> <%= button.content %> </button> <% } else if (button.type === \'dropdown\') { %> <div class="btn-group" role="group"> <button type="button" data-bs-toggle="dropdown"<%- button.attr %>> <%- button.content %> </button> <ul class="dropdown-menu dropdown-menu-<%= button.position %>"> <% $.each(button.items, function(key, item) { %> <% if (item.type === \'link\') { %> <li><a class="dropdown-item" href="<%= item.link %>"><%= item.content %></a></li> <% } else if (item.type === \'button\') { %> <li> <button type="button" class="dropdown-item" id="btn-dropdown-<%= item.id %>"> <%= item.content %> </button> </li> <% } else if (item.type === \'divider\') { %> <li><hr class="dropdown-divider"></li> <% } %> <% }) %> </ul> </div> <% } %> <% }) %> </div>';
tpl['controls/dropdown.html'] = ' <div class="btn-group" role="group"> <button type="button" data-bs-toggle="dropdown"<%- attr %>> <%- content %> </button> <ul class="dropdown-menu dropdown-menu-<%= position %>"> <% $.each(items, function(key, item) { %> <% if (item.type === \'link\') { %> <li><a class="dropdown-item" href="<%= item.link %>"><%= item.content %></a></li> <% } else if (item.type === \'button\') { %> <li> <button type="button" class="dropdown-item" id="btn-dropdown-<%= item.id %>"> <%= item.content %> </button> </li> <% } else if (item.type === \'divider\') { %> <li><hr class="dropdown-divider"></li> <% } %> <% }) %> </ul> </div>';
tpl['controls/link.html'] = '<a href="<%- href %>"<%- attr %>><%- content %></a>';
tpl['tabs/tab-dropdown-divider.html'] = ' <li> <hr class="dropdown-divider"> </li>';
tpl['tabs/tab-dropdown-item.html'] = ' <li class="coreui-panel__tab-item-<%= item.id %>"> <a class="dropdown-item position-relative<% if (item.active) { %> active<% } %><% if (item.disabled) { %> disabled<% } %>" href="<% if (item.url) { %><%= item.url %><% } else { %>#<% } %>" data-bs-toggle="tab" data-tab-id="<%= item.id %>"> <span class="coreui-panel__tab-item-title"><%= item.title %></span> <% if (item.count !== null) { %> <span class="coreui-panel__tab-item-count">(<%= item.count %>)</span><% } %> <%- item.badge %> </a> </li>';
tpl['tabs/tab-dropdown.html'] = ' <li class="nav-item coreui-panel__tab-<%= tab.id %> dropdown<% if (tab.active) { %> active<% } %><% if (tab.disabled) { %> disabled<% } %>"> <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#"> <span class="coreui-panel__tab-title"><%= tab.title %></span> <% if (tab.count !== null) { %> <span class="coreui-panel__tab-count">(<%= tab.count %>)</span><% } %> <%- tab.badge %> </a> <ul class="dropdown-menu"> <% $.each(tab.itemsContents, function(key, itemContent) { %> <%- itemContent %> <% }) %> </ul> </li>';
tpl['tabs/tab.html'] = ' <li class="nav-item coreui-panel__tab-<%= tab.id %>"> <a class="nav-link position-relative<% if (tab.active) { %> active<% } %><% if (tab.disabled) { %> disabled<% } %>" href="<% if (tab.url) { %><%= tab.url %><% } else { %>#<% } %>" data-tab-id="<%= tab.id %>" data-bs-toggle="tab"> <span class="coreui-panel__tab-title"><%= tab.title %></span> <% if (tab.count !== null) { %> <span class="coreui-panel__tab-count">(<%= tab.count %>)<% } %> <%- tab.badge %> </a> </li>';

let coreuiPanelElements = {
  /**
   * получение контейнера панели
   * @param panelId
   * @return {*|jQuery|HTMLElement}
   */
  getPanel: function (panelId) {
    return $('#coreui-panel-' + panelId);
  },
  /**
   * Получение контейнера с табов
   * @param panelId
   * @return {*|jQuery|HTMLElement}
   */
  getTabsContainer: function (panelId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel-tabs');
  },
  /**
   * Получение контейнера таба
   * @param panelId
   * @param tabId
   * @return {*|jQuery|HTMLElement}
   */
  getTabContainer: function (panelId, tabId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel__tab-' + tabId);
  },
  /**
   * Получение контейнера с количеством таба
   * @param panelId
   * @param tabId
   * @return {*|jQuery|HTMLElement}
   */
  getTabCount: function (panelId, tabId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel__tab-' + tabId + ' .coreui-panel__tab-count');
  },
  /**
   * Получение контейнера с текстом таба
   * @param panelId
   * @param tabId
   * @return {*|jQuery|HTMLElement}
   */
  getTabTitle: function (panelId, tabId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel__tab-' + tabId + ' .coreui-panel__tab-title');
  },
  /**
   * Получение контейнера с меткой таба
   * @param panelId
   * @param tabId
   * @return {*|jQuery|HTMLElement}
   */
  getTabBadge: function (panelId, tabId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel__tab-' + tabId + ' .coreui-panel__tab-badge');
  },
  /**
   * Получение контейнера таба
   * @param panelId
   * @param tabId
   * @return {*|jQuery|HTMLElement}
   */
  getTabItemContainer: function (panelId, tabId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel__tab-item-' + tabId);
  },
  /**
   * Получение контейнера с текстом таба
   * @param panelId
   * @param tabId
   * @return {*|jQuery|HTMLElement}
   */
  getTabItemTitle: function (panelId, tabId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel__tab-' + tabId + ' .coreui-panel__tab-item-title');
  },
  /**
   * Получение контейнера с количеством таба
   * @param panelId
   * @param tabId
   * @return {*|jQuery|HTMLElement}
   */
  getTabItemCount: function (panelId, tabId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel__tab-' + tabId + ' .coreui-panel__tab-item-count');
  },
  /**
   *
   * @param panelId
   * @return {*|jQuery|HTMLElement}
   */
  getContent: function (panelId) {
    return $('#coreui-panel-' + panelId + ' .coreui-panel-content');
  },
  /**
   *
   * @param panelId
   * @param controlId
   * @return {*|jQuery|HTMLElement}
   */
  getControl: function (panelId, controlId) {
    return $('#coreui-panel-' + panelId + ' #coreui-panel-control-' + controlId);
  },
  /**
   * Получение блокировки панели
   * @param {string} panelId
   * @return {jQuery}
   */
  getLock: function (panelId) {
    return $('#coreui-panel-' + panelId + ' > .coreui-panel-lock');
  }
};

let coreuiPanelTab = {
  _id: null,
  _panel: null,
  _options: {
    id: null,
    type: 'tab',
    title: '',
    url: null,
    urlExtra: null,
    urlWindow: null,
    count: null,
    badge: null,
    active: false,
    disabled: false
  },
  /**
   * Инициализация таба
   * @param {object} panel
   * @param {object} options
   * @private
   */
  _init: function (panel, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._panel = panel;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id == 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
  },
  /**
   * Получение идентификатора таба
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Получение опций таба
   * @return {object}
   */
  getOptions: function () {
    return $.extend(true, {}, this._options);
  },
  /**
   * Установка активного таба
   */
  setActive: function () {
    let tabTabElement = coreuiPanelElements.getTabContainer(this._panel.getId(), this.getId());
    if (tabTabElement[0]) {
      let tabTabsElement = coreuiPanelElements.getTabsContainer(this._panel.getId());
      tabTabsElement.find('.nav-link').removeClass('active');
      tabTabsElement.find('.nav-link.dropdown-toggle').removeClass('active');
      tabTabsElement.find('.nav-link.dropdown-toggle .dropdown-item').removeClass('active');
      tabTabElement.find('> a').addClass('active');
      coreuiPanelPrivate.trigger(this._panel, 'tab_click', this._panel, [this]);
    }
  },
  /**
   * Установка названия
   * @param {string} title
   */
  setTitle: function (title) {
    if (['string', 'number'].indexOf(typeof title) < 0 || title.toString().length === 0) {
      return;
    }
    let tabTitleElement = coreuiPanelElements.getTabTitle(this._panel.getId(), this.getId());
    tabTitleElement.text(title);
  },
  /**
   * Установка количества
   * @param {number|null} count
   */
  setCount: function (count) {
    let tabCountElement = coreuiPanelElements.getTabCount(this._panel.getId(), this.getId());
    if (['string', 'number'].indexOf(typeof count) < 0 || count.toString().length === 0) {
      tabCountElement.remove();
    } else {
      if (tabCountElement[0]) {
        tabCountElement.text(' (' + count + ')');
      } else {
        let tabTitleElement = coreuiPanelElements.getTabTitle(this._panel.getId(), this.getId());
        tabTitleElement.after('<span class="coreui-panel__tab-count"> (' + count + ')>');
      }
    }
  },
  /**
   * Установка количества
   * @param {object} badge
   */
  setBadge: function (badge) {
    let badgeRender = coreuiPanelPrivate.renderBadge(badge);
    if (badgeRender) {
      let tabBadgeElement = coreuiPanelElements.getTabBadge(this._panel.getId(), this.getId());
      if (tabBadgeElement[0]) {
        tabBadgeElement.replaceWith(badgeRender);
      } else {
        let tabTitleElement = coreuiPanelElements.getTabTitle(this._panel.getId(), this.getId());
        tabTitleElement.after(badgeRender);
      }
    }
  },
  /**
   *
   */
  initEvents: function () {
    let that = this;
    let options = this.getOptions();
    this._panel.on('panel_show', function () {
      let tabsContainerElement = coreuiPanelElements.getTabContainer(that._panel.getId(), that.getId());
      $('.nav-link', tabsContainerElement).click(function (event) {
        coreuiPanelPrivate.trigger(that._panel, 'tab_click', that, [that, event]);
        if (options.url === '#') {
          return false;
        }
      });
      let count = options.hasOwnProperty('count') && ['string', 'number'].indexOf(typeof options.count) >= 0 && options.count.toString().length > 0 ? options.count : null;
      let urlCount = options.hasOwnProperty('urlCount') && typeof options.urlCount == 'string' && options.urlCount ? options.urlCount : null;
      if (count === null && urlCount) {
        that.setCount('<div class="spinner-border spinner-border-sm text-secondary"></div>');
        $.ajax({
          url: urlCount,
          method: 'get',
          success: function (result) {
            try {
              let response = typeof result === 'string' ? JSON.parse(result) : result;
              if (coreuiPanelUtils.isObject(response) && response.hasOwnProperty('count') && ['string', 'number'].indexOf(typeof response.count) >= 0 && response.count.toString().length > 0) {
                that.setCount(response.count);
              } else {
                that.setCount(null);
              }
            } catch (e) {
              that.setCount(null);
            }
          },
          error: function (xhr, textStatus, errorThrown) {
            that.setCount(null);
          }
        });
      }
    });
    let badge = options.hasOwnProperty('badge') && ['string', 'number'].indexOf(typeof options.badge) >= 0 && options.badge.toString().length > 0 ? options.badge : null;
    let urlBadge = options.hasOwnProperty('urlBadge') && typeof options.urlBadge == 'string' && options.urlBadge ? options.urlBadge : null;
    if (badge === null && urlBadge) {
      $.ajax({
        url: urlBadge,
        method: 'get',
        success: function (result) {
          try {
            let response = typeof result === 'string' ? JSON.parse(result) : result;
            if (coreuiPanelUtils.isObject(response) && response.hasOwnProperty('badge') && coreuiPanelUtils.isObject(response.badge)) {
              that.setBadge(response.badge);
            }
          } catch (e) {
            // ignore
          }
        }
      });
    }
  },
  /**
   * Рендер содержимого
   */
  render: function () {
    let options = this.getOptions();
    let title = options.hasOwnProperty('title') && typeof options.title == 'string' && options.title ? options.title : '';
    let active = options.hasOwnProperty('active') && typeof options.active == 'boolean' && options.active;
    let disabled = options.hasOwnProperty('disabled') && typeof options.disabled == 'boolean' ? options.disabled : false;
    let url = options.hasOwnProperty('url') && typeof options.url == 'string' && options.url ? options.url : '#';
    let count = options.hasOwnProperty('count') && ['string', 'number'].indexOf(typeof options.count) >= 0 && options.count.toString().length > 0 ? options.count : null;
    let badge = options.hasOwnProperty('badge') ? coreuiPanelPrivate.renderBadge(options.badge) : null;
    return ejs.render(tpl['tabs/tab.html'], {
      tab: {
        id: this.getId(),
        title: title,
        active: active,
        disabled: disabled,
        url: url,
        count: count,
        badge: badge
      }
    });
  }
};

let coreuiPanelTabDropdownItem = {
  _id: null,
  _panel: null,
  _dropdown: null,
  _options: {
    id: null,
    type: 'item',
    active: false,
    disabled: false,
    url: '',
    urlExtra: '',
    urlWindow: '',
    title: '',
    count: null
  },
  /**
   * Инициализация таба
   * @param {object} panel
   * @param {object} dropdown
   * @param {object} options
   * @private
   */
  _init: function (panel, dropdown, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._panel = panel;
    this._dropdown = dropdown;
    this._id = this._options.hasOwnProperty('id') && ['string', 'number'].indexOf(typeof this._options.id) >= 0 && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
  },
  /**
   * Получение идентификатора таба
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Получение опций таба
   * @return {object}
   */
  getOptions: function () {
    return $.extend(true, {}, this._options);
  },
  /**
   * Установка активного таба
   */
  setActive: function () {
    let tabItemElement = coreuiPanelElements.getTabItemContainer(this._panel.getId(), this.getId());
    if (tabItemElement[0]) {
      let tabTabsElement = coreuiPanelElements.getTabsContainer(this._panel.getId());
      tabTabsElement.find('.nav-link').removeClass('active');
      tabTabsElement.find('.nav-link.dropdown-toggle').removeClass('active');
      tabTabsElement.find('.nav-link.dropdown-toggle .dropdown-item').removeClass('active');
      let tabElement = coreuiPanelElements.getTabContainer(this._panel.getId(), this._dropdown.getId());
      tabElement.find('> a').addClass('active');
      tabItemElement.find('> a').addClass('active');
      coreuiPanelPrivate.trigger(this._panel, 'tab_click', this._panel, [this]);
    }
  },
  /**
   * Установка названия
   * @param {string} title
   */
  setTitle: function (title) {
    if (['string', 'number'].indexOf(typeof title) < 0 || title.toString().length === 0) {
      return;
    }
    let tabTitleElement = coreuiPanelElements.getTabItemTitle(this._panel.getId(), this.getId());
    tabTitleElement.text(title);
  },
  /**
   * Установка количества
   * @param {number} count
   */
  setCount: function (count) {
    let tabCountElement = coreuiPanelElements.getTabItemCount(this._panel.getId(), this.getId());
    if (['string', 'number'].indexOf(typeof count) < 0 || count.toString().length === 0) {
      tabCountElement.remove();
    } else {
      if (tabCountElement[0]) {
        tabCountElement.text('(' + count + ')');
      } else {
        let tabTitleElement = coreuiPanelElements.getTabItemTitle(this._panel.getId(), this.getId());
        tabTitleElement.after('(' + count + ')');
      }
    }
  },
  /**
   * Рендер содержимого
   * @return {*}
   */
  render: function () {
    let options = this.getOptions();
    options.title = options.hasOwnProperty('title') && typeof options.title == 'string' && options.title ? options.title : '';
    options.active = options.hasOwnProperty('active') && typeof options.active == 'boolean' && options.active;
    options.disabled = options.hasOwnProperty('disabled') && typeof options.disabled == 'boolean' ? options.disabled : false;
    let url = options.hasOwnProperty('url') && typeof options.url == 'string' && options.url ? options.url : '#';
    const title = options.hasOwnProperty('title') && typeof options.title == 'string' && options.title ? options.title : '';
    const active = options.hasOwnProperty('active') && typeof options.active == 'boolean' && options.active;
    const disabled = options.hasOwnProperty('disabled') && typeof options.disabled == 'boolean' ? options.disabled : false;
    let count = options.hasOwnProperty('count') && ['string', 'number'].indexOf(typeof options.count) >= 0 && options.count.toString().length > 0 ? options.count : null;
    return ejs.render(tpl['tabs/tab-dropdown-item.html'], {
      item: {
        id: this.getId(),
        type: 'item',
        active: active,
        disabled: disabled,
        url: url,
        title: title,
        count: count
      }
    });
  }
};

let coreuiPanelTabDropdownDivider = {
  _id: null,
  _panel: null,
  _dropdown: null,
  _options: {
    id: null,
    type: 'divider'
  },
  /**
   * Инициализация таба
   * @param {object} panel
   * @param {object} dropdown
   * @param {object} options
   * @private
   */
  _init: function (panel, dropdown, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._panel = panel;
    this._dropdown = dropdown;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id == 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
  },
  /**
   * Получение идентификатора таба
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Рендер содержимого
   * @return {*}
   */
  render: function () {
    return tpl['tabs/tab-dropdown-divider.html'];
  }
};

let coreuiPanelTabDropdown = {
  _id: null,
  _panel: null,
  _items: [],
  _options: {
    id: null,
    type: 'dropdown',
    title: '',
    active: false,
    disabled: false,
    items: []
  },
  /**
   * Инициализация таба
   * @param {object} panel
   * @param {object} options
   * @private
   */
  _init: function (panel, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._panel = panel;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id == 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
    let that = this;
    if (this._options.hasOwnProperty('items') && Array.isArray(this._options.items) && this._options.items.length > 0) {
      $.each(this._options.items, function (key, item) {
        let tabType = item.hasOwnProperty('type') && typeof item.type === 'string' ? item.type : 'item';
        let instance = null;
        switch (tabType) {
          case 'item':
          default:
            instance = $.extend(true, {}, coreuiPanelTabDropdownItem);
            break;
          case 'divider':
            instance = $.extend(true, {}, coreuiPanelTabDropdownDivider);
            break;
        }
        if (instance) {
          instance._init(panel, that, item);
          that._items.push(instance);
        }
      });
    }
  },
  /**
   * Получение идентификатора таба
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Инициализация событий
   */
  initEvents: function () {
    let that = this;
    this._panel.on('panel_show', function () {
      let tabsContainerElement = coreuiPanelElements.getTabContainer(that._panel.getId(), that.getId());
      $('.dropdown-item', tabsContainerElement).click(function (event) {
        let tabId = $(this).data('tab-id') || '';
        let tab = that.getItem(tabId);
        if (tab) {
          coreuiPanelPrivate.trigger(that._panel, 'tab_click', tab, [tab, event]);
          let options = tab.getOptions();
          if (options.url === '#') {
            return false;
          }
        }
      });
    });
  },
  /**
   * Получение опций таба
   * @return {object}
   */
  getOptions: function () {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение опций таба
   * @property {string} itemId
   * @return {object}
   */
  getItem: function (itemId) {
    let result = null;
    $.each(this._items, function (key, item) {
      if (item.hasOwnProperty('getId') && typeof item.getId === 'function' && item.getId() == itemId) {
        result = item;
        return false;
      }
    });
    return result;
  },
  /**
   * Установка названия
   * @param {string} title
   */
  setTitle: function (title) {
    if (['string', 'number'].indexOf(typeof title) < 0 || title.toString().length === 0) {
      return;
    }
    let tabTitleElement = coreuiPanelElements.getTabTitle(this._panel.getId(), this.getId());
    tabTitleElement.text(title);
  },
  /**
   * Установка количества
   * @param {number} count
   */
  setCount: function (count) {
    let tabCountElement = coreuiPanelElements.getTabCount(this._panel.getId(), this.getId());
    if (['string', 'number'].indexOf(typeof count) < 0 || count.toString().length === 0) {
      tabCountElement.remove();
    } else {
      if (tabCountElement[0]) {
        tabCountElement.text('(' + count + ')');
      } else {
        let tabTitleElement = coreuiPanelElements.getTabTitle(this._panel.getId(), this.getId());
        tabTitleElement.after('(' + count + ')');
      }
    }
  },
  /**
   * Установка метки
   * @param {object} badge
   */
  setBadge: function (badge) {
    let badgeRender = coreuiPanelPrivate.renderBadge(badge);
    if (badgeRender) {
      let tabBadgeElement = coreuiPanelElements.getTabBadge(this._panel.getId(), this.getId());
      if (tabBadgeElement[0]) {
        tabBadgeElement.replaceWith(badgeRender);
      } else {
        let tabTitleElement = coreuiPanelElements.getTabTitle(this._panel.getId(), this.getId());
        tabTitleElement.after(badgeRender);
      }
    }
  },
  /**
   * Рендер содержимого
   * @return {string}
   */
  render: function () {
    let options = this.getOptions();
    let title = options.hasOwnProperty('title') && typeof options.title == 'string' && options.title ? options.title : '';
    let active = options.hasOwnProperty('active') && typeof options.active == 'boolean' && options.active;
    let disabled = options.hasOwnProperty('disabled') && typeof options.disabled == 'boolean' ? options.disabled : false;
    let count = options.hasOwnProperty('count') && ['string', 'number'].indexOf(typeof options.count) >= 0 && options.count.toString().length > 0 ? options.count : null;
    let badge = options.hasOwnProperty('badge') ? coreuiPanelPrivate.renderBadge(options.badge) : null;
    let itemsContents = [];
    $.each(this._items, function (key, item) {
      itemsContents.push(item.render());
    });
    return ejs.render(tpl['tabs/tab-dropdown.html'], {
      tab: {
        id: this.getId(),
        title: title,
        active: active,
        disabled: disabled,
        count: count,
        badge: badge,
        itemsContents: itemsContents
      }
    });
  }
};

let coreuiPanelPrivate = {
  /**
   * @param panel
   * @param name
   * @param context
   * @param params
   */
  trigger: function (panel, name, context, params) {
    params = params || [];
    if (panel._events.hasOwnProperty(name) && panel._events[name].length > 0) {
      for (var i = 0; i < panel._events[name].length; i++) {
        let callback = panel._events[name][i].callback;
        context = panel._events[name][i].context || context;
        callback.apply(context, params);
        if (panel._events[name][i].singleExec) {
          panel._events[name].splice(i, 1);
          i--;
        }
      }
    }
  },
  /**
   * Инициализация контролов и фильтров
   * @param {Object} panel
   * @param {Array}  controls
   * @private
   */
  initControls: function (panel, controls) {
    $.each(controls, function (key, control) {
      if (coreuiPanelUtils.isObject(control) && typeof control.type === 'string') {
        if (coreuiPanel$1.controls.hasOwnProperty(control.type)) {
          let instance = $.extend(true, {}, coreuiPanel$1.controls[control.type]);
          instance.init(panel, control);
          panel._controls.push(instance);
        }
      }
    });
  },
  /**
   * Инициализация контролов и фильтров
   * @param {Object} panel
   * @param {Array}  tabItems
   * @private
   */
  initTabs: function (panel, tabItems) {
    $.each(tabItems, function (key, tabItem) {
      if (coreuiPanelUtils.isObject(tabItem)) {
        let instance = null;
        let tabType = tabItem.hasOwnProperty('type') && typeof tabItem.type === 'string' ? tabItem.type : 'tab';
        if (tabType === 'tab') {
          instance = $.extend(true, {}, coreuiPanelTab);
        } else if (tabType === 'dropdown') {
          instance = $.extend(true, {}, coreuiPanelTabDropdown);
        }
        if (instance) {
          instance._init(panel, tabItem);
          panel._tabs.push(instance);
          panel.on('panel_show', function () {
            instance.initEvents();
          });
        }
      }
    });
  },
  /**
   * Сборка табов
   * @param {object} panel
   * @param {object} tabs
   */
  renderTabs: function (panel, tabs) {
    let classes = [];
    let tabsContents = [];
    if (tabs.hasOwnProperty('position') && typeof tabs.position === 'string') {
      switch (tabs.position) {
        case 'top-center':
          classes.push('justify-content-center');
          break;
        case 'top-right':
          classes.push('justify-content-end');
          break;
        case 'left':
          classes.push('left-tabs');
          break;
        case 'right':
          classes.push('right-tabs');
          break;
      }
    }
    if (tabs.hasOwnProperty('type') && typeof tabs.type === 'string' && ['tabs', 'pills'].indexOf(tabs.type) >= 0) {
      classes.push('gap-1');
    }
    $.each(panel._tabs, function (key, tab) {
      tabsContents.push(tab.render());
    });
    return ejs.render(tpl['tabs.html'], {
      classes: classes.join(' '),
      type: tabs.hasOwnProperty('type') && typeof tabs.type === 'string' ? tabs.type : '',
      fill: tabs.hasOwnProperty('fill') && typeof tabs.fill === 'string' ? tabs.fill : '',
      tabsContents: tabsContents
    });
  },
  /**
   * Сборка элемента управления
   * @param {object} panel
   * @param {object} control
   * @private
   * @returns {HTMLElement|jQuery}
   */
  renderControl: function (panel, control) {
    if (coreuiPanelUtils.isObject(control)) {
      let controlElement = $(ejs.render(tpl['panel-control.html'], {
        id: control.getId()
      }));
      controlElement.append(control.render());
      if (control.hasOwnProperty('initEvents') && typeof control.initEvents === 'function') {
        panel.on('panel_show', function () {
          control.initEvents();
        });
      }
      return controlElement;
    }
  },
  /**
   *
   * @param panel
   * @param content
   * @return {string}
   */
  renderContents: function (panel, content) {
    let result = [];
    if (typeof content === 'string') {
      result.push(content);
    } else if (content instanceof Object) {
      if (!Array.isArray(content)) {
        content = [content];
      }
      for (let i = 0; i < content.length; i++) {
        if (typeof content[i] === 'string') {
          result.push(content[i]);
        } else {
          if (!Array.isArray(content[i]) && content[i].hasOwnProperty('component') && typeof content[i].component === 'string' && content[i].component.substring(0, 6) === 'coreui') {
            let name = content[i].component.split('.')[1];
            if (CoreUI.hasOwnProperty(name) && coreuiPanelUtils.isObject(CoreUI[name])) {
              let instance = CoreUI[name].create(content[i]);
              result.push(instance.render());
              panel.on('panel_show', instance.initEvents, instance, true);
            }
          } else {
            result.push(JSON.stringify(content[i]));
          }
        }
      }
    }
    return result;
  },
  /**
   * Создание метки
   * @param {object} badge
   * @return {null}
   * @private
   */
  renderBadge: function (badge) {
    if (!coreuiPanelUtils.isObject(badge) || !badge.hasOwnProperty('text') || ['string', 'number'].indexOf(typeof badge.text) < 0) {
      return '';
    }
    let attr = [];
    let type = badge.hasOwnProperty('type') && typeof badge.type === 'string' ? badge.type : 'danger';
    let classes = badge.text.toString().length > 0 ? 'rounded-pill bg-' + type : 'rounded-circle p-2 border bg-' + type;
    if (badge.hasOwnProperty('attr') && coreuiPanelUtils.isObject(badge.attr)) {
      if (badge.attr.hasOwnProperty('class') && typeof badge.attr.class === 'string') {
        classes += ' ' + badge.attr.class;
        delete badge.attr.class;
      }
      $.each(badge.attr, function (name, value) {
        if (typeof name === 'string' && ['string', 'number'].indexOf(typeof value) >= 0) {
          attr.push(name + '="' + value + '"');
        }
      });
    }
    return ejs.render(tpl['badge.html'], {
      badge: {
        text: badge.text,
        classes: classes ? ' ' + classes : '',
        attr: attr.length > 0 ? ' ' + attr.join(' ') : ''
      }
    });
  }
};

let panelInstance = {
  _options: {
    id: '',
    lang: 'en',
    langList: {},
    title: null,
    subtitle: null,
    controls: [],
    contentFit: null,
    content: null,
    tabs: {
      type: 'tabs',
      // pills, underline
      position: 'top-left',
      // top-center, top-right, left, right
      width: 200,
      fill: '',
      // fill, justify
      items: []
    }
  },
  _id: '',
  _tabs: [],
  _controls: [],
  _events: {},
  /**
   *
   * @param options
   */
  _init: function (options) {
    this._options = $.extend(true, {}, this._options, options);
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();

    // Инициализация контролов
    if (this._options.hasOwnProperty('controls') && Array.isArray(this._options.controls) && this._options.controls.length > 0) {
      coreuiPanelPrivate.initControls(this, this._options.controls);
    }

    // Инициализация табов
    if (this._options.hasOwnProperty('tabs') && coreuiPanelUtils.isObject(this._options.tabs) && this._options.tabs.hasOwnProperty('items') && Array.isArray(this._options.tabs.items) && this._options.tabs.items.length > 0) {
      coreuiPanelPrivate.initTabs(this, this._options.tabs.items);
    }
  },
  /**
   * Инициализация событий
   */
  initEvents: function () {
    let that = this;
    this.on('tab_click', function (tab, event) {
      let options = tab.getOptions();
      let url = options.hasOwnProperty('url') && typeof options.url == 'string' && options.url ? options.url : '#';
      if (url && url !== '#') {
        that.loadContent(url);
      }
      let urlWindow = options.hasOwnProperty('urlWindow') && typeof options.urlWindow == 'string' && options.urlWindow ? options.urlWindow : null;
      if (urlWindow) {
        window.history.pushState({
          path: urlWindow
        }, '', urlWindow);
      }
    });
    coreuiPanelPrivate.trigger(this, 'panel_show');
    coreuiPanelPrivate.trigger(this, 'content_show');
  },
  /**
   * Получение идентификатора
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Получение опций
   * @returns {object}
   */
  getOptions: function () {
    return $.extend(true, {}, this._options);
  },
  /**
   * Блокировка панели
   * @param {string} text
   */
  lock: function (text) {
    let container = coreuiPanelElements.getPanel(this.getId());
    if (container[0] && !container.find('.coreui-panel-lock')[0]) {
      let html = ejs.render(tpl['loader.html'], {
        loading: typeof text === 'string' ? text : this.getLang().loading
      });
      container.prepend(html);
    }
  },
  /**
   * Разблокировка панели
   */
  unlock: function () {
    coreuiPanelElements.getLock(this.getId()).hide(50, function () {
      $(this).remove();
    });
  },
  /**
   * Загрузка данных и установка их в панель
   * @param url
   */
  loadContent: function (url) {
    let that = this;
    this.lock();
    $.ajax({
      url: url,
      method: 'get',
      beforeSend: function (xhr) {
        coreuiPanelPrivate.trigger(that, 'load_start', that, [xhr]);
      },
      success: function (result) {
        coreuiPanelPrivate.trigger(that, 'load_success', that, [result]);
        that.setContent(result);
      },
      error: function (xhr, textStatus, errorThrown) {
        coreuiPanelPrivate.trigger(that, 'load_error', that, [xhr, textStatus, errorThrown]);
        that.setContent('');
      },
      complete: function (xhr, textStatus) {
        that.unlock();
        coreuiPanelPrivate.trigger(that, 'load_end', that, [xhr, textStatus]);
      }
    });
  },
  /**
   * Получение переводов текущего языка
   * @return {object}
   */
  getLang: function () {
    return $.extend(true, {}, this._options.langList);
  },
  /**
   * Получение объекта таба по id
   * @param tabId
   */
  getTabById: function (tabId) {
    let result = null;
    $.each(this._tabs, function (key, tab) {
      if (tab.hasOwnProperty('getId') && typeof tab.getId === 'function' && tab.getId() === tabId) {
        result = tab;
        return false;
      }
    });
    return result;
  },
  /**
   * Получение объекта контрола по его id
   * @param {string} id
   * @return {object}
   */
  getControlById: function (id) {
    let result = null;
    $.each(this._controls, function (key, control) {
      if (control.hasOwnProperty('getId') && typeof control.getId === 'function' && control.getId() === id) {
        result = control;
        return false;
      }
    });
    return result;
  },
  /**
   * Размещение содержимого внутри панели
   * @param {string|object|Array} content
   */
  setContent: function (content) {
    let contents = coreuiPanelPrivate.renderContents(this, content);
    let container = coreuiPanelElements.getContent(this.getId());
    container.html('');
    $.each(contents, function (key, content) {
      container.append(content);
    });
    coreuiPanelPrivate.trigger(this, 'content_show');
  },
  /**
   *
   * @param element
   * @returns {*}
   */
  render: function (element) {
    let that = this;
    let tabsContent = null;
    let tabsPosition = 'top-left';
    let tabsWidth = '200px';
    let fitContent = '';
    if (this._options.hasOwnProperty('tabs') && coreuiPanelUtils.isObject(this._options.tabs) && this._options.tabs.hasOwnProperty('items') && Array.isArray(this._options.tabs.items) && this._options.tabs.items.length > 0) {
      tabsContent = coreuiPanelPrivate.renderTabs(this, this._options.tabs);
      tabsPosition = this._options.tabs.hasOwnProperty('position') && typeof this._options.tabs.position === 'string' ? this._options.tabs.position : 'top-left';
      if (this._options.tabs.hasOwnProperty('width') && ['string', 'number'].indexOf(typeof this._options.tabs.width) && this._options.tabs.width) {
        let unit = typeof this._options.tabs.width === 'number' ? 'px' : '';
        tabsWidth = this._options.tabs.width + unit;
      }
    }
    if (this._options.hasOwnProperty('contentFit') && typeof this._options.contentFit === 'string') {
      switch (this._options.contentFit) {
        case 'fit':
          fitContent = ' coreui-panel__content-fit';
          break;
        case 'min':
          fitContent = ' coreui-panel__content-min';
          break;
        case 'max':
          fitContent = ' coreui-panel__content-max';
          break;
      }
    }
    let panelElement = $(ejs.render(tpl['container.html'], {
      issetControls: !!this._controls.length,
      id: this.getId(),
      title: this._options.title,
      subtitle: this._options.subtitle,
      fit: fitContent,
      tabs: {
        content: tabsContent,
        position: tabsPosition,
        width: tabsWidth
      }
    }));
    let renderContents = coreuiPanelPrivate.renderContents(this, this._options.content);
    $.each(renderContents, function (key, content) {
      panelElement.find('.coreui-panel-content').append(content);
    });
    $.each(this._controls, function (key, control) {
      panelElement.find('.coreui-panel-controls').append(coreuiPanelPrivate.renderControl(that, control));
    });
    if (element === undefined) {
      return panelElement;
    }

    // Dom element
    let domElement = null;
    if (typeof element === 'string') {
      domElement = document.getElementById(element);
    } else if (element instanceof HTMLElement) {
      domElement = element;
    }
    if (domElement) {
      $(domElement).html(panelElement);
      this.initEvents();
    }
  },
  /**
   * Регистрация функции на событие
   * @param eventName
   * @param callback
   * @param context
   * @param singleExec
   */
  on: function (eventName, callback, context, singleExec) {
    if (typeof this._events[eventName] !== 'object') {
      this._events[eventName] = [];
    }
    this._events[eventName].push({
      context: context || this,
      callback: callback,
      singleExec: !!singleExec
    });
  }
};

let coreuiPanel$1 = {
  lang: {},
  controls: {},
  _instances: {},
  _settings: {
    lang: 'ru'
  },
  /**
   * @param {object} options
   * @returns {coreuiPanelInstance}
   */
  create: function (options) {
    let instance = $.extend(true, {}, panelInstance);
    if (!options.hasOwnProperty('lang')) {
      options.lang = this.getSetting('lang');
    }
    let langList = this.lang.hasOwnProperty(options.lang) ? this.lang[options.lang] : {};
    options.langList = options.hasOwnProperty('langList') && coreuiTabsUtils.isObject(options.langList) ? $.extend(true, {}, langList, options.langList) : langList;
    instance._init(options instanceof Object ? options : {});
    let panelId = instance.getId();
    this._instances[panelId] = instance;
    return instance;
  },
  /**
   * @param {string} id
   * @returns {coreuiPanelInstance|null}
   */
  get: function (id) {
    if (!this._instances.hasOwnProperty(id)) {
      return null;
    }
    if (!$('#coreui-panel-' + id)[0]) {
      delete this._instances[id];
      return null;
    }
    return this._instances[id];
  },
  /**
   * Установка настроек
   * @param {object} settings
   */
  setSettings: function (settings) {
    this._settings = $.extend(true, {}, this._settings, settings);
  },
  /**
   * Получение значения настройки
   * @param {string} name
   */
  getSetting: function (name) {
    let value = null;
    if (this._settings.hasOwnProperty(name)) {
      value = this._settings[name];
    }
    return value;
  }
};

coreuiPanel$1.controls.link = {
  _id: null,
  _panel: null,
  _options: {
    id: null,
    type: 'link',
    href: null,
    content: null,
    onClick: null,
    attr: null
  },
  /**
   * Инициализация
   * @param {object} panel
   * @param {object}                options
   */
  init: function (panel, options) {
    this._options = $.extend({}, this._options, options);
    this._panel = panel;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function () {
    let that = this;
    if (typeof this._options.onClick === 'function' || typeof this._options.onClick === 'string') {
      let control = coreuiPanelElements.getControl(this._panel.getId(), this.getId());
      $('a', control).click(function (event) {
        if (typeof that._options.onClick === 'function') {
          return that._options.onClick(event, that._panel);
        } else if (typeof that._options.onClick === 'string') {
          return new Function(that._options.onClick)();
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function () {
    let attributes = [];
    if (typeof this._options.attr === 'object') {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/link.html'], {
      href: this._options.href,
      content: this._options.content,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiPanel$1.controls.button = {
  _id: null,
  _panel: null,
  _options: {
    id: null,
    type: 'button',
    content: null,
    onClick: null,
    attr: null
  },
  /**
   * Инициализация
   * @param {object} panel
   * @param {object}                options
   */
  init: function (panel, options) {
    this._options = $.extend({}, this._options, options);
    this._panel = panel;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function () {
    let that = this;
    if (typeof this._options.onClick === 'function' || typeof this._options.onClick === 'string') {
      let control = coreuiPanelElements.getControl(this._panel.getId(), this.getId());
      $('button', control).click(function (event) {
        if (typeof that._options.onClick === 'function') {
          that._options.onClick(event, that._panel);
        } else if (typeof that._options.onClick === 'string') {
          new Function(that._options.onClick)();
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function () {
    let attributes = [];
    if (coreuiPanelUtils.isObject(this._options.attr)) {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/button.html'], {
      content: this._options.content,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiPanel$1.controls.dropdown = {
  _id: null,
  _panel: null,
  _options: {
    id: null,
    type: 'dropdown',
    content: null,
    items: null,
    attr: {
      class: 'btn btn-primary'
    }
  },
  /**
   * Инициализация
   * @param {object} panel
   * @param {object} options
   */
  init: function (panel, options) {
    this._options = $.extend({}, this._options, options);
    this._panel = panel;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
    if (Array.isArray(this._options.items)) {
      $.each(this._options.items, function (key, item) {
        if (coreuiPanelUtils.isObject(item) && typeof item.type === 'string') {
          item.id = item.hasOwnProperty('id') && typeof item.id === 'string' && item.id ? item.id : coreuiPanelUtils.hashCode();
        }
      });
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function () {
    return $.extend(true, {}, this._options);
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function () {
    let that = this;
    let options = this.getOptions();
    if (Array.isArray(options.items)) {
      $.each(options.items, function (key, item) {
        if (coreuiPanelUtils.isObject(item) && typeof item.type === 'string') {
          if (item.type === 'button') {
            if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && ['string', 'function'].indexOf(typeof item.onClick) >= 0 && typeof item.content === 'string') {
              let control = coreuiPanelElements.getControl(that._panel.getId(), that.getId());
              $('button#btn-dropdown-' + item.id, control).click(function (event) {
                if (typeof item.onClick === 'function') {
                  item.onClick(event, that._panel);
                } else if (typeof item.onClick === 'string') {
                  new Function(item.onClick)();
                }
              });
            }
          }
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function () {
    let options = this.getOptions();
    let items = [];
    let attributes = [];
    if (Array.isArray(options.items)) {
      $.each(options.items, function (key, item) {
        if (coreuiPanelUtils.isObject(item) && typeof item.type === 'string') {
          if (item.type === 'link') {
            if (item.hasOwnProperty('link') && item.hasOwnProperty('content') && typeof item.link === 'string' && typeof item.content === 'string') {
              items.push({
                type: 'link',
                link: item.link,
                content: item.content
              });
            }
          } else if (item.type === 'button') {
            if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && typeof item.content === 'string' && ['string', 'function'].indexOf(typeof item.onClick) >= 0) {
              items.push({
                type: 'button',
                id: item.id,
                content: item.content
              });
            }
          } else if (item.type === 'divider') {
            items.push({
              type: 'divider'
            });
          }
        }
      });
    }
    if (coreuiPanelUtils.isObject(options.attr)) {
      if (options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(typeof options.attr.class) >= 0) {
        options.attr.class += ' dropdown-toggle';
      }
      if (options.attr.hasOwnProperty('type')) {
        delete options.attr.type;
      }
      if (options.attr.hasOwnProperty('id')) {
        delete options.attr.id;
      }
      if (options.attr.hasOwnProperty('data-bs-toggle')) {
        delete options.attr['data-bs-toggle'];
      }
      $.each(options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/dropdown.html'], {
      content: options.content,
      position: options.hasOwnProperty('position') && typeof options.position === 'string' ? options.position : 'end',
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      items: items
    });
  }
};

coreuiPanel$1.controls.button_group = {
  _id: null,
  _panel: null,
  _options: {
    id: null,
    type: 'button_group',
    content: null,
    onClick: null,
    attr: null
  },
  _link: {
    attr: {
      class: 'btn btn-secondary'
    }
  },
  _button: {
    attr: {
      class: 'btn btn-secondary'
    }
  },
  _dropdown: {
    attr: {
      class: 'btn btn-secondary'
    }
  },
  /**
   * Инициализация
   * @param {object} panel
   * @param {object}                options
   */
  init: function (panel, options) {
    this._options = $.extend({}, this._options, options);
    this._panel = panel;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
    if (Array.isArray(this._options.buttons)) {
      $.each(this._options.buttons, function (key, button) {
        if (coreuiPanelUtils.isObject(button) && typeof button.type === 'string') {
          button.id = coreuiPanelUtils.hashCode();
          if (button.type === 'dropdown' && Array.isArray(button.items)) {
            $.each(button.items, function (key, item) {
              if (coreuiPanelUtils.isObject(item) && typeof item.type === 'string') {
                item.id = item.hasOwnProperty('id') && typeof item.id === 'string' && item.id ? item.id : coreuiPanelUtils.hashCode();
              }
            });
          }
        }
      });
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function () {
    return $.extend(true, {}, this._options);
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function () {
    let that = this;
    let options = this.getOptions();
    if (Array.isArray(options.buttons)) {
      let control = coreuiPanelElements.getControl(this._panel.getId(), this._id);
      $.each(options.buttons, function (key, button) {
        if (coreuiPanelUtils.isObject(button) && typeof button.type === 'string') {
          if (button.type === 'button') {
            if (button.hasOwnProperty('content') && button.hasOwnProperty('onClick') && ['string', 'function'].indexOf(typeof button.onClick) >= 0 && typeof button.content === 'string') {
              $('button#btn-' + button.id, control).click(function (event) {
                if (typeof button.onClick === 'function') {
                  button.onClick(event, that._panel);
                } else if (typeof button.onClick === 'string') {
                  new Function(button.onClick)();
                }
              });
            }
          } else if (button.type === 'dropdown' && Array.isArray(button.items)) {
            $.each(button.items, function (key, item) {
              if (coreuiPanelUtils.isObject(item) && typeof item.type === 'string') {
                if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && ['string', 'function'].indexOf(typeof item.onClick) >= 0 && typeof item.content === 'string') {
                  $('button#btn-dropdown-' + item.id, control).click(function (event) {
                    if (typeof item.onClick === 'function') {
                      item.onClick(event, that._panel);
                    } else if (typeof item.onClick === 'string') {
                      new Function(item.onClick)();
                    }
                  });
                }
              }
            });
          }
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function () {
    let options = this.getOptions();
    let buttons = [];
    let that = this;
    if (Array.isArray(options.buttons)) {
      $.each(options.buttons, function (key, button) {
        if (coreuiPanelUtils.isObject(button) && typeof button.type === 'string') {
          if (button.type === 'link') {
            if (button.hasOwnProperty('link') && button.hasOwnProperty('content') && typeof button.link === 'string' && typeof button.content === 'string') {
              let attributes = [];
              if (!coreuiPanelUtils.isObject(button.attr)) {
                button.attr = {};
              }
              if (button.attr.hasOwnProperty('href')) {
                delete button.attr.href;
              }
              if (!button.attr.hasOwnProperty('class')) {
                button.attr.class = that._link.attr.class;
              }
              $.each(button.attr, function (name, value) {
                attributes.push(name + '="' + value + '"');
              });
              buttons.push({
                type: 'link',
                link: button.link,
                content: button.content,
                attr: attributes
              });
            }
          } else if (button.type === 'button') {
            if (button.hasOwnProperty('content') && button.hasOwnProperty('onClick') && typeof button.content === 'string' && ['string', 'function'].indexOf(typeof button.onClick) >= 0) {
              let attributes = [];
              if (!coreuiPanelUtils.isObject(button.attr)) {
                button.attr = {};
              }
              if (button.attr.hasOwnProperty('type')) {
                delete button.attr.type;
              }
              if (button.attr.hasOwnProperty('id')) {
                delete button.attr.id;
              }
              if (!button.attr.hasOwnProperty('class')) {
                button.attr.class = that._button.attr.class;
              }
              $.each(button.attr, function (name, value) {
                attributes.push(name + '="' + value + '"');
              });
              buttons.push({
                type: 'button',
                link: button.link,
                id: button.id,
                content: button.content,
                attr: attributes
              });
            }
          } else if (button.type === 'dropdown') {
            if (Array.isArray(button.items)) {
              let attributes = [];
              let items = [];
              $.each(button.items, function (key, item) {
                if (coreuiPanelUtils.isObject(item) && typeof item.type === 'string') {
                  if (item.type === 'link') {
                    if (item.hasOwnProperty('link') && item.hasOwnProperty('content') && typeof item.link === 'string' && typeof item.content === 'string') {
                      items.push({
                        type: 'link',
                        link: item.link,
                        content: item.content
                      });
                    }
                  } else if (item.type === 'button') {
                    if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && typeof item.content === 'string' && ['string', 'function'].indexOf(typeof item.onClick) >= 0) {
                      items.push({
                        type: 'button',
                        id: item.id,
                        content: item.content
                      });
                    }
                  } else if (item.type === 'divider') {
                    items.push({
                      type: 'divider'
                    });
                  }
                }
              });
              if (!coreuiPanelUtils.isObject(button.attr)) {
                button.attr = {};
              }
              if (button.attr.hasOwnProperty('type')) {
                delete button.attr.type;
              }
              if (button.attr.hasOwnProperty('id')) {
                delete button.attr.id;
              }
              if (!button.attr.hasOwnProperty('class')) {
                button.attr.class = that._dropdown.attr.class;
              }
              if (button.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(typeof button.attr.class) >= 0) {
                button.attr.class += ' dropdown-toggle';
              }
              $.each(button.attr, function (name, value) {
                attributes.push(name + '="' + value + '"');
              });
              buttons.push({
                type: 'dropdown',
                content: button.content,
                position: button.hasOwnProperty('position') && typeof button.position === 'string' ? button.position : 'end',
                attr: attributes,
                items: items
              });
            }
          }
        }
      });
    }
    return ejs.render(tpl['controls/button_group.html'], {
      buttons: buttons
    });
  }
};

coreuiPanel$1.controls.custom = {
  _id: null,
  _panel: null,
  _options: {
    id: null,
    type: 'custom',
    content: null
  },
  /**
   * Инициализация
   * @param {object} panel
   * @param {object}                options
   */
  init: function (panel, options) {
    this._options = $.extend({}, this._options, options);
    this._panel = panel;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiPanelUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function () {},
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function () {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function () {
    if (typeof this._options.content === 'string') {
      return this._options.content;
    } else if (typeof this._options.content === 'function') {
      return this._options.content();
    }
  }
};

coreuiPanel$1.lang.en = {
  "loading": "Loading..."
};

coreuiPanel$1.lang.ru = {
  "loading": "Загрузка..."
};

return coreuiPanel$1;

})));
;
var CoreUI=void 0!==CoreUI?CoreUI:{};CoreUI.tabs={_instances:{},create:function(t){var n=$.extend({},this.instance),t=(n._init(t instanceof Object?t:{}),n.getId());return this._instances[t]=n},get:function(t){return this._instances.hasOwnProperty(t)?$("#coreui-tabs-"+this._instances[t])[0]?(delete this._instances[t],null):this._instances[t]:null},_hashCode:function(){return this._crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},_crc32:function(t){for(var n=[],e=0;e<256;e++){for(var r=e,i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;n[e]=r}for(var s=-1,a=0;a<t.length;a++)s=s>>>8^n[255&(s^t.charCodeAt(a))];return(-1^s)>>>0}};;
window.CoreUI.tabs.tpl={},window.CoreUI.tabs.tpl["container.html"]='<div class="text-center mb-3" id="coreui-tabs-<%= id %>">\n    <div class="text-start">\n        <% if (title) { %>\n        <h4><%- title %></h4>\n        <% } %>\n        <% if (subtitle) { %>\n        <p class="text-muted"><%- subtitle %></p>\n        <% } %>\n\n        <% if (typeof tabs === \'object\' && tabs.length > 0) { %>\n            <% if (tabsPosition === \'top-left\' || tabsPosition === \'top-center\' || tabsPosition === \'top-right\') { %>\n            <%- tabsContent %>\n\n            <div class="coreui-tabs-content">\n                <%- renderContent %>\n            </div>\n\n            <% } else if (tabsPosition === \'left\' || tabsPosition === \'left-sideways\') { %>\n            <div class="d-flex">\n                <div class="me-3" style="width: <%= tabsWidth %>px"><%- tabsContent %></div>\n\n                <div class="coreui-tabs-content flex-grow-1">\n                    <%- renderContent %>\n                </div>\n            </div>\n\n            <% } else if (tabsPosition === \'right\' || tabsPosition === \'right-sideways\') { %>\n            <div class="d-flex">\n                <div class="coreui-tabs-content flex-grow-1 pe-3">\n                    <%- renderContent %>\n                </div>\n                <div style="width: <%= tabsWidth %>px"><%- tabsContent %></div>\n            </div>\n            <% } %>\n\n        <% } else { %>\n        <div class="coreui-tabs-content">\n            <%- renderContent %>\n        </div>\n        <% } %>\n    </div>\n</div>',window.CoreUI.tabs.tpl["tabs.html"]='<% if (typeof tabs === \'object\' && tabs.length > 0) { %>\n<ul class="nav <% if (tabsType) { %>nav-<%= tabsType %><% } %> card-body-tabs mb-3 <% if (containerClasses) { %><%= containerClasses %><% } %>\n           <% if (tabsFill) { %>nav-<%= tabsFill %><% } %>">\n    <% $.each(tabs, function(key, tab) { %>\n        <% if (tab.type === \'tab\') { %>\n        <li class="nav-item">\n            <a class="nav-link<% if (tab.active) { %> active<% } %><% if (tab.disabled) { %> disabled<% } %>" href="<% if (tab.url) { %><%= tab.url %><% } else { %>#<% } %>" data-tab-id="<%= tab.id %>" data-bs-toggle="tab"><%= tab.title %></a>\n        </li>\n        <% } %>\n        <% if (tab.type === \'dropdown\') { %>\n        <li class="nav-item dropdown<% if (tab.active) { %> active<% } %><% if (tab.disabled) { %> disabled<% } %>">\n            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#">\n                <%= tab.title %>\n            </a>\n            <ul class="dropdown-menu">\n                <% $.each(tab.items, function(key, item) { %>\n                    <% if (item.type === \'item\') { %>\n                    <li>\n                        <a class="dropdown-item<% if (item.active) { %> active<% } %><% if (item.disabled) { %> disabled<% } %>" href="<% if (item.url) { %><%= item.url %><% } else { %>#<% } %>" data-bs-toggle="tab" data-tab-id="<%= item.id %>">\n                            <%= item.title %>\n                        </a>\n                    </li>\n                    <% } %>\n                    <% if (item.type === \'divider\') { %>\n                    <li>\n                        <hr class="dropdown-divider">\n                    </li>\n                    <% } %>\n                <% }) %>\n            </ul>\n        </li>\n        <% } %>\n    <% }) %>\n</ul>\n<% } %>';;
CoreUI.tabs.instance={_options:{id:"",title:null,subtitle:null,controls:null,tabs:[],tabsType:"tabs",tabsPosition:"top-left",containerClasses:"",tabsWidth:200,tabsFill:""},_events:{},_init:function(t){switch(this._options=$.extend({},this._options,t),this._events={},this._options.id||(this._options.id=CoreUI.tabs._hashCode()),this._options.tabsPosition){case"top-left":this._options.containerClasses="";break;case"top-center":this._options.containerClasses="justify-content-center";break;case"top-right":this._options.containerClasses="justify-content-end";break;case"left":this._options.containerClasses="left-tabs";break;case"left-sideways":this._options.containerClasses="left-tabs sideways-tabs";break;case"right":this._options.containerClasses="right-tabs";break;case"right-sideways":this._options.containerClasses="right-tabs sideways-tabs";break;default:this._options.containerClasses=""}"tabs"!==this._options.tabsType&&"pills"!==this._options.tabsType||(this._options.containerClasses+=" gap-1")},initEvents:function(){this._trigger("shown.coreui.tabs");var t=$("#coreui-tabs-"+this._options.id);let n=this;0<this._options.tabs.length&&this.on("click-tab.coreui.tabs",function(i,t){i.url&&"#"!==i.url&&$.ajax({url:i.url,method:"get",beforeSend:function(t){n._trigger("start-load-content.coreui.tabs",n,[i,t])},success:function(t){n._trigger("success-load-content.coreui.tabs",n,[i,t]);t=n._renderContent(t);n.setContent(t)},error:function(t,s,e){n._trigger("error-load-content.coreui.tabs",n,[i,t,s,e])},complete:function(t,s){n._trigger("end-load-content.coreui.tabs",n,[i,t,s])}})}),t[0]&&($(".nav-link:not(.dropdown-toggle)",t).click(function(t){let e=$(this).data("tab-id")||"",i=null;if($.each(n._options.tabs,function(t,s){if(s.hasOwnProperty("id")&&s.id.toString()===e.toString())return i=Object.assign({},s),!1}),n._trigger("click-tab.coreui.tabs",this,[i,t]),"#"===i.url)return!1}),$(".dropdown-item",t).click(function(t){let e=$(this).data("tab-id")||"",i=null;if($.each(n._options.tabs,function(t,s){s.hasOwnProperty("type")&&s.hasOwnProperty("items")&&"dropdown"===s.type&&0<s.items.length&&$.each(s.items,function(t,s){if(s.hasOwnProperty("id")&&s.id.toString()===e.toString())return i=Object.assign({},s),!1})}),n._trigger("click-tab.coreui.tabs",this,[i,t]),"#"===i.url)return!1}))},getId:function(){return this._options.id},setContent:function(t){t=this._renderContent(t),$("#coreui-tabs-"+this._options.id+" .coreui-tabs-content").html(t),this._trigger("show-content.coreui.tabs")},render:function(t){if(this._options.renderContent=this._renderContent(this._options.content),"object"==typeof this._options.tabs&&Array.isArray(this._options.tabs)){var e={id:"",type:"tab",title:"",url:"#",active:!1,disabled:!1},i={type:"dropdown",title:"",active:!1,disabled:!1,items:[]},n={id:"",type:"item",title:"",url:"#",active:!1,disabled:!1};for(let s=0;s<this._options.tabs.length;s++)switch(this._options.tabs[s].hasOwnProperty("type")&&"string"==typeof this._options.tabs[s].type?this._options.tabs[s].type:"tab"){case"tab":default:this._options.tabs[s]=Object.assign({},e,this._options.tabs[s]),this._options.tabs[s].id||(this._options.tabs[s].id=CoreUI.tabs._hashCode());break;case"dropdown":this._options.tabs[s]=Object.assign({},i,this._options.tabs[s]);for(let t=0;t<this._options.tabs[s].items.length;t++)switch(this._options.tabs[s].items[t].hasOwnProperty("type")&&"string"==typeof this._options.tabs[s].items[t].type?this._options.tabs[s].items[t].type:"item"){case"item":default:this._options.tabs[s].items[t]=Object.assign({},n,this._options.tabs[s].items[t]),this._options.tabs[s].items[t].id||(this._options.tabs[s].items[t].id=CoreUI.tabs._hashCode());break;case"divider":this._options.tabs[s].items[t]={type:"divider"}}}}this._options.tabsContent=CoreUI.tabs.ejs.render(CoreUI.tabs.tpl["tabs.html"],this._options);var s=CoreUI.tabs.ejs.render(CoreUI.tabs.tpl["container.html"],this._options);if(void 0===t)return s;let o={};if("string"==typeof t){if(!(o=document.getElementById(t)))return""}else t instanceof HTMLElement&&(o=t);o.innerHTML=s,this.initEvents(),this._trigger("show-content.coreui.tabs")},on:function(t,s,e,i){"object"!=typeof this._events[t]&&(this._events[t]=[]),this._events[t].push({context:e||this,callback:s,singleExec:!!i})},_trigger:function(t,s,e){if(e=e||[],this._events[t]instanceof Object&&0<this._events[t].length)for(var i=0;i<this._events[t].length;i++){var n=this._events[t][i].callback;s=s||this._events[t][i].context,n.apply(s,e),this._events[t][i].singleExec&&this._events[t].splice(i,1)}},_renderContent:function(s){var e,i=[],n=["coreui.table","coreui.form","coreui.layout","coreui.panel","coreui.tabs","coreui.alert"];if("string"==typeof s)i.push(s);else if(s instanceof Object){Array.isArray(s)||(s=[s]);for(let t=0;t<s.length;t++)"string"==typeof s[t]?i.push(s[t]):!Array.isArray(s[t])&&s[t].hasOwnProperty("component")&&0<=n.indexOf(s[t].component)?(e=s[t].component.split(".")[1],console.log(e),e=CoreUI[e].create(s[t]),i.push(e.render()),this.on("show-content.coreui.tabs",e.initEvents,e,!0)):i.push(JSON.stringify(s[t]))}return i.join("")}};;
!function(){"use strict";!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ejs=e()}(function(){return function r(i,o,s){function c(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,r,i,o,s)}return o[t].exports}for(var a="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,a){var o=e("fs"),u=e("path"),p=e("./utils"),n=!1,e=e("../package.json").version,r="locals",i=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],l=i.concat("cache"),s=/^\uFEFF/,f=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function c(t,e){var n;if(e.some(function(e){return n=a.resolveInclude(t,e,!0),o.existsSync(n)}))return n}function h(e,t){var n,r=e.filename,i=1<arguments.length;if(e.cache){if(!r)throw new Error("cache option requires a filename");if(n=a.cache.get(r))return n;i||(t=m(r).toString().replace(s,""))}else if(!i){if(!r)throw new Error("Internal EJS error: no file name or template provided");t=m(r).toString().replace(s,"")}return n=a.compile(t,e),e.cache&&a.cache.set(r,n),n}function m(e){return a.fileLoader(e)}function d(e,t){var n=p.shallowCopy(p.createNullProtoObjWherePossible(),t);if(n.filename=function(e,t){var n,r=t.views,i=/^[A-Za-z]+:\\|^\//.exec(e);if(i&&i.length)e=e.replace(/^\/*/,""),n=Array.isArray(t.root)?c(e,t.root):a.resolveInclude(e,t.root||"/",!0);else if(!(n=!(n=t.filename&&(i=a.resolveInclude(e,t.filename),o.existsSync(i))?i:n)&&Array.isArray(r)?c(e,r):n)&&"function"!=typeof t.includer)throw new Error('Could not find the include file "'+t.escapeFunction(e)+'"');return n}(e,n),"function"==typeof t.includer){t=t.includer(e,n.filename);if(t&&(t.filename&&(n.filename=t.filename),t.template))return h(n,t.template)}return h(n)}function g(e,t,n,r,i){var t=t.split("\n"),o=Math.max(r-3,0),s=Math.min(t.length,r+3),i=i(n),n=t.slice(o,s).map(function(e,t){t=t+o+1;return(t==r?" >> ":"    ")+t+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+r+"\n"+n+"\n\n"+e.message,e}function y(e){return e.replace(/;(\s*$)/,"$1")}function w(e,t){t=t||p.createNullProtoObjWherePossible();var n=p.createNullProtoObjWherePossible();this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=t.client||!1,n.escapeFunction=t.escape||t.escapeFunction||p.escapeXML,n.compileDebug=!1!==t.compileDebug,n.debug=!!t.debug,n.filename=t.filename,n.openDelimiter=t.openDelimiter||a.openDelimiter||"<",n.closeDelimiter=t.closeDelimiter||a.closeDelimiter||">",n.delimiter=t.delimiter||a.delimiter||"%",n.strict=t.strict||!1,n.context=t.context,n.cache=t.cache||!1,n.rmWhitespace=t.rmWhitespace,n.root=t.root,n.includer=t.includer,n.outputFunctionName=t.outputFunctionName,n.localsName=t.localsName||a.localsName||r,n.views=t.views,n.async=t.async,n.destructuredLocals=t.destructuredLocals,n.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,n.strict?n._with=!1:n._with=void 0===t._with||t._with,this.opts=n,this.regex=this.createRegex()}a.cache=p.cache,a.fileLoader=o.readFileSync,a.localsName=r,a.promiseImpl=new Function("return this;")().Promise,a.resolveInclude=function(e,t,n){var r=u.dirname,i=u.extname,n=(0,u.resolve)(n?t:r(t),e);return i(e)||(n+=".ejs"),n},a.compile=function(e,t){return t&&t.scope&&(n||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),n=!0),t.context||(t.context=t.scope),delete t.scope),new w(e,t).compile()},a.render=function(e,t,n){t=t||p.createNullProtoObjWherePossible(),n=n||p.createNullProtoObjWherePossible();return 2==arguments.length&&p.shallowCopyFromList(n,t,i),h(n,e)(t)},a.renderFile=function(){var e,t,n,r=Array.prototype.slice.call(arguments),i=r.shift(),o={filename:i},s=("function"==typeof arguments[arguments.length-1]&&(e=r.pop()),r.length?(t=r.shift(),r.length?p.shallowCopy(o,r.pop()):(t.settings&&(t.settings.views&&(o.views=t.settings.views),t.settings["view cache"]&&(o.cache=!0),r=t.settings["view options"])&&p.shallowCopy(o,r),p.shallowCopyFromList(o,t,l)),o.filename=i):t=p.createNullProtoObjWherePossible(),o),c=t,r=e;if(!r){if("function"==typeof a.promiseImpl)return new a.promiseImpl(function(e,t){try{e(n=h(s)(c))}catch(e){t(e)}});throw new Error("Please provide a callback function")}try{n=h(s)(c)}catch(e){return r(e)}r(null,n)},a.Template=w,a.clearCache=function(){a.cache.reset()},w.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},w.prototype={createRegex:function(){var e="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",t=p.escapeRegExpChars(this.opts.delimiter),n=p.escapeRegExpChars(this.opts.openDelimiter),r=p.escapeRegExpChars(this.opts.closeDelimiter),e=e.replace(/%/g,t).replace(/</g,n).replace(/>/g,r);return new RegExp(e)},compile:function(){var e,i=this.opts,t="",n="",o=i.escapeFunction,r=i.filename?JSON.stringify(i.filename):"undefined";if(!this.source){if(this.generateSource(),t+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',i.outputFunctionName){if(!f.test(i.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");t+="  var "+i.outputFunctionName+" = __append;\n"}if(i.localsName&&!f.test(i.localsName))throw new Error("localsName is not a valid JS identifier.");if(i.destructuredLocals&&i.destructuredLocals.length){for(var s="  var __locals = ("+i.localsName+" || {}),\n",c=0;c<i.destructuredLocals.length;c++){var a=i.destructuredLocals[c];if(!f.test(a))throw new Error("destructuredLocals["+c+"] is not a valid JS identifier.");0<c&&(s+=",\n  "),s+=a+" = __locals."+a}t+=s+";\n"}!1!==i._with&&(t+="  with ("+i.localsName+" || {}) {\n",n+="  }\n"),this.source=t+this.source+(n+="  return __output;\n")}t=i.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+r+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,i.client&&(t="escapeFn = escapeFn || "+o.toString()+";\n"+t,i.compileDebug)&&(t="rethrow = rethrow || "+g.toString()+";\n"+t),i.strict&&(t='"use strict";\n'+t),i.debug&&console.log(t),i.compileDebug&&i.filename&&(t=t+"\n//# sourceURL="+r+"\n");try{if(i.async)try{l=new Function("return (async function(){}).constructor;")()}catch(e){throw e instanceof SyntaxError?new Error("This environment does not support async/await"):e}else l=Function;e=new l(i.localsName+", escapeFn, include, rethrow",t)}catch(e){throw e instanceof SyntaxError&&(i.filename&&(e.message+=" in "+i.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint",i.async||(e.message+="\n",e.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),e}n=i.client?e:function(r){return e.apply(i.context,[r||p.createNullProtoObjWherePossible(),o,function(e,t){var n=p.shallowCopy(p.createNullProtoObjWherePossible(),r);return t&&(n=p.shallowCopy(n,t)),d(e,i)(n)},g])};if(i.filename&&"function"==typeof Object.defineProperty){var r=i.filename,l=u.basename(r,u.extname(r));try{Object.defineProperty(n,"name",{value:l,writable:!1,enumerable:!1,configurable:!0})}catch(e){}}return n},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,r=this.parseTemplateText(),i=this.opts.delimiter,o=this.opts.openDelimiter,s=this.opts.closeDelimiter;r&&r.length&&r.forEach(function(e,t){if(0===e.indexOf(o+i)&&0!==e.indexOf(o+i+i)&&(t=r[t+2])!=i+s&&t!="-"+i+s&&t!="_"+i+s)throw new Error('Could not find matching close tag for "'+e+'".');n.scanLine(e)})},parseTemplateText:function(){for(var e,t=this.templateText,n=this.regex,r=n.exec(t),i=[];r;)0!==(e=r.index)&&(i.push(t.substring(0,e)),t=t.slice(e)),i.push(r[0]),t=t.slice(r[0].length),r=n.exec(t);return t&&i.push(t),i},_addOutput:function(e){if(this.truncate&&(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var t=this.opts.delimiter,n=this.opts.openDelimiter,r=this.opts.closeDelimiter,i=e.split("\n").length-1;switch(e){case n+t:case n+t+"_":this.mode=w.modes.EVAL;break;case n+t+"=":this.mode=w.modes.ESCAPED;break;case n+t+"-":this.mode=w.modes.RAW;break;case n+t+"#":this.mode=w.modes.COMMENT;break;case n+t+t:this.mode=w.modes.LITERAL,this.source+='    ; __append("'+e.replace(n+t+t,n+t)+'")\n';break;case t+t+r:this.mode=w.modes.LITERAL,this.source+='    ; __append("'+e.replace(t+t+r,t+r)+'")\n';break;case t+r:case"-"+t+r:case"_"+t+r:this.mode==w.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case w.modes.EVAL:case w.modes.ESCAPED:case w.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case w.modes.EVAL:this.source+="    ; "+e+"\n";break;case w.modes.ESCAPED:this.source+="    ; __append(escapeFn("+y(e)+"))\n";break;case w.modes.RAW:this.source+="    ; __append("+y(e)+")\n";break;case w.modes.COMMENT:break;case w.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&i&&(this.currentLine+=i,this.source+="    ; __line = "+this.currentLine+"\n")}},a.escapeXML=p.escapeXML,a.__express=a.renderFile,a.VERSION=e,a.name="ejs","undefined"!=typeof window&&(window.ejs=a)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(e,t,n){function o(e,t){return i.apply(e,[t])}var r=/[|\\{}()[\]^$+*?.]/g,i=Object.prototype.hasOwnProperty,s=(n.escapeRegExpChars=function(e){return e?String(e).replace(r,"\\$&"):""},{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"}),c=/[&<>'"]/g;function a(e){return s[e]||e}function l(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}n.escapeXML=function(e){return null==e?"":String(e).replace(c,a)};try{"function"==typeof Object.defineProperty?Object.defineProperty(n.escapeXML,"toString",{value:l}):n.escapeXML.toString=l}catch(e){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}n.shallowCopy=function(e,t){if(t=t||{},null!=e)for(var n in t)o(t,n)&&"__proto__"!==n&&"constructor"!==n&&(e[n]=t[n]);return e},n.shallowCopyFromList=function(e,t,n){if(n=n||[],t=t||{},null!=e)for(var r=0;r<n.length;r++){var i=n[r];void 0!==t[i]&&o(t,i)&&"__proto__"!==i&&"constructor"!==i&&(e[i]=t[i])}return e},n.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},remove:function(e){delete this._data[e]},reset:function(){this._data={}}},n.hyphenToCamel=function(e){return e.replace(/-[a-z]/g,function(e){return e[1].toUpperCase()})},n.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}}},{}],3:[function(e,t,n){},{}],4:[function(e,t,l){!function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===r(e,-1);return(e=(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,c=0;c<o;c++)if(r[c]!==i[c]){s=c;break}for(var a=[],c=s;c<r.length;c++)a.push("..");return(a=a.concat(i.slice(s))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!r){n=i;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"/":e.slice(0,n)},l.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,n=-1,r=!0,i=e.length-1;0<=i;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;0<=s;--s){var c=e.charCodeAt(s);if(47===c){if(i)continue;n=s+1;break}-1===r&&(i=!1,r=s+1),46===c?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}.call(this,e("_process"))},{_process:5}],5:[function(e,t,n){var r,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var a,l=[],u=!1,p=-1;function f(){u&&a&&(u=!1,a.length?l=a.concat(l):p=-1,l.length)&&h()}function h(){if(!u){for(var e=c(f),t=(u=!0,l.length);t;){for(a=l,l=[];++p<t;)a&&a[p].run();p=-1,t=l.length}a=null,u=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function d(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||u||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],6:[function(e,t,n){t.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.8",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha -u tdd"}}},{}]},{},[1])(1)}),CoreUI.tabs.ejs=ejs}();
//# sourceMappingURL=coreui-tabs.min.js.map
;
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.CoreUI=e.CoreUI||{},e.CoreUI.alert=t())}(this,function(){"use strict";const q="SweetAlert2:",H=e=>e.charAt(0).toUpperCase()+e.slice(1),o=e=>Array.prototype.slice.call(e),r=e=>{console.warn("".concat(q," ").concat("object"==typeof e?e.join(" "):e))},l=e=>{console.error("".concat(q," ").concat(e))},V=[],R=(e,t)=>{e='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),V.includes(e)||(V.push(e),r(e))},N=e=>"function"==typeof e?e():e,U=e=>e&&"function"==typeof e.toPromise,u=e=>U(e)?e.toPromise():Promise.resolve(e),_=e=>e&&Promise.resolve(e)===e,i={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},F=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],z={},W=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],K=e=>Object.prototype.hasOwnProperty.call(i,e),Y=e=>-1!==F.indexOf(e),Z=e=>z[e],J=e=>{!e.backdrop&&e.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const n in e)t=n,K(t)||r('Unknown parameter "'.concat(t,'"')),e.toast&&(t=n,W.includes(t))&&r('The parameter "'.concat(t,'" is incompatible with toasts')),t=n,Z(t)&&R(t,Z(t));var t};var e=e=>{var t={};for(const n in e)t[e[n]]="swal2-"+e[n];return t};const p=e(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),a=e(["success","warning","info","question","error"]),m=()=>document.body.querySelector(".".concat(p.container)),t=e=>{var t=m();return t?t.querySelector(e):null},n=e=>t(".".concat(e)),h=()=>n(p.popup),s=()=>n(p.icon),X=()=>n(p.title),$=()=>n(p["html-container"]),G=()=>n(p.image),Q=()=>n(p["progress-steps"]),ee=()=>n(p["validation-message"]),g=()=>t(".".concat(p.actions," .").concat(p.confirm)),d=()=>t(".".concat(p.actions," .").concat(p.deny));const f=()=>t(".".concat(p.loader)),b=()=>t(".".concat(p.actions," .").concat(p.cancel)),te=()=>n(p.actions),ne=()=>n(p.footer),oe=()=>n(p["timer-progress-bar"]),ie=()=>n(p.close),re=()=>{var e=o(h().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((e,t)=>{e=parseInt(e.getAttribute("tabindex")),t=parseInt(t.getAttribute("tabindex"));return t<e?1:e<t?-1:0}),t=o(h().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(e=>"-1"!==e.getAttribute("tabindex"));return(t=>{var n=[];for(let e=0;e<t.length;e++)-1===n.indexOf(t[e])&&n.push(t[e]);return n})(e.concat(t)).filter(e=>x(e))},ae=()=>v(document.body,p.shown)&&!v(document.body,p["toast-shown"])&&!v(document.body,p["no-backdrop"]),se=()=>h()&&v(h(),p.toast);const c={previousBodyPadding:null},y=(t,e)=>{t.textContent="",e&&(e=(new DOMParser).parseFromString(e,"text/html"),o(e.querySelector("head").childNodes).forEach(e=>{t.appendChild(e)}),o(e.querySelector("body").childNodes).forEach(e=>{t.appendChild(e)}))},v=(t,e)=>{if(!e)return!1;var n=e.split(/\s+/);for(let e=0;e<n.length;e++)if(!t.classList.contains(n[e]))return!1;return!0},ce=(t,n)=>{o(t.classList).forEach(e=>{Object.values(p).includes(e)||Object.values(a).includes(e)||Object.values(n.showClass).includes(e)||t.classList.remove(e)})},w=(e,t,n)=>{if(ce(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return r("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));C(e,t.customClass[n])}},le=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(p.popup," > .").concat(p[t]));case"checkbox":return e.querySelector(".".concat(p.popup," > .").concat(p.checkbox," input"));case"radio":return e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:checked"))||e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:first-child"));case"range":return e.querySelector(".".concat(p.popup," > .").concat(p.range," input"));default:return e.querySelector(".".concat(p.popup," > .").concat(p.input))}},ue=e=>{var t;e.focus(),"file"!==e.type&&(t=e.value,e.value="",e.value=t)},de=(e,t,n)=>{e&&t&&(t="string"==typeof t?t.split(/\s+/).filter(Boolean):t).forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)})},C=(e,t)=>{de(e,t,!0)},A=(e,t)=>{de(e,t,!1)},k=(e,t)=>{var n=o(e.childNodes);for(let e=0;e<n.length;e++)if(v(n[e],t))return n[e]},pe=(e,t,n)=>{(n=n==="".concat(parseInt(n))?parseInt(n):n)||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},P=(e,t="flex")=>{e.style.display=t},B=e=>{e.style.display="none"},me=(e,t,n,o)=>{e=e.querySelector(t);e&&(e.style[n]=o)},he=(e,t,n)=>{t?P(e,n):B(e)},x=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ge=()=>!x(g())&&!x(d())&&!x(b()),fe=e=>!!(e.scrollHeight>e.clientHeight),be=e=>{var e=window.getComputedStyle(e),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),e=parseFloat(e.getPropertyValue("transition-duration")||"0");return 0<t||0<e},ye=(e,t=!1)=>{const n=oe();x(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},ve=()=>"undefined"==typeof window||"undefined"==typeof document,we=100,E={},Ce=()=>{E.previousActiveElement&&E.previousActiveElement.focus?(E.previousActiveElement.focus(),E.previousActiveElement=null):document.body&&document.body.focus()},Ae=o=>new Promise(e=>{if(!o)return e();var t=window.scrollX,n=window.scrollY;E.restoreFocusTimeout=setTimeout(()=>{Ce(),e()},we),window.scrollTo(t,n)}),ke='\n <div aria-labelledby="'.concat(p.title,'" aria-describedby="').concat(p["html-container"],'" class="').concat(p.popup,'" tabindex="-1">\n   <button type="button" class="').concat(p.close,'"></button>\n   <ul class="').concat(p["progress-steps"],'"></ul>\n   <div class="').concat(p.icon,'"></div>\n   <img class="').concat(p.image,'" />\n   <h2 class="').concat(p.title,'" id="').concat(p.title,'"></h2>\n   <div class="').concat(p["html-container"],'" id="').concat(p["html-container"],'"></div>\n   <input class="').concat(p.input,'" />\n   <input type="file" class="').concat(p.file,'" />\n   <div class="').concat(p.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(p.select,'"></select>\n   <div class="').concat(p.radio,'"></div>\n   <label for="').concat(p.checkbox,'" class="').concat(p.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(p.label,'"></span>\n   </label>\n   <textarea class="').concat(p.textarea,'"></textarea>\n   <div class="').concat(p["validation-message"],'" id="').concat(p["validation-message"],'"></div>\n   <div class="').concat(p.actions,'">\n     <div class="').concat(p.loader,'"></div>\n     <button type="button" class="').concat(p.confirm,'"></button>\n     <button type="button" class="').concat(p.deny,'"></button>\n     <button type="button" class="').concat(p.cancel,'"></button>\n   </div>\n   <div class="').concat(p.footer,'"></div>\n   <div class="').concat(p["timer-progress-bar-container"],'">\n     <div class="').concat(p["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Pe=()=>{var e=m();return!!e&&(e.remove(),A([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0)},T=()=>{E.currentInstance.resetValidationMessage()},Be=()=>{var e=h(),t=k(e,p.input),n=k(e,p.file);const o=e.querySelector(".".concat(p.range," input")),i=e.querySelector(".".concat(p.range," output"));var r=k(e,p.select),a=e.querySelector(".".concat(p.checkbox," input")),e=k(e,p.textarea);t.oninput=T,n.onchange=T,r.onchange=T,a.onchange=T,e.oninput=T,o.oninput=()=>{T(),i.value=o.value},o.onchange=()=>{T(),o.nextSibling.value=o.value}},xe=e=>"string"==typeof e?document.querySelector(e):e,Ee=e=>{var t=h();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Te=e=>{"rtl"===window.getComputedStyle(e).direction&&C(m(),p.rtl)},Oe=(e,t)=>{if(e instanceof HTMLElement)t.appendChild(e);else if("object"==typeof e){var n=e,o=t;if(n.jquery)Se(o,n);else y(o,n.toString())}else e&&y(t,e)},Se=(t,n)=>{if(t.textContent="",0 in n)for(let e=0;e in n;e++)t.appendChild(n[e].cloneNode(!0));else t.appendChild(n.cloneNode(!0))},Le=(()=>{if(!ve()){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n]}return!1})(),je=(e,t)=>{var n,o,i,r,a,s=te(),c=f();(t.showConfirmButton||t.showDenyButton||t.showCancelButton?P:B)(s),w(s,t,"actions"),s=s,n=c,o=t,i=g(),r=d(),a=b(),Ie(i,"confirm",o),Ie(r,"deny",o),Ie(a,"cancel",o),function(e,t,n,o){if(!o.buttonsStyling)return A([e,t,n],p.styled);C([e,t,n],p.styled),o.confirmButtonColor&&(e.style.backgroundColor=o.confirmButtonColor,C(e,p["default-outline"]));o.denyButtonColor&&(t.style.backgroundColor=o.denyButtonColor,C(t,p["default-outline"]));o.cancelButtonColor&&(n.style.backgroundColor=o.cancelButtonColor,C(n,p["default-outline"]))}(i,r,a,o),o.reverseButtons&&(o.toast?(s.insertBefore(a,i),s.insertBefore(r,i)):(s.insertBefore(a,n),s.insertBefore(r,n),s.insertBefore(i,n))),y(c,t.loaderHtml),w(c,t,"loader")};function Ie(e,t,n){he(e,n["show".concat(H(t),"Button")],"inline-block"),y(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=p[t],w(e,n,"".concat(t,"Button")),C(e,n["".concat(t,"ButtonClass")])}const Me=(e,t)=>{var n,o,i=m();i&&(o=i,"string"==typeof(n=t.backdrop)?o.style.background=n:n||C([document.documentElement,document.body],p["no-backdrop"]),o=i,(n=t.position)in p?C(o,p[n]):(r('The "position" parameter is not valid, defaulting to "center"'),C(o,p.center)),n=i,(o=t.grow)&&"string"==typeof o&&(o="grow-".concat(o))in p&&C(n,p[o]),w(i,t,"container"))};var O={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const De=["input","file","range","select","radio","checkbox","textarea"],qe=(e,a)=>{const s=h();var t,e=O.innerParams.get(e);const c=!e||a.input!==e.input;De.forEach(e=>{var t=p[e],n=k(s,t);{var o=a.inputAttributes,i=le(h(),e);if(i){He(i);for(const r in o)i.setAttribute(r,o[r])}}n.className=t,c&&B(n)}),a.input&&(c&&(e=>{if(!S[e.input])return l('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=Ne(e.input),n=S[e.input](t,e);P(n),setTimeout(()=>{ue(n)})})(a),e=a,t=Ne(e.input),e.customClass)&&C(t,e.customClass.input)},He=t=>{for(let e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}},Ve=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Re=(e,t,n)=>{var o,i;n.inputLabel&&(e.id=p.input,o=document.createElement("label"),i=p["input-label"],o.setAttribute("for",e.id),o.className=i,C(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o))},Ne=e=>{e=p[e]||p.input;return k(h(),e)},S={},Ue=(S.text=S.email=S.password=S.number=S.tel=S.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:_(t.inputValue)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),Re(e,e,t),Ve(e,t),e.type=t.input,e),S.file=(e,t)=>(Re(e,e,t),Ve(e,t),e),S.range=(e,t)=>{var n=e.querySelector("input"),o=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,o.value=t.inputValue,Re(n,e,t),e},S.select=(e,t)=>{var n;return e.textContent="",t.inputPlaceholder&&(n=document.createElement("option"),y(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)),Re(e,e,t),e},S.radio=e=>(e.textContent="",e),S.checkbox=(e,t)=>{var n=le(h(),"checkbox"),n=(n.value="1",n.id=p.checkbox,n.checked=Boolean(t.inputValue),e.querySelector("span"));return y(n,t.inputPlaceholder),e},S.textarea=(n,e)=>{n.value=e.inputValue,Ve(n,e),Re(n,n,e);return setTimeout(()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(h()).width);new MutationObserver(()=>{var e=n.offsetWidth+(e=n,parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight));e>t?h().style.width="".concat(e,"px"):h().style.width=null}).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n},(e,t)=>{var n=$();w(n,t,"htmlContainer"),t.html?(Oe(t.html,n),P(n,"block")):t.text?(n.textContent=t.text,P(n,"block")):B(n),qe(e,t)}),_e=(e,t)=>{var n=ne();he(n,t.footer),t.footer&&Oe(t.footer,n),w(n,t,"footer")},Fe=(e,t)=>{var n=ie();y(n,t.closeButtonHtml),w(n,t,"closeButton"),he(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},ze=(e,t)=>{var e=O.innerParams.get(e),n=s();if(!e||t.icon!==e.icon)return t.icon||t.iconHtml?t.icon&&-1===Object.keys(a).indexOf(t.icon)?(l('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),B(n)):(P(n),Je(n,t),We(n,t),void C(n,t.showClass.icon)):B(n);Je(n,t),We(n,t)},We=(e,t)=>{for(const n in a)t.icon!==n&&A(e,a[n]);C(e,a[t.icon]),Xe(e,t),Ke(),w(e,t,"icon")},Ke=()=>{var e=h(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},Ye='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',Ze='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',Je=(e,t)=>{var n;e.textContent="",t.iconHtml?y(e,$e(t.iconHtml)):"success"===t.icon?y(e,Ye):"error"===t.icon?y(e,Ze):(n={question:"?",warning:"!",info:"i"},y(e,$e(n[t.icon])))},Xe=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])me(e,n,"backgroundColor",t.iconColor);me(e,".swal2-success-ring","borderColor",t.iconColor)}},$e=e=>'<div class="'.concat(p["icon-content"],'">').concat(e,"</div>"),Ge=(e,t)=>{var n=G();if(!t.imageUrl)return B(n);P(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),pe(n,"width",t.imageWidth),pe(n,"height",t.imageHeight),n.className=p.image,w(n,t,"image")},Qe=(e,o)=>{const i=Q();if(!o.progressSteps||0===o.progressSteps.length)return B(i);P(i),i.textContent="",o.currentProgressStep>=o.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.progressSteps.forEach((e,t)=>{e=e,n=document.createElement("li"),C(n,p["progress-step"]),y(n,e);var n,e=n;i.appendChild(e),t===o.currentProgressStep&&C(e,p["active-progress-step"]),t!==o.progressSteps.length-1&&(n=o,e=document.createElement("li"),C(e,p["progress-step-line"]),n.progressStepsDistance&&(e.style.width=n.progressStepsDistance),t=e,i.appendChild(t))})},et=(e,t)=>{var n=X();he(n,t.title||t.titleText,"block"),t.title&&Oe(t.title,n),t.titleText&&(n.innerText=t.titleText),w(n,t,"title")},tt=(e,t)=>{var n=m(),o=h(),n=(t.toast?(pe(n,"width",t.width),o.style.width="100%",o.insertBefore(f(),s())):pe(o,"width",t.width),pe(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),B(ee()),o),o=t;(n.className="".concat(p.popup," ").concat(x(n)?o.showClass.popup:""),o.toast)?(C([document.documentElement,document.body],p["toast-shown"]),C(n,p.toast)):C(n,p.modal);w(n,o,"popup"),"string"==typeof o.customClass&&C(n,o.customClass);o.icon&&C(n,p["icon-".concat(o.icon)])},nt=(e,t)=>{tt(e,t),Me(e,t),Qe(e,t),ze(e,t),Ge(e,t),et(e,t),Fe(e,t),Ue(e,t),je(e,t),_e(e,t),"function"==typeof t.didRender&&t.didRender(h())},L=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ot=()=>{o(document.body.children).forEach(e=>{e===m()||e.contains(m())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})},it=()=>{o(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},rt=["swal-title","swal-html","swal-footer"],at=e=>{const n={};return o(e.querySelectorAll("swal-param")).forEach(e=>{j(e,["name","value"]);var t=e.getAttribute("name"),e=e.getAttribute("value");"boolean"==typeof i[t]&&"false"===e&&(n[t]=!1),"object"==typeof i[t]&&(n[t]=JSON.parse(e))}),n},st=e=>{const n={};return o(e.querySelectorAll("swal-button")).forEach(e=>{j(e,["type","color","aria-label"]);var t=e.getAttribute("type");n["".concat(t,"ButtonText")]=e.innerHTML,n["show".concat(H(t),"Button")]=!0,e.hasAttribute("color")&&(n["".concat(t,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(n["".concat(t,"ButtonAriaLabel")]=e.getAttribute("aria-label"))}),n},ct=e=>{var t={},e=e.querySelector("swal-image");return e&&(j(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")),e.hasAttribute("alt"))&&(t.imageAlt=e.getAttribute("alt")),t},lt=e=>{var t={},e=e.querySelector("swal-icon");return e&&(j(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},ut=e=>{const n={};var t=e.querySelector("swal-input"),t=(t&&(j(t,["type","label","placeholder","value"]),n.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(n.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(n.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value"))&&(n.inputValue=t.getAttribute("value")),e.querySelectorAll("swal-input-option"));return t.length&&(n.inputOptions={},o(t).forEach(e=>{j(e,["value"]);var t=e.getAttribute("value"),e=e.innerHTML;n.inputOptions[t]=e})),n},dt=(e,t)=>{var n={};for(const r in t){var o=t[r],i=e.querySelector(o);i&&(j(i,[]),n[o.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},pt=e=>{const t=rt.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);o(e.children).forEach(e=>{e=e.tagName.toLowerCase();-1===t.indexOf(e)&&r("Unrecognized element <".concat(e,">"))})},j=(t,n)=>{o(t.attributes).forEach(e=>{-1===n.indexOf(e.name)&&r(['Unrecognized attribute "'.concat(e.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(n.length?"Allowed attributes are: ".concat(n.join(", ")):"To set the value, use HTML within the element.")])})};var mt={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function ht(e){var t,n,o;(t=e).inputValidator||Object.keys(mt).forEach(e=>{t.input===e&&(t.inputValidator=mt[e])}),e.showLoaderOnConfirm&&!e.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),(n=e).target&&("string"!=typeof n.target||document.querySelector(n.target))&&("string"==typeof n.target||n.target.appendChild)||(r('Target parameter is not valid, defaulting to "body"'),n.target="body"),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),n=e,e=Pe(),ve()?l("SweetAlert2 requires document to initialize"):((o=document.createElement("div")).className=p.container,e&&C(o,p["no-transition"]),y(o,ke),(e=xe(n.target)).appendChild(o),Ee(n),Te(e),Be())}class gt{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ft=()=>{var e,t;null===c.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(c.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(c.previousBodyPadding+((e=document.createElement("div")).className=p["scrollbar-measure"],document.body.appendChild(e),t=e.getBoundingClientRect().width-e.clientWidth,document.body.removeChild(e),t),"px"))},bt=()=>{null!==c.previousBodyPadding&&(document.body.style.paddingRight="".concat(c.previousBodyPadding,"px"),c.previousBodyPadding=null)},yt=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!v(document.body,p.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),C(document.body,p.iosfix);{e=m();let t;e.ontouchstart=e=>{t=vt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}}var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);t&&n&&!e.match(/CriOS/i)&&h().scrollHeight>window.innerHeight-44&&(m().style.paddingBottom="".concat(44,"px"))}},vt=e=>{var t,n=e.target,o=m();return!((t=e).touches&&t.touches.length&&"stylus"===t.touches[0].touchType||(t=e).touches&&1<t.touches.length||n!==o&&(fe(o)||"INPUT"===n.tagName||"TEXTAREA"===n.tagName||fe($())&&$().contains(n)))},wt=()=>{var e;v(document.body,p.iosfix)&&(e=parseInt(document.body.style.top,10),A(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=-1*e)},Ct=10,At=e=>{var t=h();e.target===t&&(e=m(),t.removeEventListener(Le,At),e.style.overflowY="auto")},kt=(e,t)=>{Le&&be(t)?(e.style.overflowY="hidden",t.addEventListener(Le,At)):e.style.overflowY="auto"},Pt=(e,t,n)=>{yt(),t&&"hidden"!==n&&ft(),setTimeout(()=>{e.scrollTop=0})},Bt=(e,t,n)=>{C(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),P(t,"grid"),setTimeout(()=>{C(t,n.showClass.popup),t.style.removeProperty("opacity")},Ct),C([document.documentElement,document.body],p.shown),n.heightAuto&&n.backdrop&&!n.toast&&C([document.documentElement,document.body],p["height-auto"])},I=e=>{var t,n,o,i=h(),r=(i||new Cn,i=h(),f());se()?B(s()):(t=i,e=e,n=te(),o=f(),!e&&x(g())&&(e=g()),P(n),e&&(B(e),o.setAttribute("data-button-to-replace",e.className)),o.parentNode.insertBefore(o,e),C([t,n],p.loading)),P(r),i.setAttribute("data-loading",!0),i.setAttribute("aria-busy",!0),i.focus()},xt=(t,n)=>{const o=h(),i=e=>Tt[n.input](o,Ot(e),n);U(n.inputOptions)||_(n.inputOptions)?(I(g()),u(n.inputOptions).then(e=>{t.hideLoading(),i(e)})):"object"==typeof n.inputOptions?i(n.inputOptions):l("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof n.inputOptions))},Et=(t,n)=>{const o=t.getInput();B(o),u(n.inputValue).then(e=>{o.value="number"===n.input?parseFloat(e)||0:"".concat(e),P(o),o.focus(),t.hideLoading()}).catch(e=>{l("Error in inputValue promise: ".concat(e)),o.value="",P(o),o.focus(),t.hideLoading()})},Tt={select:(e,t,i)=>{const o=k(e,p.select),r=(e,t,n)=>{var o=document.createElement("option");o.value=n,y(o,t),o.selected=St(n,i.inputValue),e.appendChild(o)};t.forEach(e=>{var t=e[0],e=e[1];if(Array.isArray(e)){const n=document.createElement("optgroup");n.label=t,n.disabled=!1,o.appendChild(n),e.forEach(e=>r(n,e[1],e[0]))}else r(o,e,t)}),o.focus()},radio:(e,t,i)=>{const r=k(e,p.radio);t.forEach(e=>{var t=e[0],e=e[1],n=document.createElement("input"),o=document.createElement("label"),t=(n.type="radio",n.name=p.radio,n.value=t,St(t,i.inputValue)&&(n.checked=!0),document.createElement("span"));y(t,e),t.className=p.label,o.appendChild(n),o.appendChild(t),r.appendChild(o)});e=r.querySelectorAll("input");e.length&&e[0].focus()}},Ot=n=>{const o=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach((e,t)=>{let n=e;"object"==typeof n&&(n=Ot(n)),o.push([t,n])}):Object.keys(n).forEach(e=>{let t=n[e];"object"==typeof t&&(t=Ot(t)),o.push([e,t])}),o},St=(e,t)=>t&&t.toString()===e.toString();function Lt(){var e,t,n=O.innerParams.get(this);n&&(e=O.domCache.get(this),B(e.loader),se()?n.icon&&P(s()):(t=(n=e).popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"))).length?P(t[0],"inline-block"):ge()&&B(n.actions),A([e.popup,e.actions],p.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1)}var jt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const It=()=>g()&&g().click();const Mt=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Dt=(e,t,n)=>{var o=re();if(o.length)return(t+=n)===o.length?t=0:-1===t&&(t=o.length-1),o[t].focus();h().focus()},qt=["ArrowRight","ArrowDown"],Ht=["ArrowLeft","ArrowUp"],Vt=(e,n,t)=>{var o=O.innerParams.get(e);if(o&&(!n.isComposing&&229!==n.keyCode))if(o.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key)e=e,s=n,i=o,N(i.allowEnterKey)&&s.target&&e.getInput()&&s.target.outerHTML===e.getInput().outerHTML&&(["textarea","file"].includes(i.input)||(It(),s.preventDefault()));else if("Tab"===n.key){e=n;var i=o;var r=e.target,a=re();let t=-1;for(let e=0;e<a.length;e++)if(r===a[e]){t=e;break}e.shiftKey?Dt(i,t,-1):Dt(i,t,1);e.stopPropagation(),e.preventDefault()}else if([...qt,...Ht].includes(n.key)){var s=n.key,e=g(),c=d(),l=b();if([e,c,l].includes(document.activeElement)){var u=qt.includes(s)?"nextElementSibling":"previousElementSibling";let t=document.activeElement;for(let e=0;e<te().children.length;e++){if(!(t=t[u]))return;if(x(t)&&t instanceof HTMLButtonElement)break}t instanceof HTMLButtonElement&&t.focus()}}else if("Escape"===n.key){e=n,c=o,l=t;if(N(c.allowEscapeKey)){e.preventDefault();l(L.esc)}}};function Rt(e,t,n,o){se()?Ft(e,o):(Ae(n).then(()=>Ft(e,o)),Mt(E)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),ae()&&(bt(),wt(),it()),A([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}function Nt(e){e=void 0!==(t=e)?Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t):{isConfirmed:!1,isDenied:!1,isDismissed:!0};var t=jt.swalPromiseResolve.get(this),n=(e=>{const t=h();if(!t)return false;const n=O.innerParams.get(e);if(!n||v(t,n.hideClass.popup))return false;A(t,n.showClass.popup),C(t,n.hideClass.popup);const o=m();return A(o,n.showClass.backdrop),C(o,n.hideClass.backdrop),_t(e,t,n),true})(this);this.isAwaitingPromise()?e.isDismissed||(Ut(this),t(e)):n&&t(e)}const Ut=e=>{e.isAwaitingPromise()&&(O.awaitingPromise.delete(e),O.innerParams.get(e)||e._destroy())},_t=(e,t,n)=>{var o,i,r,a=m(),s=Le&&be(t);"function"==typeof n.willClose&&n.willClose(t),s?(s=e,o=t,t=a,i=n.returnFocus,r=n.didClose,E.swalCloseEventFinishedCallback=Rt.bind(null,s,t,i,r),o.addEventListener(Le,function(e){e.target===o&&(E.swalCloseEventFinishedCallback(),delete E.swalCloseEventFinishedCallback)})):Rt(e,a,n.returnFocus,n.didClose)},Ft=(e,t)=>{setTimeout(()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()})};function zt(e,t,n){const o=O.domCache.get(e);t.forEach(e=>{o[e].disabled=n})}function Wt(e,t){if(!e)return!1;if("radio"===e.type){var n=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<n.length;e++)n[e].disabled=t}else e.disabled=t}const Kt=e=>{e.isAwaitingPromise()?(Yt(O,e),O.awaitingPromise.set(e,!0)):(Yt(jt,e),Yt(O,e))},Yt=(e,t)=>{for(const n in e)e[n].delete(t)};e=Object.freeze({hideLoading:Lt,disableLoading:Lt,getInput:function(e){var t=O.innerParams.get(e||this);return(e=O.domCache.get(e||this))?le(e.popup,t.input):null},close:Nt,isAwaitingPromise:function(){return!!O.awaitingPromise.get(this)},rejectPromise:function(e){var t=jt.swalPromiseReject.get(this);Ut(this),t&&t(e)},handleAwaitingPromise:Ut,closePopup:Nt,closeModal:Nt,closeToast:Nt,enableButtons:function(){zt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){zt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Wt(this.getInput(),!1)},disableInput:function(){return Wt(this.getInput(),!0)},showValidationMessage:function(e){var t=O.domCache.get(this),n=O.innerParams.get(this);y(t.validationMessage,e),t.validationMessage.className=p["validation-message"],n.customClass&&n.customClass.validationMessage&&C(t.validationMessage,n.customClass.validationMessage),P(t.validationMessage),(e=this.getInput())&&(e.setAttribute("aria-invalid",!0),e.setAttribute("aria-describedby",p["validation-message"]),ue(e),C(e,p.inputerror))},resetValidationMessage:function(){var e=O.domCache.get(this);e.validationMessage&&B(e.validationMessage),(e=this.getInput())&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),A(e,p.inputerror))},getProgressSteps:function(){return O.domCache.get(this).progressSteps},update:function(e){var t=h(),n=O.innerParams.get(this);if(!t||v(t,n.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");t=(t=>{const n={};return Object.keys(t).forEach(e=>{if(Y(e))n[e]=t[e];else r('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),n})(e),n=Object.assign({},n,t),nt(this,n),O.innerParams.set(this,n),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){var e=O.domCache.get(this),t=O.innerParams.get(this);t?(e.popup&&E.swalCloseEventFinishedCallback&&(E.swalCloseEventFinishedCallback(),delete E.swalCloseEventFinishedCallback),E.deferDisposalTimer&&(clearTimeout(E.deferDisposalTimer),delete E.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),e=this,Kt(e),delete e.params,delete E.keydownHandler,delete E.keydownTarget,delete E.currentInstance):Kt(this)}});const Zt=(e,t)=>{var n=O.innerParams.get(e);if(!n.input)return l('The "input" parameter is needed to be set when using returnInputValueOn'.concat(H(t)));var o=((e,t)=>{var n,o=e.getInput();if(!o)return null;switch(t.input){case"checkbox":return o.checked?1:0;case"radio":return(n=o).checked?n.value:null;case"file":return(n=o).files.length?null!==n.getAttribute("multiple")?n.files:n.files[0]:null;default:return t.inputAutoTrim?o.value.trim():o.value}})(e,n);if(n.inputValidator){var i=e;var r=o;var a=t;const s=O.innerParams.get(i),c=(i.disableInput(),Promise.resolve().then(()=>u(s.inputValidator(r,s.validationMessage))));c.then(e=>{i.enableButtons(),i.enableInput(),e?i.showValidationMessage(e):("deny"===a?Jt:Gt)(i,r)})}else e.getInput().checkValidity()?("deny"===t?Jt:Gt)(e,o):(e.enableButtons(),e.showValidationMessage(n.validationMessage))},Jt=(t,n)=>{const e=O.innerParams.get(t||window);e.showLoaderOnDeny&&I(d()),e.preDeny?(O.awaitingPromise.set(t||window,!0),Promise.resolve().then(()=>u(e.preDeny(n,e.validationMessage))).then(e=>{!1===e?(t.hideLoading(),Ut(t)):t.closePopup({isDenied:!0,value:void 0===e?n:e})}).catch(e=>$t(t||window,e))):t.closePopup({isDenied:!0,value:n})},Xt=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},$t=(e,t)=>{e.rejectPromise(t)},Gt=(t,n)=>{const e=O.innerParams.get(t||window);e.showLoaderOnConfirm&&I(),e.preConfirm?(t.resetValidationMessage(),O.awaitingPromise.set(t||window,!0),Promise.resolve().then(()=>u(e.preConfirm(n,e.validationMessage))).then(e=>{x(ee())||!1===e?(t.hideLoading(),Ut(t)):Xt(t,void 0===e?n:e)}).catch(e=>$t(t||window,e))):Xt(t,n)},Qt=(n,e,o)=>{e.popup.onclick=()=>{var e,t=O.innerParams.get(n);t&&((e=t).showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||t.timer||t.input)||o(L.close)}};let en=!1;const tn=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(en=!0)}}},nn=t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,e.target!==t.popup&&!t.popup.contains(e.target)||(en=!0)}}},on=(n,o,i)=>{o.container.onclick=e=>{var t=O.innerParams.get(n);en?en=!1:e.target===o.container&&N(t.allowOutsideClick)&&i(L.backdrop)}},rn=e=>"object"==typeof e&&e.jquery,an=e=>e instanceof Element||rn(e);const sn=()=>{if(E.timeout)return e=oe(),t=parseInt(window.getComputedStyle(e).width),e.style.removeProperty("transition"),e.style.width="100%",n=parseInt(window.getComputedStyle(e).width),t=t/n*100,e.style.removeProperty("transition"),e.style.width="".concat(t,"%"),E.timeout.stop();var e,t,n},cn=()=>{var e;if(E.timeout)return e=E.timeout.start(),ye(e),e};let ln=!1;const un={};const dn=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const o in un){var n=e.getAttribute(o);if(n)return void un[o].fire({template:n})}};var pn=Object.freeze({isValidParameter:K,isUpdatableParameter:Y,isDeprecatedParameter:Z,argsToParams:n=>{const o={};return"object"!=typeof n[0]||an(n[0])?["title","html","icon"].forEach((e,t)=>{t=n[t];"string"==typeof t||an(t)?o[e]=t:void 0!==t&&l("Unexpected type of ".concat(e,'! Expected "string" or "Element", got ').concat(typeof t))}):Object.assign(o,n[0]),o},isVisible:()=>x(h()),clickConfirm:It,clickDeny:()=>d()&&d().click(),clickCancel:()=>b()&&b().click(),getContainer:m,getPopup:h,getTitle:X,getHtmlContainer:$,getImage:G,getIcon:s,getInputLabel:()=>n(p["input-label"]),getCloseButton:ie,getActions:te,getConfirmButton:g,getDenyButton:d,getCancelButton:b,getLoader:f,getFooter:ne,getTimerProgressBar:oe,getFocusableElements:re,getValidationMessage:ee,isLoading:()=>h().hasAttribute("data-loading"),fire:function(...e){return new this(...e)},mixin:function(n){class e extends this{_main(e,t){return super._main(e,Object.assign({},n,t))}}return e},showLoading:I,enableLoading:I,getTimerLeft:()=>E.timeout&&E.timeout.getTimerLeft(),stopTimer:sn,resumeTimer:cn,toggleTimer:()=>{var e=E.timeout;return e&&(e.running?sn:cn)()},increaseTimer:e=>{if(E.timeout)return e=E.timeout.increase(e),ye(e,!0),e},isTimerRunning:()=>E.timeout&&E.timeout.isRunning(),bindClickHandler:function(e="data-swal-template"){un[e]=this,ln||(document.body.addEventListener("click",dn),ln=!0)}});let mn;class M{constructor(...e){"undefined"!=typeof window&&(mn=this,e=Object.freeze(this.constructor.argsToParams(e)),Object.defineProperties(this,{params:{value:e,writable:!1,enumerable:!0,configurable:!0}}),e=this._main(this.params),O.promise.set(this,e))}_main(e,t={}){J(Object.assign({},t,e)),E.currentInstance&&(E.currentInstance._destroy(),ae())&&it(),E.currentInstance=this;e=gn(e,t),ht(e),Object.freeze(e),E.timeout&&(E.timeout.stop(),delete E.timeout),clearTimeout(E.restoreFocusTimeout),t=fn(this);return nt(this,e),O.innerParams.set(this,e),hn(this,t,e)}then(e){return O.promise.get(this).then(e)}finally(e){return O.promise.get(this).finally(e)}}const hn=(l,u,d)=>new Promise((e,t)=>{const n=e=>{l.closePopup({isDismissed:!0,dismiss:e})};var o,i,r;jt.swalPromiseResolve.set(l,e),jt.swalPromiseReject.set(l,t),u.confirmButton.onclick=()=>{return e=l,t=O.innerParams.get(e),e.disableButtons(),void(t.input?Zt(e,"confirm"):Gt(e,!0));var e,t},u.denyButton.onclick=()=>{return e=l,t=O.innerParams.get(e),e.disableButtons(),void(t.returnInputValueOnDeny?Zt(e,"deny"):Jt(e,!1));var e,t},u.cancelButton.onclick=()=>{return e=l,t=n,e.disableButtons(),void t(L.cancel);var e,t},u.closeButton.onclick=()=>n(L.close),e=l,t=u,r=n,(O.innerParams.get(e).toast?Qt:(tn(t),nn(t),on))(e,t,r),o=l,e=E,t=d,i=n,Mt(e),t.toast||(e.keydownHandler=e=>Vt(o,e,i),e.keydownTarget=t.keydownListenerCapture?window:h(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0),r=l,"select"===(t=d).input||"radio"===t.input?xt(r,t):["text","email","number","tel","textarea"].includes(t.input)&&(U(t.inputValue)||_(t.inputValue))&&(I(g()),Et(r,t));{var a=d;const s=m(),c=h();"function"==typeof a.willOpen&&a.willOpen(c),e=window.getComputedStyle(document.body).overflowY,Bt(s,c,a),setTimeout(()=>{kt(s,c)},Ct),ae()&&(Pt(s,a.scrollbarPadding,e),ot()),se()||E.previousActiveElement||(E.previousActiveElement=document.activeElement),"function"==typeof a.didOpen&&setTimeout(()=>a.didOpen(c)),A(s,p["no-transition"])}bn(E,d,n),yn(u,d),setTimeout(()=>{u.container.scrollTop=0})}),gn=(e,t)=>{var n=(n="string"==typeof(n=e).template?document.querySelector(n.template):n.template)?(n=n.content,pt(n),Object.assign(at(n),st(n),ct(n),lt(n),ut(n),dt(n,rt))):{},t=Object.assign({},i,t,n,e);return t.showClass=Object.assign({},i.showClass,t.showClass),t.hideClass=Object.assign({},i.hideClass,t.hideClass),t},fn=e=>{var t={popup:h(),container:m(),actions:te(),confirmButton:g(),denyButton:d(),cancelButton:b(),loader:f(),closeButton:ie(),validationMessage:ee(),progressSteps:Q()};return O.domCache.set(e,t),t},bn=(e,t,n)=>{var o=oe();B(o),t.timer&&(e.timeout=new gt(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar)&&(P(o),w(o,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&ye(t.timer)}))},yn=(e,t)=>{if(!t.toast)return N(t.allowEnterKey)?void(vn(e,t)||Dt(t,-1,1)):wn()},vn=(e,t)=>t.focusDeny&&x(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&x(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!x(e.confirmButton)||(e.confirmButton.focus(),0)),wn=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Cn=(Object.assign(M.prototype,e),Object.assign(M,pn),Object.keys(e).forEach(t=>{M[t]=function(...e){if(mn)return mn[t](...e)}}),M.DismissReason=L,M.version="11.4.8",M);Cn.default=Cn;var D=function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e},An=function(e,t){var n=e.split("."),e=n.pop();t=t||window;for(let e=0;e<n.length;e++){if(!t.hasOwnProperty(n[e]))return null;t=t[n[e]]}return"function"==typeof t[e]?t[e]:null};return{default:function(e,t,n){(n=D(n)?n:{}).title=e,n.content=t,this.create(n)},warning:function(e,t,n){(n=D(n)?n:{}).title=e,n.content=t,n.type="warning",this.create(n)},question:function(e,t,n){(n=D(n)?n:{}).title=e,n.content=t,n.type="question",this.create(n)},info:function(e,t,n){(n=D(n)?n:{}).title=e,n.content=t,n.type="info",this.create(n)},success:function(e,t,n){(n=D(n)?n:{}).title=e,n.content=t,n.type="success",this.create(n)},danger:function(e,t,n){(n=D(n)?n:{}).title=e,n.content=t,n.type="danger",this.create(n)},create:function(t){t=D(t)?t:{};var e,n={html:"",reverseButtons:!0,showCloseButton:!0,showConfirmButton:!1,showClass:{popup:"coreui_animate_animated coreui_animate_fadeIn coreui_animate_zoomIn"},hideClass:{popup:"coreui_animate_animated coreui_animate_fadeOut"}};let o=null,i=null,r=null;if("string"==typeof t.type&&("danger"===t.type&&(t.type="error"),n.icon=t.type),t.title){let e=[];t.hasOwnProperty("titleColor")&&"string"==typeof t.titleColor&&e.push("color:".concat(t.titleColor)),e=0<e.length?'style="'+e.join("")+'"':"",n.html+="<h3".concat(e,">").concat(t.title,"</h3>")}t.content&&(n.html+=t.content),t.hasOwnProperty("btnAcceptText")&&"string"==typeof t.btnAcceptText&&(n.showConfirmButton=!0,n.confirmButtonText=t.btnAcceptText),t.hasOwnProperty("btnAcceptColor")&&"string"==typeof t.btnAcceptColor&&(n.confirmButtonColor=t.btnAcceptColor),t.hasOwnProperty("btnAcceptEvent")&&("function"==typeof t.btnAcceptEvent?o=t.btnAcceptEvent:"string"==typeof t.btnAcceptEvent&&"function"==typeof(e=An(t.btnAcceptEvent))&&(o=e)),t.hasOwnProperty("btnRejectText")&&"string"==typeof t.btnRejectText&&(n.showDenyButton=!0,n.denyButtonText=t.btnRejectText),t.hasOwnProperty("btnRejectColor")&&"string"==typeof t.btnRejectColor&&(n.denyButtonColor=t.btnRejectColor),t.hasOwnProperty("btnRejectEvent")&&("function"==typeof t.btnRejectEvent?i=t.btnRejectEvent:"string"==typeof t.btnRejectEvent&&"function"==typeof(e=An(t.btnRejectEvent))&&(i=e)),t.hasOwnProperty("btnCancelText")&&"string"==typeof t.btnCancelText&&(n.showCancelButton=!0,n.cancelButtonText=t.btnCancelText),t.hasOwnProperty("btnCancelColor")&&"string"==typeof t.btnCancelColor&&(n.cancelButtonColor=t.btnCancelColor),t.hasOwnProperty("btnCancelEvent")&&("function"==typeof t.btnCancelEvent?r=t.btnCancelEvent:"string"==typeof t.btnCancelEvent&&"function"==typeof(e=An(t.btnCancelEvent))&&(r=e)),Cn.fire(n).then(function(e){e.isConfirmed?"function"==typeof o&&o():e.isDenied?"function"==typeof i&&i():"function"==typeof r&&r()})}}});
//# sourceMappingURL=coreui-alert.min.js.map
;
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.CoreUI = global.CoreUI || {}, global.CoreUI.modal = factory()));
})(this, (function () { 'use strict';

    (function (f) {
      if (typeof exports === "object" && typeof module !== "undefined") {
        module.exports = f();
      } else if (typeof define === "function" && define.amd) {
        define([], f);
      } else {
        var g;
        if (typeof window !== "undefined") {
          g = window;
        } else if (typeof global !== "undefined") {
          g = global;
        } else if (typeof self !== "undefined") {
          g = self;
        } else {
          g = this;
        }
        g.ejs = f();
      }
    })(function () {
      return function () {
        function r(e, n, t) {
          function o(i, f) {
            if (!n[i]) {
              if (!e[i]) {
                var c = "function" == typeof require && require;
                if (!f && c) return c(i, !0);
                if (u) return u(i, !0);
                var a = new Error("Cannot find module '" + i + "'");
                throw a.code = "MODULE_NOT_FOUND", a;
              }
              var p = n[i] = {
                exports: {}
              };
              e[i][0].call(p.exports, function (r) {
                var n = e[i][1][r];
                return o(n || r);
              }, p, p.exports, r, e, n, t);
            }
            return n[i].exports;
          }
          for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
          return o;
        }
        return r;
      }()({
        1: [function (require, module, exports) {

          var fs = require("fs");
          var path = require("path");
          var utils = require("./utils");
          var scopeOptionWarned = false;
          var _VERSION_STRING = require("../package.json").version;
          var _DEFAULT_OPEN_DELIMITER = "<";
          var _DEFAULT_CLOSE_DELIMITER = ">";
          var _DEFAULT_DELIMITER = "%";
          var _DEFAULT_LOCALS_NAME = "locals";
          var _NAME = "ejs";
          var _REGEX_STRING = "(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";
          var _OPTS_PASSABLE_WITH_DATA = ["delimiter", "scope", "context", "debug", "compileDebug", "client", "_with", "rmWhitespace", "strict", "filename", "async"];
          var _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat("cache");
          var _BOM = /^\uFEFF/;
          var _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;
          exports.cache = utils.cache;
          exports.fileLoader = fs.readFileSync;
          exports.localsName = _DEFAULT_LOCALS_NAME;
          exports.promiseImpl = new Function("return this;")().Promise;
          exports.resolveInclude = function (name, filename, isDir) {
            var dirname = path.dirname;
            var extname = path.extname;
            var resolve = path.resolve;
            var includePath = resolve(isDir ? filename : dirname(filename), name);
            var ext = extname(name);
            if (!ext) {
              includePath += ".ejs";
            }
            return includePath;
          };
          function resolvePaths(name, paths) {
            var filePath;
            if (paths.some(function (v) {
              filePath = exports.resolveInclude(name, v, true);
              return fs.existsSync(filePath);
            })) {
              return filePath;
            }
          }
          function getIncludePath(path, options) {
            var includePath;
            var filePath;
            var views = options.views;
            var match = /^[A-Za-z]+:\\|^\//.exec(path);
            if (match && match.length) {
              path = path.replace(/^\/*/, "");
              if (Array.isArray(options.root)) {
                includePath = resolvePaths(path, options.root);
              } else {
                includePath = exports.resolveInclude(path, options.root || "/", true);
              }
            } else {
              if (options.filename) {
                filePath = exports.resolveInclude(path, options.filename);
                if (fs.existsSync(filePath)) {
                  includePath = filePath;
                }
              }
              if (!includePath && Array.isArray(views)) {
                includePath = resolvePaths(path, views);
              }
              if (!includePath && typeof options.includer !== "function") {
                throw new Error('Could not find the include file "' + options.escapeFunction(path) + '"');
              }
            }
            return includePath;
          }
          function handleCache(options, template) {
            var func;
            var filename = options.filename;
            var hasTemplate = arguments.length > 1;
            if (options.cache) {
              if (!filename) {
                throw new Error("cache option requires a filename");
              }
              func = exports.cache.get(filename);
              if (func) {
                return func;
              }
              if (!hasTemplate) {
                template = fileLoader(filename).toString().replace(_BOM, "");
              }
            } else if (!hasTemplate) {
              if (!filename) {
                throw new Error("Internal EJS error: no file name or template " + "provided");
              }
              template = fileLoader(filename).toString().replace(_BOM, "");
            }
            func = exports.compile(template, options);
            if (options.cache) {
              exports.cache.set(filename, func);
            }
            return func;
          }
          function tryHandleCache(options, data, cb) {
            var result;
            if (!cb) {
              if (typeof exports.promiseImpl == "function") {
                return new exports.promiseImpl(function (resolve, reject) {
                  try {
                    result = handleCache(options)(data);
                    resolve(result);
                  } catch (err) {
                    reject(err);
                  }
                });
              } else {
                throw new Error("Please provide a callback function");
              }
            } else {
              try {
                result = handleCache(options)(data);
              } catch (err) {
                return cb(err);
              }
              cb(null, result);
            }
          }
          function fileLoader(filePath) {
            return exports.fileLoader(filePath);
          }
          function includeFile(path, options) {
            var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);
            opts.filename = getIncludePath(path, opts);
            if (typeof options.includer === "function") {
              var includerResult = options.includer(path, opts.filename);
              if (includerResult) {
                if (includerResult.filename) {
                  opts.filename = includerResult.filename;
                }
                if (includerResult.template) {
                  return handleCache(opts, includerResult.template);
                }
              }
            }
            return handleCache(opts);
          }
          function rethrow(err, str, flnm, lineno, esc) {
            var lines = str.split("\n");
            var start = Math.max(lineno - 3, 0);
            var end = Math.min(lines.length, lineno + 3);
            var filename = esc(flnm);
            var context = lines.slice(start, end).map(function (line, i) {
              var curr = i + start + 1;
              return (curr == lineno ? " >> " : "    ") + curr + "| " + line;
            }).join("\n");
            err.path = filename;
            err.message = (filename || "ejs") + ":" + lineno + "\n" + context + "\n\n" + err.message;
            throw err;
          }
          function stripSemi(str) {
            return str.replace(/;(\s*$)/, "$1");
          }
          exports.compile = function compile(template, opts) {
            var templ;
            if (opts && opts.scope) {
              if (!scopeOptionWarned) {
                console.warn("`scope` option is deprecated and will be removed in EJS 3");
                scopeOptionWarned = true;
              }
              if (!opts.context) {
                opts.context = opts.scope;
              }
              delete opts.scope;
            }
            templ = new Template(template, opts);
            return templ.compile();
          };
          exports.render = function (template, d, o) {
            var data = d || utils.createNullProtoObjWherePossible();
            var opts = o || utils.createNullProtoObjWherePossible();
            if (arguments.length == 2) {
              utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);
            }
            return handleCache(opts, template)(data);
          };
          exports.renderFile = function () {
            var args = Array.prototype.slice.call(arguments);
            var filename = args.shift();
            var cb;
            var opts = {
              filename: filename
            };
            var data;
            var viewOpts;
            if (typeof arguments[arguments.length - 1] == "function") {
              cb = args.pop();
            }
            if (args.length) {
              data = args.shift();
              if (args.length) {
                utils.shallowCopy(opts, args.pop());
              } else {
                if (data.settings) {
                  if (data.settings.views) {
                    opts.views = data.settings.views;
                  }
                  if (data.settings["view cache"]) {
                    opts.cache = true;
                  }
                  viewOpts = data.settings["view options"];
                  if (viewOpts) {
                    utils.shallowCopy(opts, viewOpts);
                  }
                }
                utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);
              }
              opts.filename = filename;
            } else {
              data = utils.createNullProtoObjWherePossible();
            }
            return tryHandleCache(opts, data, cb);
          };
          exports.Template = Template;
          exports.clearCache = function () {
            exports.cache.reset();
          };
          function Template(text, opts) {
            opts = opts || utils.createNullProtoObjWherePossible();
            var options = utils.createNullProtoObjWherePossible();
            this.templateText = text;
            this.mode = null;
            this.truncate = false;
            this.currentLine = 1;
            this.source = "";
            options.client = opts.client || false;
            options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;
            options.compileDebug = opts.compileDebug !== false;
            options.debug = !!opts.debug;
            options.filename = opts.filename;
            options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;
            options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;
            options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;
            options.strict = opts.strict || false;
            options.context = opts.context;
            options.cache = opts.cache || false;
            options.rmWhitespace = opts.rmWhitespace;
            options.root = opts.root;
            options.includer = opts.includer;
            options.outputFunctionName = opts.outputFunctionName;
            options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;
            options.views = opts.views;
            options.async = opts.async;
            options.destructuredLocals = opts.destructuredLocals;
            options.legacyInclude = typeof opts.legacyInclude != "undefined" ? !!opts.legacyInclude : true;
            if (options.strict) {
              options._with = false;
            } else {
              options._with = typeof opts._with != "undefined" ? opts._with : true;
            }
            this.opts = options;
            this.regex = this.createRegex();
          }
          Template.modes = {
            EVAL: "eval",
            ESCAPED: "escaped",
            RAW: "raw",
            COMMENT: "comment",
            LITERAL: "literal"
          };
          Template.prototype = {
            createRegex: function () {
              var str = _REGEX_STRING;
              var delim = utils.escapeRegExpChars(this.opts.delimiter);
              var open = utils.escapeRegExpChars(this.opts.openDelimiter);
              var close = utils.escapeRegExpChars(this.opts.closeDelimiter);
              str = str.replace(/%/g, delim).replace(/</g, open).replace(/>/g, close);
              return new RegExp(str);
            },
            compile: function () {
              var src;
              var fn;
              var opts = this.opts;
              var prepended = "";
              var appended = "";
              var escapeFn = opts.escapeFunction;
              var ctor;
              var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : "undefined";
              if (!this.source) {
                this.generateSource();
                prepended += '  var __output = "";\n' + "  function __append(s) { if (s !== undefined && s !== null) __output += s }\n";
                if (opts.outputFunctionName) {
                  if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {
                    throw new Error("outputFunctionName is not a valid JS identifier.");
                  }
                  prepended += "  var " + opts.outputFunctionName + " = __append;" + "\n";
                }
                if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {
                  throw new Error("localsName is not a valid JS identifier.");
                }
                if (opts.destructuredLocals && opts.destructuredLocals.length) {
                  var destructuring = "  var __locals = (" + opts.localsName + " || {}),\n";
                  for (var i = 0; i < opts.destructuredLocals.length; i++) {
                    var name = opts.destructuredLocals[i];
                    if (!_JS_IDENTIFIER.test(name)) {
                      throw new Error("destructuredLocals[" + i + "] is not a valid JS identifier.");
                    }
                    if (i > 0) {
                      destructuring += ",\n  ";
                    }
                    destructuring += name + " = __locals." + name;
                  }
                  prepended += destructuring + ";\n";
                }
                if (opts._with !== false) {
                  prepended += "  with (" + opts.localsName + " || {}) {" + "\n";
                  appended += "  }" + "\n";
                }
                appended += "  return __output;" + "\n";
                this.source = prepended + this.source + appended;
              }
              if (opts.compileDebug) {
                src = "var __line = 1" + "\n" + "  , __lines = " + JSON.stringify(this.templateText) + "\n" + "  , __filename = " + sanitizedFilename + ";" + "\n" + "try {" + "\n" + this.source + "} catch (e) {" + "\n" + "  rethrow(e, __lines, __filename, __line, escapeFn);" + "\n" + "}" + "\n";
              } else {
                src = this.source;
              }
              if (opts.client) {
                src = "escapeFn = escapeFn || " + escapeFn.toString() + ";" + "\n" + src;
                if (opts.compileDebug) {
                  src = "rethrow = rethrow || " + rethrow.toString() + ";" + "\n" + src;
                }
              }
              if (opts.strict) {
                src = '"use strict";\n' + src;
              }
              if (opts.debug) {
                console.log(src);
              }
              if (opts.compileDebug && opts.filename) {
                src = src + "\n" + "//# sourceURL=" + sanitizedFilename + "\n";
              }
              try {
                if (opts.async) {
                  try {
                    ctor = new Function("return (async function(){}).constructor;")();
                  } catch (e) {
                    if (e instanceof SyntaxError) {
                      throw new Error("This environment does not support async/await");
                    } else {
                      throw e;
                    }
                  }
                } else {
                  ctor = Function;
                }
                fn = new ctor(opts.localsName + ", escapeFn, include, rethrow", src);
              } catch (e) {
                if (e instanceof SyntaxError) {
                  if (opts.filename) {
                    e.message += " in " + opts.filename;
                  }
                  e.message += " while compiling ejs\n\n";
                  e.message += "If the above error is not helpful, you may want to try EJS-Lint:\n";
                  e.message += "https://github.com/RyanZim/EJS-Lint";
                  if (!opts.async) {
                    e.message += "\n";
                    e.message += "Or, if you meant to create an async function, pass `async: true` as an option.";
                  }
                }
                throw e;
              }
              var returnedFn = opts.client ? fn : function anonymous(data) {
                var include = function (path, includeData) {
                  var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);
                  if (includeData) {
                    d = utils.shallowCopy(d, includeData);
                  }
                  return includeFile(path, opts)(d);
                };
                return fn.apply(opts.context, [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);
              };
              if (opts.filename && typeof Object.defineProperty === "function") {
                var filename = opts.filename;
                var basename = path.basename(filename, path.extname(filename));
                try {
                  Object.defineProperty(returnedFn, "name", {
                    value: basename,
                    writable: false,
                    enumerable: false,
                    configurable: true
                  });
                } catch (e) {}
              }
              return returnedFn;
            },
            generateSource: function () {
              var opts = this.opts;
              if (opts.rmWhitespace) {
                this.templateText = this.templateText.replace(/[\r\n]+/g, "\n").replace(/^\s+|\s+$/gm, "");
              }
              this.templateText = this.templateText.replace(/[ \t]*<%_/gm, "<%_").replace(/_%>[ \t]*/gm, "_%>");
              var self = this;
              var matches = this.parseTemplateText();
              var d = this.opts.delimiter;
              var o = this.opts.openDelimiter;
              var c = this.opts.closeDelimiter;
              if (matches && matches.length) {
                matches.forEach(function (line, index) {
                  var closing;
                  if (line.indexOf(o + d) === 0 && line.indexOf(o + d + d) !== 0) {
                    closing = matches[index + 2];
                    if (!(closing == d + c || closing == "-" + d + c || closing == "_" + d + c)) {
                      throw new Error('Could not find matching close tag for "' + line + '".');
                    }
                  }
                  self.scanLine(line);
                });
              }
            },
            parseTemplateText: function () {
              var str = this.templateText;
              var pat = this.regex;
              var result = pat.exec(str);
              var arr = [];
              var firstPos;
              while (result) {
                firstPos = result.index;
                if (firstPos !== 0) {
                  arr.push(str.substring(0, firstPos));
                  str = str.slice(firstPos);
                }
                arr.push(result[0]);
                str = str.slice(result[0].length);
                result = pat.exec(str);
              }
              if (str) {
                arr.push(str);
              }
              return arr;
            },
            _addOutput: function (line) {
              if (this.truncate) {
                line = line.replace(/^(?:\r\n|\r|\n)/, "");
                this.truncate = false;
              }
              if (!line) {
                return line;
              }
              line = line.replace(/\\/g, "\\\\");
              line = line.replace(/\n/g, "\\n");
              line = line.replace(/\r/g, "\\r");
              line = line.replace(/"/g, '\\"');
              this.source += '    ; __append("' + line + '")' + "\n";
            },
            scanLine: function (line) {
              var self = this;
              var d = this.opts.delimiter;
              var o = this.opts.openDelimiter;
              var c = this.opts.closeDelimiter;
              var newLineCount = 0;
              newLineCount = line.split("\n").length - 1;
              switch (line) {
                case o + d:
                case o + d + "_":
                  this.mode = Template.modes.EVAL;
                  break;
                case o + d + "=":
                  this.mode = Template.modes.ESCAPED;
                  break;
                case o + d + "-":
                  this.mode = Template.modes.RAW;
                  break;
                case o + d + "#":
                  this.mode = Template.modes.COMMENT;
                  break;
                case o + d + d:
                  this.mode = Template.modes.LITERAL;
                  this.source += '    ; __append("' + line.replace(o + d + d, o + d) + '")' + "\n";
                  break;
                case d + d + c:
                  this.mode = Template.modes.LITERAL;
                  this.source += '    ; __append("' + line.replace(d + d + c, d + c) + '")' + "\n";
                  break;
                case d + c:
                case "-" + d + c:
                case "_" + d + c:
                  if (this.mode == Template.modes.LITERAL) {
                    this._addOutput(line);
                  }
                  this.mode = null;
                  this.truncate = line.indexOf("-") === 0 || line.indexOf("_") === 0;
                  break;
                default:
                  if (this.mode) {
                    switch (this.mode) {
                      case Template.modes.EVAL:
                      case Template.modes.ESCAPED:
                      case Template.modes.RAW:
                        if (line.lastIndexOf("//") > line.lastIndexOf("\n")) {
                          line += "\n";
                        }
                    }
                    switch (this.mode) {
                      case Template.modes.EVAL:
                        this.source += "    ; " + line + "\n";
                        break;
                      case Template.modes.ESCAPED:
                        this.source += "    ; __append(escapeFn(" + stripSemi(line) + "))" + "\n";
                        break;
                      case Template.modes.RAW:
                        this.source += "    ; __append(" + stripSemi(line) + ")" + "\n";
                        break;
                      case Template.modes.COMMENT:
                        break;
                      case Template.modes.LITERAL:
                        this._addOutput(line);
                        break;
                    }
                  } else {
                    this._addOutput(line);
                  }
              }
              if (self.opts.compileDebug && newLineCount) {
                this.currentLine += newLineCount;
                this.source += "    ; __line = " + this.currentLine + "\n";
              }
            }
          };
          exports.escapeXML = utils.escapeXML;
          exports.__express = exports.renderFile;
          exports.VERSION = _VERSION_STRING;
          exports.name = _NAME;
          if (typeof window != "undefined") {
            window.ejs = exports;
          }
        }, {
          "../package.json": 6,
          "./utils": 2,
          fs: 3,
          path: 4
        }],
        2: [function (require, module, exports) {

          var regExpChars = /[|\\{}()[\]^$+*?.]/g;
          var hasOwnProperty = Object.prototype.hasOwnProperty;
          var hasOwn = function (obj, key) {
            return hasOwnProperty.apply(obj, [key]);
          };
          exports.escapeRegExpChars = function (string) {
            if (!string) {
              return "";
            }
            return String(string).replace(regExpChars, "\\$&");
          };
          var _ENCODE_HTML_RULES = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&#34;",
            "'": "&#39;"
          };
          var _MATCH_HTML = /[&<>'"]/g;
          function encode_char(c) {
            return _ENCODE_HTML_RULES[c] || c;
          }
          var escapeFuncStr = "var _ENCODE_HTML_RULES = {\n" + '      "&": "&amp;"\n' + '    , "<": "&lt;"\n' + '    , ">": "&gt;"\n' + '    , \'"\': "&#34;"\n' + '    , "\'": "&#39;"\n' + "    }\n" + "  , _MATCH_HTML = /[&<>'\"]/g;\n" + "function encode_char(c) {\n" + "  return _ENCODE_HTML_RULES[c] || c;\n" + "};\n";
          exports.escapeXML = function (markup) {
            return markup == undefined ? "" : String(markup).replace(_MATCH_HTML, encode_char);
          };
          function escapeXMLToString() {
            return Function.prototype.toString.call(this) + ";\n" + escapeFuncStr;
          }
          try {
            if (typeof Object.defineProperty === "function") {
              Object.defineProperty(exports.escapeXML, "toString", {
                value: escapeXMLToString
              });
            } else {
              exports.escapeXML.toString = escapeXMLToString;
            }
          } catch (err) {
            console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)");
          }
          exports.shallowCopy = function (to, from) {
            from = from || {};
            if (to !== null && to !== undefined) {
              for (var p in from) {
                if (!hasOwn(from, p)) {
                  continue;
                }
                if (p === "__proto__" || p === "constructor") {
                  continue;
                }
                to[p] = from[p];
              }
            }
            return to;
          };
          exports.shallowCopyFromList = function (to, from, list) {
            list = list || [];
            from = from || {};
            if (to !== null && to !== undefined) {
              for (var i = 0; i < list.length; i++) {
                var p = list[i];
                if (typeof from[p] != "undefined") {
                  if (!hasOwn(from, p)) {
                    continue;
                  }
                  if (p === "__proto__" || p === "constructor") {
                    continue;
                  }
                  to[p] = from[p];
                }
              }
            }
            return to;
          };
          exports.cache = {
            _data: {},
            set: function (key, val) {
              this._data[key] = val;
            },
            get: function (key) {
              return this._data[key];
            },
            remove: function (key) {
              delete this._data[key];
            },
            reset: function () {
              this._data = {};
            }
          };
          exports.hyphenToCamel = function (str) {
            return str.replace(/-[a-z]/g, function (match) {
              return match[1].toUpperCase();
            });
          };
          exports.createNullProtoObjWherePossible = function () {
            if (typeof Object.create == "function") {
              return function () {
                return Object.create(null);
              };
            }
            if (!({
              __proto__: null
            } instanceof Object)) {
              return function () {
                return {
                  __proto__: null
                };
              };
            }
            return function () {
              return {};
            };
          }();
        }, {}],
        3: [function (require, module, exports) {}, {}],
        4: [function (require, module, exports) {
          (function (process) {
            function normalizeArray(parts, allowAboveRoot) {
              var up = 0;
              for (var i = parts.length - 1; i >= 0; i--) {
                var last = parts[i];
                if (last === ".") {
                  parts.splice(i, 1);
                } else if (last === "..") {
                  parts.splice(i, 1);
                  up++;
                } else if (up) {
                  parts.splice(i, 1);
                  up--;
                }
              }
              if (allowAboveRoot) {
                for (; up--; up) {
                  parts.unshift("..");
                }
              }
              return parts;
            }
            exports.resolve = function () {
              var resolvedPath = "",
                resolvedAbsolute = false;
              for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
                var path = i >= 0 ? arguments[i] : process.cwd();
                if (typeof path !== "string") {
                  throw new TypeError("Arguments to path.resolve must be strings");
                } else if (!path) {
                  continue;
                }
                resolvedPath = path + "/" + resolvedPath;
                resolvedAbsolute = path.charAt(0) === "/";
              }
              resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function (p) {
                return !!p;
              }), !resolvedAbsolute).join("/");
              return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
            };
            exports.normalize = function (path) {
              var isAbsolute = exports.isAbsolute(path),
                trailingSlash = substr(path, -1) === "/";
              path = normalizeArray(filter(path.split("/"), function (p) {
                return !!p;
              }), !isAbsolute).join("/");
              if (!path && !isAbsolute) {
                path = ".";
              }
              if (path && trailingSlash) {
                path += "/";
              }
              return (isAbsolute ? "/" : "") + path;
            };
            exports.isAbsolute = function (path) {
              return path.charAt(0) === "/";
            };
            exports.join = function () {
              var paths = Array.prototype.slice.call(arguments, 0);
              return exports.normalize(filter(paths, function (p, index) {
                if (typeof p !== "string") {
                  throw new TypeError("Arguments to path.join must be strings");
                }
                return p;
              }).join("/"));
            };
            exports.relative = function (from, to) {
              from = exports.resolve(from).substr(1);
              to = exports.resolve(to).substr(1);
              function trim(arr) {
                var start = 0;
                for (; start < arr.length; start++) {
                  if (arr[start] !== "") break;
                }
                var end = arr.length - 1;
                for (; end >= 0; end--) {
                  if (arr[end] !== "") break;
                }
                if (start > end) return [];
                return arr.slice(start, end - start + 1);
              }
              var fromParts = trim(from.split("/"));
              var toParts = trim(to.split("/"));
              var length = Math.min(fromParts.length, toParts.length);
              var samePartsLength = length;
              for (var i = 0; i < length; i++) {
                if (fromParts[i] !== toParts[i]) {
                  samePartsLength = i;
                  break;
                }
              }
              var outputParts = [];
              for (var i = samePartsLength; i < fromParts.length; i++) {
                outputParts.push("..");
              }
              outputParts = outputParts.concat(toParts.slice(samePartsLength));
              return outputParts.join("/");
            };
            exports.sep = "/";
            exports.delimiter = ":";
            exports.dirname = function (path) {
              if (typeof path !== "string") path = path + "";
              if (path.length === 0) return ".";
              var code = path.charCodeAt(0);
              var hasRoot = code === 47;
              var end = -1;
              var matchedSlash = true;
              for (var i = path.length - 1; i >= 1; --i) {
                code = path.charCodeAt(i);
                if (code === 47) {
                  if (!matchedSlash) {
                    end = i;
                    break;
                  }
                } else {
                  matchedSlash = false;
                }
              }
              if (end === -1) return hasRoot ? "/" : ".";
              if (hasRoot && end === 1) {
                return "/";
              }
              return path.slice(0, end);
            };
            function basename(path) {
              if (typeof path !== "string") path = path + "";
              var start = 0;
              var end = -1;
              var matchedSlash = true;
              var i;
              for (i = path.length - 1; i >= 0; --i) {
                if (path.charCodeAt(i) === 47) {
                  if (!matchedSlash) {
                    start = i + 1;
                    break;
                  }
                } else if (end === -1) {
                  matchedSlash = false;
                  end = i + 1;
                }
              }
              if (end === -1) return "";
              return path.slice(start, end);
            }
            exports.basename = function (path, ext) {
              var f = basename(path);
              if (ext && f.substr(-1 * ext.length) === ext) {
                f = f.substr(0, f.length - ext.length);
              }
              return f;
            };
            exports.extname = function (path) {
              if (typeof path !== "string") path = path + "";
              var startDot = -1;
              var startPart = 0;
              var end = -1;
              var matchedSlash = true;
              var preDotState = 0;
              for (var i = path.length - 1; i >= 0; --i) {
                var code = path.charCodeAt(i);
                if (code === 47) {
                  if (!matchedSlash) {
                    startPart = i + 1;
                    break;
                  }
                  continue;
                }
                if (end === -1) {
                  matchedSlash = false;
                  end = i + 1;
                }
                if (code === 46) {
                  if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
                } else if (startDot !== -1) {
                  preDotState = -1;
                }
              }
              if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
                return "";
              }
              return path.slice(startDot, end);
            };
            function filter(xs, f) {
              if (xs.filter) return xs.filter(f);
              var res = [];
              for (var i = 0; i < xs.length; i++) {
                if (f(xs[i], i, xs)) res.push(xs[i]);
              }
              return res;
            }
            var substr = "ab".substr(-1) === "b" ? function (str, start, len) {
              return str.substr(start, len);
            } : function (str, start, len) {
              if (start < 0) start = str.length + start;
              return str.substr(start, len);
            };
          }).call(this, require("_process"));
        }, {
          _process: 5
        }],
        5: [function (require, module, exports) {
          var process = module.exports = {};
          var cachedSetTimeout;
          var cachedClearTimeout;
          function defaultSetTimout() {
            throw new Error("setTimeout has not been defined");
          }
          function defaultClearTimeout() {
            throw new Error("clearTimeout has not been defined");
          }
          (function () {
            try {
              if (typeof setTimeout === "function") {
                cachedSetTimeout = setTimeout;
              } else {
                cachedSetTimeout = defaultSetTimout;
              }
            } catch (e) {
              cachedSetTimeout = defaultSetTimout;
            }
            try {
              if (typeof clearTimeout === "function") {
                cachedClearTimeout = clearTimeout;
              } else {
                cachedClearTimeout = defaultClearTimeout;
              }
            } catch (e) {
              cachedClearTimeout = defaultClearTimeout;
            }
          })();
          function runTimeout(fun) {
            if (cachedSetTimeout === setTimeout) {
              return setTimeout(fun, 0);
            }
            if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
              cachedSetTimeout = setTimeout;
              return setTimeout(fun, 0);
            }
            try {
              return cachedSetTimeout(fun, 0);
            } catch (e) {
              try {
                return cachedSetTimeout.call(null, fun, 0);
              } catch (e) {
                return cachedSetTimeout.call(this, fun, 0);
              }
            }
          }
          function runClearTimeout(marker) {
            if (cachedClearTimeout === clearTimeout) {
              return clearTimeout(marker);
            }
            if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
              cachedClearTimeout = clearTimeout;
              return clearTimeout(marker);
            }
            try {
              return cachedClearTimeout(marker);
            } catch (e) {
              try {
                return cachedClearTimeout.call(null, marker);
              } catch (e) {
                return cachedClearTimeout.call(this, marker);
              }
            }
          }
          var queue = [];
          var draining = false;
          var currentQueue;
          var queueIndex = -1;
          function cleanUpNextTick() {
            if (!draining || !currentQueue) {
              return;
            }
            draining = false;
            if (currentQueue.length) {
              queue = currentQueue.concat(queue);
            } else {
              queueIndex = -1;
            }
            if (queue.length) {
              drainQueue();
            }
          }
          function drainQueue() {
            if (draining) {
              return;
            }
            var timeout = runTimeout(cleanUpNextTick);
            draining = true;
            var len = queue.length;
            while (len) {
              currentQueue = queue;
              queue = [];
              while (++queueIndex < len) {
                if (currentQueue) {
                  currentQueue[queueIndex].run();
                }
              }
              queueIndex = -1;
              len = queue.length;
            }
            currentQueue = null;
            draining = false;
            runClearTimeout(timeout);
          }
          process.nextTick = function (fun) {
            var args = new Array(arguments.length - 1);
            if (arguments.length > 1) {
              for (var i = 1; i < arguments.length; i++) {
                args[i - 1] = arguments[i];
              }
            }
            queue.push(new Item(fun, args));
            if (queue.length === 1 && !draining) {
              runTimeout(drainQueue);
            }
          };
          function Item(fun, array) {
            this.fun = fun;
            this.array = array;
          }
          Item.prototype.run = function () {
            this.fun.apply(null, this.array);
          };
          process.title = "browser";
          process.browser = true;
          process.env = {};
          process.argv = [];
          process.version = "";
          process.versions = {};
          function noop() {}
          process.on = noop;
          process.addListener = noop;
          process.once = noop;
          process.off = noop;
          process.removeListener = noop;
          process.removeAllListeners = noop;
          process.emit = noop;
          process.prependListener = noop;
          process.prependOnceListener = noop;
          process.listeners = function (name) {
            return [];
          };
          process.binding = function (name) {
            throw new Error("process.binding is not supported");
          };
          process.cwd = function () {
            return "/";
          };
          process.chdir = function (dir) {
            throw new Error("process.chdir is not supported");
          };
          process.umask = function () {
            return 0;
          };
        }, {}],
        6: [function (require, module, exports) {
          module.exports = {
            name: "ejs",
            description: "Embedded JavaScript templates",
            keywords: ["template", "engine", "ejs"],
            version: "3.1.8",
            author: "Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",
            license: "Apache-2.0",
            bin: {
              ejs: "./bin/cli.js"
            },
            main: "./lib/ejs.js",
            jsdelivr: "ejs.min.js",
            unpkg: "ejs.min.js",
            repository: {
              type: "git",
              url: "git://github.com/mde/ejs.git"
            },
            bugs: "https://github.com/mde/ejs/issues",
            homepage: "https://github.com/mde/ejs",
            dependencies: {
              jake: "^10.8.5"
            },
            devDependencies: {
              browserify: "^16.5.1",
              eslint: "^6.8.0",
              "git-directory-deploy": "^1.5.1",
              jsdoc: "^4.0.2",
              "lru-cache": "^4.0.1",
              mocha: "^10.2.0",
              "uglify-js": "^3.3.16"
            },
            engines: {
              node: ">=0.10.0"
            },
            scripts: {
              test: "mocha -u tdd"
            }
          };
        }, {}]
      }, {}, [1])(1);
    });

    let tpl = Object.create(null);
    tpl['loading.html'] = '<div class="py-4 d-flex justify-content-center align-items-center gap-2"> <div class="spinner-border mr-2"></div> <%= lang.loading %> </div> ';
    tpl['modal.html'] = '<div class="modal fade" id="coreui-modal-<%= id %>"> <div class="modal-dialog <% if (modal.size) { %>modal-<%= modal.size %><% } %>"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"><%- modal.title %></h5> <button type="button" class="btn-close" data-bs-dismiss="modal"></button> </div> <div class="modal-body"> <%- body %> </div> <% if (modal.footer) { %> <div class="modal-footer"> <%- modal.footer %> </div> <% } %> </div> </div> </div>';

    let coreuiModalUtils = {
      /**
       * Проверка на объект
       * @param value
       */
      isObject: function (value) {
        return typeof value === 'object' && !Array.isArray(value) && value !== null;
      },
      /**
       * @returns {string}
       * @private
       */
      hashCode: function () {
        return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);
      },
      /**
       * @param str
       * @returns {number}
       * @private
       */
      crc32: function (str) {
        for (var a, o = [], c = 0; c < 256; c++) {
          a = c;
          for (var f = 0; f < 8; f++) {
            a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
          }
          o[c] = a;
        }
        for (var n = -1, t = 0; t < str.length; t++) {
          n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))];
        }
        return (-1 ^ n) >>> 0;
      }
    };

    let coreuiModalPrivate = {
      /**
       * Выполнение события
       * @param {object} modal
       * @param {string} name
       * @param {object} context
       * @param {Array}  params
       * @private
       */
      trigger: function (modal, name, context, params) {
        params = params || [];
        if (modal._events.hasOwnProperty(name) && modal._events[name].length > 0) {
          for (var i = 0; i < modal._events[name].length; i++) {
            let callback = modal._events[name][i].callback;
            context = modal._events[name][i].context || context;
            callback.apply(context, params);
            if (modal._events[name][i].singleExec) {
              modal._events[name].splice(i, 1);
              i--;
            }
          }
        }
      },
      /**
       * Формирование контента компонента
       * @param {object} modal
       * @param {*}      data
       * @returns {Array}
       * @private
       */
      renderContent: function (modal, data) {
        let result = [];
        if (typeof data === 'string') {
          result.push(data);
        } else if (data instanceof Object) {
          if (!Array.isArray(data)) {
            data = [data];
          }
          for (let i = 0; i < data.length; i++) {
            if (typeof data[i] === 'string') {
              result.push(data[i]);
            } else {
              if (!Array.isArray(data[i]) && data[i].hasOwnProperty('component') && data[i].component.substring(0, 6) === 'coreui') {
                let name = data[i].component.split('.')[1];
                if (CoreUI.hasOwnProperty(name) && coreuiModalUtils.isObject(CoreUI[name])) {
                  let instance = CoreUI[name].create(data[i]);
                  result.push(instance.render());
                  modal.on('modal_shown', instance.initEvents, instance, true);
                } else {
                  result.push(JSON.stringify(data[i]));
                }
              } else {
                result.push(JSON.stringify(data[i]));
              }
            }
          }
        }
        return result;
      }
    };

    let coreuiModalInstance = {
      _options: {
        id: '',
        lang: 'en',
        backdrop: true,
        loadUrl: null,
        size: 'lg',
        title: null,
        body: null,
        footer: null
      },
      _id: '',
      _modal: null,
      _events: {},
      /**
       * Инициализация
       * @param options
       */
      _init: function (options) {
        this._options = $.extend(true, {}, this._options, options);
        this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiModalUtils.hashCode();
      },
      /**
       * Получение идентификатора
       * @returns {string}
       */
      getId: function () {
        return this._id;
      },
      /**
       * Получение параметров
       * @returns {object}
       */
      getOptions: function () {
        return $.extend(true, {}, this._options);
      },
      /**
       * Установка содержимого модала
       * @param {string} content
       */
      setContent: function (content) {
        let container = $('#coreui-modal-' + this.getId() + ' .modal-body');
        if (container[0]) {
          container.html(coreuiModalPrivate.renderContent(this, content));
          coreuiModalPrivate.trigger(this, 'content_change', this, [this]);
        }
      },
      /**
       Установка заголовка модала
       * @param {string} content
       */
      setTitle: function (content) {
        let container = $('#coreui-modal-' + this.getId() + ' .modal-title');
        if (container[0]) {
          container.html(content);
          coreuiModalPrivate.trigger(this, 'title_change', this, [this]);
        }
      },
      /**
       Установка подвала модала
       * @param {string} content
       */
      setFooter: function (content) {
        let container = $('#coreui-modal-' + this.getId());
        if (container[0]) {
          let footer = container.find('.modal-footer');
          if (footer[0]) {
            footer.html(content);
          } else {
            container.find('.modal-content').append('<div class="modal-footer">' + content + '</div>');
          }
          coreuiModalPrivate.trigger(this, 'footer_change', this, [this]);
        }
      },
      /**
       * Загрузка содержимого модала
       * @param {string} url
       */
      loadContent: function (url) {
        let that = this;
        let container = $('#coreui-modal-' + this.getId() + ' .modal-body');
        if (container[0]) {
          let html = ejs.render(tpl['loading.html'], {
            lang: that.getLang()
          });
          container.html(html);
          $.ajax({
            url: url,
            method: 'GET',
            beforeSend: function (xhr) {
              coreuiModalPrivate.trigger(that, 'content_load_before', that, [that, xhr]);
            },
            success: function (result) {
              container.html(coreuiModalPrivate.renderContent(that, result));
              coreuiModalPrivate.trigger(that, 'content_load_success', that, [that, result]);
              coreuiModalPrivate.trigger(that, 'content_change', that, [that]);
            },
            error: function (xhr, textStatus, errorThrown) {
              coreuiModalPrivate.trigger(that, 'content_load_error', that, [that, xhr, textStatus, errorThrown]);
            },
            complete: function (xhr, textStatus) {
              coreuiModalPrivate.trigger(that, 'content_load_complete', that, [that, xhr, textStatus]);
            }
          });
        }
      },
      /**
       * Показ модала
       * @return {HTMLElement}
       */
      show: function () {
        let modalElement = document.getElementById('coreui-modal-' + this.getId());
        if (modalElement) {
          return modalElement;
        }
        let html = ejs.render(tpl['modal.html'], {
          id: this.getId(),
          modal: this._options,
          body: this._options.body ? coreuiModalPrivate.renderContent(this, this._options.body) : ''
        });
        $('body').append(html);
        modalElement = document.getElementById('coreui-modal-' + this.getId());
        this._modal = new bootstrap.Modal(modalElement, {
          backdrop: this._options.backdrop
        });
        let that = this;
        modalElement.addEventListener('show.bs.modal', function (e) {
          coreuiModalPrivate.trigger(that, 'modal_show', that, [that]);
        });
        modalElement.addEventListener('shown.bs.modal', function (e) {
          coreuiModalPrivate.trigger(that, 'modal_shown', that, [that]);
        });
        modalElement.addEventListener('hide.bs.modal', function (e) {
          coreuiModalPrivate.trigger(that, 'modal_hide', that, [that]);
        });
        modalElement.addEventListener('hidden.bs.modal', function (e) {
          modalElement.remove();
          coreuiModalPrivate.trigger(that, 'modal_hidden', that, [that]);
        });
        this._modal.show();
        if (this._options.loadUrl) {
          this.loadContent(this._options.loadUrl);
        }
        return modalElement;
      },
      /**
       * Скрытие модала
       */
      hide: function () {
        if (this._modal) {
          this._modal.hide();
          this._modal = null;
        }
      },
      /**
       * Удаление модала
       */
      destruct: function () {
        $('#coreui-modal-' + this.getId()).remove();
        delete coreuiModal._instances[this.getId()];
      },
      /**
       * Получение настроек языка
       * @private
       */
      getLang: function () {
        return coreuiModal.lang.hasOwnProperty(this._options.lang) ? coreuiModal.lang[this._options.lang] : coreuiModal.lang['en'];
      },
      /**
       * Регистрация функции на событие
       * @param eventName
       * @param callback
       * @param context
       * @param singleExec
       */
      on: function (eventName, callback, context, singleExec) {
        if (typeof this._events[eventName] !== 'object') {
          this._events[eventName] = [];
        }
        this._events[eventName].push({
          context: context || this,
          callback: callback,
          singleExec: !!singleExec
        });
      }
    };

    let coreuiModal = {
      lang: {},
      _instances: {},
      _settings: {
        lang: 'en'
      },
      /**
       * Создание экземпляра
       * @param {object} options
       * @returns {object}
       */
      create: function (options) {
        let instance = $.extend(true, {}, coreuiModalInstance);
        if (!options.hasOwnProperty('lang')) {
          options.lang = this.getSetting('lang');
        }
        instance._init(options instanceof Object ? options : {});
        let layoutId = instance.getId();
        this._instances[layoutId] = instance;
        return instance;
      },
      /**
       * Получение созданного ранее экземпляра
       * @param {string} id
       * @returns {object|null}
       */
      get: function (id) {
        if (!this._instances.hasOwnProperty(id)) {
          return null;
        }
        if (!$('#coreui-modal-' + this._instances[id])[0]) {
          delete this._instances[id];
          return null;
        }
        return this._instances[id];
      },
      /**
       * Создание и показ модала
       * @param title
       * @param body
       * @param options
       * @returns {HTMLElement}
       */
      show: function (title, body, options) {
        options = typeof options === 'object' && !Array.isArray(options) && options !== null ? options : {};
        options = $.extend(true, {}, options, {
          title: title,
          body: body
        });
        let modal = this.create(options);
        if (typeof options.onShow === 'function') {
          modal.on('modal_show', options.onShow);
        }
        if (typeof options.onShown === 'function') {
          modal.on('modal_shown', options.onShown);
        }
        if (typeof options.onHide === 'function') {
          modal.on('modal_hide', options.onHide);
        }
        if (typeof options.onHidden === 'function') {
          modal.on('modal_hidden', options.onHidden);
        }
        return modal.show();
      },
      /**
       * Создание, показ модала и загрузка содержимого по ссылке
       * @param title
       * @param url
       * @param options
       * @returns {HTMLElement}
       */
      showLoad: function (title, url, options) {
        options = typeof options === 'object' && !Array.isArray(options) && options !== null ? options : {};
        options = $.extend(true, {}, options, {
          title: title,
          loadUrl: url
        });
        let modal = this.create(options);
        if (typeof options.onShow === 'function') {
          modal.on('modal_show', options.onShow);
        }
        if (typeof options.onShown === 'function') {
          modal.on('modal_shown', options.onShown);
        }
        if (typeof options.onHide === 'function') {
          modal.on('modal_hide', options.onHide);
        }
        if (typeof options.onHidden === 'function') {
          modal.on('modal_hidden', options.onHidden);
        }
        return modal.show();
      },
      /**
       * Скрытие последнего открытого модала
       * @param {function} callback
       */
      hideLast: function (callback) {
        let instances = this._instances.reverse();
        $.each(instances, function (key, instance) {
          let modalElement = document.getElementById('coreui-modal-' + instance.getId());
          if (modalElement) {
            if (typeof callback === 'function') {
              instance.on('modal_hidden', callback);
            }
            instance.hide();
            return false;
          }
        });
      },
      /**
       * Скрытие всех открытых модалов
       * @param {function} callback
       */
      hideAll: function (callback) {
        if (typeof callback === 'function') {
          $.each(this._instances, function (key, instance) {
            let modalElement = document.getElementById('coreui-modal-' + instance.getId());
            if (modalElement) {
              instance.on('modal_hidden', callback);
              return false;
            }
          });
        }
        let instances = this._instances.reverse();
        $.each(instances, function (key, instance) {
          let modalElement = document.getElementById('coreui-modal-' + instance.getId());
          if (modalElement) {
            instance.hide();
          }
        });
      },
      /**
       * Установка настроек
       * @param {object} settings
       */
      setSettings: function (settings) {
        this._settings = $.extend(this, {}, this._settings, settings);
      },
      /**
       * Получение значения настройки
       * @param {string} name
       */
      getSetting: function (name) {
        let value = null;
        if (this._settings.hasOwnProperty(name)) {
          value = this._settings[name];
        }
        return value;
      }
    };

    coreuiModal.lang.ru = {
      "loading": "Загрузка..."
    };

    coreuiModal.lang.en = {
      "loading": "Loading..."
    };

    return coreuiModal;

}));
;
var CoreUI=void 0!==CoreUI?CoreUI:{};CoreUI.info={_instances:{},create:function(e){var t=$.extend({},this.instance),e=(t._init(e instanceof Object?e:{}),t.getId());return this._instances[e]=t},get:function(e){return this._instances.hasOwnProperty(e)?$("#coreui-info-"+this._instances[e])[0]?(delete this._instances[e],null):this._instances[e]:null},info:function(e,t,n){return(n="object"==typeof n?n:{}).type="info",n.title=t,n.message=e,this.create(n).render()},warning:function(e,t,n){return(n="object"==typeof n?n:{}).type="warning",n.title=t,n.message=e,this.create(n).render()},danger:function(e,t,n){return(n="object"==typeof n?n:{}).type="danger",n.title=t,n.message=e,this.create(n).render()},success:function(e,t,n){return(n="object"==typeof n?n:{}).type="success",n.title=t,n.message=e,this.create(n).render()},_hashCode:function(){return this._crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},_crc32:function(e){for(var t=[],n=0;n<256;n++){for(var r=n,i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;t[n]=r}for(var s=-1,c=0;c<e.length;c++)s=s>>>8^t[255&(s^e.charCodeAt(c))];return(-1^s)>>>0}};;
var CoreUI=void 0!==CoreUI?CoreUI:{};CoreUI.info.instance={_options:{id:"",type:"",title:"",message:"",onClose:null,onClosed:null,isClose:!1},_init:function(o){this._options=$.extend({},this._options,o),this._options.id||(this._options.id=CoreUI.info._hashCode()),this._options.type=o.hasOwnProperty("type")&&"string"==typeof o.type?o.type:"light",this._options.onClosed=o.hasOwnProperty("onClosed")&&"function"==typeof o.onClosed?o.onClosed:null,this._options.onClose=o.hasOwnProperty("onClose")&&"function"==typeof o.onClose?o.onClose:null,this._options.isClose=o.hasOwnProperty("isClose")&&typeof o.isClose},initEvents:function(){var o=document.getElementById("info-"+this._options.id);if(o){let t=this;o.addEventListener("close.bs.alert",o=>{"function"==typeof t._options.onClose&&t._options.onClose(o)}),o.addEventListener("closed.bs.alert",o=>{"function"==typeof t._options.onClosed&&t._options.onClosed(o)})}},render:function(o){var t=this._options.title?"<h4>"+this._options.title+"</h4>":"",s=this._options.message?"<div>"+this._options.message+"</div>":"",i=this._options.isClose?'<button type="button" class="btn-close" data-bs-dismiss="alert"></button>':"",t='<div class="alert alert-'+this._options.type+' alert-dismissible fade show" id="info-'+this._options.id+'">'+t+s+i+"</div>";if(!o)return t;let e={};if("string"==typeof o){if(!(e=document.getElementById(o)))return""}else o instanceof HTMLElement&&(e=o);$(e).append(t),this.initEvents()},close:function(){$("#info-"+this._options.id)[0]&&bootstrap.Alert.getOrCreateInstance("#info-"+this._options.id).close()},getId:function(){return this._options.id}};
//# sourceMappingURL=coreui-info.min.js.map
;
var CoreUI=void 0!==CoreUI?CoreUI:{};CoreUI.notice={_instances:{},_settings:{limit:3,top:50,bottom:50,position:"top-right",container:"body",infoColor:"",infoBgColor:"",warningColor:"#000000",warningBgColor:"#ffc107",dangerColor:"",dangerBgColor:"#dc3545",successColor:"",successBgColor:"#198754"},settings:function(t){CoreUI.notice._settings=$.extend({},this._settings,t)},info:function(t,o){return(o="object"==typeof o?o:{}).message=t,o.messageColor=o.hasOwnProperty("messageColor")?o.messageColor:this._settings.infoColor,o.bgColor=o.hasOwnProperty("bgColor")?o.bgColor:this._settings.infoBgColor,this._create(o)},warning:function(t,o){return(o="object"==typeof o?o:{}).message=t,o.messageColor=o.hasOwnProperty("messageColor")?o.messageColor:this._settings.warningColor,o.bgColor=o.hasOwnProperty("bgColor")?o.bgColor:this._settings.warningBgColor,this._create(o)},danger:function(t,o){return(o="object"==typeof o?o:{}).message=t,o.messageColor=o.hasOwnProperty("messageColor")?o.messageColor:this._settings.dangerColor,o.bgColor=o.hasOwnProperty("bgColor")?o.bgColor:this._settings.dangerBgColor,this._create(o)},success:function(t,o){return(o="object"==typeof o?o:{}).message=t,o.messageColor=o.hasOwnProperty("messageColor")?o.messageColor:this._settings.successColor,o.bgColor=o.hasOwnProperty("bgColor")?o.bgColor:this._settings.successBgColor,this._create(o)},get:function(t){return this._instances.hasOwnProperty(t)?$(".coreui-notice-"+this._instances[t])[0]?(delete this._instances[t],null):this._instances[t]:null},_create:function(t){var o=(t.hasOwnProperty("position")?t:this._settings).position;let e=$(".coreui-notice-container.position-"+o);e[0]||(s=[],0<=["bottom-left","bottom-center","bottom-right"].indexOf(o)?this._settings.bottom&&s.push("bottom: "+this._settings.bottom+"px"):this._settings.top&&s.push("top: "+this._settings.top+"px"),$(this._settings.container).append('<div class="coreui-notice-container position-'+o+'" style="'+s.join(";")+'"></div>'),e=$(".coreui-notice-container.position-"+o)),this._instances.hasOwnProperty(o)&&(s=Object.keys(this._instances[o])).length>=this._settings.limit&&(s=s[0],n=this._instances[o][s],e.find(".coreui-notice-"+s)[0]||delete this._instances[o][s],n.hide());var s=$.extend({},this.instance),n=(s.init(t instanceof Object?t:{}),this._instances.hasOwnProperty(o)||(this._instances[o]={}),s.getId());return this._instances[o][n]=s,0<=["bottom-left","bottom-center","bottom-right"].indexOf(o)?e.prepend(s.render()):e.append(s.render()),s.initEvents(),s},_hashCode:function(){return this._crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},_crc32:function(t){for(var o=[],e=0;e<256;e++){for(var s=e,n=0;n<8;n++)s=1&s?3988292384^s>>>1:s>>>1;o[e]=s}for(var i=-1,r=0;r<t.length;r++)i=i>>>8^o[255&(i^t.charCodeAt(r))];return(-1^i)>>>0}};;
CoreUI.notice.instance={_options:{id:"",timeout:6e3,message:"",messageColor:"",bgColor:"#333",icon:"",actionBtnText:"",cancelBtn:!0,onClose:null,onClosed:null,onAction:null},init:function(o){this._options=$.extend({},this._options,o),this._options.id||(this._options.id=CoreUI.notice._hashCode())},render:function(){var o=this._options.bgColor?'style="background-color: '+this._options.bgColor+'"':"",i=this._options.messageColor?'style="color: '+this._options.messageColor+'"':"",t=this._options.icon?'<div class="coreui-notice-icon"><i class="'+this._options.icon+'" '+i+"></i></div>":"",n=this._options.actionBtnText?'<button type="button" class="coreui-notice-action" '+i+">"+this._options.actionBtnText+"</button>":"",e=this._options.cancelBtn?'<div class="coreui-notice-cancel"><div class="coreui-notice-cancel-icon "></div></div>':"";return'<div class="coreui-notice animated fadeIn" id="coreui-notice-'+this._options.id+'"><div class="coreui-notice-wrapper" '+o+">"+t+'<span class="coreui-notice-message" '+i+">"+this._options.message+"</span>"+n+e+"</div></div>"},initEvents:function(){let o=this;var i=$("#coreui-notice-"+this._options.id);$(".coreui-notice-cancel",i).click(function(){o.hide()}),"function"==typeof this._options.onAction&&i[0]&&$(".coreui-notice-action",i).click(function(){o._options.onAction(o)}),0<this._options.timeout&&window.setTimeout(function(){o.hide()},this._options.timeout)},getId:function(){return this._options.id},setMessage:function(o){var i=$("#coreui-notice-"+this._options.id);i[0]&&$(".coreui-notice-message",i).text(o)},hide:function(){let t=$("#coreui-notice-"+this._options.id);if(t[0]){t.removeClass("fadeIn"),t.addClass("fadeOut"),"function"==typeof this._options.onClose&&this._options.onClose();let i=this;window.setTimeout(function(){var o=t.parent();t.remove(),"function"==typeof i._options.onClosed&&i._options.onClosed(),0===o.children().length&&o.remove()},200)}}};
//# sourceMappingURL=coreui-notice.min.js.map
;
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.CoreUI = global.CoreUI || {}, global.CoreUI.layout = factory()));
})(this, (function () { 'use strict';

  function _typeof(o) {
    "@babel/helpers - typeof";

    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
      return typeof o;
    } : function (o) {
      return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
    }, _typeof(o);
  }

  var CoreuiLayoutUtils = {
    /**
     * Проверка на объект
     * @param value
     */
    isObject: function isObject(value) {
      return _typeof(value) === 'object' && !Array.isArray(value) && value !== null;
    },
    /**
     * @returns {string}
     * @private
     */
    hashCode: function hashCode() {
      return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);
    },
    /**
     * Hash crc32
     * @param str
     * @returns {number}
     * @private
     */
    crc32: function crc32(str) {
      for (var a, o = [], c = 0; c < 256; c++) {
        a = c;
        for (var f = 0; f < 8; f++) {
          a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
        }
        o[c] = a;
      }
      for (var n = -1, t = 0; t < str.length; t++) {
        n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))];
      }
      return (-1 ^ n) >>> 0;
    }
  };

  var CoreuiLayoutPrivate = {
    /**
     * Выполнение события
     * @param {object} layout
     * @param {string} name
     * @param {object|null} context
     * @param {Array} params
     * @private
     */
    trigger: function trigger(layout, name, context, params) {
      params = params || [];
      if (layout._events.hasOwnProperty(name) && layout._events[name].length > 0) {
        for (var i = 0; i < layout._events[name].length; i++) {
          var callback = layout._events[name][i].callback;
          context = layout._events[name][i].context || context;
          callback.apply(context, params);
          if (layout._events[name][i].singleExec) {
            layout._events[name].splice(i, 1);
            i--;
          }
        }
      }
    },
    /**
     * Формирование контента
     * @param {object} layout
     * @param {*}      data
     * @returns {string}
     * @private
     */
    renderContent: function renderContent(layout, data) {
      var result = [];
      if (typeof data === 'string') {
        result.push(data);
      } else if (data instanceof Object) {
        if (!Array.isArray(data)) {
          data = [data];
        }
        for (var i = 0; i < data.length; i++) {
          if (typeof data[i] === 'string') {
            result.push(data[i]);
          } else if (!Array.isArray(data[i]) && data[i].hasOwnProperty('component') && data[i].component.substring(0, 6) === 'coreui') {
            var name = data[i].component.split('.')[1];
            if (CoreUI.hasOwnProperty(name)) {
              var instance = CoreUI[name].create(data[i]);
              result.push(instance.render());
              layout.on('shown.coreui.layout', instance.initEvents, instance, true);
            } else {
              result.push(JSON.stringify(data[i]));
            }
          } else {
            result.push(JSON.stringify(data[i]));
          }
        }
      }
      return result;
    }
  };

  var coreuiLayoutInstance = {
    _options: {
      id: '',
      justify: "start",
      // start, end, center, between, around, evenly
      align: "start",
      // start, end, center, baseline, stretch
      direction: "row",
      // column, column-reverse, row, row-reverse
      wrap: "wrap",
      // wrap, nowrap, reverse
      overflow: null,
      // auto, hidden, visible, scroll
      overflowX: null,
      // auto, hidden, visible, scroll
      overflowY: null,
      // auto, hidden, visible, scroll
      width: null,
      minWidth: null,
      maxWidth: null,
      height: null,
      minHeight: null,
      naxHeight: null,
      gap: null,
      items: [],
      sizes: {}
    },
    _item: {
      id: '',
      align: null,
      // start, end, center, baseline, stretch
      order: null,
      // 0 - 5
      fill: false,
      overflow: null,
      // auto, hidden, visible, scroll
      overflowX: null,
      // auto, hidden, visible, scroll
      overflowY: null,
      // auto, hidden, visible, scroll
      width: null,
      minWidth: null,
      maxWidth: null,
      height: null,
      minHeight: null,
      naxHeight: null,
      sizes: {}
    },
    _id: '',
    _events: {},
    /**
     * Инициализация
     * @param options
     */
    _init: function _init(options) {
      this._options = $.extend(true, {}, this._options, options);
      this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : CoreuiLayoutUtils.hashCode();
      var that = this;
      $.each(this._options.items, function (key, item) {
        if (CoreuiLayoutUtils.isObject(item)) {
          if (!item.hasOwnProperty('id') || typeof item.id !== 'string' || !item.id) {
            that._options.items[key].id = CoreuiLayoutUtils.hashCode();
          }
        }
      });
    },
    /**
     *
     */
    initEvents: function initEvents() {
      CoreuiLayoutPrivate.trigger(this, 'shown.coreui.layout');
    },
    /**
     *
     * @returns {*}
     */
    getId: function getId() {
      return this._id;
    },
    /**
     * @param itemId
     * @param content
     */
    setItemContent: function setItemContent(itemId, content) {
      var container = $('#coreui-layout-' + this.getId() + ' .item-' + itemId);
      if (container[0]) {
        var contents = CoreuiLayoutPrivate.renderContent(this, content);
        container.empty();
        $.each(contents, function (key, content) {
          container.append(content);
        });
        CoreuiLayoutPrivate.trigger(this, 'show-content.coreui.layout', this, [itemId]);
      }
    },
    /**
     *
     * @param element
     * @returns {*}
     */
    render: function render(element) {
      var containerClasses = [];
      var containerStyles = [];
      var containerItems = [];
      switch (this._options.direction) {
        case 'row':
          containerClasses.push('flex-row');
          break;
        case 'row-reverse':
          containerClasses.push('flex-row-reverse');
          break;
        case 'column':
          containerClasses.push('flex-column');
          break;
        case 'column-reverse':
          containerClasses.push('flex-column-reverse');
          break;
      }
      switch (this._options.justify) {
        case 'start':
          containerClasses.push('justify-content-start');
          break;
        case 'end':
          containerClasses.push('justify-content-end');
          break;
        case 'center':
          containerClasses.push('justify-content-center');
          break;
        case 'between':
          containerClasses.push('justify-content-between');
          break;
        case 'around':
          containerClasses.push('justify-content-around');
          break;
        case 'evenly':
          containerClasses.push('justify-content-evenly');
          break;
      }
      switch (this._options.align) {
        case 'start':
          containerClasses.push('align-items-start');
          break;
        case 'end':
          containerClasses.push('align-items-end');
          break;
        case 'center':
          containerClasses.push('align-items-center');
          break;
        case 'baseline':
          containerClasses.push('align-items-baseline');
          break;
        case 'stretch':
          containerClasses.push('align-items-stretch');
          break;
      }
      switch (this._options.wrap) {
        case 'wrap':
          containerClasses.push('flex-wrap');
          break;
        case 'wrap-reverse':
          containerClasses.push('flex-wrap-reverse');
          break;
        case 'nowrap':
          containerClasses.push('flex-nowrap');
          break;
      }
      switch (this._options.overflow) {
        case 'auto':
          containerClasses.push('overflow-auto');
          break;
        case 'hidden':
          containerClasses.push('overflow-hidden');
          break;
        case 'visible':
          containerClasses.push('overflow-visible');
          break;
        case 'scroll':
          containerClasses.push('overflow-scroll');
          break;
      }
      switch (this._options.overflowX) {
        case 'auto':
          containerClasses.push('overflow-x-auto');
          break;
        case 'hidden':
          containerClasses.push('overflow-x-hidden');
          break;
        case 'visible':
          containerClasses.push('overflow-x-visible');
          break;
        case 'scroll':
          containerClasses.push('overflow-x-scroll');
          break;
      }
      switch (this._options.overflowY) {
        case 'auto':
          containerClasses.push('overflow-y-auto');
          break;
        case 'hidden':
          containerClasses.push('overflow-y-hidden');
          break;
        case 'visible':
          containerClasses.push('overflow-y-visible');
          break;
        case 'scroll':
          containerClasses.push('overflow-y-scroll');
          break;
      }
      if (['number', 'string'].indexOf(_typeof(this._options.width)) >= 0) {
        var unit = typeof this._options.width === 'number' ? 'px' : '';
        containerStyles.push('width:' + this._options.width + unit);
      }
      if (['number', 'string'].indexOf(_typeof(this._options.minWidth)) >= 0) {
        var _unit = typeof this._options.minWidth === 'number' ? 'px' : '';
        containerStyles.push('min-width:' + this._options.minWidth + _unit);
      }
      if (['number', 'string'].indexOf(_typeof(this._options.maxWidth)) >= 0) {
        var _unit2 = typeof this._options.maxWidth === 'number' ? 'px' : '';
        containerStyles.push('max-width:' + this._options.maxWidth + _unit2);
      }
      if (['number', 'string'].indexOf(_typeof(this._options.height)) >= 0) {
        var _unit3 = typeof this._options.height === 'number' ? 'px' : '';
        containerStyles.push('height:' + this._options.height + _unit3);
      }
      if (['number', 'string'].indexOf(_typeof(this._options.minHeight)) >= 0) {
        var _unit4 = typeof this._options.minHeight === 'number' ? 'px' : '';
        containerStyles.push('min-height:' + this._options.minHeight + _unit4);
      }
      if (['number', 'string'].indexOf(_typeof(this._options.maxHeight)) >= 0) {
        var _unit5 = typeof this._options.maxHeight === 'number' ? 'px' : '';
        containerStyles.push('max-height:' + this._options.maxHeight + _unit5);
      }
      if (['number', 'string'].indexOf(_typeof(this._options.gap)) >= 0) {
        var _unit6 = typeof this._options.gap === 'number' ? 'px' : '';
        containerStyles.push('gap:' + this._options.gap + _unit6);
      }
      $.each(this._options.sizes, function (name, size) {
        if (['sm', 'md', 'lg', 'xl', 'xxl'].indexOf(name) >= 0) {
          switch (size.direction) {
            case 'row':
              containerClasses.push('flex-' + name + '-row');
              break;
            case 'row-reverse':
              containerClasses.push('flex-' + name + '-row-reverse');
              break;
            case 'column':
              containerClasses.push('flex-' + name + '-column');
              break;
            case 'column-reverse':
              containerClasses.push('flex-' + name + '-column-reverse');
              break;
          }
          switch (size.justify) {
            case 'start':
              containerClasses.push('justify-content-' + name + '-start');
              break;
            case 'end':
              containerClasses.push('justify-content-' + name + '-end');
              break;
            case 'center':
              containerClasses.push('justify-content-' + name + '-center');
              break;
            case 'between':
              containerClasses.push('justify-content-' + name + '-between');
              break;
            case 'around':
              containerClasses.push('justify-content-' + name + '-around');
              break;
            case 'evenly':
              containerClasses.push('justify-content-' + name + '-evenly');
              break;
          }
          switch (size.align) {
            case 'start':
              containerClasses.push('align-items-' + name + '-start');
              break;
            case 'end':
              containerClasses.push('align-items-' + name + '-end');
              break;
            case 'center':
              containerClasses.push('align-items-' + name + '-center');
              break;
            case 'baseline':
              containerClasses.push('align-items-' + name + '-baseline');
              break;
            case 'stretch':
              containerClasses.push('align-items-' + name + '-stretch');
              break;
          }
          switch (size.wrap) {
            case 'wrap':
              containerClasses.push('flex-' + name + '-wrap');
              break;
            case 'wrap-reverse':
              containerClasses.push('flex-' + name + '-wrap-reverse');
              break;
            case 'nowrap':
              containerClasses.push('flex-' + name + '-nowrap');
              break;
          }
        }
      });
      var that = this;
      var issetColumns = false;
      $.each(this._options.items, function (key, item) {
        var itemClasses = ['coreui-layout-item', 'item-' + item.id];
        var itemStyles = [];
        var issetItemColumn = false;
        switch (item.align) {
          case 'start':
            itemClasses.push('align-self-start');
            break;
          case 'end':
            itemClasses.push('align-self-end');
            break;
          case 'center':
            itemClasses.push('align-self-center');
            break;
          case 'baseline':
            itemClasses.push('align-self-baseline');
            break;
          case 'stretch':
            itemClasses.push('align-self-stretch');
            break;
        }
        switch (item.overflow) {
          case 'auto':
            itemClasses.push('overflow-auto');
            break;
          case 'hidden':
            itemClasses.push('overflow-hidden');
            break;
          case 'visible':
            itemClasses.push('overflow-visible');
            break;
          case 'scroll':
            itemClasses.push('overflow-scroll');
            break;
        }
        switch (item.overflowX) {
          case 'auto':
            itemClasses.push('overflow-x-auto');
            break;
          case 'hidden':
            itemClasses.push('overflow-x-hidden');
            break;
          case 'visible':
            itemClasses.push('overflow-x-visible');
            break;
          case 'scroll':
            itemClasses.push('overflow-x-scroll');
            break;
        }
        switch (item.overflowY) {
          case 'auto':
            itemClasses.push('overflow-y-auto');
            break;
          case 'hidden':
            itemClasses.push('overflow-y-hidden');
            break;
          case 'visible':
            itemClasses.push('overflow-y-visible');
            break;
          case 'scroll':
            itemClasses.push('overflow-y-scroll');
            break;
        }
        if (item.fill) {
          itemClasses.push('flex-fill');
        }
        if (typeof item.order === 'number') {
          if (item.order < 0) {
            itemClasses.push('order-0');
          } else if (item.order > 5) {
            itemClasses.push('order-5');
          } else {
            itemClasses.push('order-' + item.order);
          }
        }
        if (item.widthColumn) {
          issetColumns = true;
          issetItemColumn = true;
          itemClasses.push('col-' + item.widthColumn);
        }
        $.each(item.sizes, function (name, size) {
          if (['sm', 'md', 'lg', 'xl', 'xxl'].indexOf(name) >= 0) {
            switch (size.align) {
              case 'start':
                itemClasses.push('align-self-' + name + '-start');
                break;
              case 'end':
                itemClasses.push('align-self-' + name + '-end');
                break;
              case 'center':
                itemClasses.push('align-self-' + name + '-center');
                break;
              case 'baseline':
                itemClasses.push('align-self-' + name + '-baseline');
                break;
              case 'stretch':
                itemClasses.push('align-self-' + name + '-stretch');
                break;
            }
            if (size.fill) {
              itemClasses.push('flex-' + name + '-fill');
            }
            if (size.widthColumn) {
              issetColumns = true;
              issetItemColumn = true;
              itemClasses.push('col-' + name + '-' + size.widthColumn);
            }
            if (typeof size.order === 'number') {
              if (size.order < 0) {
                itemClasses.push('order-' + name + '-0');
              } else if (size.order > 5) {
                itemClasses.push('order-' + name + '-5');
              } else {
                itemClasses.push('order-' + name + '-' + size.order);
              }
            }
          }
        });
        if (item.width !== undefined) {
          var _unit7 = typeof item.width === 'number' ? 'px' : '';
          itemStyles.push('width:' + item.width + _unit7);
        }
        if (item.minWidth !== undefined) {
          var _unit8 = typeof item.minWidth === 'number' ? 'px' : '';
          itemStyles.push('min-width:' + item.minWidth + _unit8);
        }
        if (item.maxWidth !== undefined) {
          var _unit9 = typeof item.maxWidth === 'number' ? 'px' : '';
          itemStyles.push('max-width:' + item.maxWidth + _unit9);
        }
        if (item.height !== undefined) {
          var _unit10 = typeof item.height === 'number' ? 'px' : '';
          itemStyles.push('height:' + item.height + _unit10);
        }
        if (item.minHeight) {
          var _unit11 = typeof item.minHeight === 'number' ? 'px' : '';
          itemStyles.push('min-height:' + item.minHeight + _unit11);
        }
        if (item.maxHeight !== undefined) {
          var _unit12 = typeof item.maxHeight === 'number' ? 'px' : '';
          itemStyles.push('max-height:' + item.maxHeight + _unit12);
        }
        if (issetItemColumn) {
          itemClasses.push('col');
        }
        var contents = CoreuiLayoutPrivate.renderContent(that, item.content);
        var styles = itemStyles.length > 0 ? ' style="' + itemStyles.join(';') + '"' : '';
        var itemContent = $('<div class="' + itemClasses.join(' ') + '"' + styles + '></div>');
        $.each(contents, function (name, content) {
          itemContent.append(content);
        });
        containerItems.push(itemContent);
      });
      if (issetColumns) {
        containerClasses.push('row');
      }
      var styles = containerStyles.length > 0 ? ' style="' + containerStyles.join(';') + '"' : '';
      var html = $('<div id="coreui-layout-' + this.getId() + '" ' + 'class="coreui-layout d-flex ' + containerClasses.join(' ') + '"' + styles + '></div>');
      $.each(containerItems, function (name, containerItem) {
        html.append(containerItem);
      });
      if (element === undefined) {
        return html;
      }

      // Dom element
      var domElement = {};
      if (typeof element === 'string') {
        domElement = document.getElementById(element);
        if (!domElement) {
          return '';
        }
      } else if (element instanceof HTMLElement) {
        domElement = element;
      }
      $(domElement).html(html);
      this.initEvents();
    },
    /**
     * @param eventName
     * @param callback
     * @param context
     * @param singleExec
     */
    on: function on(eventName, callback, context, singleExec) {
      if (_typeof(this._events[eventName]) !== 'object') {
        this._events[eventName] = [];
      }
      this._events[eventName].push({
        context: context || this,
        callback: callback,
        singleExec: !!singleExec
      });
    }
  };

  var coreuiLayout = {
    _instances: {},
    /**
     * @param {object} options
     * @returns {object}
     */
    create: function create(options) {
      var instance = $.extend(true, {}, coreuiLayoutInstance);
      instance._init(CoreuiLayoutUtils.isObject(options) ? options : {});
      var layoutId = instance.getId();
      this._instances[layoutId] = instance;
      return instance;
    },
    /**
     * @param {string} id
     * @returns {object|null}
     */
    get: function get(id) {
      if (!this._instances.hasOwnProperty(id)) {
        return null;
      }
      if (!$('#coreui-layout-' + this._instances[id])[0]) {
        delete this._instances[id];
        return null;
      }
      return this._instances[id];
    }
  };

  return coreuiLayout;

}));
;
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.CoreUI = global.CoreUI || {}, global.CoreUI.table = factory());
}(this, (function () { 'use strict';

function _AsyncGenerator(e) {
  var r, t;
  function resume(r, t) {
    try {
      var n = e[r](t),
        o = n.value,
        u = o instanceof _OverloadYield;
      Promise.resolve(u ? o.v : o).then(function (t) {
        if (u) {
          var i = "return" === r ? "return" : "next";
          if (!o.k || t.done) return resume(i, t);
          t = e[i](t).value;
        }
        settle(n.done ? "return" : "normal", t);
      }, function (e) {
        resume("throw", e);
      });
    } catch (e) {
      settle("throw", e);
    }
  }
  function settle(e, n) {
    switch (e) {
      case "return":
        r.resolve({
          value: n,
          done: !0
        });
        break;
      case "throw":
        r.reject(n);
        break;
      default:
        r.resolve({
          value: n,
          done: !1
        });
    }
    (r = r.next) ? resume(r.key, r.arg) : t = null;
  }
  this._invoke = function (e, n) {
    return new Promise(function (o, u) {
      var i = {
        key: e,
        arg: n,
        resolve: o,
        reject: u,
        next: null
      };
      t ? t = t.next = i : (r = t = i, resume(e, n));
    });
  }, "function" != typeof e.return && (this.return = void 0);
}
_AsyncGenerator.prototype["function" == typeof Symbol && Symbol.asyncIterator || "@@asyncIterator"] = function () {
  return this;
}, _AsyncGenerator.prototype.next = function (e) {
  return this._invoke("next", e);
}, _AsyncGenerator.prototype.throw = function (e) {
  return this._invoke("throw", e);
}, _AsyncGenerator.prototype.return = function (e) {
  return this._invoke("return", e);
};
function _OverloadYield(t, e) {
  this.v = t, this.k = e;
}
function _typeof(o) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, _typeof(o);
}

(function (f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define([], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    g.ejs = f();
  }
})(function () {
  return function () {
    function r(e, n, t) {
      function o(i, f) {
        if (!n[i]) {
          if (!e[i]) {
            var c = "function" == typeof require && require;
            if (!f && c) return c(i, !0);
            if (u) return u(i, !0);
            var a = new Error("Cannot find module '" + i + "'");
            throw a.code = "MODULE_NOT_FOUND", a;
          }
          var p = n[i] = {
            exports: {}
          };
          e[i][0].call(p.exports, function (r) {
            var n = e[i][1][r];
            return o(n || r);
          }, p, p.exports, r, e, n, t);
        }
        return n[i].exports;
      }
      for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
      return o;
    }
    return r;
  }()({
    1: [function (require, module, exports) {
      "use strict";

      var fs = require("fs");
      var path = require("path");
      var utils = require("./utils");
      var scopeOptionWarned = false;
      var _VERSION_STRING = require("../package.json").version;
      var _DEFAULT_OPEN_DELIMITER = "<";
      var _DEFAULT_CLOSE_DELIMITER = ">";
      var _DEFAULT_DELIMITER = "%";
      var _DEFAULT_LOCALS_NAME = "locals";
      var _NAME = "ejs";
      var _REGEX_STRING = "(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";
      var _OPTS_PASSABLE_WITH_DATA = ["delimiter", "scope", "context", "debug", "compileDebug", "client", "_with", "rmWhitespace", "strict", "filename", "async"];
      var _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat("cache");
      var _BOM = /^\uFEFF/;
      var _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;
      exports.cache = utils.cache;
      exports.fileLoader = fs.readFileSync;
      exports.localsName = _DEFAULT_LOCALS_NAME;
      exports.promiseImpl = new Function("return this;")().Promise;
      exports.resolveInclude = function (name, filename, isDir) {
        var dirname = path.dirname;
        var extname = path.extname;
        var resolve = path.resolve;
        var includePath = resolve(isDir ? filename : dirname(filename), name);
        var ext = extname(name);
        if (!ext) {
          includePath += ".ejs";
        }
        return includePath;
      };
      function resolvePaths(name, paths) {
        var filePath;
        if (paths.some(function (v) {
          filePath = exports.resolveInclude(name, v, true);
          return fs.existsSync(filePath);
        })) {
          return filePath;
        }
      }
      function getIncludePath(path, options) {
        var includePath;
        var filePath;
        var views = options.views;
        var match = /^[A-Za-z]+:\\|^\//.exec(path);
        if (match && match.length) {
          path = path.replace(/^\/*/, "");
          if (Array.isArray(options.root)) {
            includePath = resolvePaths(path, options.root);
          } else {
            includePath = exports.resolveInclude(path, options.root || "/", true);
          }
        } else {
          if (options.filename) {
            filePath = exports.resolveInclude(path, options.filename);
            if (fs.existsSync(filePath)) {
              includePath = filePath;
            }
          }
          if (!includePath && Array.isArray(views)) {
            includePath = resolvePaths(path, views);
          }
          if (!includePath && typeof options.includer !== "function") {
            throw new Error('Could not find the include file "' + options.escapeFunction(path) + '"');
          }
        }
        return includePath;
      }
      function handleCache(options, template) {
        var func;
        var filename = options.filename;
        var hasTemplate = arguments.length > 1;
        if (options.cache) {
          if (!filename) {
            throw new Error("cache option requires a filename");
          }
          func = exports.cache.get(filename);
          if (func) {
            return func;
          }
          if (!hasTemplate) {
            template = fileLoader(filename).toString().replace(_BOM, "");
          }
        } else if (!hasTemplate) {
          if (!filename) {
            throw new Error("Internal EJS error: no file name or template " + "provided");
          }
          template = fileLoader(filename).toString().replace(_BOM, "");
        }
        func = exports.compile(template, options);
        if (options.cache) {
          exports.cache.set(filename, func);
        }
        return func;
      }
      function tryHandleCache(options, data, cb) {
        var result;
        if (!cb) {
          if (typeof exports.promiseImpl == "function") {
            return new exports.promiseImpl(function (resolve, reject) {
              try {
                result = handleCache(options)(data);
                resolve(result);
              } catch (err) {
                reject(err);
              }
            });
          } else {
            throw new Error("Please provide a callback function");
          }
        } else {
          try {
            result = handleCache(options)(data);
          } catch (err) {
            return cb(err);
          }
          cb(null, result);
        }
      }
      function fileLoader(filePath) {
        return exports.fileLoader(filePath);
      }
      function includeFile(path, options) {
        var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);
        opts.filename = getIncludePath(path, opts);
        if (typeof options.includer === "function") {
          var includerResult = options.includer(path, opts.filename);
          if (includerResult) {
            if (includerResult.filename) {
              opts.filename = includerResult.filename;
            }
            if (includerResult.template) {
              return handleCache(opts, includerResult.template);
            }
          }
        }
        return handleCache(opts);
      }
      function rethrow(err, str, flnm, lineno, esc) {
        var lines = str.split("\n");
        var start = Math.max(lineno - 3, 0);
        var end = Math.min(lines.length, lineno + 3);
        var filename = esc(flnm);
        var context = lines.slice(start, end).map(function (line, i) {
          var curr = i + start + 1;
          return (curr == lineno ? " >> " : "    ") + curr + "| " + line;
        }).join("\n");
        err.path = filename;
        err.message = (filename || "ejs") + ":" + lineno + "\n" + context + "\n\n" + err.message;
        throw err;
      }
      function stripSemi(str) {
        return str.replace(/;(\s*$)/, "$1");
      }
      exports.compile = function compile(template, opts) {
        var templ;
        if (opts && opts.scope) {
          if (!scopeOptionWarned) {
            console.warn("`scope` option is deprecated and will be removed in EJS 3");
            scopeOptionWarned = true;
          }
          if (!opts.context) {
            opts.context = opts.scope;
          }
          delete opts.scope;
        }
        templ = new Template(template, opts);
        return templ.compile();
      };
      exports.render = function (template, d, o) {
        var data = d || utils.createNullProtoObjWherePossible();
        var opts = o || utils.createNullProtoObjWherePossible();
        if (arguments.length == 2) {
          utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);
        }
        return handleCache(opts, template)(data);
      };
      exports.renderFile = function () {
        var args = Array.prototype.slice.call(arguments);
        var filename = args.shift();
        var cb;
        var opts = {
          filename: filename
        };
        var data;
        var viewOpts;
        if (typeof arguments[arguments.length - 1] == "function") {
          cb = args.pop();
        }
        if (args.length) {
          data = args.shift();
          if (args.length) {
            utils.shallowCopy(opts, args.pop());
          } else {
            if (data.settings) {
              if (data.settings.views) {
                opts.views = data.settings.views;
              }
              if (data.settings["view cache"]) {
                opts.cache = true;
              }
              viewOpts = data.settings["view options"];
              if (viewOpts) {
                utils.shallowCopy(opts, viewOpts);
              }
            }
            utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);
          }
          opts.filename = filename;
        } else {
          data = utils.createNullProtoObjWherePossible();
        }
        return tryHandleCache(opts, data, cb);
      };
      exports.Template = Template;
      exports.clearCache = function () {
        exports.cache.reset();
      };
      function Template(text, opts) {
        opts = opts || utils.createNullProtoObjWherePossible();
        var options = utils.createNullProtoObjWherePossible();
        this.templateText = text;
        this.mode = null;
        this.truncate = false;
        this.currentLine = 1;
        this.source = "";
        options.client = opts.client || false;
        options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;
        options.compileDebug = opts.compileDebug !== false;
        options.debug = !!opts.debug;
        options.filename = opts.filename;
        options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;
        options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;
        options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;
        options.strict = opts.strict || false;
        options.context = opts.context;
        options.cache = opts.cache || false;
        options.rmWhitespace = opts.rmWhitespace;
        options.root = opts.root;
        options.includer = opts.includer;
        options.outputFunctionName = opts.outputFunctionName;
        options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;
        options.views = opts.views;
        options.async = opts.async;
        options.destructuredLocals = opts.destructuredLocals;
        options.legacyInclude = typeof opts.legacyInclude != "undefined" ? !!opts.legacyInclude : true;
        if (options.strict) {
          options._with = false;
        } else {
          options._with = typeof opts._with != "undefined" ? opts._with : true;
        }
        this.opts = options;
        this.regex = this.createRegex();
      }
      Template.modes = {
        EVAL: "eval",
        ESCAPED: "escaped",
        RAW: "raw",
        COMMENT: "comment",
        LITERAL: "literal"
      };
      Template.prototype = {
        createRegex: function () {
          var str = _REGEX_STRING;
          var delim = utils.escapeRegExpChars(this.opts.delimiter);
          var open = utils.escapeRegExpChars(this.opts.openDelimiter);
          var close = utils.escapeRegExpChars(this.opts.closeDelimiter);
          str = str.replace(/%/g, delim).replace(/</g, open).replace(/>/g, close);
          return new RegExp(str);
        },
        compile: function () {
          var src;
          var fn;
          var opts = this.opts;
          var prepended = "";
          var appended = "";
          var escapeFn = opts.escapeFunction;
          var ctor;
          var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : "undefined";
          if (!this.source) {
            this.generateSource();
            prepended += '  var __output = "";\n' + "  function __append(s) { if (s !== undefined && s !== null) __output += s }\n";
            if (opts.outputFunctionName) {
              if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {
                throw new Error("outputFunctionName is not a valid JS identifier.");
              }
              prepended += "  var " + opts.outputFunctionName + " = __append;" + "\n";
            }
            if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {
              throw new Error("localsName is not a valid JS identifier.");
            }
            if (opts.destructuredLocals && opts.destructuredLocals.length) {
              var destructuring = "  var __locals = (" + opts.localsName + " || {}),\n";
              for (var i = 0; i < opts.destructuredLocals.length; i++) {
                var name = opts.destructuredLocals[i];
                if (!_JS_IDENTIFIER.test(name)) {
                  throw new Error("destructuredLocals[" + i + "] is not a valid JS identifier.");
                }
                if (i > 0) {
                  destructuring += ",\n  ";
                }
                destructuring += name + " = __locals." + name;
              }
              prepended += destructuring + ";\n";
            }
            if (opts._with !== false) {
              prepended += "  with (" + opts.localsName + " || {}) {" + "\n";
              appended += "  }" + "\n";
            }
            appended += "  return __output;" + "\n";
            this.source = prepended + this.source + appended;
          }
          if (opts.compileDebug) {
            src = "var __line = 1" + "\n" + "  , __lines = " + JSON.stringify(this.templateText) + "\n" + "  , __filename = " + sanitizedFilename + ";" + "\n" + "try {" + "\n" + this.source + "} catch (e) {" + "\n" + "  rethrow(e, __lines, __filename, __line, escapeFn);" + "\n" + "}" + "\n";
          } else {
            src = this.source;
          }
          if (opts.client) {
            src = "escapeFn = escapeFn || " + escapeFn.toString() + ";" + "\n" + src;
            if (opts.compileDebug) {
              src = "rethrow = rethrow || " + rethrow.toString() + ";" + "\n" + src;
            }
          }
          if (opts.strict) {
            src = '"use strict";\n' + src;
          }
          if (opts.debug) {
            console.log(src);
          }
          if (opts.compileDebug && opts.filename) {
            src = src + "\n" + "//# sourceURL=" + sanitizedFilename + "\n";
          }
          try {
            if (opts.async) {
              try {
                ctor = new Function("return (async function(){}).constructor;")();
              } catch (e) {
                if (e instanceof SyntaxError) {
                  throw new Error("This environment does not support async/await");
                } else {
                  throw e;
                }
              }
            } else {
              ctor = Function;
            }
            fn = new ctor(opts.localsName + ", escapeFn, include, rethrow", src);
          } catch (e) {
            if (e instanceof SyntaxError) {
              if (opts.filename) {
                e.message += " in " + opts.filename;
              }
              e.message += " while compiling ejs\n\n";
              e.message += "If the above error is not helpful, you may want to try EJS-Lint:\n";
              e.message += "https://github.com/RyanZim/EJS-Lint";
              if (!opts.async) {
                e.message += "\n";
                e.message += "Or, if you meant to create an async function, pass `async: true` as an option.";
              }
            }
            throw e;
          }
          var returnedFn = opts.client ? fn : function anonymous(data) {
            var include = function (path, includeData) {
              var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);
              if (includeData) {
                d = utils.shallowCopy(d, includeData);
              }
              return includeFile(path, opts)(d);
            };
            return fn.apply(opts.context, [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);
          };
          if (opts.filename && typeof Object.defineProperty === "function") {
            var filename = opts.filename;
            var basename = path.basename(filename, path.extname(filename));
            try {
              Object.defineProperty(returnedFn, "name", {
                value: basename,
                writable: false,
                enumerable: false,
                configurable: true
              });
            } catch (e) {}
          }
          return returnedFn;
        },
        generateSource: function () {
          var opts = this.opts;
          if (opts.rmWhitespace) {
            this.templateText = this.templateText.replace(/[\r\n]+/g, "\n").replace(/^\s+|\s+$/gm, "");
          }
          this.templateText = this.templateText.replace(/[ \t]*<%_/gm, "<%_").replace(/_%>[ \t]*/gm, "_%>");
          var self = this;
          var matches = this.parseTemplateText();
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          if (matches && matches.length) {
            matches.forEach(function (line, index) {
              var closing;
              if (line.indexOf(o + d) === 0 && line.indexOf(o + d + d) !== 0) {
                closing = matches[index + 2];
                if (!(closing == d + c || closing == "-" + d + c || closing == "_" + d + c)) {
                  throw new Error('Could not find matching close tag for "' + line + '".');
                }
              }
              self.scanLine(line);
            });
          }
        },
        parseTemplateText: function () {
          var str = this.templateText;
          var pat = this.regex;
          var result = pat.exec(str);
          var arr = [];
          var firstPos;
          while (result) {
            firstPos = result.index;
            if (firstPos !== 0) {
              arr.push(str.substring(0, firstPos));
              str = str.slice(firstPos);
            }
            arr.push(result[0]);
            str = str.slice(result[0].length);
            result = pat.exec(str);
          }
          if (str) {
            arr.push(str);
          }
          return arr;
        },
        _addOutput: function (line) {
          if (this.truncate) {
            line = line.replace(/^(?:\r\n|\r|\n)/, "");
            this.truncate = false;
          }
          if (!line) {
            return line;
          }
          line = line.replace(/\\/g, "\\\\");
          line = line.replace(/\n/g, "\\n");
          line = line.replace(/\r/g, "\\r");
          line = line.replace(/"/g, '\\"');
          this.source += '    ; __append("' + line + '")' + "\n";
        },
        scanLine: function (line) {
          var self = this;
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          var newLineCount = 0;
          newLineCount = line.split("\n").length - 1;
          switch (line) {
            case o + d:
            case o + d + "_":
              this.mode = Template.modes.EVAL;
              break;
            case o + d + "=":
              this.mode = Template.modes.ESCAPED;
              break;
            case o + d + "-":
              this.mode = Template.modes.RAW;
              break;
            case o + d + "#":
              this.mode = Template.modes.COMMENT;
              break;
            case o + d + d:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(o + d + d, o + d) + '")' + "\n";
              break;
            case d + d + c:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(d + d + c, d + c) + '")' + "\n";
              break;
            case d + c:
            case "-" + d + c:
            case "_" + d + c:
              if (this.mode == Template.modes.LITERAL) {
                this._addOutput(line);
              }
              this.mode = null;
              this.truncate = line.indexOf("-") === 0 || line.indexOf("_") === 0;
              break;
            default:
              if (this.mode) {
                switch (this.mode) {
                  case Template.modes.EVAL:
                  case Template.modes.ESCAPED:
                  case Template.modes.RAW:
                    if (line.lastIndexOf("//") > line.lastIndexOf("\n")) {
                      line += "\n";
                    }
                }
                switch (this.mode) {
                  case Template.modes.EVAL:
                    this.source += "    ; " + line + "\n";
                    break;
                  case Template.modes.ESCAPED:
                    this.source += "    ; __append(escapeFn(" + stripSemi(line) + "))" + "\n";
                    break;
                  case Template.modes.RAW:
                    this.source += "    ; __append(" + stripSemi(line) + ")" + "\n";
                    break;
                  case Template.modes.COMMENT:
                    break;
                  case Template.modes.LITERAL:
                    this._addOutput(line);
                    break;
                }
              } else {
                this._addOutput(line);
              }
          }
          if (self.opts.compileDebug && newLineCount) {
            this.currentLine += newLineCount;
            this.source += "    ; __line = " + this.currentLine + "\n";
          }
        }
      };
      exports.escapeXML = utils.escapeXML;
      exports.__express = exports.renderFile;
      exports.VERSION = _VERSION_STRING;
      exports.name = _NAME;
      if (typeof window != "undefined") {
        window.ejs = exports;
      }
    }, {
      "../package.json": 6,
      "./utils": 2,
      fs: 3,
      path: 4
    }],
    2: [function (require, module, exports) {
      "use strict";

      var regExpChars = /[|\\{}()[\]^$+*?.]/g;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var hasOwn = function (obj, key) {
        return hasOwnProperty.apply(obj, [key]);
      };
      exports.escapeRegExpChars = function (string) {
        if (!string) {
          return "";
        }
        return String(string).replace(regExpChars, "\\$&");
      };
      var _ENCODE_HTML_RULES = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&#34;",
        "'": "&#39;"
      };
      var _MATCH_HTML = /[&<>'"]/g;
      function encode_char(c) {
        return _ENCODE_HTML_RULES[c] || c;
      }
      var escapeFuncStr = "var _ENCODE_HTML_RULES = {\n" + '      "&": "&amp;"\n' + '    , "<": "&lt;"\n' + '    , ">": "&gt;"\n' + '    , \'"\': "&#34;"\n' + '    , "\'": "&#39;"\n' + "    }\n" + "  , _MATCH_HTML = /[&<>'\"]/g;\n" + "function encode_char(c) {\n" + "  return _ENCODE_HTML_RULES[c] || c;\n" + "};\n";
      exports.escapeXML = function (markup) {
        return markup == undefined ? "" : String(markup).replace(_MATCH_HTML, encode_char);
      };
      function escapeXMLToString() {
        return Function.prototype.toString.call(this) + ";\n" + escapeFuncStr;
      }
      try {
        if (typeof Object.defineProperty === "function") {
          Object.defineProperty(exports.escapeXML, "toString", {
            value: escapeXMLToString
          });
        } else {
          exports.escapeXML.toString = escapeXMLToString;
        }
      } catch (err) {
        console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)");
      }
      exports.shallowCopy = function (to, from) {
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var p in from) {
            if (!hasOwn(from, p)) {
              continue;
            }
            if (p === "__proto__" || p === "constructor") {
              continue;
            }
            to[p] = from[p];
          }
        }
        return to;
      };
      exports.shallowCopyFromList = function (to, from, list) {
        list = list || [];
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var i = 0; i < list.length; i++) {
            var p = list[i];
            if (typeof from[p] != "undefined") {
              if (!hasOwn(from, p)) {
                continue;
              }
              if (p === "__proto__" || p === "constructor") {
                continue;
              }
              to[p] = from[p];
            }
          }
        }
        return to;
      };
      exports.cache = {
        _data: {},
        set: function (key, val) {
          this._data[key] = val;
        },
        get: function (key) {
          return this._data[key];
        },
        remove: function (key) {
          delete this._data[key];
        },
        reset: function () {
          this._data = {};
        }
      };
      exports.hyphenToCamel = function (str) {
        return str.replace(/-[a-z]/g, function (match) {
          return match[1].toUpperCase();
        });
      };
      exports.createNullProtoObjWherePossible = function () {
        if (typeof Object.create == "function") {
          return function () {
            return Object.create(null);
          };
        }
        if (!({
          __proto__: null
        } instanceof Object)) {
          return function () {
            return {
              __proto__: null
            };
          };
        }
        return function () {
          return {};
        };
      }();
    }, {}],
    3: [function (require, module, exports) {}, {}],
    4: [function (require, module, exports) {
      (function (process) {
        function normalizeArray(parts, allowAboveRoot) {
          var up = 0;
          for (var i = parts.length - 1; i >= 0; i--) {
            var last = parts[i];
            if (last === ".") {
              parts.splice(i, 1);
            } else if (last === "..") {
              parts.splice(i, 1);
              up++;
            } else if (up) {
              parts.splice(i, 1);
              up--;
            }
          }
          if (allowAboveRoot) {
            for (; up--; up) {
              parts.unshift("..");
            }
          }
          return parts;
        }
        exports.resolve = function () {
          var resolvedPath = "",
            resolvedAbsolute = false;
          for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
            var path = i >= 0 ? arguments[i] : process.cwd();
            if (typeof path !== "string") {
              throw new TypeError("Arguments to path.resolve must be strings");
            } else if (!path) {
              continue;
            }
            resolvedPath = path + "/" + resolvedPath;
            resolvedAbsolute = path.charAt(0) === "/";
          }
          resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function (p) {
            return !!p;
          }), !resolvedAbsolute).join("/");
          return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
        };
        exports.normalize = function (path) {
          var isAbsolute = exports.isAbsolute(path),
            trailingSlash = substr(path, -1) === "/";
          path = normalizeArray(filter(path.split("/"), function (p) {
            return !!p;
          }), !isAbsolute).join("/");
          if (!path && !isAbsolute) {
            path = ".";
          }
          if (path && trailingSlash) {
            path += "/";
          }
          return (isAbsolute ? "/" : "") + path;
        };
        exports.isAbsolute = function (path) {
          return path.charAt(0) === "/";
        };
        exports.join = function () {
          var paths = Array.prototype.slice.call(arguments, 0);
          return exports.normalize(filter(paths, function (p, index) {
            if (typeof p !== "string") {
              throw new TypeError("Arguments to path.join must be strings");
            }
            return p;
          }).join("/"));
        };
        exports.relative = function (from, to) {
          from = exports.resolve(from).substr(1);
          to = exports.resolve(to).substr(1);
          function trim(arr) {
            var start = 0;
            for (; start < arr.length; start++) {
              if (arr[start] !== "") break;
            }
            var end = arr.length - 1;
            for (; end >= 0; end--) {
              if (arr[end] !== "") break;
            }
            if (start > end) return [];
            return arr.slice(start, end - start + 1);
          }
          var fromParts = trim(from.split("/"));
          var toParts = trim(to.split("/"));
          var length = Math.min(fromParts.length, toParts.length);
          var samePartsLength = length;
          for (var i = 0; i < length; i++) {
            if (fromParts[i] !== toParts[i]) {
              samePartsLength = i;
              break;
            }
          }
          var outputParts = [];
          for (var i = samePartsLength; i < fromParts.length; i++) {
            outputParts.push("..");
          }
          outputParts = outputParts.concat(toParts.slice(samePartsLength));
          return outputParts.join("/");
        };
        exports.sep = "/";
        exports.delimiter = ":";
        exports.dirname = function (path) {
          if (typeof path !== "string") path = path + "";
          if (path.length === 0) return ".";
          var code = path.charCodeAt(0);
          var hasRoot = code === 47;
          var end = -1;
          var matchedSlash = true;
          for (var i = path.length - 1; i >= 1; --i) {
            code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                end = i;
                break;
              }
            } else {
              matchedSlash = false;
            }
          }
          if (end === -1) return hasRoot ? "/" : ".";
          if (hasRoot && end === 1) {
            return "/";
          }
          return path.slice(0, end);
        };
        function basename(path) {
          if (typeof path !== "string") path = path + "";
          var start = 0;
          var end = -1;
          var matchedSlash = true;
          var i;
          for (i = path.length - 1; i >= 0; --i) {
            if (path.charCodeAt(i) === 47) {
              if (!matchedSlash) {
                start = i + 1;
                break;
              }
            } else if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
          }
          if (end === -1) return "";
          return path.slice(start, end);
        }
        exports.basename = function (path, ext) {
          var f = basename(path);
          if (ext && f.substr(-1 * ext.length) === ext) {
            f = f.substr(0, f.length - ext.length);
          }
          return f;
        };
        exports.extname = function (path) {
          if (typeof path !== "string") path = path + "";
          var startDot = -1;
          var startPart = 0;
          var end = -1;
          var matchedSlash = true;
          var preDotState = 0;
          for (var i = path.length - 1; i >= 0; --i) {
            var code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                startPart = i + 1;
                break;
              }
              continue;
            }
            if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
            if (code === 46) {
              if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
            } else if (startDot !== -1) {
              preDotState = -1;
            }
          }
          if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
            return "";
          }
          return path.slice(startDot, end);
        };
        function filter(xs, f) {
          if (xs.filter) return xs.filter(f);
          var res = [];
          for (var i = 0; i < xs.length; i++) {
            if (f(xs[i], i, xs)) res.push(xs[i]);
          }
          return res;
        }
        var substr = "ab".substr(-1) === "b" ? function (str, start, len) {
          return str.substr(start, len);
        } : function (str, start, len) {
          if (start < 0) start = str.length + start;
          return str.substr(start, len);
        };
      }).call(this, require("_process"));
    }, {
      _process: 5
    }],
    5: [function (require, module, exports) {
      var process = module.exports = {};
      var cachedSetTimeout;
      var cachedClearTimeout;
      function defaultSetTimout() {
        throw new Error("setTimeout has not been defined");
      }
      function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined");
      }
      (function () {
        try {
          if (typeof setTimeout === "function") {
            cachedSetTimeout = setTimeout;
          } else {
            cachedSetTimeout = defaultSetTimout;
          }
        } catch (e) {
          cachedSetTimeout = defaultSetTimout;
        }
        try {
          if (typeof clearTimeout === "function") {
            cachedClearTimeout = clearTimeout;
          } else {
            cachedClearTimeout = defaultClearTimeout;
          }
        } catch (e) {
          cachedClearTimeout = defaultClearTimeout;
        }
      })();
      function runTimeout(fun) {
        if (cachedSetTimeout === setTimeout) {
          return setTimeout(fun, 0);
        }
        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
          cachedSetTimeout = setTimeout;
          return setTimeout(fun, 0);
        }
        try {
          return cachedSetTimeout(fun, 0);
        } catch (e) {
          try {
            return cachedSetTimeout.call(null, fun, 0);
          } catch (e) {
            return cachedSetTimeout.call(this, fun, 0);
          }
        }
      }
      function runClearTimeout(marker) {
        if (cachedClearTimeout === clearTimeout) {
          return clearTimeout(marker);
        }
        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
          cachedClearTimeout = clearTimeout;
          return clearTimeout(marker);
        }
        try {
          return cachedClearTimeout(marker);
        } catch (e) {
          try {
            return cachedClearTimeout.call(null, marker);
          } catch (e) {
            return cachedClearTimeout.call(this, marker);
          }
        }
      }
      var queue = [];
      var draining = false;
      var currentQueue;
      var queueIndex = -1;
      function cleanUpNextTick() {
        if (!draining || !currentQueue) {
          return;
        }
        draining = false;
        if (currentQueue.length) {
          queue = currentQueue.concat(queue);
        } else {
          queueIndex = -1;
        }
        if (queue.length) {
          drainQueue();
        }
      }
      function drainQueue() {
        if (draining) {
          return;
        }
        var timeout = runTimeout(cleanUpNextTick);
        draining = true;
        var len = queue.length;
        while (len) {
          currentQueue = queue;
          queue = [];
          while (++queueIndex < len) {
            if (currentQueue) {
              currentQueue[queueIndex].run();
            }
          }
          queueIndex = -1;
          len = queue.length;
        }
        currentQueue = null;
        draining = false;
        runClearTimeout(timeout);
      }
      process.nextTick = function (fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
          for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
          }
        }
        queue.push(new Item(fun, args));
        if (queue.length === 1 && !draining) {
          runTimeout(drainQueue);
        }
      };
      function Item(fun, array) {
        this.fun = fun;
        this.array = array;
      }
      Item.prototype.run = function () {
        this.fun.apply(null, this.array);
      };
      process.title = "browser";
      process.browser = true;
      process.env = {};
      process.argv = [];
      process.version = "";
      process.versions = {};
      function noop() {}
      process.on = noop;
      process.addListener = noop;
      process.once = noop;
      process.off = noop;
      process.removeListener = noop;
      process.removeAllListeners = noop;
      process.emit = noop;
      process.prependListener = noop;
      process.prependOnceListener = noop;
      process.listeners = function (name) {
        return [];
      };
      process.binding = function (name) {
        throw new Error("process.binding is not supported");
      };
      process.cwd = function () {
        return "/";
      };
      process.chdir = function (dir) {
        throw new Error("process.chdir is not supported");
      };
      process.umask = function () {
        return 0;
      };
    }, {}],
    6: [function (require, module, exports) {
      module.exports = {
        name: "ejs",
        description: "Embedded JavaScript templates",
        keywords: ["template", "engine", "ejs"],
        version: "3.1.8",
        author: "Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",
        license: "Apache-2.0",
        bin: {
          ejs: "./bin/cli.js"
        },
        main: "./lib/ejs.js",
        jsdelivr: "ejs.min.js",
        unpkg: "ejs.min.js",
        repository: {
          type: "git",
          url: "git://github.com/mde/ejs.git"
        },
        bugs: "https://github.com/mde/ejs/issues",
        homepage: "https://github.com/mde/ejs",
        dependencies: {
          jake: "^10.8.5"
        },
        devDependencies: {
          browserify: "^16.5.1",
          eslint: "^6.8.0",
          "git-directory-deploy": "^1.5.1",
          jsdoc: "^4.0.2",
          "lru-cache": "^4.0.1",
          mocha: "^10.2.0",
          "uglify-js": "^3.3.16"
        },
        engines: {
          node: ">=0.10.0"
        },
        scripts: {
          test: "mocha -u tdd"
        }
      };
    }, {}]
  }, {}, [1])(1);
});

var tpl = Object.create(null);
tpl['columns/badge.html'] = '<span class="badge text-bg-<%= type %>"><%= text %></span>';
tpl['columns/button.html'] = '<button type="button"<%- attr %>><%- content %></button>';
tpl['columns/link.html'] = '<a <%- attr %>><%- content %></a>';
tpl['columns/menu.html'] = ' <div class="btn-group" role="group"> <button type="button" data-bs-toggle="dropdown" <%- attr %>> <%- content %> </button> <ul class="dropdown-menu dropdown-menu-<%= position %>"> <% $.each(items, function(key, item) { %> <% if (item.type === \'link\') { %> <li><a href="<%= item.url %>"<%- item.attr %>><%= item.content %></a></li> <% } else if (item.type === \'button\') { %> <li> <button type="button" id="btn-dropdown-<%= item.id %>"<%- item.attr %>> <%- item.content %> </button> </li> <% } else if (item.type === \'divider\') { %> <li><hr class="dropdown-divider"></li> <% } else if (item.type === \'header\') { %> <li><h6 class="dropdown-header"><%= item.content %></h6></li> <% } %> <% }) %> </ul> </div>';
tpl['columns/select_label.html'] = '<input class="coreui-table__select-all form-check-input" type="checkbox" value="">';
tpl['columns/select.html'] = '<input class="coreui-table__select form-check-input" type="checkbox" value="<%= index %>">';
tpl['columns/switch.html'] = '<div class="form-switch"> <input class="form-check-input coreui-table__switch" type="checkbox" data-field="<%= field %>" value="record.index"<% if (checked) { %> checked<% } %><% if (disabled) { %> disabled<% } %>> </div>';
tpl['controls/button_group.html'] = ' <div class="btn-group" role="group"> <% $.each(buttons, function(key, button) { %> <% if (button.type === \'link\') { %> <a href="<%= button.url %>"<%- button.attr %>><%= button.content %></a> <% } else if (button.type === \'button\') { %> <button type="button" id="btn-grp-<%= button.id %>"<%- button.attr %>> <%= button.content %> </button> <% } else if (button.type === \'dropdown\') { %> <div class="btn-group" role="group"> <button type="button" data-bs-toggle="dropdown"<%- button.attr %>> <%- button.content %> </button> <ul class="dropdown-menu dropdown-menu-<%= button.position %>"> <% $.each(button.items, function(key, item) { %> <% if (item.type === \'link\') { %> <li><a class="dropdown-item" href="<%= item.url %>"><%= item.content %></a></li> <% } else if (item.type === \'button\') { %> <li> <button type="button" class="dropdown-item" id="btn-dropdown-<%= item.id %>"> <%= item.content %> </button> </li> <% } else if (item.type === \'divider\') { %> <li><hr class="dropdown-divider"></li> <% } %> <% }) %> </ul> </div> <% } %> <% }) %> </div>';
tpl['controls/button.html'] = '<button type="button"<%- attr %>><%- content %></button>';
tpl['controls/caption.html'] = '<div class="d-flex flex-column me-3"> <small class="text-body-secondary fw-medium"> <%= title %> <% if (description) { %> <i class="bi bi-question-circle coreui-table__cursor_help" title="<%= description %>"></i> <% } %> </small> <b class="text-nowrap"><%= value %></b> </div>';
tpl['controls/columns-container.html'] = ' <div class="coreui-table__columns px-3 pt-3 pb-4"> <div class="mb-3"> <div class="form-check coreui-table__check_all"> <label class="form-check-label"> <input class="form-check-input" type="checkbox" <% if (showAll === true) { %>checked<% } %>> <%= lang.all %> </label> </div> <% $.each(columns, function(key, column) { %> <div class="form-check coreui-table_check-column"> <label class="form-check-label"> <input class="form-check-input" type="checkbox" value="<%= column.field %>" <% if (column.show === true) { %>checked<% } %>> <%= column.label %> </label> </div> <% }); %> </div> <button type="button" <%- btnCompleteAttr %>> <%- btnCompleteContent %> </button> </div>';
tpl['controls/columns.html'] = '<button type="button"<%- btnAttr %>><%-btnContent%></button>';
tpl['controls/dropdown.html'] = ' <div class="btn-group" role="group"> <button type="button" data-bs-toggle="dropdown"<%- attr %>> <%- content %> </button> <ul class="dropdown-menu dropdown-menu-<%= position %>"> <% $.each(items, function(key, item) { %> <% if (item.type === \'link\') { %> <li><a class="dropdown-item" href="<%= item.url %>"><%= item.content %></a></li> <% } else if (item.type === \'button\') { %> <li> <button type="button" class="dropdown-item" id="btn-dropdown-<%= item.id %>"> <%= item.content %> </button> </li> <% } else if (item.type === \'divider\') { %> <li><hr class="dropdown-divider"></li> <% } %> <% }) %> </ul> </div>';
tpl['controls/filter_clear.html'] = ' <button type="button" <%- attr %>><%- content %></button>';
tpl['controls/link.html'] = '<a href="<%- url %>"<%- attr %>><%- content %></a>';
tpl['controls/page-jump.html'] = ' <div class="coreui-table__page_jump_container"> <div <%- attr %>> <input type="number" class="form-control border-secondary-subtle" min="1"> <button class="btn btn-outline-secondary border-secondary-subtle" type="button"> <i class="bi bi-chevron-compact-right"></i> </button> </div> </div>';
tpl['controls/page-size.html'] = ' <select <%- attr %>> <% $.each(recordsPerPageList, function(key, count) { %> <option value="<%= count %>"<% if (recordsPerPage == count) { %>selected<% } %>> <% if (count == \'0\') { %><%= lang.all %><% } else { %><%= count %><% } %> </option> <% }); %> </select>';
tpl['controls/pages.html'] = ' <nav> <ul <%- attr %>> <% if (showPrev) { %> <li class="page-item coreui-table__page_prev <% if ( ! isActivePrev) { %> disabled<% } %>"> <button type="button" class="page-link"> <i class="bi bi-chevron-left"></i> </button> </li> <% } %> <% if (showPageFirst) { %> <li class="page-item"> <button type="button" class="page-link coreui-table__page"> 1 </button> </li> <% } %> <% if (showDividerStart) { %> <li class="page-item disabled"> <span class="page-link px-1">...</span> </li> <% } %> <% $.each(pages, function(key, page) { %> <% if (page == currentPage) { %> <li class="page-item active"> <span class="page-link"><%= page %></span> </li> <% } else { %> <li class="page-item"> <button type="button" class="page-link coreui-table__page"> <%= page %> </button> </li> <% } %> <% }); %> <% if (showDividerEnd) { %> <li class="page-item disabled"> <span class="page-link px-1">...</span> </li> <% } %> <% if (showPageLast) { %> <li class="page-item"> <button type="button" class="page-link coreui-table__page"> <%= pagesTotal %> </button> </li> <% } %> <% if (showNext) { %> <li class="page-item coreui-table__page_next<% if ( ! isActiveNext) { %> disabled<% } %>"> <button type="button" class="page-link"> <i class="bi bi-chevron-right"></i> </button> </li> <% } %> </ul> </nav>';
tpl['controls/search-clear.html'] = ' <button type="button" <%- attr %>> <%- content %> </button> ';
tpl['controls/search-container.html'] = ' <div class="coreui-table__search px-3 pt-3 pb-4"> <div class="mb-3"> <% $.each(controls, function(key, control) { %> <div class="mb-2 d-flex flex-column flex-md-row "> <label class="col-form-label fw-medium text-start text-md-end pe-2" style="min-width:<%= labelWidth %>;width:<%= labelWidth %>"> <%= control.label %> <% if (control.description) { %> <div class="text-muted fw-normal"> <small><%= control.description %></small> </div> <% } %> </label> <div class="flex-fill search-control-<%= control.id %>"> <%- control.content %> <% if (control.prefix) { %> <%= control.prefix %> <% } %> </div> </div> <% }); %> </div> <div class="d-flex flex-sm-wrap flex-md-nowrap"> <div class="d-none d-md-block" style="width:<%= labelWidth %>;min-width:<%= labelWidth %>"></div> <div class="d-flex justify-content-start flex-wrap gap-2"> <button type="button" <%- btnCompleteAttr %>> <%- btnCompleteContent %> </button> </div> </div> </div>';
tpl['controls/search.html'] = '<div class="btn-group"> <button type="button"<%- btnAttr %>><%- btnContent %></button> <%- btnClear %> </div> ';
tpl['controls/total.html'] = '<div <%- attr %>> <small><%= lang.total %>: <span class="coreui-table__count-total"><%= recordsTotal %></span></small> </div>';
tpl['filters/checkbox.html'] = ' <div class="btn-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <% $.each(items, function(key, item) { %> <input type="checkbox" class="btn-check" autocomplete="off" id="<%= (field + key) %>" name="<%= field %>" value="<%= item.value %>" <%= item.checked ? \' checked\' : \'\' %>> <label class="<%= item.class %>" for="<%= (field + key) %>"><%= item.text %></label> <% }); %> </div>';
tpl['filters/date_month.html'] = ' <div class="input-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <input type="month" <%- attr %>> </div>';
tpl['filters/date_range.html'] = ' <div class="input-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <input type="date" <%- startAttr %>> <input type="date" <%- endAttr %>> </div>';
tpl['filters/date.html'] = ' <div class="input-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <input type="date" <%- attr %>> </div>';
tpl['filters/datetime_range.html'] = ' <div class="input-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <input type="datetime-local" <%- startAttr %>> <input type="datetime-local" <%- endAttr %>> </div>';
tpl['filters/datetime.html'] = ' <div class="input-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <input type="datetime-local" <%- attr %>> </div>';
tpl['filters/number.html'] = ' <div class="input-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <input type="number" <%- attrStart %>> <input type="number" <%- attrEnd %>> <button type="button" <%- btnAttr %>> <%- btnContent %> </button> </div>';
tpl['filters/radio.html'] = ' <div class="btn-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <% $.each(items, function(key, item) { %> <input type="radio" class="btn-check" autocomplete="off" id="<%= (field + key) %>" name="<%= field %>" value="<%= item.value %>" <%= item.checked ? \' checked\' : \'\' %>> <label class="<%= item.class %>" for="<%= (field + key) %>"><%= item.text %></label> <% }); %> </div>';
tpl['filters/select.html'] = '<div class="input-group flex-nowrap"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <select <%- attr %>> <option>--</option> <% $.each(options, function(key, option) { %> <% if (option.type === \'group\') { %> <optgroup<%- option.attr %>/> <% $.each(option.options, function(key, groupOption) { %> <option <%- groupOption.attr %>/><%= groupOption.text %></option> <% }); %> </optgroup> <% } else { %> <option <%- option.attr %>/><%= option.text %></option> <% } %> <% }); %> </select> </div>';
tpl['filters/switch.html'] = '<div class="form-check form-switch"> <input class="form-check-input" type="checkbox" id="<%= (field + id) %>" name="<%= field %>" value="<%= valueY %>" <%= checked ? \' checked\' : \'\' %>> <% if (label != \'\') { %> <label class="form-check-label" for="<%= (field + id) %>"><%= label %></label> <% } %> </div>';
tpl['filters/text.html'] = ' <div class="input-group"> <% if (label) { %> <span class="input-group-text"><%= label %></span> <% } %> <input type="text" <%- attr %>> <button type="button" <%- btnAttr %>> <%- btnContent %> </button> </div>';
tpl['search/checkbox.html'] = ' <div class="pt-2"> <% $.each(options, function(key, option) { %> <div class="form-check"> <label class="form-check-label coreui-table_pointer"> <input class="form-check-input" type="checkbox" name="<%= field %>" value="<%- option.value %>" <%= option.checked ? \' checked\' : \'\' %>> <%= option.text %> </label> </div> <% }); %> </div>';
tpl['search/date_month.html'] = ' <input type="month" <%- attr %>>';
tpl['search/date_range.html'] = ' <input type="date" <%- startAttr %>> <input type="date" <%- endAttr %>>';
tpl['search/date.html'] = ' <input type="date" <%- attr %>>';
tpl['search/datetime_range.html'] = ' <input type="datetime-local" <%- startAttr %>> <input type="datetime-local" <%- endAttr %>>';
tpl['search/datetime.html'] = ' <input type="datetime-local" <%- attr %>>';
tpl['search/number.html'] = ' <input type="number" <%- startAttr %>> <input type="number" <%- endAttr %>>';
tpl['search/radio.html'] = '<div class="pt-2"> <div class="form-check"> <label class="form-check-label coreui-table_pointer"> <input class="form-check-input" type="radio" name="<%= field %>" value=""<%= checkedAll ? \' checked\' : \'\' %>> <%= lang.all %> </label> </div> <% $.each(options, function(key, option) { %> <div class="form-check"> <label class="form-check-label coreui-table_pointer"> <input class="form-check-input" type="radio" name="<%= field %>" value="<%- option.value %>" <%= option.checked ? \' checked\' : \'\' %>> <%= option.text %> </label> </div> <% }); %> </div>';
tpl['search/select.html'] = ' <select <%- attr %>> <option>--</option> <% $.each(options, function(key, option) { %> <% if (option.type === \'group\') { %> <optgroup<%- option.attr %>/> <% $.each(option.options, function(key, groupOption) { %> <option <%- groupOption.attr %>/><%= groupOption.text %></option> <% }); %> </optgroup> <% } else { %> <option <%- option.attr %>/><%= option.text %></option> <% } %> <% }); %> </select>';
tpl['search/switch.html'] = '<div class="form-check form-switch pt-2"> <input class="form-check-input" type="checkbox" id="<%= (field + id) %>" name="<%= field %>" value="<%= valueY %>" <%= checked ? \' checked\' : \'\' %>> </div>';
tpl['search/text.html'] = ' <input type="text" <%- attr %>>';
tpl['table-columns-footer.html'] = '<tr> <% $.each(columns, function(key, column) { %> <td<%- column.attr%>><%- column.content %></td> <% }); %> </tr>';
tpl['table-columns-header.html'] = '<tr class="fw-medium bg-white"> <% $.each(columns, function(key, column) { %> <td<%- column.attr%>><%- column.content %></td> <% }); %> </tr>';
tpl['table-columns.html'] = '<tr class="fw-medium bg-white"> <% $.each(columns, function(key, column) { %> <td<%- column.attr%>> <span class="coreui-table__column-label"><%- column.label %></span> <% if (column.description) { %> <small class="coreui-table__column-description bi bi-question-circle text-body-secondary" title="<%= column.description %>"></small> <% } %> <% if (column.sortable === \'asc\') { %> <i class="coreui-table__column-sort bi bi-sort-down-alt"></i> <% } else if (column.sortable === \'desc\') { %> <i class="coreui-table__column-sort bi bi-sort-down"></i> <% } %> </td> <% }); %> </tr>';
tpl['table-control.html'] = '<div id="coreui-table-control-<%= id %>" class="coreui-table__control"></div>';
tpl['table-controls-footer-out.html'] = ' <div class="coreui-table__footer d-flex justify-content-between"> <% if (controlsLeft.length) { %> <div class="coreui-table__controls coreui-table__controls_left d-flex justify-content-start gap-2 flex-wrap flex-fill mb-1 mt-2 align-items-center"></div> <% } %> <% if (controlsCenter.length) { %> <div class="coreui-table__controls coreui-table__controls_center d-flex justify-content-center gap-2 flex-wrap flex-fill mb-1 mt-2 align-items-center"></div> <% } %> <% if (controlsRight.length) { %> <div class="coreui-table__controls coreui-table__controls_right d-flex justify-content-end gap-2 flex-wrap flex-fill mb-1 mt-2 align-items-center"></div> <% } %> </div>';
tpl['table-controls-footer.html'] = ' <div class="coreui-table__footer ps-1 pe-1 d-flex justify-content-between border-top border-secondary-subtle"> <% if (controlsLeft.length) { %> <div class="coreui-table__controls coreui-table__controls_left d-flex justify-content-start gap-2 flex-wrap flex-fill mb-1 mt-1 align-items-center"></div> <% } %> <% if (controlsCenter.length) { %> <div class="coreui-table__controls coreui-table__controls_center d-flex justify-content-center gap-2 flex-wrap flex-fill mb-1 mt-1 align-items-center"></div> <% } %> <% if (controlsRight.length) { %> <div class="coreui-table__controls coreui-table__controls_right d-flex justify-content-end gap-2 flex-wrap flex-fill mb-1 mt-1 align-items-center"></div> <% } %> </div>';
tpl['table-controls-header-out.html'] = ' <div class="coreui-table__header d-flex justify-content-between"> <% if (controlsLeft.length) { %> <div class="coreui-table__controls coreui-table__controls_left d-flex justify-content-start gap-2 flex-wrap flex-fill mb-2 mt-1 align-items-center"></div> <% } %> <% if (controlsCenter.length) { %> <div class="coreui-table__controls coreui-table__controls_center d-flex justify-content-center gap-2 flex-wrap flex-fill mb-2 mt-1 align-items-center"></div> <% } %> <% if (controlsRight.length) { %> <div class="coreui-table__controls coreui-table__controls_right d-flex justify-content-end gap-2 flex-wrap flex-fill mb-2 mt-1 align-items-center"></div> <% } %> </div>';
tpl['table-controls-header.html'] = ' <div class="coreui-table__header ps-1 pe-1 d-flex justify-content-between border-bottom border-secondary-subtle"> <% if (controlsLeft.length) { %> <div class="coreui-table__controls coreui-table__controls_left d-flex justify-content-start gap-2 flex-wrap flex-fill my-1 align-items-center"></div> <% } %> <% if (controlsCenter.length) { %> <div class="coreui-table__controls coreui-table__controls_center d-flex justify-content-center gap-2 flex-wrap flex-fill my-1 align-items-center"></div> <% } %> <% if (controlsRight.length) { %> <div class="coreui-table__controls coreui-table__controls_right d-flex justify-content-end gap-2 flex-wrap flex-fill my-1 align-items-center"></div> <% } %> </div>';
tpl['table-loader.html'] = '<div class="coreui-table-lock position-absolute w-100 top-0 bottom-0"> <div class="coreui-table-block bg-secondary-subtle position-absolute opacity-50 w-100 top-0 bottom-0"></div> <div class="coreui-table-message position-relative d-flex align-content-center justify-content-start gap-2 mt-3 py-1 px-2 m-auto border border-secondary-subtle rounded-3 bg-body-secondary"> <div class="spinner-border text-secondary align-self-center"></div> <span class="lh-lg"><%= lang.loading %></span> </div> </div>';
tpl['table-record-expand.html'] = '<tr class="coreui-table__record-expanded" style="display: none"> <td colspan="<%= colspan %>"></td> </tr>';
tpl['table-record-group.html'] = '<tr<%- attr %>> <td colspan="<%= colspan %>"></td> </tr>';
tpl['table-record.html'] = '<tr<%- record.attr %> data-record-index="<%= record.index %>"> <% $.each(record.fields, function(key2, field) { %> <td<%- field.attr %>></td> <% }); %> </tr>';
tpl['table-records-empty.html'] = '<tr> <td class="text-center" colspan="<%= columnsCount %>"><%= lang.emptyRecords %></td> </tr>';
tpl['table-wrapper.html'] = ' <div id="coreui-table-<%= id %>" class="coreui-table<%= classes %>"<% if (widthSizes) { %> style="<%= widthSizes.join(\';\') %>"<% } %>> <div class="coreui-table__container position-relative"> <div class="coreui-table__wrapper<% if (overflow) { %> overflow-x-auto<% } %>" <% if (heightSizes) { %>style="<%= heightSizes.join(\';\') %>"<% } %>></div> </div> </div>';
tpl['table.html'] = ' <table class="table <%= classes %> mb-0"> <colgroup> <% $.each(colGroups, function(key, columnGroup) { %> <col<% if (columnGroup.style) { %> style="<%= columnGroup.style %>"<% } %>/> <% }); %> </colgroup> <% if (showHeaders) { %> <thead<% if (theadAttr) { %> <%- theadAttr %>"<% } %>> <%- columnsHeader %> <%- columns %> </thead> <% } %> <tbody></tbody> <% if (columnsFooter != \'\') { %> <tfoot> <%- columnsFooter %> </tfoot> <% } %> </table>';

var coreuiTableUtils = {
  /**
   * Объединение атрибутов
   * @param attr1
   * @param attr2
   * @returns {object}
   */
  mergeAttr: function mergeAttr(attr1, attr2) {
    var mergeAttr = Object.assign({}, attr1);
    if (_typeof(attr2) === 'object') {
      $.each(attr2, function (name, value) {
        if (mergeAttr.hasOwnProperty(name)) {
          if (name === 'class') {
            mergeAttr[name] += ' ' + value;
          } else if (name === 'style') {
            mergeAttr[name] += ';' + value;
          } else {
            mergeAttr[name] = value;
          }
        } else {
          mergeAttr[name] = value;
        }
      });
    }
    return mergeAttr;
  },
  /**
   * Проверка на число
   * @param num
   * @returns {boolean}
   * @private
   */
  isNumeric: function isNumeric(num) {
    return (typeof num === 'number' || typeof num === "string" && num.trim() !== '') && !isNaN(num);
  },
  /**
   * @returns {string}
   * @private
   */
  hashCode: function hashCode() {
    return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);
  },
  /**
   * Проверка на объект
   * @param value
   */
  isObject: function isObject(value) {
    return _typeof(value) === 'object' && !Array.isArray(value) && value !== null;
  },
  /**
   * @param str
   * @returns {number}
   * @private
   */
  crc32: function crc32(str) {
    for (var a, o = [], c = 0; c < 256; c++) {
      a = c;
      for (var f = 0; f < 8; f++) {
        a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
      }
      o[c] = a;
    }
    for (var n = -1, t = 0; t < str.length; t++) {
      n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))];
    }
    return (-1 ^ n) >>> 0;
  }
};

var coreuiTableRender = {
  /**
   * Сборка таблицы
   * @param {object} table
   * @private
   */
  renderTable: function renderTable(table) {
    var options = table.getOptions();
    var recordsElements = [];
    var columnsHeader = '';
    var columnsFooter = '';
    var colGroups = [];
    var columns = [];

    // Колонки
    if (table._columns.length > 0) {
      $.each(table._columns, function (key, column) {
        if (!column.isShow()) {
          return;
        }
        var columnOptions = column.getOptions();
        var attributes = [];
        var sortable = null;
        if (columnOptions.hasOwnProperty('field') && typeof columnOptions.field === 'string') {
          columnOptions.attrHeader = coreuiTableUtils.mergeAttr(columnOptions.attrHeader, {
            "data-field": columnOptions.field
          });
        }
        if (columnOptions.hasOwnProperty('fixed') && typeof columnOptions.fixed === 'string') {
          columnOptions.attrHeader = coreuiTableUtils.mergeAttr(columnOptions.attrHeader, {
            "class": 'coreui-table__fixed_' + columnOptions.fixed
          });
          columnOptions.attr = coreuiTableUtils.mergeAttr(columnOptions.attr, {
            "class": 'coreui-table__fixed_' + columnOptions.fixed
          });
        }
        if (columnOptions.type !== 'numbers') {
          if (columnOptions.hasOwnProperty('sortable') && columnOptions.sortable) {
            columnOptions.attrHeader = coreuiTableUtils.mergeAttr(columnOptions.attrHeader, {
              "class": 'coreui-table__sortable'
            });
          }
          if (table._sort.length > 0 && columnOptions.hasOwnProperty('field') && typeof columnOptions.field === 'string' && columnOptions.field) {
            $.each(table._sort, function (key, sortField) {
              if (columnOptions.field === sortField.field) {
                if (sortField.order === 'asc') {
                  sortable = 'asc';
                } else if (sortField.order === 'desc') {
                  sortable = 'desc';
                }
                return false;
              }
            });
          }
        }
        if (columnOptions.attrHeader && coreuiTableUtils.isObject(columnOptions.attrHeader)) {
          $.each(columnOptions.attrHeader, function (name, value) {
            attributes.push(name + '="' + value + '"');
          });
        }
        var style = [];
        if (columnOptions.hasOwnProperty('width') && ['string', 'number'].indexOf(_typeof(columnOptions.width)) >= 0) {
          var unit = typeof columnOptions.width === 'number' ? 'px' : '';
          style.push('width:' + columnOptions.width + unit);
        }
        if (columnOptions.hasOwnProperty('minWidth') && ['string', 'number'].indexOf(_typeof(columnOptions.minWidth)) >= 0) {
          var _unit = typeof columnOptions.minWidth === 'number' ? 'px' : '';
          style.push('min-width:' + columnOptions.minWidth + _unit);
        }
        if (columnOptions.hasOwnProperty('maxWidth') && ['string', 'number'].indexOf(_typeof(columnOptions.maxWidth)) >= 0) {
          var _unit2 = typeof columnOptions.maxWidth === 'number' ? 'px' : '';
          style.push('max-width:' + columnOptions.maxWidth + _unit2);
        }
        colGroups.push({
          style: style.length > 0 ? style.join(';') : ''
        });
        var label = '';
        var description = '';
        if (columnOptions.hasOwnProperty('label') && typeof columnOptions.label === 'string' && (!columnOptions.hasOwnProperty('showLabel') || columnOptions.showLabel)) {
          label = columnOptions.label;
        }
        if (columnOptions.hasOwnProperty('description') && typeof columnOptions.label === 'string') {
          description = columnOptions.description;
        }
        columns.push({
          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
          label: label,
          description: description,
          sortable: sortable
        });
      });
    }

    // Строки
    if (table._records.length > 0) {
      table._recordsTotal = table.getRecordsCount();
      table._recordsNumber = table._page === 1 ? 1 : (table._page - 1) * table._recordsPerPage + 1;
      recordsElements = coreuiTableRender.renderRecords(table, table._records);
    } else {
      recordsElements = coreuiTableRender.renderRecords(table, []);
    }
    if (options.hasOwnProperty('columnsHeader') && Array.isArray(options.columnsHeader) && options.columnsHeader.length > 0) {
      var rows = [];
      $.each(options.columnsHeader, function (key, headerRow) {
        if (Array.isArray(headerRow)) {
          var cells = [];
          $.each(headerRow, function (key, headerColumn) {
            if (coreuiTableUtils.isObject(headerColumn)) {
              var attributes = [];
              if (headerColumn.hasOwnProperty('attr') && coreuiTableUtils.isObject(headerColumn.attr)) {
                $.each(headerColumn.attr, function (name, value) {
                  attributes.push(name + '="' + value + '"');
                });
              }
              cells.push({
                content: headerColumn.hasOwnProperty('content') ? headerColumn.content : '',
                description: headerColumn.hasOwnProperty('description') ? headerColumn.description : '',
                attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
              });
            }
          });
          rows.push(ejs.render(tpl['table-columns-header.html'], {
            columns: cells
          }));
        }
      });
      columnsHeader = rows.join('');
    }
    if (options.hasOwnProperty('columnsFooter') && Array.isArray(options.columnsFooter) && options.columnsFooter.length > 0) {
      var _rows = [];
      $.each(options.columnsFooter, function (key, footerRow) {
        if (Array.isArray(footerRow)) {
          var cells = [];
          $.each(footerRow, function (key, footerColumn) {
            if (coreuiTableUtils.isObject(footerColumn)) {
              var attributes = [];
              if (footerColumn.hasOwnProperty('attr') && coreuiTableUtils.isObject(footerColumn.attr)) {
                $.each(footerColumn.attr, function (name, value) {
                  attributes.push(name + '="' + value + '"');
                });
              }
              cells.push({
                content: footerColumn.hasOwnProperty('content') ? footerColumn.content : '',
                description: footerColumn.hasOwnProperty('description') ? footerColumn.description : '',
                attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
              });
            }
          });
          _rows.push(ejs.render(tpl['table-columns-footer.html'], {
            columns: cells
          }));
        }
      });
      columnsFooter = _rows.join('');
    }
    var classes = [];
    if (typeof options["class"] === 'string' && options["class"]) {
      classes.push(options["class"]);
    }
    if (!columnsFooter) {
      classes.push('empty-tfoot');
    }
    var htmlColumns = ejs.render(tpl['table-columns.html'], {
      columns: columns
    });
    var theadAttr = [];
    if (options.hasOwnProperty('theadTop') && ['string', 'number'].indexOf(_typeof(options.theadTop)) >= 0) {
      var unit = coreuiTableUtils.isNumeric(options.theadTop) ? 'px' : '';
      theadAttr.push('style="top:' + options.theadTop + unit + '"');
    }
    var tableElement = $(ejs.render(tpl['table.html'], {
      classes: classes.join(' '),
      theadAttr: theadAttr.length > 0 ? theadAttr.join(' ') : '',
      showHeaders: options.showHeaders,
      columnsHeader: columnsHeader,
      colGroups: colGroups,
      columns: htmlColumns,
      columnsFooter: columnsFooter
    }));
    var tbody = tableElement.find('tbody');
    $.each(recordsElements, function (key, recordElement) {
      tbody.append(recordElement);
    });
    return tableElement;
  },
  /**
   * Сборка записей таблицы
   * @param {object} table
   * @param {Array}  records
   * @return {Array}
   */
  renderRecords: function renderRecords(table, records) {
    var renderRecords = [];
    if (records.length > 0) {
      var that = this;
      var options = table.getOptions();
      var group = options.hasOwnProperty('group') && coreuiTableUtils.isObject(options.group) && options.group.hasOwnProperty('field') && typeof options.group.field === 'string' && options.group.field ? options.group : null;
      var groupValue = null;
      $.each(records, function (key, record) {
        if (record.show) {
          if (group && record.data.hasOwnProperty(group.field) && ['string', 'number'].indexOf(_typeof(record.data[group.field])) >= 0 && groupValue != record.data[group.field]) {
            groupValue = record.data[group.field];
            renderRecords.push(that.renderGroup(table, group, record));
          }
          renderRecords.push(that.renderRecord(table, record));
          table._recordsNumber++;
        }
      });
    }
    if (renderRecords.length === 0) {
      renderRecords = [$(ejs.render(tpl['table-records-empty.html'], {
        columnsCount: table._countColumnsShow,
        lang: table.getLang()
      }))];
    }
    return renderRecords;
  },
  /**
   * Сборка записи таблицы
   * @param {object} table
   * @param {object} record
   * @returns {{ attr: (string), fields: (object) }}}
   * @private
   */
  renderRecord: function renderRecord(table, record) {
    var that = this;
    var options = table.getOptions();
    var fields = [];
    var recordAttr = {
      "class": 'coreui-table__record'
    };
    record = $.extend(true, {}, record);
    $.each(table._columns, function (key, column) {
      if (!column.isShow()) {
        return;
      }
      var field = that.renderField(table, column, record);
      if (field) {
        fields.push(field);
      }
    });
    if (typeof options.onClickUrl === 'string' && options.onClickUrl) {
      recordAttr["class"] += ' coreui-table_pointer';
    }
    if (record.meta) {
      recordAttr = coreuiTableUtils.mergeAttr(recordAttr, record.meta.attr);
    }
    var attributes = [];
    $.each(recordAttr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    var recordElement = $(ejs.render(tpl['table-record.html'], {
      record: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        index: record.index,
        fields: fields
      }
    }));
    $.each(fields, function (key, field) {
      recordElement.find(' > td:eq(' + key + ')').html(field.content);
    });
    return recordElement;
  },
  /**
   * Сборка ячейки таблицы
   * @param {object} table
   * @param {object} column
   * @param {object} record
   * @returns {{ attr: (string), content: (string) }}
   * @private
   */
  renderField: function renderField(table, column, record) {
    var columnOptions = column.getOptions();
    var columnField = typeof columnOptions.field === 'string' ? columnOptions.field : null;
    var content = null;
    var fieldProps = record.meta && record.meta.hasOwnProperty('fields') && record.meta.fields.hasOwnProperty(columnField) ? record.meta.fields[columnField] : null;
    var fieldAttr = columnOptions.hasOwnProperty('attr') && coreuiTableUtils.isObject(columnOptions.attr) ? columnOptions.attr : {};
    if (fieldProps && coreuiTableUtils.isObject(fieldProps)) {
      if (fieldProps && fieldProps.hasOwnProperty('show') && !fieldProps.show) {
        return null;
      }
      if (coreuiTableUtils.isObject(fieldProps.attr)) {
        fieldAttr = coreuiTableUtils.mergeAttr(fieldAttr, fieldProps.attr);
      }
    }
    if (columnOptions.hasOwnProperty('fixed') && typeof columnOptions.fixed === 'string') {
      fieldAttr = coreuiTableUtils.mergeAttr(fieldAttr, {
        "class": 'coreui-table__fixed_' + columnOptions.fixed
      });
    }
    if (typeof columnOptions.render === 'function') {
      content = columnOptions.render({
        data: record.data,
        meta: record.meta,
        index: record.index
      }, table);
    } else {
      content = columnField && record.data.hasOwnProperty(columnField) ? record.data[columnField] : null;
    }
    content = column.render(content, record);
    var fieldAttrResult = [];
    $.each(fieldAttr, function (name, value) {
      fieldAttrResult.push(name + '="' + value + '"');
    });
    return {
      attr: fieldAttrResult.length > 0 ? ' ' + fieldAttrResult.join(' ') : '',
      content: content
    };
  },
  /**
   * Сборка записи-группы
   * @param {object} table
   * @param {object} group
   * @param {object} record
   * @returns {{ attr: (string), fields: (object) }}}
   * @private
   */
  renderGroup: function renderGroup(table, group, record) {
    var attr = group.hasOwnProperty('attr') && coreuiTableUtils.isObject(group.attr) ? group.attr : {};
    if (attr.hasOwnProperty('class') && typeof attr["class"] === 'string') {
      attr["class"] += ' coreui-table__record-group';
    } else {
      attr["class"] = 'coreui-table__record-group';
    }
    var attributes = [];
    $.each(attr, function (name, value) {
      if (typeof value === 'string') {
        attributes.push(name + '="' + value + '"');
      }
    });
    var recordElement = $(ejs.render(tpl['table-record-group.html'], {
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      colspan: table._countColumnsShow
    }));
    var content = record.data[group.field];
    if (group.hasOwnProperty('render') && typeof group.render === 'function') {
      var renderContent = group.render(record);
      if (renderContent) {
        content = renderContent;
      }
    }
    recordElement.find(' > td').html(content);
    return recordElement;
  },
  /**
   * Сборка раскрывающейся строки
   * @param {object}       table
   * @param {Array|string} content
   */
  renderExpand: function renderExpand(table, content) {
    if (_typeof(content) === 'object') {
      content = coreuiTableRender.renderComponents(table, content, 'record_expand_show');
    }
    var expandRecord = $(ejs.render(tpl['table-record-expand.html'], {
      colspan: table._countColumnsShow
    }));
    if (['string', 'number'].indexOf(_typeof(content)) >= 0) {
      expandRecord.find('td').html(content);
    } else if (Array.isArray(content)) {
      $.each(content, function (key, item) {
        if (['string', 'number'].indexOf(_typeof(item)) >= 0 || item instanceof HTMLElement || window.hasOwnProperty('jQuery') && item instanceof jQuery) {
          expandRecord.find('td').append(item);
        }
      });
    }
    return expandRecord;
  },
  /**
   * Сборка элемента управления
   * @param {object} table
   * @param {object} control
   * @private
   * @returns {HTMLElement|jQuery}
   */
  renderControl: function renderControl(table, control) {
    if (coreuiTableUtils.isObject(control)) {
      var controlElement = $(ejs.render(tpl['table-control.html'], {
        id: control.getId()
      }));
      controlElement.append(control.render());
      if (control.hasOwnProperty('initEvents') && typeof control.initEvents === 'function') {
        table.on('container_show', function () {
          control.initEvents();
        });
      }
      return controlElement;
    }
  },
  /**
   * Формирование контента компонента
   * @param {object} table
   * @param {object} components
   * @param {string} eventName
   * @return {Array}
   */
  renderComponents: function renderComponents(table, components, eventName) {
    var result = [];
    if (components instanceof Object) {
      if (!Array.isArray(components)) {
        components = [components];
      }
      for (var i = 0; i < components.length; i++) {
        if (typeof components[i] === 'string') {
          result.push(components[i]);
        } else if (!Array.isArray(components[i]) && components[i].hasOwnProperty('component') && components[i].component.substring(0, 6) === 'coreui') {
          var name = components[i].component.split('.')[1];
          if (CoreUI.hasOwnProperty(name) && coreuiTableUtils.isObject(CoreUI[name])) {
            var instance = CoreUI[name].create(components[i]);
            result.push(instance.render());
            if (eventName) {
              table.on(eventName, instance.initEvents, instance, true);
            }
          }
        }
      }
    }
    return result;
  }
};

var coreuiTablePrivate = {
  /**
   * Инициализация колонок
   * @param {Object} table
   * @param {Array} columns
   * @private
   */
  initColumns: function initColumns(table, columns) {
    $.each(columns, function (key, column) {
      if (typeof column.type === 'undefined' || !coreuiTable$1.columns.hasOwnProperty(column.type)) {
        column.type = 'text';
      }
      if (!column.hasOwnProperty('show') || typeof column.show !== 'boolean') {
        column.show = true;
      }
      if (column.hasOwnProperty('fixed') && typeof column.fixed === 'string') {
        table._options.overflow = true;
      }
      var columnInstance = $.extend(true, {}, coreuiTable$1.columns[column.type]);
      columnInstance.init(table, column);
      table._columns.push(columnInstance);
      if (columnInstance.isShow()) {
        table._countColumnsShow++;
      }
    });
  },
  /**
   * Инициализация поисковых полей
   * @param {Object} table
   * @param {Array}  searchControls
   * @private
   */
  initSearch: function initSearch(table, searchControls) {
    var options = table.getOptions();
    var searchValues = options.saveState && options.id ? coreuiTablePrivate.getStorageField(table.getId(), 'search') : null;
    $.each(searchControls, function (key, control) {
      if (!coreuiTableUtils.isObject(control)) {
        control = {};
      }
      if (!control.hasOwnProperty('type') || typeof control.type !== 'string' || !coreuiTable$1.search.hasOwnProperty(control.type)) {
        control.type = 'text';
      }
      if (options.saveState && options.id) {
        control.value = null;
        if (Array.isArray(searchValues) && control.hasOwnProperty('field')) {
          $.each(searchValues, function (key, search) {
            if (coreuiTableUtils.isObject(search) && search.hasOwnProperty('field') && search.hasOwnProperty('value') && search.field && search.field === control.field) {
              control.value = search.value;
              return false;
            }
          });
        }
      }
      var controlInstance = $.extend(true, {}, coreuiTable$1.search[control.type]);
      controlInstance.init(table, control);
      table._search.push(controlInstance);
    });
  },
  /**
   * Инициализация контролов и фильтров
   * @param {Object} table
   * @param {Array}  rows
   * @param {string} position
   * @private
   */
  initControls: function initControls(table, rows, position) {
    var that = this;
    $.each(rows, function (key, row) {
      var type = 'in';
      var controlsLeft = [];
      var controlsCenter = [];
      var controlsRight = [];
      if (typeof row.type === 'string' && ['in', 'out'].indexOf(row.type.toLowerCase()) >= 0) {
        type = row.type.toLowerCase();
      }
      if (row.hasOwnProperty('left') && Array.isArray(row.left)) {
        $.each(row.left, function (key, control) {
          var instance = that.initControl(table, control);
          if (coreuiTableUtils.isObject(instance)) {
            controlsLeft.push(instance);
          }
        });
      }
      if (row.hasOwnProperty('center') && Array.isArray(row.center)) {
        $.each(row.center, function (key, control) {
          var instance = that.initControl(table, control);
          if (coreuiTableUtils.isObject(instance)) {
            controlsCenter.push(instance);
          }
        });
      }
      if (row.hasOwnProperty('right') && Array.isArray(row.right)) {
        $.each(row.right, function (key, control) {
          var instance = that.initControl(table, control);
          if (coreuiTableUtils.isObject(instance)) {
            controlsRight.push(instance);
          }
        });
      }
      if (controlsLeft.length > 0 || controlsCenter.length > 0 || controlsRight.length > 0) {
        table._controlsPositions[position].push({
          type: type,
          left: controlsLeft,
          center: controlsCenter,
          right: controlsRight
        });
      }
    });
  },
  /**
   * Инициализация контрола или фильтра
   * @param {Object} table
   * @param {object} control
   * @private
   */
  initControl: function initControl(table, control) {
    var instance = null;
    if (coreuiTableUtils.isObject(control) && typeof control.type === 'string') {
      if (coreuiTable$1.controls.hasOwnProperty(control.type)) {
        instance = $.extend(true, {}, coreuiTable$1.controls[control.type]);
        instance.init(table, control);
        table._controls.push(instance);
      } else if (control.type.indexOf('filter:') === 0) {
        var filterName = control.type.substring(7);
        if (coreuiTable$1.filters.hasOwnProperty(filterName)) {
          if (control.hasOwnProperty('field')) {
            var options = table.getOptions();
            if (options.saveState && options.id) {
              var filterValues = options.saveState && options.id ? coreuiTablePrivate.getStorageField(table.getId(), 'filters') : null;
              control.value = null;
              if (Array.isArray(filterValues)) {
                $.each(filterValues, function (key, filter) {
                  if (coreuiTableUtils.isObject(filter) && filter.hasOwnProperty('field') && filter.hasOwnProperty('value') && filter.field && filter.field === control.field) {
                    control.value = filter.value;
                    return false;
                  }
                });
              }
            }
          }
          instance = $.extend(true, {}, coreuiTable$1.filters[filterName]);
          instance.init(table, control);
          table._filters.push(instance);
        }
      }
    }
    return instance;
  },
  /**
   * Инициализация сортировки
   * @param {Object} table
   * @param {Array} sort
   * @private
   */
  initSort: function initSort(table, sort) {
    if (Array.isArray(sort) && sort.length > 0) {
      $.each(sort, function (key, sortField) {
        if (coreuiTableUtils.isObject(sortField) && sortField.hasOwnProperty('field') && sortField.hasOwnProperty('order') && typeof sortField.field === 'string' && typeof sortField.order === 'string' && sortField.field && sortField.order && ['asc', 'desc'].indexOf(sortField.order) >= 0) {
          table._sort.push({
            field: sortField.field,
            order: sortField.order
          });
        }
      });
    }
  },
  /**
   * Установка записей
   * @param {Object} table
   * @param {Array}  records
   * @private
   */
  setRecords: function setRecords(table, records) {
    table._recordsIndex = 1;
    table._records = [];
    var that = this;
    $.each(records, function (key, record) {
      that.addRecord(table, record);
    });
  },
  /**
   * Добавление новой записи
   * @param {object} table
   * @param {object} data
   * @param {number} afterIndex
   * @return {object|null}
   * @private
   */
  addRecord: function addRecord(table, data, afterIndex) {
    if (coreuiTableUtils.isObject(data)) {
      data = $.extend(true, {}, data);
      var meta = data.hasOwnProperty('_meta') && coreuiTableUtils.isObject(data._meta) ? data._meta : null;
      if (meta) {
        delete data._meta;
      }
      var record = {
        index: table._recordsIndex++,
        data: data,
        show: true,
        meta: meta,
        seq: table._seq++
      };
      if (typeof afterIndex === 'number') {
        if (afterIndex === 0) {
          table._records.splice(0, 0, record);
          return record;
        } else {
          var index = null;
          $.each(table._records, function (key, record) {
            if (afterIndex === record.index) {
              index = key;
              return false;
            }
          });
          if (index !== null) {
            table._records.splice(index, 0, record);
            return record;
          }
        }
      } else {
        table._records.push(record);
        return record;
      }
    }
    return null;
  },
  /**
   * Добавление новой записи перед указанной
   * @param {object} table
   * @param {object} data
   * @param {number} index
   * @return {object|null}
   * @private
   */
  addRecordBefore: function addRecordBefore(table, data, index) {
    if (coreuiTableUtils.isObject(data) && typeof index === 'number') {
      data = $.extend(true, {}, data);
      var meta = data.hasOwnProperty('_meta') && coreuiTableUtils.isObject(data._meta) ? data._meta : null;
      if (meta) {
        delete data._meta;
      }
      var record = {
        index: table._recordsIndex++,
        data: data,
        show: true,
        meta: meta,
        seq: table._seq++
      };
      var issetKey = false;
      var keyBefore = null;
      $.each(table._records, function (key, record) {
        if (index === record.index) {
          issetKey = true;
          return false;
        }
        keyBefore = key;
      });
      if (issetKey && keyBefore) {
        table._records.splice(keyBefore, 0, record);
        return record;
      }
    }
    return null;
  },
  /**
   * Проверка подходит ли запись под поисковые данные
   * @param {Array}  filters
   * @param {object} recordData
   * @return {boolean}
   * @private
   */
  isFilteredRecord: function isFilteredRecord(filters, recordData) {
    var isShow = true;
    $.each(filters, function (key, filter) {
      if (recordData.hasOwnProperty(filter.field) && ['string', 'number'].indexOf(_typeof(recordData[filter.field])) >= 0) {
        if (['string', 'number'].indexOf(_typeof(filter.value)) >= 0) {
          if (filter.hasOwnProperty('alg') && filter.alg === 'strict') {
            if (recordData[filter.field].toString().toLowerCase() != filter.value.toString().toLowerCase()) {
              isShow = false;
              return false;
            }
          } else if (recordData[filter.field].toString().toLowerCase().indexOf(filter.value.toString().toLowerCase()) < 0) {
            isShow = false;
            return false;
          }
        } else if (Array.isArray(filter.value)) {
          if (filter.value.indexOf(recordData[filter.field].toString()) < 0) {
            isShow = false;
            return false;
          }
        } else if (coreuiTableUtils.isObject(filter.value) && filter.value.hasOwnProperty('start') && filter.value.hasOwnProperty('end')) {
          var issetStart = ['string', 'number'].indexOf(_typeof(filter.value.start)) >= 0;
          var issetEnd = ['string', 'number'].indexOf(_typeof(filter.value.end)) >= 0;
          if (issetStart && issetEnd) {
            if (recordData[filter.field] < filter.value.start || filter.value.end < recordData[filter.field]) {
              isShow = false;
              return false;
            }
          } else if (issetStart) {
            if (filter.value.start > recordData[filter.field]) {
              isShow = false;
              return false;
            }
          } else if (issetEnd) {
            if (filter.value.end < recordData[filter.field]) {
              isShow = false;
              return false;
            }
          }
        }
      } else {
        isShow = false;
        return false;
      }
    });
    return isShow;
  },
  /**
   * Выполнения зарегистрированных функций в указанном событии
   * @param {object} table
   * @param {string} name
   * @param {Array}  params
   * @private
   */
  _trigger: function _trigger(table, name, params) {
    params = params || [];
    if (table._events.hasOwnProperty(name) && table._events[name].length > 0) {
      for (var i = 0; i < table._events[name].length; i++) {
        var callback = table._events[name][i].callback;
        var context = table._events[name][i].context ? table._events[name][i].context : table;
        callback.apply(context, params);
        if (table._events[name][i].singleExec) {
          table._events[name].splice(i, 1);
          i--;
        }
      }
    }
  },
  /**
   * Сортировка записей по seq
   * @param {Array} records
   * @return {*}
   */
  sortRecordsBySeq: function sortRecordsBySeq(records) {
    return records.sort(function (a, b) {
      return a.seq - b.seq;
    });
  },
  /**
   * Сортировка записей по указанным полям
   * @param records
   * @param fields
   */
  sortRecordsByFields: function sortRecordsByFields(records, fields) {
    return records.sort(function (a, b) {
      for (var i = 0; i < fields.length; i++) {
        var issetAField = a.data.hasOwnProperty(fields[i].field);
        var issetBField = b.data.hasOwnProperty(fields[i].field);
        if (!issetAField && !issetBField) {
          return 0;
        } else if (!issetAField) {
          return 1;
        } else if (!issetBField) {
          return -1;
        }
        var aVal = a.data[fields[i].field];
        var bVal = b.data[fields[i].field];
        if (aVal === null || aVal === undefined || typeof aVal === "function") {
          aVal = '';
        } else if (_typeof(aVal) === 'object') {
          aVal = JSON.stringify(aVal);
        }
        if (bVal === null || bVal === undefined || typeof bVal === "function") {
          bVal = '';
        } else if (_typeof(bVal) === 'object') {
          bVal = JSON.stringify(bVal);
        }
        var val = aVal < bVal ? -1 : aVal > bVal ? 1 : 0;
        if (fields[i].order === "desc") {
          val = val * -1;
        }
        if (val !== 0) {
          return val;
        }
      }
    });
  },
  /**
   * Установка сортировки для указанных колонок
   * @param {object} table
   * @param {Array}  sort
   */
  setColumnsSort: function setColumnsSort(table, sort) {
    var thead = coreuiTableElements.getTableThead(table.getId());
    $.each(table._columns, function (key, column) {
      var options = column.getOptions();
      if (options.hasOwnProperty('field') && options.hasOwnProperty('sortable') && typeof options.field === 'string' && options.sortable) {
        var sortColumn = null;
        if (Array.isArray(sort)) {
          $.each(sort, function (key, sortItem) {
            if (coreuiTableUtils.isObject(sortItem) && sortItem.hasOwnProperty('field') && sortItem.hasOwnProperty('order') && typeof sortItem.field === 'string' && typeof sortItem.order === 'string' && options.field === sortItem.field) {
              sortColumn = {
                field: sortItem.field,
                order: sortItem.order
              };
            }
          });
        }
        var columnElement = thead.find('[data-field="' + options.field + '"]');
        columnElement.find('.coreui-table__column-sort').remove();
        if (sortColumn !== null) {
          if (sortColumn.order === 'asc') {
            columnElement.append('<i class="coreui-table__column-sort bi bi-sort-down-alt"></i>');
          } else {
            columnElement.append('<i class="coreui-table__column-sort bi bi-sort-down"></i>');
          }
        }
      }
    });
  },
  /**
   * Получение данных из хранилища
   * @param {string} tableId
   * @return {object|null}
   */
  getStorage: function getStorage(tableId) {
    var storage = localStorage.getItem('coreui_table');
    try {
      if (typeof storage === 'string' && storage) {
        storage = JSON.parse(storage);
        if (coreuiTableUtils.isObject(storage)) {
          return tableId && typeof tableId === 'string' ? storage.hasOwnProperty(tableId) ? storage[tableId] : null : storage;
        }
      }
      return null;
    } catch (e) {
      return null;
    }
  },
  /**
   * Сохранение данных в хранилище
   * @param {string}      tableId
   * @param {object|null} storage
   */
  setStorage: function setStorage(tableId, storage) {
    if (typeof tableId !== 'string' || !tableId) {
      return;
    }
    var storageAll = this.getStorage();
    if (coreuiTableUtils.isObject(storageAll)) {
      if (storageAll.hasOwnProperty(tableId)) {
        if (storage) {
          storageAll[tableId] = storage;
        } else {
          delete storageAll[tableId];
        }
      } else if (storage) {
        storageAll[tableId] = storage;
      }
    }
    localStorage.setItem('coreui_table', JSON.stringify(storageAll || {}));
  },
  /**
   * Получение поля из хранилища
   * @param tableId
   * @param field
   * @return {*|null}
   */
  getStorageField: function getStorageField(tableId, field) {
    var storage = this.getStorage(tableId) || {};
    return storage.hasOwnProperty(field) ? storage[field] : null;
  },
  /**
   * Сохранение поля в хранилище
   * @param tableId
   * @param field
   * @param data
   */
  setStorageField: function setStorageField(tableId, field, data) {
    var storage = this.getStorage(tableId) || {};
    if (data === null) {
      if (storage.hasOwnProperty(field)) {
        delete storage[field];
      }
    } else {
      storage[field] = data;
    }
    this.setStorage(tableId, storage);
  }
};

var coreuiTableElements = {
  /**
   * Получение контейнера таблицы
   * @param {string} tableId
   * @return {jQuery}
   */
  getContainer: function getContainer(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container');
  },
  /**
   * Получение обертки таблицы
   * @param {string} tableId
   * @return {jQuery}
   */
  getLock: function getLock(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table-lock');
  },
  /**
   * Получение обертки таблицы
   * @param {string} tableId
   * @return {jQuery}
   */
  getWrapper: function getWrapper(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper');
  },
  /**
   * Получение поискового контейнера
   * @param {string} tableId
   * @return {jQuery}
   */
  getSearchContainer: function getSearchContainer(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > .coreui-table__search');
  },
  /**
   * Получение поискового контейнера
   * @param {string} tableId
   * @return {jQuery}
   */
  getColumnsContainer: function getColumnsContainer(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > .coreui-table__columns');
  },
  /**
   * Получение контейнера поискового контрола
   * @param {string} tableId
   * @param {string} controlId
   * @return {jQuery}
   */
  getSearchControl: function getSearchControl(tableId, controlId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > .coreui-table__search .search-control-' + controlId);
  },
  /**
   * Получение контейнера контрола
   * @param {string} tableId
   * @param {string} controlId
   * @return {jQuery}
   */
  getControl: function getControl(tableId, controlId) {
    return $('#coreui-table-' + tableId + '  #coreui-table-control-' + controlId);
  },
  /**
   * Получение таблицы
   * @param {string} tableId
   * @return {jQuery}
   */
  getTable: function getTable(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table');
  },
  /**
   * Получение тела таблицы
   * @param {string} tableId
   * @return {jQuery}
   */
  getTableTbody: function getTableTbody(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table > tbody');
  },
  /**
   * Получение заголовков таблицы
   * @param {string} tableId
   * @return {jQuery}
   */
  getTableThead: function getTableThead(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table > thead');
  },
  /**
   * Получение ячеек с сортировкой по таблице
   * @param {string} tableId
   * @return {jQuery}
   */
  getTableSortable: function getTableSortable(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table > thead > tr > td.coreui-table__sortable');
  },
  /**
   * Получение строк записей
   * @param {string} tableId
   * @return {jQuery}
   */
  getTrRecords: function getTrRecords(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table > tbody > tr.coreui-table__record');
  },
  /**
   * Получение элемента строки по ключу
   * @param {string} tableId
   * @param {int}    index
   * @return {jQuery}
   */
  getTrByIndex: function getTrByIndex(tableId, index) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table > tbody > tr[data-record-index="' + index + '"]');
  },
  /**
   * Получение контента под строкой
   * @param {jQuery} recordElement
   * @return {jQuery}
   */
  getExpandRow: function getExpandRow(recordElement) {
    return recordElement.next().hasClass('coreui-table__record-expanded') ? recordElement.next() : null;
  },
  /**
   * Добавление контента под строкой
   * @param {object}       table
   * @param {jQuery}       recordElement
   * @param {Array|string} content
   * @return {jQuery}
   */
  addExpandRow: function addExpandRow(table, recordElement, content) {
    var expandRecord = coreuiTableRender.renderExpand(table, content, 'record_expand_show');
    recordElement.after(expandRecord);
    recordElement.next().show('fast');
    recordElement.addClass('record-expanded');
    var recordIndex = recordElement.data('record-index');
    coreuiTablePrivate._trigger(table, 'record_expand_show', [recordIndex]);
  },
  /**
   * Скрытие контента под строкой
   * @param {jQuery} recordExpanded
   * @return {jQuery}
   */
  hideExpandRow: function hideExpandRow(recordExpanded) {
    recordExpanded.hide('fast');
  },
  /**
   * Показ контента под строкой
   * @param {jQuery} recordExpanded
   * @return {jQuery}
   */
  showExpandRow: function showExpandRow(recordExpanded) {
    recordExpanded.show('fast');
  },
  /**
   * Удаление контента под строкой
   * @param {jQuery} recordExpanded
   * @return {jQuery}
   */
  removeExpandRow: function removeExpandRow(recordExpanded) {
    recordExpanded.hide('fast', function () {
      $(this).remove();
    });
  },
  /**
   * Получение выбранных на таблице элементов
   * @param {string} tableId
   * @return {Array}
   */
  getSelectedIndexes: function getSelectedIndexes(tableId) {
    var indexes = [];
    $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table > tbody > tr.coreui-table__record > td.coreui-table__select_container > .coreui-table__select:checked').each(function (key, element) {
      indexes.push($(element).val());
    });
    return indexes;
  },
  /**
   * Получение выбранных на таблице элементов
   * @param {string} tableId
   * @return {Array}
   */
  getRowsSwitches: function getRowsSwitches(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table > tbody > tr.coreui-table__record > td.coreui-table__switch_container');
  },
  /**
   * Получение элементов выбора строк
   * @param {string} tableId
   * @return {Array}
   */
  getRowsSelects: function getRowsSelects(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper  > table > tbody > tr.coreui-table__record > td.coreui-table__select_container');
  },
  /**
   * Получение элемента для выбора всех строк
   * @param {string} tableId
   * @return {Array}
   */
  getRowsSelectAll: function getRowsSelectAll(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper  > table > thead > tr > td .coreui-table__select-all');
  },
  /**
   * Получение элементов для раскрытия ячеек
   * @param {string} tableId
   * @return {Array}
   */
  getNoWrapToggles: function getNoWrapToggles(tableId) {
    return $('#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper  > table > tbody > tr > td.coreui_table__no-wrap > i.toggle');
  },
  /**
   * Выделение строки в таблице
   * @param {jQuery} tr
   */
  selectTr: function selectTr(tr) {
    tr.addClass('table-primary');
    $('.coreui-table__select', tr).prop('checked', true);
  },
  /**
   * Выделение всех строк в таблице
   * @param {string} tableId
   */
  selectTrAll: function selectTrAll(tableId) {
    var tableContainer = '#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table';
    $(tableContainer + ' > thead > tr > td > .coreui-table__select-all').prop('checked', true);
    $(tableContainer + ' > tbody > tr.coreui-table__record').addClass('table-primary');
    $(tableContainer + ' > tbody > tr.coreui-table__record > td > .coreui-table__select').prop('checked', true);
  },
  /**
   * Снятие выделение строки в таблице
   * @param {jQuery} tr
   */
  unselectTr: function unselectTr(tr) {
    $(tr).removeClass('table-primary');
    $('.coreui-table__select', tr).prop('checked', false);
  },
  /**
   * Снятие выделение со всех строк в таблице
   * @param {string} tableId
   */
  unselectTrAll: function unselectTrAll(tableId) {
    var tableContainer = '#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper > table';
    $(tableContainer + ' > thead > tr > td > .coreui-table__select-all').prop('checked', false);
    $(tableContainer + ' > tbody > tr.coreui-table__record').removeClass('table-primary');
    $(tableContainer + ' > tbody > tr.coreui-table__record > td.coreui-table__select_container > .coreui-table__select').prop('checked', false);
  },
  /**
   * Фиксация колонок слева
   * @param {string} tableId
   */
  fixedColsLeft: function fixedColsLeft(tableId) {
    var tableWrapper = '#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper';
    var colOffset = 0;
    $(tableWrapper + ' > table > thead > tr:last-child > td.coreui-table__fixed_left').each(function () {
      var index = $(this).index() + 1;
      if (index !== 1) {
        $(tableWrapper + ' > table > thead > tr:last-child > td:nth-child(' + index + ')').css('left', colOffset + 'px');
        $(tableWrapper + ' > table > tbody > tr > td:nth-child(' + index + ')')
        //.addClass('coreui-table__fixed_left')
        .css('left', colOffset + 'px');
      }
      colOffset += $(this).outerWidth();
    });
  },
  /**
   * Фиксация колонок справа
   * @param {string} tableId
   */
  fixedColsRight: function fixedColsRight(tableId) {
    var tableWrapper = '#coreui-table-' + tableId + ' > .coreui-table__container > .coreui-table__wrapper';
    var colOffset = 0;
    $($(tableWrapper + ' > table > thead > tr:last-child > td.coreui-table__fixed_right').get().reverse()).each(function () {
      var index = $(this).index() + 1;
      if (index !== 1) {
        $(tableWrapper + ' > table > thead > tr:last-child > td:nth-child(' + index + ')').css('right', colOffset + 'px');
        $(tableWrapper + ' > table > tbody > tr > td:nth-child(' + index + ')')
        //.addClass('coreui-table__fixed_left')
        .css('right', colOffset + 'px');
      }
      colOffset += $(this).outerWidth();
    });
  }
};

var coreuiTableInstance = {
  _options: {
    id: null,
    "class": '',
    primaryKey: 'id',
    lang: 'en',
    langList: {},
    width: null,
    minWidth: null,
    maxWidth: null,
    height: null,
    minHeight: null,
    naxHeight: null,
    overflow: false,
    page: 1,
    recordsPerPage: 25,
    theadTop: 0,
    saveState: false,
    noBorder: false,
    noWrap: false,
    noWrapToggle: false,
    showHeaders: true,
    recordsRequest: {
      method: 'GET',
      url: null,
      // '/mod/index/orders/?page=[page]'
      params: {
        page: 'page',
        count: 'count',
        start: 'start',
        end: 'end',
        sort: 'sort',
        search: 'search'
      }
    },
    group: {
      field: null,
      attr: {},
      render: null
    },
    onClick: null,
    onClickUrl: null,
    sort: [],
    header: [],
    footer: [],
    columnsHeader: [],
    search: {
      labelWidth: 200,
      controls: []
    },
    columns: [],
    columnsFooter: [],
    records: []
  },
  _id: '',
  _page: 1,
  _recordsIndex: 1,
  _recordsPerPage: 25,
  _recordsTotal: 0,
  _recordsNumber: 1,
  _seq: 1,
  _isRecordsRequest: false,
  _countColumnsShow: 0,
  _records: [],
  _sort: [],
  _columns: [],
  _search: [],
  _filters: [],
  _controls: [],
  _controlsPositions: {
    header: [],
    footer: []
  },
  _events: {},
  /**
   * Инициализация
   * @param {object} options
   * @private
   */
  _init: function _init(options) {
    this._options = $.extend(true, {}, this._options, options);
    this._events = {};
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.page > 0) {
      this._page = this._options.page;
    }
    if (this._options.recordsPerPage > 0) {
      this._recordsPerPage = this._options.recordsPerPage;
    }
    this._isRecordsRequest = this._options.hasOwnProperty('recordsRequest') && coreuiTableUtils.isObject(this._options.recordsRequest) && this._options.recordsRequest.hasOwnProperty('url') && typeof this._options.recordsRequest.url === 'string' && this._options.recordsRequest.url !== '' && this._options.recordsRequest.url !== '#';
    if (this._isRecordsRequest) {
      if (!this._options.recordsRequest.hasOwnProperty('method') || typeof this._options.recordsRequest.method !== 'string') {
        this._options.recordsRequest.method = 'GET';
      }
    } else if (Array.isArray(this._options.records)) {
      coreuiTablePrivate.setRecords(this, this._options.records);
    }

    // Инициализация колонок
    if (_typeof(this._options.columns) === 'object' && Array.isArray(this._options.columns) && this._options.columns.length > 0) {
      coreuiTablePrivate.initColumns(this, this._options.columns);
    }

    // Инициализация поисковых полей
    if (coreuiTableUtils.isObject(this._options.search) && _typeof(this._options.search.controls) === 'object' && Array.isArray(this._options.search.controls) && this._options.search.controls.length > 0) {
      coreuiTablePrivate.initSearch(this, this._options.search.controls);
    }

    // Инициализация контролов и фильтров
    if (this._options.hasOwnProperty('header') && Array.isArray(this._options.header) && this._options.header.length > 0) {
      coreuiTablePrivate.initControls(this, this._options.header, 'header');
    }
    if (this._options.hasOwnProperty('footer') && Array.isArray(this._options.footer) && this._options.footer.length > 0) {
      coreuiTablePrivate.initControls(this, this._options.footer, 'footer');
    }

    // Сортировка
    if (this._options.saveState && this._options.id) {
      var sort = coreuiTablePrivate.getStorageField(this.getId(), 'sort');
      if (Array.isArray(sort) && sort.length > 0) {
        coreuiTablePrivate.initSort(this, sort);
        if (this._records.length > 0) {
          this._records = coreuiTablePrivate.sortRecordsByFields(this._records, this._sort);
        }
      }
    } else {
      if (this._options.hasOwnProperty('sort') && Array.isArray(this._options.sort) && this._options.sort.length > 0) {
        coreuiTablePrivate.initSort(this, this._options.sort);
      }
    }
  },
  /**
   * Инициализация событий таблицы
   */
  initEvents: function initEvents() {
    var that = this;

    // Показ строк
    this.on('records_show', function () {
      // Переход по ссылке
      if (typeof that._options.onClickUrl === 'string' && that._options.onClickUrl) {
        coreuiTableElements.getTrRecords(that.getId()).click(function () {
          var recordKey = $(this).data('record-index');
          var record = that.getRecordByIndex(recordKey);
          if (!record) {
            return;
          }
          var url = that._options.onClickUrl;
          $.each(record.data, function (field, value) {
            var fieldQuote = field.replace(/([^\w\d])/g, '\\$1');
            url = url.replace(new RegExp('\\[' + fieldQuote + '\\]', 'g'), value);
          });
          if (url && url !== '#') {
            location.href = url;
          }
        });
      }

      // Событие нажатия на строку
      if (typeof that._options.onClick === 'function') {
        coreuiTableElements.getTrRecords(that.getId()).click(function (event) {
          var recordKey = $(this).data('record-index');
          var record = that.getRecordByIndex(recordKey);
          if (!record) {
            return;
          }
          that._options.onClick(event, record);
        });
      }

      // Раскрытие строки
      coreuiTableElements.getNoWrapToggles(that.getId()).click(function (event) {
        event.cancelBubble = true;
        event.preventDefault();
        var parent = $(this).parent();
        if (parent.hasClass('shown')) {
          $(this).removeClass('bi-caret-up-fill');
          $(this).addClass('bi-caret-down-fill');
          parent.removeClass('shown');
        } else {
          $(this).removeClass('bi-caret-down-fill');
          $(this).addClass('bi-caret-up-fill');
          parent.addClass('shown');
        }
      });

      // Фиксация колонок
      coreuiTableElements.fixedColsLeft(that.getId());
      coreuiTableElements.fixedColsRight(that.getId());
    });

    // Показ таблицы
    this.on('table_show', function () {
      var sortableColumns = coreuiTableElements.getTableSortable(that.getId());
      if (sortableColumns[0]) {
        sortableColumns.click(function () {
          var field = $(this).data('field');
          if (field) {
            var sorting = [];
            var currentOrder = null;
            $.each(that._sort, function (key, sortField) {
              if (field === sortField.field) {
                currentOrder = sortField.order;
                return false;
              }
            });
            if (currentOrder === null) {
              sorting.push({
                field: field,
                order: 'asc'
              });
            } else if (currentOrder === 'asc') {
              sorting.push({
                field: field,
                order: 'desc'
              });
            }
            if (sorting.length === 0) {
              that.sortDefault();
            } else {
              that.sortFields(sorting);
            }
          }
        });
      }
    });

    // События смены состояния
    if (this._options.saveState && this._options.id) {
      this.on('records_sort', function () {
        coreuiTablePrivate.setStorageField(that.getId(), 'sort', that._sort);
      });
      this.on('search_change', function () {
        coreuiTablePrivate.setStorageField(that.getId(), 'search', that.getSearchData());
      });
      this.on('filters_change', function () {
        coreuiTablePrivate.setStorageField(that.getId(), 'filters', that.getFilterData());
      });
      this.on('columns_change', function () {
        var columns = [];
        $.each(that._columns, function (key, column) {
          var columnOptions = column.getOptions();
          columns.push({
            field: columnOptions.field,
            isShow: column.isShow()
          });
        });
        coreuiTablePrivate.setStorageField(that.getId(), 'columns', columns);
      });
    }
    coreuiTablePrivate._trigger(this, 'table_show', [this]);
    coreuiTablePrivate._trigger(this, 'container_show');

    // Вызов события показа строк
    if (!this._isRecordsRequest) {
      coreuiTablePrivate._trigger(this, 'records_show', [this]);
    }
  },
  /**
   * Получение идентификатора таблицы
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Получение опций таблицы
   * @returns {*}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   *
   * @param element
   * @returns {*}
   */
  render: function render(element) {
    var that = this;
    var widthSizes = [];
    var heightSizes = [];
    var options = this.getOptions();
    var render = {
      headersOut: [],
      headersIn: [],
      footersIn: [],
      footersOut: []
    };
    this._recordsTotal = this._records.length;
    if (options.width > 0) {
      var unit = typeof options.width === 'number' ? 'px' : '';
      widthSizes.push('width:' + options.width + unit);
    }
    if (options.minWidth > 0) {
      var _unit = typeof options.minWidth === 'number' ? 'px' : '';
      widthSizes.push('min-width:' + options.minWidth + _unit);
    }
    if (options.maxWidth > 0) {
      var _unit2 = typeof options.maxWidth === 'number' ? 'px' : '';
      widthSizes.push('max-width:' + options.maxWidth + _unit2);
      options.overflow = true;
    }
    if (options.height > 0) {
      var _unit3 = typeof options.height === 'number' ? 'px' : '';
      heightSizes.push('height:' + options.height + _unit3);
    }
    if (options.minHeight > 0) {
      var _unit4 = typeof options.minHeight === 'number' ? 'px' : '';
      heightSizes.push('min-height:' + options.minHeight + _unit4);
    }
    if (options.maxHeight > 0) {
      var _unit5 = typeof options.maxHeight === 'number' ? 'px' : '';
      heightSizes.push('max-height:' + options.maxHeight + _unit5);
      options.overflow = true;
    }

    // Верхние элементы управления
    if (Array.isArray(this._controlsPositions.header) && this._controlsPositions.header.length > 0) {
      $.each(this._controlsPositions.header, function (key, header) {
        var controlsLeft = [];
        var controlsCenter = [];
        var controlsRight = [];
        if (Array.isArray(header.left) && header.left.length > 0) {
          $.each(header.left, function (key, control) {
            var controlRender = coreuiTableRender.renderControl(that, control);
            if (controlRender) {
              controlsLeft.push(controlRender);
            }
          });
        }
        if (Array.isArray(header.center) && header.center.length > 0) {
          $.each(header.center, function (key, control) {
            var controlRender = coreuiTableRender.renderControl(that, control);
            if (controlRender) {
              controlsCenter.push(controlRender);
            }
          });
        }
        if (Array.isArray(header.right) && header.right.length > 0) {
          $.each(header.right, function (key, control) {
            var controlRender = coreuiTableRender.renderControl(that, control);
            if (controlRender) {
              controlsRight.push(controlRender);
            }
          });
        }
        if (controlsLeft.length > 0 || controlsCenter.length > 0 || controlsRight.length > 0) {
          if (header.type === 'in') {
            var headerControls = $(ejs.render(tpl['table-controls-header.html'], {
              controlsLeft: controlsLeft,
              controlsCenter: controlsCenter,
              controlsRight: controlsRight
            }));
            if (controlsLeft.length > 0) {
              $.each(controlsLeft, function (key, control) {
                headerControls.find('.coreui-table__controls_left').append(control);
              });
            }
            if (controlsCenter.length > 0) {
              $.each(controlsCenter, function (key, control) {
                headerControls.find('.coreui-table__controls_center').append(control);
              });
            }
            if (controlsRight.length > 0) {
              $.each(controlsRight, function (key, control) {
                headerControls.find('.coreui-table__controls_right').append(control);
              });
            }
            render.headersIn.push(headerControls);
          } else {
            var _headerControls = $(ejs.render(tpl['table-controls-header-out.html'], {
              controlsLeft: controlsLeft,
              controlsCenter: controlsCenter,
              controlsRight: controlsRight
            }));
            if (controlsLeft.length > 0) {
              $.each(controlsLeft, function (key, control) {
                _headerControls.find('.coreui-table__controls_left').append(control);
              });
            }
            if (controlsCenter.length > 0) {
              $.each(controlsCenter, function (key, control) {
                _headerControls.find('.coreui-table__controls_center').append(control);
              });
            }
            if (controlsRight.length > 0) {
              $.each(controlsRight, function (key, control) {
                _headerControls.find('.coreui-table__controls_right').append(control);
              });
            }
            render.headersOut.push(_headerControls);
          }
        }
      });
    }

    // Нижние элементы управления
    if (Array.isArray(this._controlsPositions.footer) && this._controlsPositions.footer.length > 0) {
      $.each(this._controlsPositions.footer, function (key, footer) {
        var controlsLeft = [];
        var controlsCenter = [];
        var controlsRight = [];
        if (Array.isArray(footer.left) && footer.left.length > 0) {
          $.each(footer.left, function (key, control) {
            var controlRender = coreuiTableRender.renderControl(that, control);
            if (controlRender) {
              controlsLeft.push(controlRender);
            }
          });
        }
        if (Array.isArray(footer.center) && footer.center.length > 0) {
          $.each(footer.center, function (key, control) {
            var controlRender = coreuiTableRender.renderControl(that, control);
            if (controlRender) {
              controlsCenter.push(controlRender);
            }
          });
        }
        if (Array.isArray(footer.right) && footer.right.length > 0) {
          $.each(footer.right, function (key, control) {
            var controlRender = coreuiTableRender.renderControl(that, control);
            if (controlRender) {
              controlsRight.push(controlRender);
            }
          });
        }
        if (controlsLeft.length > 0 || controlsCenter.length > 0 || controlsRight.length > 0) {
          if (footer.type === 'in') {
            var footerControls = $(ejs.render(tpl['table-controls-footer.html'], {
              controlsLeft: controlsLeft,
              controlsCenter: controlsCenter,
              controlsRight: controlsRight
            }));
            if (controlsLeft.length > 0) {
              $.each(controlsLeft, function (key, control) {
                footerControls.find('.coreui-table__controls_left').append(control);
              });
            }
            if (controlsCenter.length > 0) {
              $.each(controlsCenter, function (key, control) {
                footerControls.find('.coreui-table__controls_center').append(control);
              });
            }
            if (controlsRight.length > 0) {
              $.each(controlsRight, function (key, control) {
                footerControls.find('.coreui-table__controls_right').append(control);
              });
            }
            render.footersIn.push(footerControls);
          } else {
            var _footerControls = $(ejs.render(tpl['table-controls-footer-out.html'], {
              controlsLeft: controlsLeft,
              controlsCenter: controlsCenter,
              controlsRight: controlsRight
            }));
            if (controlsLeft.length > 0) {
              $.each(controlsLeft, function (key, control) {
                _footerControls.find('.coreui-table__controls_left').append(control);
              });
            }
            if (controlsCenter.length > 0) {
              $.each(controlsCenter, function (key, control) {
                _footerControls.find('.coreui-table__controls_center').append(control);
              });
            }
            if (controlsRight.length > 0) {
              $.each(controlsRight, function (key, control) {
                _footerControls.find('.coreui-table__controls_right').append(control);
              });
            }
            render.footersOut.push(_footerControls);
          }
        }
      });
    }

    // Загрузка записей
    if (this._isRecordsRequest) {
      this.on('container_show', function () {
        that.load(options.recordsRequest.url, options.recordsRequest.method);
      });
    }
    var classes = [];
    if (options.hasOwnProperty('noBorder') && typeof options.noBorder === 'boolean' && options.noBorder) {
      classes.push('coreui-table__no_border');
    }
    var tableElement = coreuiTableRender.renderTable(this);
    var containerElement = $(ejs.render(tpl['table-wrapper.html'], {
      id: this._id,
      lang: this.getLang(),
      classes: classes.length > 0 ? ' ' + classes.join(' ') : '',
      widthSizes: widthSizes,
      heightSizes: heightSizes,
      recordsTotal: this._recordsTotal,
      overflow: !!options.overflow
    }));
    if (render.headersOut.length > 0) {
      containerElement.prepend(render.headersOut);
    }
    if (render.headersIn.length > 0) {
      containerElement.find('.coreui-table__container').prepend(render.headersIn);
    }
    if (render.footersIn.length > 0) {
      containerElement.find('.coreui-table__container').append(render.footersIn);
    }
    if (render.footersOut.length > 0) {
      containerElement.append(render.footersOut);
    }
    containerElement.find('.coreui-table__wrapper').html(tableElement);
    if (element === undefined) {
      return containerElement;
    }

    // Dom element
    var domElement = null;
    if (typeof element === 'string') {
      domElement = document.getElementById(element);
    } else if (element instanceof HTMLElement) {
      domElement = element;
    }
    if (domElement) {
      $(domElement).html(containerElement);
      this.initEvents();
    }
  },
  /**
   * Блокировка таблицы
   */
  lock: function lock() {
    var container = coreuiTableElements.getContainer(this.getId());
    if (container[0] && !container.find('.coreui-table-lock')[0]) {
      var html = ejs.render(tpl['table-loader.html'], {
        lang: this.getLang()
      });
      container.prepend(html);
    }
  },
  /**
   * Разблокировка таблицы
   */
  unlock: function unlock() {
    coreuiTableElements.getLock(this.getId()).hide(50, function () {
      $(this).remove();
    });
  },
  /**
   * Загрузка строк
   * @param {string} url
   * @param {string} method
   */
  load: function load(url, method) {
    this.lock();
    var that = this;
    var params = {};
    if (url.match(/\[page\]/)) {
      url = url.replace(/\[page\]/g, this._page);
    } else {
      var paramPage = coreuiTableUtils.isObject(this._options.recordsRequest.params) && this._options.recordsRequest.params.hasOwnProperty('page') ? this._options.recordsRequest.params.page : 'page';
      params[paramPage] = this._page;
    }
    if (url.match(/\[count\]/)) {
      url = url.replace(/\[count\]/g, this._recordsPerPage);
    } else {
      var paramCount = coreuiTableUtils.isObject(this._options.recordsRequest.params) && this._options.recordsRequest.params.hasOwnProperty('count') ? this._options.recordsRequest.params.count : 'count';
      params[paramCount] = this._recordsPerPage;
    }
    if (url.match(/\[start\]/)) {
      url = url.replace(/\[start\]/g, (this._page - 1) * this._recordsPerPage + 1);
    } else {
      var paramStart = coreuiTableUtils.isObject(this._options.recordsRequest.params) && this._options.recordsRequest.params.hasOwnProperty('start') ? this._options.recordsRequest.params.start : 'start';
      params[paramStart] = (this._page - 1) * this._recordsPerPage + 1;
    }
    if (url.match(/\[end\]/)) {
      url = url.replace(/\[end\]/g, (this._page - 1) * this._recordsPerPage + Number(this._recordsPerPage));
    } else {
      var paramEnd = coreuiTableUtils.isObject(this._options.recordsRequest.params) && this._options.recordsRequest.params.hasOwnProperty('end') ? this._options.recordsRequest.params.end : 'end';
      params[paramEnd] = (this._page - 1) * this._recordsPerPage + Number(this._recordsPerPage);
    }
    var searchData = this.getSearchData();
    var filterData = this.getFilterData();
    if (filterData.length > 0) {
      $.each(filterData, function (key, filter) {
        searchData.push(filter);
      });
    }
    if (searchData.length > 0) {
      var paramSearch = coreuiTableUtils.isObject(this._options.recordsRequest.params) && this._options.recordsRequest.params.hasOwnProperty('search') && typeof this._options.recordsRequest.params.search === 'string' ? this._options.recordsRequest.params.search : 'search';
      params[paramSearch] = searchData;
    }
    if (this._sort.length > 0) {
      var paramSort = coreuiTableUtils.isObject(this._options.recordsRequest.params) && this._options.recordsRequest.params.hasOwnProperty('sort') && typeof this._options.recordsRequest.params.sort === 'string' ? this._options.recordsRequest.params.sort : 'sort';
      params[paramSort] = this._sort;
    }
    $.ajax({
      url: url,
      method: method || 'GET',
      dataType: "json",
      data: params,
      beforeSend: function beforeSend(xhr) {
        coreuiTablePrivate._trigger(that, 'records_load_start', [that, xhr]);
      },
      success: function success(result) {
        if (result.hasOwnProperty('records') && _typeof(result.records) === 'object' && Array.isArray(result.records)) {
          var total = result.hasOwnProperty('total') && coreuiTableUtils.isNumeric(result.total) ? result.total : null;
          that.setRecords(result.records, total);
        } else {
          that.setRecords([]);
        }
      },
      error: function error(xhr, textStatus, errorThrown) {
        that.setRecords([]);
        coreuiTablePrivate._trigger(that, 'records_load_error', [that, xhr, textStatus, errorThrown]);
      },
      complete: function complete(xhr, textStatus) {
        that.unlock();
        coreuiTablePrivate._trigger(that, 'records_load_end', [that, xhr, textStatus]);
      }
    });
  },
  /**
   * Перезагрузка записей в таблице
   */
  reload: function reload() {
    if (this._isRecordsRequest) {
      this.load(this._options.recordsRequest.url, this._options.recordsRequest.method);
    }
  },
  /**
   * Пересоздание тела таблицы
   */
  refresh: function refresh() {
    var table = coreuiTableRender.renderTable(this);
    coreuiTableElements.getTable(this.getId()).replaceWith(table);
    coreuiTablePrivate._trigger(this, 'table_show', [this]);
    coreuiTablePrivate._trigger(this, 'records_show', [this]);
  },
  /**
   * Установка общего количества записей на странице
   * @param recordsPerPage
   */
  setPageSize: function setPageSize(recordsPerPage) {
    this._recordsPerPage = recordsPerPage;
    coreuiTablePrivate._trigger(this, 'page_size_update');
  },
  /**
   * Выбор всех записей в таблице
   */
  selectAll: function selectAll() {
    coreuiTableElements.selectTrAll(this.getId());
    coreuiTablePrivate._trigger(this, 'record_select_all');
  },
  /**
   * Отмена выбор всех записей в таблице
   */
  unselectAll: function unselectAll() {
    coreuiTableElements.unselectTrAll(this.getId());
    coreuiTablePrivate._trigger(this, 'record_unselect_all');
  },
  /**
   * Выбор записи в таблице
   * @param {string} id
   */
  selectRecord: function selectRecord(id) {
    var record = this.getRecordById(id);
    if (!record) {
      return;
    }
    var tr = coreuiTableElements.getTrByIndex(this.getId(), record.index);
    if (tr.length === 0) {
      return;
    }
    coreuiTableElements.selectTr(tr);
    coreuiTablePrivate._trigger(this, 'record_select', [record]);
  },
  /**
   * Отмена выбора записи в таблице
   * @param {string} id
   */
  unselectRecord: function unselectRecord(id) {
    var record = this.getRecordById(id);
    if (!record) {
      return;
    }
    var tr = coreuiTableElements.getTrByIndex(this.getId(), record.index);
    if (!tr) {
      return;
    }
    coreuiTableElements.unselectTr(tr);
    coreuiTablePrivate._trigger(this, 'record_unselect', [record.data]);
  },
  /**
   * Получение выбранных id
   * @return {array}
   */
  getSelectedRecordsId: function getSelectedRecordsId() {
    var records = [];
    var that = this;
    var field = this._options.primaryKey;
    $.each(coreuiTableElements.getSelectedIndexes(this.getId()), function (key, index) {
      var record = that.getRecordByIndex(index);
      if (!record || !record.data.hasOwnProperty(field)) {
        return;
      }
      records.push(record.data[field]);
    });
    return records;
  },
  /**
   * Получение выбранных записей
   * @return {array}
   */
  getSelectedRecords: function getSelectedRecords() {
    var records = [];
    var that = this;
    $.each(coreuiTableElements.getSelectedIndexes(this.getId()), function (key, index) {
      var record = that.getRecordByIndex(index);
      if (!record) {
        return;
      }
      records.push(record);
    });
    return records;
  },
  /**
   * Получение записи по id
   * @param id
   * @return {object|null}
   */
  getRecord: function getRecord(id) {
    var record = this.getRecordById(id);
    if (!record) {
      return null;
    }
    return record.data;
  },
  /**
   * Получение записей
   */
  getRecords: function getRecords() {
    var records = [];
    $.each(this._records, function (key, record) {
      records.push($.extend(true, {}, record));
    });
    return records;
  },
  /**
   * Получение данных из существующих записей
   * @return {Array}
   */
  getData: function getData() {
    var data = [];
    $.each(this._records, function (key, record) {
      data.push($.extend(true, {}, record.data));
    });
    return data;
  },
  /**
   * Переход к предыдущей странице
   */
  prevPage: function prevPage() {
    if (this._page > 1) {
      this._page--;
      this.reload();
    }
  },
  /**
   * Переход к следующей странице
   * @return {array}
   */
  nextPage: function nextPage() {
    var totalPages = this._recordsTotal > 0 && this._recordsPerPage > 0 ? Math.ceil(this._recordsTotal / this._recordsPerPage) : 1;
    if (this._page < totalPages) {
      this._page++;
      this.reload();
    }
  },
  /**
   * Переход к указанной странице
   */
  goPage: function goPage(page) {
    if (page >= 1) {
      this._page = page;
      this.reload();
    }
  },
  /**
   * Регистрация функции на событие
   * @param {Array|string} eventName
   * @param {function}     callback
   * @param {*}            context
   * @param {boolean}      singleExec
   */
  on: function on(eventName, callback, context, singleExec) {
    var eventNames = [];
    if (Array.isArray(eventName)) {
      $.each(eventName, function (key, name) {
        if (typeof name === 'string' && name) {
          eventNames.push(name);
        }
      });
    } else if (typeof eventName === 'string' && eventName) {
      eventNames.push(eventName);
    } else {
      return;
    }
    var that = this;
    $.each(eventNames, function (key, name) {
      if (!Array.isArray(that._events[name])) {
        that._events[name] = [];
      }
      that._events[name].push({
        context: context ? context : that,
        callback: callback,
        singleExec: !!singleExec
      });
    });
  },
  /**
   * Получение переводов текущего языка
   * @return {object}
   */
  getLang: function getLang() {
    return $.extend(true, {}, this._options.langList);
  },
  /**
   * Установка видимых колонок, не указанные колонки будут скрыты
   * @param {Array} columns
   */
  setColumnsShow: function setColumnsShow(columns) {
    if (!Array.isArray(columns)) {
      return;
    }
    $.each(this._columns, function (key, column) {
      var options = column.getOptions();
      if (options.hasOwnProperty('field') && typeof options.field === 'string') {
        column.setShow(columns.indexOf(options.field) >= 0);
      }
    });
    coreuiTablePrivate._trigger(this, 'columns_change');
  },
  /**
   * Получение поисковых данных
   * @return {*[]}
   */
  getSearchData: function getSearchData() {
    var searchData = [];
    $.each(this._search, function (key, control) {
      var options = control.getOptions();
      if (options.hasOwnProperty('field') && typeof options.field === 'string' && options.field) {
        var value = control.getValue();
        if (value !== null) {
          searchData.push({
            field: options.field,
            value: value,
            alg: control.hasOwnProperty('getAlgorithm') && typeof control.getAlgorithm === 'function' ? control.getAlgorithm() : null
          });
        }
      }
    });
    return searchData;
  },
  /**
   * Получение данных из фильтров
   * @return {*[]}
   */
  getFilterData: function getFilterData() {
    var filterData = [];
    $.each(this._filters, function (key, control) {
      var options = control.getOptions();
      if (options.hasOwnProperty('field') && typeof options.field === 'string' && options.field) {
        var value = control.getValue();
        if (value !== null) {
          filterData.push({
            field: options.field,
            value: value,
            alg: control.hasOwnProperty('getAlgorithm') && typeof control.getAlgorithm === 'function' ? control.getAlgorithm() : null
          });
        }
      }
    });
    return filterData;
  },
  /**
   * Поиск по таблице с использованием данных из поиска и фильтров
   */
  searchRecords: function searchRecords() {
    var searchData = this.getSearchData();
    var filterData = this.getFilterData();
    if (this._isRecordsRequest) {
      this.load(this._options.recordsRequest.url, this._options.recordsRequest.method);
    } else {
      $.each(this._records, function (index, record) {
        var isShow = true;
        if (searchData.length > 0) {
          isShow = coreuiTablePrivate.isFilteredRecord(searchData, record.data);
        }
        if (isShow && filterData.length > 0) {
          isShow = coreuiTablePrivate.isFilteredRecord(filterData, record.data);
        }
        record.show = isShow;
      });
      this.refresh();
    }
    coreuiTablePrivate._trigger(this, 'filters_change', [filterData]);
    coreuiTablePrivate._trigger(this, 'search_change', [searchData]);
  },
  /**
   * Очистка поисковых данных
   */
  searchClear: function searchClear() {
    $.each(this._search, function (key, search) {
      search.setValue(null);
    });
    this.searchRecords();
  },
  /**
   * Очистка поисковых данных в фильтрах
   */
  filtersClear: function filtersClear() {
    $.each(this._filters, function (key, filter) {
      filter.setValue(null);
    });
    this.searchRecords();
  },
  /**
   * Получение записи по индексу
   * @param {string|number} index
   * @return {object|null}
   */
  getRecordByIndex: function getRecordByIndex(index) {
    if (['string', 'number'].indexOf(_typeof(index)) < 0 || index === '') {
      return null;
    }
    index = Number(index);
    if (index <= 0) {
      return null;
    }
    var record = null;
    $.each(this._records, function (key, recordItem) {
      if (recordItem.index === index) {
        record = {
          index: recordItem.index,
          data: $.extend(true, {}, recordItem.data),
          meta: recordItem.meta ? $.extend(true, {}, recordItem.meta) : null
        };
        return false;
      }
    });
    return record;
  },
  /**
   * Получение записи по id
   * @param {string} id
   * @return {object|null}
   */
  getRecordById: function getRecordById(id) {
    return this.getRecordByField(this._options.primaryKey, id);
  },
  /**
   * Получение записи по полю
   * @param {string}        field
   * @param {string|number} value
   * @return {object|null}
   */
  getRecordByField: function getRecordByField(field, value) {
    if (['string', 'number'].indexOf(_typeof(field)) < 0 || field === '') {
      return null;
    }
    var record = null;
    $.each(this._records, function (key, recordItem) {
      if (recordItem.data.hasOwnProperty(field) && recordItem.data[field] === value) {
        record = $.extend(true, {}, recordItem);
        return false;
      }
    });
    return record;
  },
  /**
   * Получение контрола по его id
   * @param {string} id
   * @return {object}
   */
  getControlById: function getControlById(id) {
    var result = null;
    $.each(this._controls, function (key, control) {
      if (control.hasOwnProperty('getId') && typeof control.getId === 'function' && control.getId() === id) {
        result = control;
        return false;
      }
    });
    return result;
  },
  /**
   * Получение контрола поиска по его id
   * @param {string} id
   * @return {object}
   */
  getSearchControlById: function getSearchControlById(id) {
    var result = null;
    $.each(this._search, function (key, search) {
      if (search.hasOwnProperty('getId') && typeof search.getId === 'function' && search.getId() === id) {
        result = search;
        return false;
      }
    });
    return result;
  },
  /**
   * Сортировка по полям
   * @param {Array} sorting
   */
  sortFields: function sortFields(sorting) {
    if (!Array.isArray(sorting)) {
      return;
    }
    var that = this;
    this._sort = [];
    $.each(sorting, function (key, sort) {
      if (!coreuiTableUtils.isObject(sort) || !sort.hasOwnProperty('field') || !sort.hasOwnProperty('order') || typeof sort.field !== 'string' || typeof sort.order !== 'string' || !sort.field || !sort.order) {
        return;
      }
      var columnSortable = false;
      $.each(that._columns, function (key, column) {
        var options = column.getOptions();
        if (options.hasOwnProperty('field') && options.hasOwnProperty('sortable') && typeof options.field === 'string' && options.field === sort.field && options.sortable) {
          columnSortable = true;
          return false;
        }
      });
      if (columnSortable) {
        that._sort.push({
          field: sort.field,
          order: sort.order
        });
      }
    });
    if (this._sort.length >= 0) {
      if (this._isRecordsRequest) {
        this.load(this._options.recordsRequest.url, this._options.recordsRequest.method);
        coreuiTablePrivate.setColumnsSort(this, this._sort);
      } else {
        this.records = coreuiTablePrivate.sortRecordsByFields(this._records, this._sort);
        this.refresh();
      }
    }
    coreuiTablePrivate._trigger(this, 'records_sort', [this]);
  },
  /**
   * Сортировка по умолчанию
   */
  sortDefault: function sortDefault() {
    this._sort = [];
    if (this._isRecordsRequest) {
      this.load(this._options.recordsRequest.url, this._options.recordsRequest.method);
      coreuiTablePrivate.setColumnsSort(this);
    } else {
      this.records = coreuiTablePrivate.sortRecordsBySeq(this._records);
      this.refresh();
    }
    coreuiTablePrivate._trigger(this, 'records_sort', [this]);
  },
  /**
   * Удаление строки из таблицы по индексу
   * @param index
   */
  removeRecordByIndex: function removeRecordByIndex(index) {
    var recordKey = null;
    $.each(this._records, function (key, recordItem) {
      if (recordItem.index === index) {
        recordKey = key;
        return false;
      }
    });
    if (recordKey !== null && recordKey >= 0) {
      this._records.splice(recordKey, 1);
      var tr = coreuiTableElements.getTrByIndex(this.getId(), index);
      if (tr.length >= 0) {
        tr.fadeOut('fast', function () {
          tr.remove();
        });
      }
      this._recordsNumber--;
    }
  },
  /**
   * Добавление строки в таблицу после строки с индексом
   * @param {object} recordData
   * @param {number} index
   */
  addRecordAfterIndex: function addRecordAfterIndex(recordData, index) {
    var tr = coreuiTableElements.getTrByIndex(this.getId(), index);
    if (tr.length >= 0) {
      var record = coreuiTablePrivate.addRecord(this, recordData, index);
      if (record) {
        tr.after(coreuiTableRender.renderRecord(this, record));
        this._recordsNumber++;
      }
    }
  },
  /**
   * Добавление строки в таблицу перед строкой с индексом
   * @param {object} recordData
   * @param {number} index
   */
  addRecordBeforeIndex: function addRecordBeforeIndex(recordData, index) {
    var tr = coreuiTableElements.getTrByIndex(this.getId(), index);
    if (tr.length >= 0) {
      var record = coreuiTablePrivate.addRecordBefore(this, recordData, index);
      if (record) {
        tr.before(coreuiTableRender.renderRecord(this, record));
        this._recordsNumber++;
      }
    }
  },
  /**
   * Добавление строки в начало таблицы
   * @param {object} recordData
   */
  addRecordFirst: function addRecordFirst(recordData) {
    var tbody = coreuiTableElements.getTableTbody(this.getId());
    if (tbody.length >= 0) {
      var record = coreuiTablePrivate.addRecord(this, recordData, 0);
      tbody.prepend(coreuiTableRender.renderRecord(this, record));
      this._recordsNumber++;
    }
  },
  /**
   * Добавление строки в конец таблицы
   * @param {object} recordData
   */
  addRecordLast: function addRecordLast(recordData) {
    var tbody = coreuiTableElements.getTableTbody(this.getId());
    if (tbody.length >= 0) {
      var record = coreuiTablePrivate.addRecord(this, recordData);
      tbody.append(coreuiTableRender.renderRecord(this, record));
      this._recordsNumber++;
    }
  },
  /**
   * Показ указанных записей в таблице
   * @param {Array}  records
   * @param {number} total
   */
  setRecords: function setRecords(records, total) {
    if (!Array.isArray(records)) {
      return;
    }
    this._recordsTotal = coreuiTableUtils.isNumeric(total) ? parseInt(total) : records.length;
    coreuiTablePrivate.setRecords(this, records);
    if (records.length > 0) {
      this._recordsNumber = this._page === 1 ? 1 : (this._page - 1) * this._recordsPerPage + 1;
    }
    var recordsElements = coreuiTableRender.renderRecords(this, this._records);
    var tableBody = coreuiTableElements.getTableTbody(this.getId());
    tableBody.html('');
    $.each(recordsElements, function (key, recordElement) {
      tableBody.append(recordElement);
    });
    coreuiTablePrivate._trigger(this, 'records_show', [this]);
  },
  /**
   * Получение количества строк
   * @return {number}
   */
  getRecordsCount: function getRecordsCount() {
    var count = 0;
    if (this._isRecordsRequest) {
      count = this._recordsTotal;
    } else {
      $.each(this._records, function (key, record) {
        if (record.show) {
          count++;
        }
      });
    }
    return count;
  },
  /**
   * Раскрытие / скрытие дополнительных данных строки
   * @param {number}                                   recordIndex
   * @param {HTMLElement|jQuery|string|Array|function} content
   * @param {boolean}                                  isRebuild - true default
   */
  expandRecordContent: function expandRecordContent(recordIndex, content, isRebuild) {
    var recordElement = coreuiTableElements.getTrByIndex(this.getId(), recordIndex);
    var recordExpanded = coreuiTableElements.getExpandRow(recordElement);
    if (recordElement.hasClass('record-expanded')) {
      if (recordExpanded) {
        if (isRebuild === undefined || isRebuild) {
          coreuiTableElements.removeExpandRow(recordExpanded);
        } else {
          coreuiTableElements.hideExpandRow(recordExpanded);
        }
      }
      recordElement.removeClass('record-expanded');
      coreuiTablePrivate._trigger(this, 'record_expand_hide', [recordIndex]);
    } else {
      if (recordExpanded) {
        coreuiTableElements.showExpandRow(recordExpanded);
        recordElement.addClass('record-expanded');
        coreuiTablePrivate._trigger(this, 'record_expand_show', [recordIndex]);
      } else {
        if (typeof content === 'function') {
          var callbackResult = content();
          if (callbackResult instanceof Promise) {
            var that = this;
            callbackResult.then(function (result) {
              coreuiTableElements.addExpandRow(that, recordElement, result);
            })["catch"](function () {
              coreuiTableElements.addExpandRow(that, recordElement, '');
            });
          } else {
            coreuiTableElements.addExpandRow(this, recordElement, callbackResult);
          }
        } else {
          coreuiTableElements.addExpandRow(this, recordElement, content);
        }
      }
    }
  },
  /**
   * Раскрытие / скрытие дополнительных данных строки
   * @param {number}  recordIndex
   * @param {string}  url
   * @param {boolean} isRebuild
   */
  expandRecordUrl: function expandRecordUrl(recordIndex, url, isRebuild) {
    var that = this;
    this.expandRecordContent(recordIndex, function () {
      that.lock();
      return new Promise(function (resolve, reject) {
        $.ajax({
          method: 'get',
          url: url,
          success: function success(response, textStatus, xhr) {
            var result = response;
            if (typeof response === 'string') {
              if (String(xhr.getResponseHeader('Content-Type')).indexOf('application/json') === 0) {
                try {
                  result = JSON.parse(response);
                } catch (e) {
                  console.warn(e);
                }
              }
            }
            resolve(result);
          },
          error: function error(xhr, textStatus, errorThrown) {
            reject(xhr, textStatus, errorThrown);
          },
          complete: function complete(xhr, textStatus) {
            that.unlock();
          }
        });
      });
    }, isRebuild);
  }
};

var coreuiTable$1 = {
  columns: {},
  controls: {},
  filters: {},
  search: {},
  lang: {},
  _instances: {},
  _settings: {
    lang: 'en'
  },
  /**
   * @param {object} options
   * @returns {CoreUI.table.instance}
   */
  create: function create(options) {
    var instance = $.extend(true, {}, coreuiTableInstance);
    if (!options.hasOwnProperty('lang') || typeof options.lang !== 'string') {
      options.lang = this.getSetting('lang');
    }
    var langList = this.lang.hasOwnProperty(options.lang) ? this.lang[options.lang] : {};
    options.langList = options.hasOwnProperty('langList') && coreuiTableUtils.isObject(options.langList) ? $.extend(true, {}, langList, options.langList) : langList;
    instance._init(options instanceof Object ? options : {});
    var tableId = instance.getId();
    this._instances[tableId] = instance;
    return instance;
  },
  /**
   * @param {string} id
   * @returns {CoreUI.table.instance|null}
   */
  get: function get(id) {
    if (!this._instances.hasOwnProperty(id)) {
      return null;
    }
    if (!$('#coreui-table-' + id)[0]) {
      delete this._instances[id];
      return null;
    }
    return this._instances[id];
  },
  /**
   * Установка настроек
   * @param {object} settings
   */
  setSettings: function setSettings(settings) {
    this._settings = $.extend(true, {}, this._settings, settings);
  },
  /**
   * Получение значения настройки
   * @param {string} name
   */
  getSetting: function getSetting(name) {
    var value = null;
    if (this._settings.hasOwnProperty(name)) {
      value = this._settings[name];
    }
    return value;
  }
};

coreuiTable$1.lang.ru = {
  "emptyRecords": "Нет записей",
  "loading": "Загрузка...",
  "total": "Всего",
  "all": "Все",
  "complete": "Применить",
  "search": "Искать",
  "clear": "Очистить"
};

coreuiTable$1.lang.en = {
  "emptyRecords": "No records",
  "loading": "Loading...",
  "total": "Total",
  "all": "All",
  "complete": "Complete",
  "search": "Search",
  "clear": "Clear"
};

coreuiTable$1.controls.link = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'link',
    url: null,
    content: null,
    onClick: null,
    attr: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    if (typeof this._options.onClick === 'function' || typeof this._options.onClick === 'string') {
      var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
      $('a', control).click(function (event) {
        if (typeof that._options.onClick === 'function') {
          return that._options.onClick(event, that._table);
        } else if (typeof that._options.onClick === 'string') {
          var func = new Function('event', 'table', 'control', that._options.onClick);
          func(event, that._table, that);
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    if (_typeof(this._options.attr) === 'object') {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/link.html'], {
      url: this._options.url,
      content: this._options.content,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.controls.button = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'button',
    content: null,
    onClick: null,
    attr: {
      "class": 'btn btn-secondary'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    if (typeof this._options.onClick === 'function' || typeof this._options.onClick === 'string') {
      var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
      $('button', control).click(function (event) {
        if (typeof that._options.onClick === 'function') {
          that._options.onClick(event, that._table, that);
        } else if (typeof that._options.onClick === 'string') {
          var func = new Function('event', 'table', 'control', that._options.onClick);
          func(event, that._table, that);
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    if (coreuiTableUtils.isObject(this._options.attr)) {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/button.html'], {
      content: this._options.content,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.controls.dropdown = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'dropdown',
    content: null,
    items: null,
    attr: {
      "class": 'btn btn-primary'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (Array.isArray(this._options.items)) {
      $.each(this._options.items, function (key, item) {
        if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
          item.id = coreuiTableUtils.hashCode();
        }
      });
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var options = this.getOptions();
    if (Array.isArray(options.items)) {
      $.each(options.items, function (key, item) {
        if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
          if (item.type === 'button') {
            if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && ['string', 'function'].indexOf(_typeof(item.onClick)) >= 0 && typeof item.content === 'string') {
              var control = coreuiTableElements.getControl(that._table.getId(), that.getId());
              $('button#btn-dropdown-' + item.id, control).click(function (event) {
                if (typeof item.onClick === 'function') {
                  item.onClick(event, that._table, that);
                } else if (typeof item.onClick === 'string') {
                  var func = new Function('event', 'table', 'control', item.onClick);
                  func(event, that._table, that);
                }
              });
            }
          }
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var items = [];
    var attributes = [];
    if (Array.isArray(options.items)) {
      $.each(options.items, function (key, item) {
        if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
          if (item.type === 'link') {
            if (item.hasOwnProperty('link') && item.hasOwnProperty('content') && typeof item.url === 'string' && typeof item.content === 'string') {
              items.push({
                type: 'link',
                url: item.url,
                content: item.content
              });
            }
          } else if (item.type === 'button') {
            if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && typeof item.content === 'string' && ['string', 'function'].indexOf(_typeof(item.onClick)) >= 0) {
              items.push({
                type: 'button',
                id: item.id,
                content: item.content
              });
            }
          } else if (item.type === 'divider') {
            items.push({
              type: 'divider'
            });
          }
        }
      });
    }
    if (coreuiTableUtils.isObject(options.attr)) {
      if (options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(options.attr["class"])) >= 0) {
        options.attr["class"] += ' dropdown-toggle';
      }
      if (options.attr.hasOwnProperty('type')) {
        delete options.attr.type;
      }
      if (options.attr.hasOwnProperty('id')) {
        delete options.attr.id;
      }
      if (options.attr.hasOwnProperty('data-bs-toggle')) {
        delete options.attr['data-bs-toggle'];
      }
      $.each(options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/dropdown.html'], {
      content: options.content,
      position: options.hasOwnProperty('position') && typeof options.position === 'string' ? options.position : 'end',
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      items: items
    });
  }
};

coreuiTable$1.controls.button_group = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'button_group',
    buttons: null
  },
  _link: {
    attr: {
      "class": 'btn btn-secondary'
    }
  },
  _button: {
    attr: {
      "class": 'btn btn-secondary'
    }
  },
  _dropdown: {
    attr: {
      "class": 'btn btn-secondary'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (Array.isArray(this._options.buttons)) {
      $.each(this._options.buttons, function (key, button) {
        if (coreuiTableUtils.isObject(button) && typeof button.type === 'string') {
          button.id = coreuiTableUtils.hashCode();
          if (button.type === 'dropdown' && Array.isArray(button.items)) {
            $.each(button.items, function (key, item) {
              if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
                item.id = coreuiTableUtils.hashCode();
              }
            });
          }
        }
      });
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var options = this.getOptions();
    if (Array.isArray(options.buttons)) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      $.each(options.buttons, function (key, button) {
        if (coreuiTableUtils.isObject(button) && typeof button.type === 'string') {
          if (button.type === 'button') {
            if (button.hasOwnProperty('content') && button.hasOwnProperty('onClick') && ['string', 'function'].indexOf(_typeof(button.onClick)) >= 0 && typeof button.content === 'string') {
              $('button#btn-' + button.id, control).click(function (event) {
                if (typeof button.onClick === 'function') {
                  button.onClick(event, that._table, that);
                } else if (typeof button.onClick === 'string') {
                  var func = new Function('event', 'table', 'control', button.onClick);
                  func(event, that._table, that);
                }
              });
            }
          } else if (button.type === 'dropdown' && Array.isArray(button.items)) {
            $.each(button.items, function (key, item) {
              if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
                if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && ['string', 'function'].indexOf(_typeof(item.onClick)) >= 0 && typeof item.content === 'string') {
                  $('button#btn-dropdown-' + item.id, control).click(function (event) {
                    if (typeof item.onClick === 'function') {
                      item.onClick(event, that._table, that);
                    } else if (typeof item.onClick === 'string') {
                      var func = new Function('event', 'table', 'control', item.onClick);
                      func(event, that._table, that);
                    }
                  });
                }
              }
            });
          }
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var buttons = [];
    var that = this;
    if (Array.isArray(options.buttons)) {
      $.each(options.buttons, function (key, button) {
        if (coreuiTableUtils.isObject(button) && typeof button.type === 'string') {
          if (button.type === 'link') {
            if (button.hasOwnProperty('link') && button.hasOwnProperty('content') && typeof button.link === 'string' && typeof button.content === 'string') {
              var attributes = [];
              if (coreuiTableUtils.isObject(button.attr)) {
                button.attr = {};
              }
              if (button.attr.hasOwnProperty('href')) {
                delete button.attr.href;
              }
              if (!button.attr.hasOwnProperty('class')) {
                button.attr["class"] = that._link.attr["class"];
              }
              $.each(button.attr, function (name, value) {
                attributes.push(name + '="' + value + '"');
              });
              buttons.push({
                type: 'link',
                url: button.url,
                content: button.content,
                attr: attributes
              });
            }
          } else if (button.type === 'button') {
            if (button.hasOwnProperty('content') && button.hasOwnProperty('onClick') && typeof button.content === 'string' && ['string', 'function'].indexOf(_typeof(button.onClick)) >= 0) {
              var _attributes = [];
              if (coreuiTableUtils.isObject(button.attr)) {
                button.attr = {};
              }
              if (button.attr.hasOwnProperty('type')) {
                delete button.attr.type;
              }
              if (button.attr.hasOwnProperty('id')) {
                delete button.attr.id;
              }
              if (!button.attr.hasOwnProperty('class')) {
                button.attr["class"] = that._button.attr["class"];
              }
              $.each(button.attr, function (name, value) {
                _attributes.push(name + '="' + value + '"');
              });
              buttons.push({
                type: 'button',
                id: button.id,
                content: button.content,
                attr: _attributes
              });
            }
          } else if (button.type === 'dropdown') {
            if (Array.isArray(button.items)) {
              var _attributes2 = [];
              var items = [];
              $.each(button.items, function (key, item) {
                if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
                  if (item.type === 'link') {
                    if (item.hasOwnProperty('link') && item.hasOwnProperty('content') && typeof item.url === 'string' && typeof item.content === 'string') {
                      items.push({
                        type: 'link',
                        url: item.url,
                        content: item.content
                      });
                    }
                  } else if (item.type === 'button') {
                    if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && typeof item.content === 'string' && ['string', 'function'].indexOf(_typeof(item.onClick)) >= 0) {
                      items.push({
                        type: 'button',
                        id: item.id,
                        content: item.content
                      });
                    }
                  } else if (item.type === 'divider') {
                    items.push({
                      type: 'divider'
                    });
                  }
                }
              });
              if (coreuiTableUtils.isObject(button.attr)) {
                button.attr = {};
              }
              if (button.attr.hasOwnProperty('type')) {
                delete button.attr.type;
              }
              if (button.attr.hasOwnProperty('id')) {
                delete button.attr.id;
              }
              if (!button.attr.hasOwnProperty('class')) {
                button.attr["class"] = that._dropdown.attr["class"];
              }
              if (button.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(button.attr["class"])) >= 0) {
                button.attr["class"] += ' dropdown-toggle';
              }
              $.each(button.attr, function (name, value) {
                _attributes2.push(name + '="' + value + '"');
              });
              buttons.push({
                type: 'dropdown',
                content: button.content,
                position: button.hasOwnProperty('position') && typeof button.position === 'string' ? button.position : 'end',
                attr: _attributes2,
                items: items
              });
            }
          }
        }
      });
    }
    return ejs.render(tpl['controls/button_group.html'], {
      buttons: buttons
    });
  }
};

coreuiTable$1.controls.custom = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'custom',
    content: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {},
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string|HTMLElement|jQuery}
   */
  render: function render() {
    if (typeof this._options.content === 'string') {
      return this._options.content;
    } else if (typeof this._options.content === 'function') {
      return this._options.content();
    }
  }
};

coreuiTable$1.controls.page_size = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'page_size',
    attr: {
      "class": 'form-select'
    },
    list: [25, 50, 100, 1000]
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    if (options.hasOwnProperty('attr') && coreuiTableUtils.isObject(options.attr)) {
      options.attr = coreuiTableUtils.mergeAttr(this._options.attr, options.attr);
    }
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (!Array.isArray(this._options.list)) {
      this._options.list = [];
    }
    if (this._options.list.indexOf(this._table._recordsPerPage) < 0) {
      this._options.list.unshift(this._table._recordsPerPage);
    }
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
    var selectPageSize = $('select', control);
    selectPageSize.change(function () {
      that._table._page = 1;
      that._table.setPageSize(Number(selectPageSize.val()));
      that._table.reload();
    });
    this._table.on('page_size_update', function () {
      selectPageSize.val(that._table._recordsPerPage);
    });
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    if (coreuiTableUtils.isObject(this._options.attr)) {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/page-size.html'], {
      recordsPerPageList: this._options.list,
      recordsPerPage: this._table._recordsPerPage,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      lang: this._table.getLang()
    });
  }
};

coreuiTable$1.controls.page_jump = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'page_jump',
    attr: {
      "class": 'input-group'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    if (options.hasOwnProperty('attr') && coreuiTableUtils.isObject(options.attr)) {
      options.attr = coreuiTableUtils.mergeAttr(this._options.attr, options.attr);
    }
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
    var input = $('input', control);
    var button = $('button', control);
    if (button[0]) {
      button.click(function () {
        that._table.goPage(input.val());
      });
      input.keyup(function (event) {
        if (event.key === 'Enter' || event.keyCode === 13) {
          that._table.goPage(input.val());
        }
      });
    }
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    if (coreuiTableUtils.isObject(this._options.attr)) {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/page-jump.html'], {
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.controls.pages = {
  _id: null,
  _table: null,
  _options: {
    show: {
      prev: true,
      next: true
    },
    count: 3,
    attr: {
      "class": 'pagination mb-0'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    if (options.hasOwnProperty('attr') && coreuiTableUtils.isObject(options.attr)) {
      options.attr = coreuiTableUtils.mergeAttr(this._options.attr, options.attr);
    }
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = coreuiTableUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
    this._initEvents();
    this._table.on('records_show', function () {
      control.html(that.render());
      that._initEvents();
    });
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    var showPrev = !!this._options.show.prev;
    var showNext = !!this._options.show.next;
    var showDividerStart = false;
    var showDividerEnd = false;
    var showPageFirst = false;
    var showPageLast = false;
    var pages = [];
    var pagesTotal = this._table._recordsTotal > 0 && this._table._recordsPerPage > 0 ? Math.ceil(this._table._recordsTotal / this._table._recordsPerPage) : 1;
    if (this._table._recordsTotal > 0 && this._options.count > 0 && coreuiTableUtils.isNumeric(this._options.count)) {
      var count = Math.min(this._options.count, pagesTotal);
      var countHalf = Math.max(0, Math.floor(count / 2));
      if (count % 2 === 0) {
        countHalf -= 1;
      }
      var start = this._table._page > 1 ? Math.max(1, this._table._page - countHalf) : this._table._page;
      if (start + count > pagesTotal) {
        start = pagesTotal - (count - 1);
      }
      for (var i = 0; i < count; i++) {
        pages.push(start + i);
      }
    } else {
      if (this._options.count > 0 && this._table._page > 1) {
        pages.push(this._table._page);
      }
    }
    if (pages.length > 0) {
      if (pages[0] >= 2) {
        showPageFirst = true;
      }
      if (pages[0] >= 3) {
        showDividerStart = true;
      }
      if (pages[pages.length - 1] + 1 < pagesTotal) {
        showDividerEnd = true;
      }
      if (pages[pages.length - 1] < pagesTotal) {
        showPageLast = true;
      }
    }
    if (coreuiTableUtils.isObject(this._options.attr)) {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/pages.html'], {
      currentPage: this._table._page,
      isActivePrev: this._table._page > 1,
      isActiveNext: this._table._page < pagesTotal,
      pagesTotal: pagesTotal,
      showPrev: showPrev,
      showPageFirst: showPageFirst,
      showDividerStart: showDividerStart,
      pages: pages,
      showDividerEnd: showDividerEnd,
      showPageLast: showPageLast,
      showNext: showNext,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      lang: this._table.getLang()
    });
  },
  /**
   * Инициализация событий на элементах
   * @private
   */
  _initEvents: function _initEvents() {
    var that = this;
    var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
    var btnPrev = $('.coreui-table__page_prev', control);
    if (btnPrev[0]) {
      if (that._table._page <= 1) {
        btnPrev.addClass('disabled');
      }
      btnPrev.click(function () {
        if (that._table._page > 1) {
          that._table.prevPage();
        }
      });
    }
    var btnNext = $('.coreui-table__page_next', control);
    if (btnNext[0]) {
      btnNext.click(function () {
        that._table.nextPage();
      });
    }
    var pages = $('.coreui-table__page', control);
    if (pages[0]) {
      pages.click(function () {
        var page = Number($.trim($(this).text()));
        if (page > 0) {
          that._table.goPage(page);
        }
      });
    }
  }
};

coreuiTable$1.controls.total = {
  _id: null,
  _table: null,
  _options: {
    type: 'total',
    attr: {
      "class": 'px-1'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    if (options.hasOwnProperty('attr') && coreuiTableUtils.isObject(options.attr)) {
      options.attr = coreuiTableUtils.mergeAttr(this._options.attr, options.attr);
    }
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = coreuiTableUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
    this._table.on('records_show', function () {
      control.html(that.render());
    });
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    if (coreuiTableUtils.isObject(this._options.attr)) {
      $.each(this._options.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/total.html'], {
      recordsTotal: this._table._recordsTotal,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      lang: this._table.getLang()
    });
  }
};

coreuiTable$1.controls.search = {
  _id: null,
  _table: null,
  _options: {
    btn: {
      attr: {
        "class": 'btn btn-secondary'
      },
      content: null
    },
    btnClear: {
      content: "<i class=\"bi bi-x\"></i>",
      attr: {
        "class": 'btn btn-secondary'
      }
    },
    btnComplete: {
      attr: {
        "class": 'btn btn-primary'
      },
      content: null
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = coreuiTableUtils.hashCode();
    if (!coreuiTableUtils.isObject(this._options.btn)) {
      this._options.btn = {};
    }
    if (!this._options.btn.hasOwnProperty('content') || typeof this._options.btn.content !== 'string') {
      this._options.btn.content = '<i class="bi bi-search"></i> ' + table.getLang().search;
    }
    if (!coreuiTableUtils.isObject(this._options.btnClear)) {
      this._options.btnClear = {};
    }
    if (!this._options.btnClear.hasOwnProperty('content') || typeof this._options.btnClear.content !== 'string') {
      this._options.btnClear.content = table.getLang().clear;
    }
    if (!coreuiTableUtils.isObject(this._options.btnComplete)) {
      this._options.btnComplete = {};
    }
    if (!this._options.btnComplete.hasOwnProperty('content') || typeof this._options.btnComplete.content !== 'string') {
      this._options.btnComplete.content = table.getLang().search;
    }
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var control = coreuiTableElements.getControl(this._table.getId(), this.getId());
    var buttonToggle = $('button.btn-search-toggle', control);
    var buttonClear = $('button.btn-clear', control);
    buttonToggle.click(function () {
      var container = coreuiTableElements.getSearchContainer(that._table.getId());
      var columnsContainer = coreuiTableElements.getColumnsContainer(that._table.getId());
      if (columnsContainer[0]) {
        columnsContainer.hide();
      }
      if (container[0]) {
        container.fadeToggle('fast');
      } else {
        var controls = [];
        var controlsEvents = [];
        var btnCompleteAttr = [];
        var btnCompleteContent = '';
        var wrapper = coreuiTableElements.getWrapper(that._table.getId());
        var tableOptions = that._table.getOptions();
        var labelWidth = tableOptions.search.hasOwnProperty('labelWidth') && tableOptions.search.labelWidth ? tableOptions.search.labelWidth : 160;
        $.each(that._table._search, function (key, control) {
          var options = control.getOptions();
          if (options.hasOwnProperty('field') && typeof options.field === 'string' && options.field) {
            controls.push({
              label: options.hasOwnProperty('label') && typeof options.label === 'string' ? options.label : '',
              description: options.hasOwnProperty('description') && typeof options.description === 'string' ? options.description : '',
              prefix: options.hasOwnProperty('prefix') && typeof options.prefix === 'string' ? options.prefix : '',
              id: control.getId(),
              content: control.render()
            });
            if (control.hasOwnProperty('initEvents') && typeof control.initEvents === 'function') {
              controlsEvents.push({
                event: control.initEvents,
                control: control
              });
            }
          }
        });
        if (!coreuiTableUtils.isObject(that._options.btnComplete)) {
          that._options.btnComplete = {};
        }
        if (!coreuiTableUtils.isObject(that._options.btnComplete.attr)) {
          that._options.btnComplete.attr = {};
        }
        if (that._options.btnComplete.attr.hasOwnProperty('type')) {
          delete that._options.btnComplete.attr.type;
        }
        if (!that._options.btnComplete.attr.hasOwnProperty('class') || typeof that._options.btnComplete.attr["class"] !== 'string') {
          that._options.btnComplete.attr["class"] = 'btn-complete';
        } else {
          that._options.btnComplete.attr["class"] += ' btn-complete';
        }
        if (coreuiTableUtils.isObject(that._options.btnComplete.attr)) {
          $.each(that._options.btnComplete.attr, function (name, value) {
            btnCompleteAttr.push(name + '="' + value + '"');
          });
        }
        if (typeof that._options.btnComplete.content === 'string') {
          btnCompleteContent = that._options.btnComplete.content;
        }
        var content = ejs.render(tpl['controls/search-container.html'], {
          labelWidth: labelWidth + (typeof labelWidth === 'number' ? 'px' : ''),
          controls: controls,
          btnCompleteAttr: btnCompleteAttr.length > 0 ? ' ' + btnCompleteAttr.join(' ') : '',
          btnCompleteContent: btnCompleteContent
        });
        wrapper.prepend(content);
        if (controlsEvents.length > 0) {
          $.each(controlsEvents, function (key, controlsEvent) {
            controlsEvent.event.apply(controlsEvent.control);
          });
        }
        container = $('> .coreui-table__search', wrapper);
        $('.btn-complete', container).click(function () {
          that._table.searchRecords();
          container.fadeOut('fast');
        });
      }
    });
    buttonClear.click(function () {
      that._table.searchClear();
      var container = coreuiTableElements.getSearchContainer(that._table.getId());
      if (container[0]) {
        container.fadeOut('fast');
      }
    });
    this._table.on('search_change', function (searchData) {
      var buttonClear = $('button.btn-clear', control);
      if (searchData.length > 0) {
        if (!buttonClear[0]) {
          $(that._renderBtnClear()).insertAfter(buttonToggle);
          $('button.btn-clear', control).click(function () {
            that._table.searchClear();
            var container = coreuiTableElements.getSearchContainer(that._table.getId());
            if (container[0]) {
              container.fadeOut('fast');
            }
          });
        }
      } else {
        buttonClear.remove();
        var container = coreuiTableElements.getSearchContainer(that._table.getId());
        if (container[0]) {
          container.fadeOut('fast');
        }
      }
    });
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var btnAttr = [];
    var btnContent = '';
    var btnClear = '';
    if (!coreuiTableUtils.isObject(this._options.btn)) {
      this._options.btn = {};
    }
    if (!coreuiTableUtils.isObject(this._options.btn.attr)) {
      this._options.btn.attr = {};
    }
    if (!this._options.btn.attr.hasOwnProperty('class') || typeof this._options.btn.attr["class"] !== 'string') {
      this._options.btn.attr["class"] = 'btn-search-toggle';
    } else {
      this._options.btn.attr["class"] += ' btn-search-toggle';
    }
    $.each(this._options.btn.attr, function (name, value) {
      btnAttr.push(name + '="' + value + '"');
    });
    if (typeof this._options.btn.content === 'string') {
      btnContent = this._options.btn.content;
    }
    if (this._table.getSearchData().length > 0) {
      btnClear = this._renderBtnClear();
    }
    return ejs.render(tpl['controls/search.html'], {
      btnContent: btnContent,
      btnAttr: btnAttr.length > 0 ? ' ' + btnAttr.join(' ') : '',
      btnClear: btnClear
    });
  },
  /**
   * Рендер кнопки отмены
   * @private
   */
  _renderBtnClear: function _renderBtnClear() {
    var attributes = [];
    var content = '';
    if (!coreuiTableUtils.isObject(this._options.btnClear)) {
      this._options.btnClear = {};
    }
    if (!coreuiTableUtils.isObject(this._options.btnClear.attr)) {
      this._options.btnClear.attr = {};
    }
    if (!this._options.btnClear.attr.hasOwnProperty('class') || typeof this._options.btnClear.attr["class"] !== 'string') {
      this._options.btnClear.attr["class"] = 'btn-clear';
    } else {
      this._options.btnClear.attr["class"] += ' btn-clear';
    }
    $.each(this._options.btnClear.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    if (typeof this._options.btnClear.content === 'string') {
      content = this._options.btnClear.content;
    }
    return ejs.render(tpl['controls/search-clear.html'], {
      content: content,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.controls.columns = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'columns',
    btn: {
      content: '<i class="bi bi-layout-three-columns"></i>',
      attr: {
        "class": 'btn btn-outline-secondary'
      }
    },
    btnComplete: {
      content: null,
      attr: {
        "class": 'btn btn-primary'
      }
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (!coreuiTableUtils.isObject(this._options.btn)) {
      this._options.btn = {};
    }
    if (!coreuiTableUtils.isObject(this._options.btnComplete)) {
      this._options.btnComplete = {};
    }
    if (coreuiTableUtils.isObject(this._options.btnComplete) && typeof this._options.btnComplete.content !== 'string') {
      this._options.btnComplete.content = table.getLang().complete;
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {
    var that = this;
    var options = this.getOptions();
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var button = $('button', control);
    button.click(function () {
      var container = coreuiTableElements.getColumnsContainer(that._table.getId());
      var containerSearch = coreuiTableElements.getSearchContainer(that._table.getId());
      if (containerSearch[0]) {
        containerSearch.hide();
      }
      if (container[0]) {
        container.fadeToggle('fast');
      } else {
        var columns = [];
        var showAll = true;
        var btnCompleteAttr = [];
        var btnCompleteContent = '';
        var wrapper = coreuiTableElements.getWrapper(that._table.getId());
        $.each(that._table._columns, function (key, column) {
          var options = column.getOptions();
          if (options.hasOwnProperty('field') && typeof options.field === 'string' && options.field) {
            var isShow = column.isShow();
            columns.push({
              field: options.field,
              label: options.hasOwnProperty('label') && typeof options.label === 'string' ? options.label : '',
              show: isShow
            });
            if (!isShow) {
              showAll = false;
            }
          }
        });
        if (!coreuiTableUtils.isObject(options.btnComplete)) {
          options.btnComplete = {};
        }
        if (!coreuiTableUtils.isObject(options.btnComplete.attr)) {
          options.btnComplete.attr = {};
        }
        if (options.btnComplete.attr.hasOwnProperty('type')) {
          delete options.btnComplete.attr.type;
        }
        if (!options.btnComplete.attr.hasOwnProperty('class') || typeof options.btnComplete.attr["class"] !== 'string') {
          options.btnComplete.attr["class"] = 'btn-complete';
        } else {
          options.btnComplete.attr["class"] += ' btn-complete';
        }
        if (coreuiTableUtils.isObject(options.btnComplete.attr)) {
          $.each(options.btnComplete.attr, function (name, value) {
            btnCompleteAttr.push(name + '="' + value + '"');
          });
        }
        if (typeof options.btnComplete.content === 'string') {
          btnCompleteContent = options.btnComplete.content;
        }
        var content = ejs.render(tpl['controls/columns-container.html'], {
          showAll: showAll,
          columns: columns,
          btnCompleteAttr: btnCompleteAttr.length > 0 ? ' ' + btnCompleteAttr.join(' ') : '',
          btnCompleteContent: btnCompleteContent,
          lang: that._table.getLang()
        });
        wrapper.prepend(content);
        container = $('> .coreui-table__columns', wrapper);
        $('.coreui-table__check_all input', container).change(function () {
          $('.coreui-table_check-column input', container).prop('checked', $(this).is(":checked"));
        });
        $('.btn-complete', container).click(function () {
          var columns = [];
          $('.coreui-table_check-column input:checked', container).each(function (key, input) {
            columns.push($(input).val());
          });
          that._table.setColumnsShow(columns);
          that._table.refresh();
          container.fadeOut('fast');
        });
      }
    });
  },
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    if (coreuiTableUtils.isObject(this._options.btn.attr)) {
      $.each(this._options.btn.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
    }
    return ejs.render(tpl['controls/columns.html'], {
      btnContent: this._options.btn.content,
      btnAttr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.controls.caption = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'caption',
    title: null,
    description: null,
    value: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend({}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  initEvents: function initEvents() {},
  /**
   * Получение ID элемента управления
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    return ejs.render(tpl['controls/caption.html'], {
      title: this._options.title,
      description: this._options.description,
      value: this._options.value
    });
  }
};

coreuiTable$1.controls.filter_clear = {
  _id: null,
  _table: null,
  _options: {
    id: null,
    type: 'filter_clear',
    content: null,
    attr: {
      "class": 'btn btn-secondary'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (!this._options.hasOwnProperty('content') || typeof this._options.content !== 'string') {
      this._options.content = '<i class="bi bi-x"></i> ' + table.getLang().clear;
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('button', control).click(function () {
      that._table.filtersClear();
    });
    this._table.on('filters_change', function (filterData) {
      if (filterData.length > 0) {
        $('button', control).show();
      } else {
        $('button', control).hide();
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    var filterData = this._table.getFilterData();
    if (filterData.length === 0) {
      if (options.attr.hasOwnProperty('style') && typeof options.attr.style === 'string') {
        options.attr.style += ';display:none;';
      } else {
        options.attr.style = "display:none";
      }
    }
    var attr = [];
    $.each(options.attr, function (name, value) {
      attr.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['controls/filter_clear.html'], {
      attr: attr.length > 0 ? ' ' + attr.join(' ') : '',
      content: options.content ? options.content : ''
    });
  }
};

coreuiTable$1.filters.text = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'text',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control"
    },
    btn: {
      attr: {
        "class": "btn btn-outline-secondary border-secondary-subtle"
      },
      content: '<i class="bi bi-search"></i>'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string|number|null} value
   */
  setValue: function setValue(value) {
    if (value !== null && typeof value !== 'string' && typeof value !== 'number') {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
      }
    });
    $('button', control).click(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    options.attr['name'] = typeof options.field === 'string' ? options.field : '';
    options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    if (!coreuiTableUtils.isObject(options.btn)) {
      options.btn = {};
    }
    if (!coreuiTableUtils.isObject(options.btn.attr)) {
      options.btn.attr = {};
    }
    if (options.btn.attr.hasOwnProperty('type')) {
      delete options.btn.attr.type;
    }
    var attr = [];
    var attrBtn = [];
    $.each(options.attr, function (name, value) {
      attr.push(name + '="' + value + '"');
    });
    $.each(options.btn.attr, function (name, value) {
      attrBtn.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['filters/text.html'], {
      attr: attr.length > 0 ? ' ' + attr.join(' ') : '',
      label: label,
      btnAttr: attrBtn.length > 0 ? ' ' + attrBtn.join(' ') : '',
      btnContent: options.btn.content ? options.btn.content : ''
    });
  }
};

coreuiTable$1.filters.number = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'number',
    field: null,
    label: null,
    value: null,
    width: 90,
    attr: {
      "class": "form-control"
    },
    btn: {
      attr: {
        "class": "btn btn-outline-secondary border-secondary-subtle"
      },
      content: '<i class="bi bi-search"></i>'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {object|null} value
   */
  setValue: function setValue(value) {
    if (value) {
      if (!coreuiTableUtils.isObject(value)) {
        return;
      }
      var numberStart = null;
      var numberEnd = null;
      if (value.hasOwnProperty('start') && (typeof value.start === 'string' || typeof value.start !== 'number') && value.start !== '') {
        numberStart = value.start;
      }
      if (value.hasOwnProperty('end') && (typeof value.end === 'string' || typeof value.end !== 'number') && value.end !== '') {
        numberEnd = value.end;
      }
      if (numberStart === null && numberEnd === null) {
        this._value = null;
      } else {
        this._value = {
          start: numberStart,
          end: numberEnd
        };
      }
    } else {
      this._value = null;
    }
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        var inputStart = $('input.number-start', control);
        var inputEnd = $('input.number-end', control);
        if (this._value === null) {
          inputStart.val('');
          inputEnd.val('');
        } else if (coreuiTableUtils.isObject(this._value)) {
          inputStart.val(_typeof(this._value.start) !== null ? this._value.start : '');
          inputEnd.val(_typeof(this._value.end) !== null ? this._value.end : '');
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {string}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var inputStart = $('input.number-start', control);
    var inputEnd = $('input.number-end', control);
    if (inputStart[0] && inputEnd[0]) {
      var valueStart = inputStart.val();
      var valueEnd = inputEnd.val();
      if (typeof valueStart === 'string' && valueStart !== '' || typeof valueEnd === 'string' && valueEnd !== '') {
        return {
          start: valueStart !== '' ? valueStart : null,
          end: valueEnd !== '' ? valueEnd : null
        };
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input.number-start, input.number-end', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
      }
    });
    $('button', control).click(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    if (options.attr.hasOwnProperty('value')) {
      delete options.attr.value;
    }
    var field = typeof options.field === 'string' ? options.field : '';
    var startAttr = [];
    var endAttr = [];
    var attrBtn = [];
    $.each(options.attr, function (name, value) {
      if (['name', 'value', 'class'].indexOf(name) >= 0 || ['string', 'number'].indexOf(_typeof(value)) < 0) {
        return;
      }
      startAttr.push(name + '="' + value + '"');
      endAttr.push(name + '="' + value + '"');
    });
    if (options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(options.attr["class"])) >= 0) {
      startAttr.push('class="' + options.attr["class"] + ' number-start"');
      endAttr.push('class="' + options.attr["class"] + ' number-end"');
    } else {
      startAttr.push('class="number-start"');
      endAttr.push('class="number-end"');
    }
    if (field) {
      startAttr.push('name="' + field + '[start]"');
      endAttr.push('name="' + field + '[end]"');
    }
    startAttr.push('value="' + (this._value ? this._value.start : '') + '"');
    endAttr.push('value="' + (this._value ? this._value.end : '') + '"');
    if (!coreuiTableUtils.isObject(options.btn)) {
      options.btn = {};
    }
    if (!coreuiTableUtils.isObject(options.btn.attr)) {
      options.btn.attr = {};
    }
    if (options.btn.attr.hasOwnProperty('type')) {
      delete options.btn.attr.type;
    }
    $.each(options.btn.attr, function (name, value) {
      attrBtn.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['filters/number.html'], {
      attrStart: startAttr.length > 0 ? ' ' + startAttr.join(' ') : '',
      attrEnd: endAttr.length > 0 ? ' ' + endAttr.join(' ') : '',
      label: label,
      btnAttr: attrBtn.length > 0 ? ' ' + attrBtn.join(' ') : '',
      btnContent: options.btn.content ? options.btn.content : ''
    });
  }
};

coreuiTable$1.filters.date = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'date',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (typeof value !== 'string' && value !== null) {
      return;
    }
    if (value && (value.match(/^\d{4}\-\d{2}\-\d{2}$/) === null || isNaN(new Date(value)))) {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    options.attr['name'] = typeof options.field === 'string' ? options.field : '';
    options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    var attr = [];
    $.each(options.attr, function (name, value) {
      attr.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['filters/date.html'], {
      attr: attr.length > 0 ? ' ' + attr.join(' ') : '',
      label: label
    });
  }
};

coreuiTable$1.filters.datetime = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'datetime',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string|null} value
   */
  setValue: function setValue(value) {
    if (typeof value !== 'string' && value !== null) {
      return;
    }
    if (value && (value.match(/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/) === null || isNaN(new Date(value)))) {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    options.attr['name'] = typeof options.field === 'string' ? options.field : '';
    options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    var attr = [];
    $.each(options.attr, function (name, value) {
      attr.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['filters/datetime.html'], {
      attr: attr.length > 0 ? ' ' + attr.join(' ') : '',
      label: label
    });
  }
};

coreuiTable$1.filters.date_month = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'date_month',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string|null} value
   */
  setValue: function setValue(value) {
    if (typeof value !== 'string' && value !== null) {
      return;
    }
    if (value && (value.match(/^\d{4}\-\d{2}$/) === null || isNaN(new Date(value)))) {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    options.attr['name'] = typeof options.field === 'string' ? options.field : '';
    options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    var attr = [];
    $.each(options.attr, function (name, value) {
      attr.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['filters/date_month.html'], {
      attr: attr.length > 0 ? ' ' + attr.join(' ') : '',
      label: label
    });
  }
};

coreuiTable$1.filters.date_range = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'date_range',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {object|null} value
   */
  setValue: function setValue(value) {
    if (value) {
      if (!coreuiTableUtils.isObject(value)) {
        return;
      }
      var dateStart = null;
      var dateEnd = null;
      if (value.hasOwnProperty('start') && typeof value.start === 'string' && value.start.match(/^\d{4}\-\d{2}\-\d{2}$/) === null && isNaN(new Date(value.start))) {
        dateStart = value.start;
      }
      if (value.hasOwnProperty('end') && typeof value.end === 'string' && value.end.match(/^\d{4}\-\d{2}\-\d{2}$/) === null && isNaN(new Date(value.end))) {
        dateEnd = value.end;
      }
      if (dateStart === null && dateEnd === null) {
        this._value = null;
      } else {
        this._value = {
          start: dateStart,
          end: dateEnd
        };
      }
    } else {
      this._value = null;
    }
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        var inputStart = $('input.date-start', control);
        var inputEnd = $('input.date-end', control);
        if (this._value === null) {
          inputStart.val('');
          inputEnd.val('');
        } else if (coreuiTableUtils.isObject(this._value)) {
          inputStart.val(_typeof(this._value.start) !== null ? this._value.start : '');
          inputEnd.val(_typeof(this._value.end) !== null ? this._value.end : '');
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Object|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var inputStart = $('input.date-start', control);
    var inputEnd = $('input.date-end', control);
    if (inputStart[0] && inputEnd[0]) {
      var valueStart = inputStart.val();
      var valueEnd = inputEnd.val();
      if (typeof valueStart === 'string' && valueStart !== '' || typeof valueEnd === 'string' && valueEnd !== '') {
        return {
          start: valueStart !== '' ? valueStart : null,
          end: valueEnd !== '' ? valueEnd : null
        };
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    if (options.attr.hasOwnProperty('value')) {
      delete options.attr.value;
    }
    var field = typeof options.field === 'string' ? options.field : '';
    var startAttr = [];
    var startEnd = [];
    $.each(options.attr, function (name, value) {
      if (['name', 'value', 'class'].indexOf(name) >= 0 || ['string', 'number'].indexOf(_typeof(value)) < 0) {
        return;
      }
      startAttr.push(name + '="' + value + '"');
      startEnd.push(name + '="' + value + '"');
    });
    if (options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(options.attr["class"])) >= 0) {
      startAttr.push('class="' + options.attr["class"] + ' date-start"');
      startEnd.push('class="' + options.attr["class"] + ' date-end"');
    } else {
      startAttr.push('class="date-start"');
      startEnd.push('class="date-end"');
    }
    if (field) {
      startAttr.push('name="' + field + '[start]"');
      startEnd.push('name="' + field + '[end]"');
    }
    startAttr.push('value="' + (this._value ? this._value.start : '') + '"');
    startEnd.push('value="' + (this._value ? this._value.end : '') + '"');
    return ejs.render(tpl['filters/date_range.html'], {
      label: label,
      startAttr: startAttr.length > 0 ? ' ' + startAttr.join(' ') : '',
      endAttr: startEnd.length > 0 ? ' ' + startEnd.join(' ') : ''
    });
  }
};

coreuiTable$1.filters.datetime_range = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'datetime_range',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {object|null} value
   */
  setValue: function setValue(value) {
    if (value) {
      if (!coreuiTableUtils.isObject(value)) {
        return;
      }
      var dateStart = null;
      var dateEnd = null;
      if (value.hasOwnProperty('start') && typeof value.start === 'string' && value.start.match(/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/) === null && isNaN(new Date(value.start))) {
        dateStart = value.start;
      }
      if (value.hasOwnProperty('end') && typeof value.end === 'string' && value.end.match(/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/) === null && isNaN(new Date(value.end))) {
        dateEnd = value.end;
      }
      if (dateStart === null && dateEnd === null) {
        this._value = null;
      } else {
        this._value = {
          start: dateStart,
          end: dateEnd
        };
      }
    } else {
      this._value = null;
    }
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        var inputStart = $('input.date-start', control);
        var inputEnd = $('input.date-end', control);
        if (this._value === null) {
          inputStart.val('');
          inputEnd.val('');
        } else if (coreuiTableUtils.isObject(this._value)) {
          inputStart.val(_typeof(this._value.start) !== null ? this._value.start : '');
          inputEnd.val(_typeof(this._value.end) !== null ? this._value.end : '');
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Object|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var inputStart = $('input.date-start', control);
    var inputEnd = $('input.date-end', control);
    if (inputStart[0] && inputEnd[0]) {
      var valueStart = inputStart.val();
      var valueEnd = inputEnd.val();
      if (typeof valueStart === 'string' && valueStart !== '' || typeof valueEnd === 'string' && valueEnd !== '') {
        return {
          start: valueStart !== '' ? valueStart : null,
          end: valueEnd !== '' ? valueEnd : null
        };
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    if (options.attr.hasOwnProperty('value')) {
      delete options.attr.value;
    }
    var field = typeof options.field === 'string' ? options.field : '';
    var startAttr = [];
    var startEnd = [];
    $.each(options.attr, function (name, value) {
      if (['name', 'value', 'class'].indexOf(name) >= 0 || ['string', 'number'].indexOf(_typeof(value)) < 0) {
        return;
      }
      startAttr.push(name + '="' + value + '"');
      startEnd.push(name + '="' + value + '"');
    });
    if (options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(options.attr["class"])) >= 0) {
      startAttr.push('class="' + options.attr["class"] + ' date-start"');
      startEnd.push('class="' + options.attr["class"] + ' date-end"');
    } else {
      startAttr.push('class="date-start"');
      startEnd.push('class="date-end"');
    }
    if (field) {
      startAttr.push('name="' + field + '[start]"');
      startEnd.push('name="' + field + '[end]"');
    }
    startAttr.push('value="' + (this._value ? this._value.start : '') + '"');
    startEnd.push('value="' + (this._value ? this._value.end : '') + '"');
    return ejs.render(tpl['filters/datetime_range.html'], {
      label: label,
      startAttr: startAttr.length > 0 ? ' ' + startAttr.join(' ') : '',
      endAttr: startEnd.length > 0 ? ' ' + startEnd.join(' ') : ''
    });
  }
};

coreuiTable$1.filters.checkbox = {
  _id: null,
  _table: null,
  _value: null,
  _class: 'btn btn-outline-secondary',
  _render: false,
  _options: {
    id: null,
    type: 'checkbox',
    field: null,
    label: null,
    value: null,
    options: []
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {Array|string|number|null} value
   */
  setValue: function setValue(value) {
    if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {
      return;
    }
    if (_typeof(value) === 'object') {
      if (Array.isArray(value)) {
        var items = [];
        $.each(value, function (key, item) {
          if (typeof value !== 'string' && typeof value !== 'number') {
            return;
          }
          items.push(item);
        });
        this._value = items;
      } else {
        this._value = null;
      }
    } else {
      this._value = [value];
    }
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input:checked', control).prop('checked', false);
        if (Array.isArray(this._value)) {
          $.each(this._value, function (key, value) {
            $('input[value="' + value + '"]', control).prop('checked', true);
          });
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Array|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    if (control[0]) {
      var inputs = $('input:checked', control);
      var items = [];
      $.each(inputs, function (key, input) {
        var value = $(input).attr('value');
        if (['string', 'number'].indexOf(_typeof(value)) >= 0 && value !== '') {
          items.push(value);
        }
      });
      return items.length > 0 ? items : null;
    } else {
      return this._value;
    }
  },
  /**
   * Инициализация событий
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var that = this;
    var options = this.getOptions();
    var field = typeof options.field === 'string' ? options.field : '';
    var items = [];
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    $.each(options.options, function (key, option) {
      if (!coreuiTableUtils.isObject(option) || !option.hasOwnProperty('value') || ['string', 'numeric'].indexOf(_typeof(option.value)) === -1) {
        return;
      }
      var checked = Array.isArray(that._value) ? that._value.indexOf(option.value) >= 0 : false;
      var text = option.hasOwnProperty('text') ? option.text : option.value;
      items.push({
        text: text,
        value: option.value,
        "class": option.hasOwnProperty('class') && typeof option["class"] === 'string' ? option["class"] : that._class,
        checked: checked
      });
    });
    return ejs.render(tpl['filters/checkbox.html'], {
      label: label,
      items: items,
      field: field + this.getId(),
      lang: this._table.getLang()
    });
  }
};

coreuiTable$1.filters.radio = {
  _id: null,
  _table: null,
  _value: null,
  _class: 'btn btn-outline-secondary',
  _render: false,
  _options: {
    id: null,
    type: 'radio',
    field: null,
    label: null,
    value: null,
    options: []
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string|number|null} value
   */
  setValue: function setValue(value) {
    if (value !== null && typeof value !== 'string' && typeof value !== 'number') {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).prop('checked', false);
        if (this._value !== null) {
          $('input[value="' + this._value + '"]', control).prop('checked', true);
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var input = $('input:checked', control);
    if (input[0]) {
      var value = input.val();
      return value === '' ? null : value;
    } else {
      return this._value;
    }
  },
  /**
   * Получение типа поискового алгоритма
   */
  getAlgorithm: function getAlgorithm() {
    return 'strict';
  },
  /**
   * Инициализация событий
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var that = this;
    var options = this.getOptions();
    var field = typeof options.field === 'string' ? options.field : '';
    var items = [];
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    $.each(options.options, function (key, option) {
      if (!coreuiTableUtils.isObject(option) || !option.hasOwnProperty('value') || ['string', 'numeric'].indexOf(_typeof(option.value)) === -1) {
        return;
      }
      var text = option.hasOwnProperty('text') ? option.text : option.value;
      items.push({
        text: text,
        value: option.value,
        "class": option.hasOwnProperty('class') && typeof option["class"] === 'string' ? option["class"] : that._class,
        checked: option.value == that._value
      });
    });
    return ejs.render(tpl['filters/radio.html'], {
      label: label,
      items: items,
      field: field + this.getId(),
      lang: this._table.getLang()
    });
  }
};

coreuiTable$1.filters.select = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'select',
    field: null,
    label: null,
    width: null,
    value: null,
    attr: {
      "class": 'form-select d-inline-block'
    },
    options: []
  },
  /**
   * Инициализация
   * @param {object} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {Array|string|number|null} value
   */
  setValue: function setValue(value) {
    if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {
      return;
    }
    if (_typeof(value) === 'object') {
      if (Array.isArray(value)) {
        var items = [];
        $.each(value, function (key, item) {
          if (typeof value !== 'string' && typeof value !== 'number') {
            return;
          }
          items.push(item);
        });
        this._value = items;
      } else {
        this._value = null;
      }
    } else {
      this._value = [value];
    }
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        $('select option:selected', control).prop('selected', false);
        if (Array.isArray(this._value)) {
          $.each(this._value, function (key, value) {
            $('select option[value="' + value + '"]', control).prop('selected', true);
          });
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Array|string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    if (control[0]) {
      var isMultiple = !!$('select', control).attr('multiple');
      var options = $('select option:checked', control);
      var items = [];
      $.each(options, function (key, option) {
        var value = $(option).attr('value');
        if (['string', 'number'].indexOf(_typeof(value)) >= 0 && value !== '') {
          items.push(value);
        }
      });
      return items.length > 0 ? isMultiple ? items : items[0] : null;
    } else {
      return null;
    }
  },
  /**
   * Инициализация событий
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('select', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var that = this;
    var options = this.getOptions();
    var selectOptions = [];
    var attributes = [];
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    if (!options.hasOwnProperty('attr') || !coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.field) {
      options.attr.name = this._options.field;
    }
    if (options.width) {
      options.attr = coreuiTableUtils.mergeAttr({
        style: 'width:' + options.width + 'px'
      }, options.attr);
    }
    if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && options.options !== null) {
      $.each(options.options, function (key, option) {
        if (typeof option === 'string' || typeof option === 'number') {
          selectOptions.push(that._buildOption({
            type: 'option',
            value: key,
            text: option
          }));
        } else if (coreuiTableUtils.isObject(option)) {
          var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'option';
          if (type === 'group') {
            var renderAttr = [];
            var groupAttr = {};
            var groupOptions = [];
            if (option.hasOwnProperty('attr') && coreuiTableUtils.isObject(option.attr)) {
              groupAttr = option.attr;
            }
            if (option.hasOwnProperty('label') && ['string', 'number'].indexOf(_typeof(option.label)) >= 0) {
              groupAttr.label = option.label;
            }
            $.each(groupAttr, function (name, value) {
              renderAttr.push(name + '="' + value + '"');
            });
            if (Array.isArray(option.options)) {
              $.each(option.options, function (key, groupOption) {
                groupOptions.push(that._buildOption(groupOption));
              });
            }
            selectOptions.push({
              type: 'group',
              attr: renderAttr.length > 0 ? ' ' + renderAttr.join(' ') : '',
              options: groupOptions
            });
          } else {
            selectOptions.push(that._buildOption(option));
          }
        }
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['filters/select.html'], {
      label: label,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      options: selectOptions
    });
  },
  /**
   * Сборка опции
   * @param option
   * @return {object}
   * @private
   */
  _buildOption: function _buildOption(option) {
    var optionAttr = [];
    var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';
    $.each(option, function (name, value) {
      if (name !== 'text') {
        optionAttr.push(name + '="' + value + '"');
      }
    });
    if (Array.isArray(this._value)) {
      $.each(this._value, function (key, itemValue) {
        if (itemValue == option.value) {
          optionAttr.push('selected="selected"');
          return false;
        }
      });
    } else if (this._value == option.value) {
      optionAttr.push('selected="selected"');
    }
    return {
      type: 'option',
      text: optionText,
      attr: optionAttr.length > 0 ? ' ' + optionAttr.join(' ') : ''
    };
  }
};

coreuiTable$1.filters["switch"] = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'switch',
    field: null,
    label: null,
    value: null,
    valueY: 'Y'
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string|number|null} value
   */
  setValue: function setValue(value) {
    if (value !== null && typeof value !== 'string' && typeof value !== 'number') {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getControl(this._table.getId(), this._id);
      if (control[0]) {
        var valueY = typeof this._options.valueY === 'string' || typeof this._options.valueY === 'number' ? this._options.valueY : '';
        if (this._value === null) {
          $('input', control).prop('checked', false);
        } else if (this._value === valueY) {
          $('input', control).prop('checked', true);
        } else {
          $('input', control).prop('checked', false);
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {string}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var input = $('input:checked', control);
    return input[0] ? input.val() : null;
  },
  /**
   * Инициализация событий
   */
  initEvents: function initEvents() {
    var control = coreuiTableElements.getControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).change(function (e) {
      that._table.searchRecords();
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var valueY = typeof options.valueY === 'string' || typeof options.valueY === 'number' ? options.valueY : '';
    var label = typeof options.label === 'string' || typeof options.label === 'number' ? options.label : '';
    return ejs.render(tpl['filters/switch.html'], {
      id: this._id,
      valueY: valueY,
      field: typeof options.field === 'string' ? options.field : '',
      checked: this._value == valueY,
      label: label
    });
  }
};

coreuiTable$1.search.text = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'text',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (value !== null && typeof value !== 'string' && typeof value !== 'number') {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var container = coreuiTableElements.getSearchContainer(this._table.getId());
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
        container.fadeOut('fast');
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    if (!coreuiTableUtils.isObject(this._options.attr)) {
      this._options.attr = {};
    }
    if (this._options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(this._options.width)) {
      if (this._options.attr.hasOwnProperty('style')) {
        this._options.attr['style'] += ';width:' + this._options.width + 'px';
      } else {
        this._options.attr['style'] = 'width:' + this._options.width + 'px';
      }
    }
    this._options.attr['name'] = typeof this._options.field === 'string' ? this._options.field : '';
    this._options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (this._options.attr.hasOwnProperty('type')) {
      delete this._options.attr.type;
    }
    var attributes = [];
    $.each(this._options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['search/text.html'], {
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.search.number = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'number',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {Object} value
   */
  setValue: function setValue(value) {
    if (value) {
      if (!coreuiTableUtils.isObject(value)) {
        return;
      }
      var numberStart = null;
      var numberEnd = null;
      if (value.hasOwnProperty('start') && ['string', 'number'].indexOf(_typeof(value.start)) >= 0) {
        numberStart = value.start;
      }
      if (value.hasOwnProperty('end') && ['string', 'number'].indexOf(_typeof(value.end)) >= 0) {
        numberEnd = value.end;
      }
      if (numberStart === null && numberEnd === null) {
        this._value = null;
      } else {
        this._value = {
          start: numberStart,
          end: numberEnd
        };
      }
    } else {
      this._value = null;
    }
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        var inputStart = $('input.number-start', control);
        var inputEnd = $('input.number-end', control);
        if (this._value === null) {
          inputStart.val('');
          inputEnd.val('');
        } else if (coreuiTableUtils.isObject(this._value)) {
          inputStart.val(_typeof(this._value.start) !== null ? this._value.start : '');
          inputEnd.val(_typeof(this._value.end) !== null ? this._value.end : '');
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var inputStart = $('input.number-start', control);
    var inputEnd = $('input.number-end', control);
    if (inputStart[0] && inputEnd[0]) {
      var valueStart = inputStart.val();
      var valueEnd = inputEnd.val();
      if (typeof valueStart === 'string' && valueStart !== '' || typeof valueEnd === 'string' && valueEnd !== '') {
        return {
          start: valueStart !== '' ? valueStart : null,
          end: valueEnd !== '' ? valueEnd : null
        };
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var container = coreuiTableElements.getSearchContainer(this._table.getId());
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var that = this;
    $('input.number-start, input.number-end', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
        container.fadeOut('fast');
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    if (!coreuiTableUtils.isObject(this._options.attr)) {
      this._options.attr = {};
    }
    if (this._options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(this._options.width)) {
      if (this._options.attr.hasOwnProperty('style')) {
        this._options.attr['style'] += ';width:' + this._options.width + 'px';
      } else {
        this._options.attr['style'] = 'width:' + this._options.width + 'px';
      }
    }
    if (this._options.attr.hasOwnProperty('type')) {
      delete this._options.attr.type;
    }
    if (this._options.attr.hasOwnProperty('value')) {
      delete this._options.attr.value;
    }
    var field = typeof this._options.field === 'string' ? this._options.field : '';
    var startAttr = [];
    var startEnd = [];
    $.each(this._options.attr, function (name, value) {
      if (['name', 'value', 'class'].indexOf(name) >= 0 || ['string', 'number'].indexOf(_typeof(value)) < 0) {
        return;
      }
      startAttr.push(name + '="' + value + '"');
      startEnd.push(name + '="' + value + '"');
    });
    if (this._options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(this._options.attr["class"])) >= 0) {
      startAttr.push('class="' + this._options.attr["class"] + ' number-start"');
      startEnd.push('class="' + this._options.attr["class"] + ' number-end"');
    } else {
      startAttr.push('class="number-start"');
      startEnd.push('class="number-end"');
    }
    if (field) {
      startAttr.push('name="' + field + '[start]"');
      startEnd.push('name="' + field + '[end]"');
    }
    startAttr.push('value="' + (this._value ? this._value.start : '') + '"');
    startEnd.push('value="' + (this._value ? this._value.end : '') + '"');
    return ejs.render(tpl['search/number.html'], {
      startAttr: startAttr.length > 0 ? ' ' + startAttr.join(' ') : '',
      endAttr: startEnd.length > 0 ? ' ' + startEnd.join(' ') : ''
    });
  }
};

coreuiTable$1.search.date = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'date',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (typeof value !== 'string' && value !== null) {
      return;
    }
    if (value && (value.match(/^\d{4}\-\d{2}\-\d{2}$/) === null || isNaN(new Date(value)))) {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var container = coreuiTableElements.getSearchContainer(this._table.getId());
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
        container.fadeOut('fast');
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    if (!coreuiTableUtils.isObject(this._options.attr)) {
      this._options.attr = {};
    }
    if (this._options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(this._options.width)) {
      if (this._options.attr.hasOwnProperty('style')) {
        this._options.attr['style'] += ';width:' + this._options.width + 'px';
      } else {
        this._options.attr['style'] = 'width:' + this._options.width + 'px';
      }
    }
    this._options.attr['name'] = typeof this._options.field === 'string' ? this._options.field : '';
    this._options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (this._options.attr.hasOwnProperty('type')) {
      delete this._options.attr.type;
    }
    var attributes = [];
    $.each(this._options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['search/date.html'], {
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.search.date_month = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'date_month',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string|null} value
   */
  setValue: function setValue(value) {
    if (typeof value !== 'string' && value !== null) {
      return;
    }
    if (value && (value.match(/^\d{4}\-\d{2}$/) === null || isNaN(new Date(value)))) {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var container = coreuiTableElements.getSearchContainer(this._table.getId());
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
        container.fadeOut('fast');
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    if (!coreuiTableUtils.isObject(this._options.attr)) {
      this._options.attr = {};
    }
    if (this._options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(this._options.width)) {
      if (this._options.attr.hasOwnProperty('style')) {
        this._options.attr['style'] += ';width:' + this._options.width + 'px';
      } else {
        this._options.attr['style'] = 'width:' + this._options.width + 'px';
      }
    }
    this._options.attr['name'] = typeof this._options.field === 'string' ? this._options.field : '';
    this._options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (this._options.attr.hasOwnProperty('type')) {
      delete this._options.attr.type;
    }
    var attributes = [];
    $.each(this._options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['search/date_month.html'], {
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.search.datetime = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'datetime',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (typeof value !== 'string' && value !== null) {
      return;
    }
    if (value && (value.match(/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/) === null || isNaN(new Date(value)))) {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).val(this._value === null ? '' : this._value);
      }
    }
  },
  /**
   * Получение значения
   * @returns {string}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var input = $('input', control);
    if (input[0]) {
      var value = input.val();
      if (typeof value === 'string' && value !== '') {
        return value;
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var container = coreuiTableElements.getSearchContainer(this._table.getId());
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var that = this;
    $('input', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
        container.fadeOut('fast');
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    if (!coreuiTableUtils.isObject(this._options.attr)) {
      this._options.attr = {};
    }
    if (this._options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(this._options.width)) {
      if (this._options.attr.hasOwnProperty('style')) {
        this._options.attr['style'] += ';width:' + this._options.width + 'px';
      } else {
        this._options.attr['style'] = 'width:' + this._options.width + 'px';
      }
    }
    this._options.attr['name'] = typeof this._options.field === 'string' ? this._options.field : '';
    this._options.attr['value'] = typeof this._value === 'string' || typeof this._value === 'number' ? this._value : '';
    if (this._options.attr.hasOwnProperty('type')) {
      delete this._options.attr.type;
    }
    var attributes = [];
    $.each(this._options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['search/datetime.html'], {
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    });
  }
};

coreuiTable$1.search.date_range = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'date_range',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {Object} value
   */
  setValue: function setValue(value) {
    if (value) {
      if (!coreuiTableUtils.isObject(value)) {
        return;
      }
      var dateStart = null;
      var dateEnd = null;
      if (value.hasOwnProperty('start') && typeof value.start === 'string' && value.start.match(/^\d{4}\-\d{2}\-\d{2}$/) === null && isNaN(new Date(value.start))) {
        dateStart = value.start;
      }
      if (value.hasOwnProperty('end') && typeof value.end === 'string' && value.end.match(/^\d{4}\-\d{2}\-\d{2}$/) === null && isNaN(new Date(value.end))) {
        dateEnd = value.end;
      }
      if (dateStart === null && dateEnd === null) {
        this._value = null;
      } else {
        this._value = {
          start: dateStart,
          end: dateEnd
        };
      }
    } else {
      this._value = null;
    }
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        var inputStart = $('input.date-start', control);
        var inputEnd = $('input.date-end', control);
        if (this._value === null) {
          inputStart.val('');
          inputEnd.val('');
        } else if (coreuiTableUtils.isObject(this._value)) {
          inputStart.val(_typeof(this._value.start) !== null ? this._value.start : '');
          inputEnd.val(_typeof(this._value.end) !== null ? this._value.end : '');
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Object|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var inputStart = $('input.date-start', control);
    var inputEnd = $('input.date-end', control);
    if (inputStart[0] && inputEnd[0]) {
      var valueStart = inputStart.val();
      var valueEnd = inputEnd.val();
      if (typeof valueStart === 'string' && valueStart !== '' || typeof valueEnd === 'string' && valueEnd !== '') {
        return {
          start: valueStart !== '' ? valueStart : null,
          end: valueEnd !== '' ? valueEnd : null
        };
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var container = coreuiTableElements.getSearchContainer(this._table.getId());
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var that = this;
    $('input.date-start, input.date-end', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
        container.fadeOut('fast');
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    if (!coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(options.width)) {
      if (options.attr.hasOwnProperty('style')) {
        options.attr['style'] += ';width:' + options.width + 'px';
      } else {
        options.attr['style'] = 'width:' + options.width + 'px';
      }
    }
    if (options.attr.hasOwnProperty('type')) {
      delete options.attr.type;
    }
    if (options.attr.hasOwnProperty('value')) {
      delete options.attr.value;
    }
    var field = typeof options.field === 'string' ? options.field : '';
    var startAttr = [];
    var startEnd = [];
    $.each(options.attr, function (name, value) {
      if (['name', 'value', 'class'].indexOf(name) >= 0 || ['string', 'number'].indexOf(_typeof(value)) < 0) {
        return;
      }
      startAttr.push(name + '="' + value + '"');
      startEnd.push(name + '="' + value + '"');
    });
    if (options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(options.attr["class"])) >= 0) {
      startAttr.push('class="' + options.attr["class"] + ' date-start"');
      startEnd.push('class="' + options.attr["class"] + ' date-end"');
    } else {
      startAttr.push('class="date-start"');
      startEnd.push('class="date-end"');
    }
    if (field) {
      startAttr.push('name="' + field + '[start]"');
      startEnd.push('name="' + field + '[end]"');
    }
    startAttr.push('value="' + (this._value ? this._value.start : '') + '"');
    startEnd.push('value="' + (this._value ? this._value.end : '') + '"');
    return ejs.render(tpl['search/date_range.html'], {
      startAttr: startAttr.length > 0 ? ' ' + startAttr.join(' ') : '',
      endAttr: startEnd.length > 0 ? ' ' + startEnd.join(' ') : ''
    });
  }
};

coreuiTable$1.search.datetime_range = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'datetime_range',
    field: null,
    label: null,
    value: null,
    width: 200,
    attr: {
      "class": "form-control d-inline-block"
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {Object} value
   */
  setValue: function setValue(value) {
    if (value) {
      if (!coreuiTableUtils.isObject(value)) {
        return;
      }
      var dateStart = null;
      var dateEnd = null;
      if (value.hasOwnProperty('start') && typeof value.start === 'string' && value.start.match(/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/) === null && isNaN(new Date(value.start))) {
        dateStart = value.start;
      }
      if (value.hasOwnProperty('end') && typeof value.end === 'string' && value.end.match(/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/) === null && isNaN(new Date(value.end))) {
        dateEnd = value.end;
      }
      if (dateStart === null && dateEnd === null) {
        this._value = null;
      } else {
        this._value = {
          start: dateStart,
          end: dateEnd
        };
      }
    } else {
      this._value = null;
    }
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        var inputStart = $('input.date-start', control);
        var inputEnd = $('input.date-end', control);
        if (this._value === null) {
          inputStart.val('');
          inputEnd.val('');
        } else if (coreuiTableUtils.isObject(this._value)) {
          inputStart.val(_typeof(this._value.start) !== null ? this._value.start : '');
          inputEnd.val(_typeof(this._value.end) !== null ? this._value.end : '');
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Object|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var inputStart = $('input.date-start', control);
    var inputEnd = $('input.date-end', control);
    if (inputStart[0] && inputEnd[0]) {
      var valueStart = inputStart.val();
      var valueEnd = inputEnd.val();
      if (typeof valueStart === 'string' && valueStart !== '' || typeof valueEnd === 'string' && valueEnd !== '') {
        return {
          start: valueStart !== '' ? valueStart : null,
          end: valueEnd !== '' ? valueEnd : null
        };
      }
    }
    return null;
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {
    var container = coreuiTableElements.getSearchContainer(this._table.getId());
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var that = this;
    $('input.date-start, input.date-end', control).keyup(function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        that._table.searchRecords();
        container.fadeOut('fast');
      }
    });
  },
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    if (!coreuiTableUtils.isObject(this._options.attr)) {
      this._options.attr = {};
    }
    if (this._options.hasOwnProperty('width') && coreuiTableUtils.isNumeric(this._options.width)) {
      if (this._options.attr.hasOwnProperty('style')) {
        this._options.attr['style'] += ';width:' + this._options.width + 'px';
      } else {
        this._options.attr['style'] = 'width:' + this._options.width + 'px';
      }
    }
    if (this._options.attr.hasOwnProperty('type')) {
      delete this._options.attr.type;
    }
    if (this._options.attr.hasOwnProperty('value')) {
      delete this._options.attr.value;
    }
    var field = typeof this._options.field === 'string' ? this._options.field : '';
    var startAttr = [];
    var startEnd = [];
    $.each(this._options.attr, function (name, value) {
      if (['name', 'value', 'class'].indexOf(name) >= 0 || ['string', 'number'].indexOf(_typeof(value)) < 0) {
        return;
      }
      startAttr.push(name + '="' + value + '"');
      startEnd.push(name + '="' + value + '"');
    });
    if (this._options.attr.hasOwnProperty('class') && ['string', 'number'].indexOf(_typeof(this._options.attr["class"])) >= 0) {
      startAttr.push('class="' + this._options.attr["class"] + ' date-start"');
      startEnd.push('class="' + this._options.attr["class"] + ' date-end"');
    } else {
      startAttr.push('class="date-start"');
      startEnd.push('class="date-end"');
    }
    if (field) {
      startAttr.push('name="' + field + '[start]"');
      startEnd.push('name="' + field + '[end]"');
    }
    startAttr.push('value="' + (this._value ? this._value.start : '') + '"');
    startEnd.push('value="' + (this._value ? this._value.end : '') + '"');
    return ejs.render(tpl['search/datetime_range.html'], {
      startAttr: startAttr.length > 0 ? ' ' + startAttr.join(' ') : '',
      endAttr: startEnd.length > 0 ? ' ' + startEnd.join(' ') : ''
    });
  }
};

coreuiTable$1.search.checkbox = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'checkbox',
    field: null,
    label: null,
    value: null,
    options: []
  },
  /**
   * Инициализация
   * @param {object} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {Array|null} value
   */
  setValue: function setValue(value) {
    if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {
      return;
    }
    if (_typeof(value) === 'object') {
      if (Array.isArray(value)) {
        var items = [];
        $.each(value, function (key, item) {
          if (typeof value !== 'string' && typeof value !== 'number') {
            return;
          }
          items.push(item);
        });
        this._value = items;
      } else {
        this._value = null;
      }
    } else {
      this._value = [value];
    }
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input:checked', control).prop('checked', false);
        if (Array.isArray(this._value)) {
          $.each(this._value, function (key, value) {
            $('input[value="' + value + '"]', control).prop('checked', true);
          });
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Array|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    if (control[0]) {
      var inputs = $('input:checked', control);
      var items = [];
      $.each(inputs, function (key, input) {
        var value = $(input).attr('value');
        if (['string', 'number'].indexOf(_typeof(value)) >= 0 && value !== '') {
          items.push(value);
        }
      });
      return items.length > 0 ? items : null;
    } else {
      return this._value;
    }
  },
  /**
   * Инициализация событий
   */
  initEvents: function initEvents() {},
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var that = this;
    var options = [];
    $.each(this._options.options, function (key, option) {
      if (['string', 'numeric'].indexOf(_typeof(option)) >= 0) {
        var checked = Array.isArray(that._value) ? that._value.indexOf(key) >= 0 : false;
        options.push({
          text: option,
          value: key,
          checked: checked
        });
      } else {
        if (!coreuiTableUtils.isObject(option) || !option.hasOwnProperty('value') || ['string', 'numeric'].indexOf(_typeof(option.value)) === -1) {
          return;
        }
        var _checked = Array.isArray(that._value) ? that._value.indexOf(option.value) >= 0 : false;
        var text = option.hasOwnProperty('text') ? option.text : option.value;
        options.push({
          text: text,
          value: option.value,
          checked: _checked
        });
      }
    });
    return ejs.render(tpl['search/checkbox.html'], {
      options: options,
      field: typeof this._options.field === 'string' ? this._options.field : ''
    });
  }
};

coreuiTable$1.search.radio = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'radio',
    field: null,
    label: null,
    value: null,
    options: []
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (value !== null && typeof value !== 'string' && typeof value !== 'number') {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        $('input', control).prop('checked', false);
        if (this._value !== null) {
          $('input[value="' + this._value + '"]', control).prop('checked', true);
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var input = $('input:checked', control);
    if (input[0]) {
      var value = input.val();
      return value === '' ? null : value;
    } else {
      return this._value;
    }
  },
  /**
   * Получение типа поискового алгоритма
   */
  getAlgorithm: function getAlgorithm() {
    return 'strict';
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {},
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var that = this;
    var checkedAll = true;
    var options = [];
    $.each(this._options.options, function (key, option) {
      if (['string', 'numeric'].indexOf(_typeof(option)) >= 0) {
        var checked = key == that._value;
        if (checked) {
          checkedAll = false;
        }
        options.push({
          text: option,
          value: key,
          checked: checked
        });
      } else {
        if (!coreuiTableUtils.isObject(option) || !option.hasOwnProperty('value') || ['string', 'numeric'].indexOf(_typeof(option.value)) === -1) {
          return;
        }
        var _checked = option.value == that._value;
        var text = option.hasOwnProperty('text') ? option.text : option.value;
        if (_checked) {
          checkedAll = false;
        }
        options.push({
          text: text,
          value: option.value,
          checked: _checked
        });
      }
    });
    return ejs.render(tpl['search/radio.html'], {
      options: options,
      checkedAll: checkedAll,
      field: typeof this._options.field === 'string' ? this._options.field : '',
      lang: this._table.getLang()
    });
  }
};

coreuiTable$1.search.select = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'select',
    field: null,
    label: null,
    width: null,
    value: null,
    attr: {
      "class": 'form-select d-inline-block'
    },
    options: []
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {Array} value
   */
  setValue: function setValue(value) {
    if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {
      return;
    }
    if (_typeof(value) === 'object') {
      if (Array.isArray(value)) {
        var items = [];
        $.each(value, function (key, item) {
          if (typeof value !== 'string' && typeof value !== 'number') {
            return;
          }
          items.push(item);
        });
        this._value = items;
      } else {
        this._value = null;
      }
    } else {
      this._value = [value];
    }
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        $('select option:selected', control).prop('selected', false);
        if (Array.isArray(this._value)) {
          $.each(this._value, function (key, value) {
            $('select option[value="' + value + '"]', control).prop('selected', true);
          });
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {Array|string|null}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    if (control[0]) {
      var isMultiple = !!$('select', control).attr('multiple');
      var options = $('select option:selected', control);
      var items = [];
      $.each(options, function (key, option) {
        var value = $(option).attr('value');
        if (['string', 'number'].indexOf(_typeof(value)) >= 0 && value !== '') {
          items.push(value);
        }
      });
      return items.length > 0 ? isMultiple ? items : items[0] : null;
    } else {
      return this._value;
    }
  },
  /**
   * Инициализация событий
   * @returns {object}
   */
  initEvents: function initEvents() {},
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var that = this;
    var options = this.getOptions();
    var selectOptions = [];
    var attributes = [];
    if (!options.hasOwnProperty('attr') || !coreuiTableUtils.isObject(options.attr)) {
      options.attr = {};
    }
    if (options.field) {
      options.attr.name = this._options.field;
    }
    if (options.width) {
      options.attr = coreuiTableUtils.mergeAttr({
        style: 'width:' + options.width + 'px'
      }, options.attr);
    }
    if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && options.options !== null) {
      $.each(options.options, function (key, option) {
        if (typeof option === 'string' || typeof option === 'number') {
          selectOptions.push(that._buildOption({
            type: 'option',
            value: key,
            text: option
          }));
        } else if (coreuiTableUtils.isObject(option)) {
          var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'option';
          if (type === 'group') {
            var renderAttr = [];
            var groupAttr = {};
            var groupOptions = [];
            if (option.hasOwnProperty('attr') && coreuiTableUtils.isObject(option.attr)) {
              groupAttr = option.attr;
            }
            if (option.hasOwnProperty('label') && ['string', 'number'].indexOf(_typeof(option.label)) >= 0) {
              groupAttr.label = option.label;
            }
            $.each(groupAttr, function (name, value) {
              renderAttr.push(name + '="' + value + '"');
            });
            if (Array.isArray(option.options)) {
              $.each(option.options, function (key, groupOption) {
                groupOptions.push(that._buildOption(groupOption));
              });
            }
            selectOptions.push({
              type: 'group',
              attr: renderAttr.length > 0 ? ' ' + renderAttr.join(' ') : '',
              options: groupOptions
            });
          } else {
            selectOptions.push(that._buildOption(option));
          }
        }
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['search/select.html'], {
      field: options,
      value: this._value,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      options: selectOptions
    });
  },
  /**
   * Сборка опции
   * @param option
   * @return {object}
   * @private
   */
  _buildOption: function _buildOption(option) {
    var optionAttr = [];
    var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';
    $.each(option, function (name, value) {
      if (name !== 'text') {
        optionAttr.push(name + '="' + value + '"');
      }
    });
    if (Array.isArray(this._value)) {
      $.each(this._value, function (key, itemValue) {
        if (itemValue == option.value) {
          optionAttr.push('selected="selected"');
          return false;
        }
      });
    } else if (this._value == option.value) {
      optionAttr.push('selected="selected"');
    }
    return {
      type: 'option',
      text: optionText,
      attr: optionAttr.length > 0 ? ' ' + optionAttr.join(' ') : ''
    };
  }
};

coreuiTable$1.search["switch"] = {
  _id: null,
  _table: null,
  _value: null,
  _render: false,
  _options: {
    id: null,
    type: 'switch',
    field: null,
    value: null,
    valueY: 'Y'
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._options = $.extend(true, {}, this._options, options);
    this._table = table;
    this._id = this._options.hasOwnProperty('id') && typeof this._options.id === 'string' && this._options.id ? this._options.id : coreuiTableUtils.hashCode();
    if (this._options.value !== null) {
      this.setValue(this._options.value);
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение id
   * @returns {string}
   */
  getId: function getId() {
    return this._id;
  },
  /**
   * Установка значения
   * @param {string|number|null} value
   */
  setValue: function setValue(value) {
    if (value !== null && typeof value !== 'string' && typeof value !== 'number') {
      return;
    }
    this._value = value;
    if (this._render) {
      var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
      if (control[0]) {
        var valueY = typeof this._options.valueY === 'string' || typeof this._options.valueY === 'number' ? this._options.valueY : '';
        if (this._value === null) {
          $('input', control).prop('checked', false);
        } else if (this._value === valueY) {
          $('input', control).prop('checked', true);
        } else {
          $('input', control).prop('checked', false);
        }
      }
    }
  },
  /**
   * Получение значения
   * @returns {string}
   */
  getValue: function getValue() {
    var control = coreuiTableElements.getSearchControl(this._table.getId(), this._id);
    var input = $('input:checked', control);
    return input[0] ? input.val() : null;
  },
  /**
   * Инициализация событий
   */
  initEvents: function initEvents() {},
  /**
   * Формирование контента
   * @returns {string}
   */
  render: function render() {
    this._render = true;
    var options = this.getOptions();
    var valueY = typeof options.valueY === 'string' || typeof options.valueY === 'number' ? options.valueY : '';
    return ejs.render(tpl['search/switch.html'], {
      id: this._id,
      valueY: valueY,
      field: typeof options.field === 'string' ? options.field : '',
      checked: this._value == valueY
    });
  }
};

coreuiTable$1.columns.date = {
  _table: null,
  _options: {
    type: 'date',
    field: null,
    label: null,
    show: true,
    width: null,
    format: 'DD.MM.YYYY',
    attr: {},
    attrHeader: {},
    render: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    if (typeof content !== 'string') {
      return '';
    }
    try {
      if (content !== '') {
        var date = new Date(content);
        content = this._options.format.replace(/YYYY/g, this._strPadLeft(date.getFullYear(), 4)).replace(/MM/g, this._strPadLeft(date.getMonth() + 1, 2)).replace(/M/g, date.getMonth() + 1).replace(/DD/g, this._strPadLeft(date.getDate(), 2)).replace(/D/g, date.getDate());
      }
    } catch (e) {
      content = '';
    }
    return content;
  },
  /**
   * Размерность строки
   * @param {string} str
   * @param {int}    count
   * @param {string} repeat
   * @returns {string}
   */
  _strPadLeft: function _strPadLeft(str, count, repeat) {
    str = String(str);
    if (str.length >= count) {
      return str;
    }
    repeat = repeat ? repeat : '0';
    return (repeat.repeat(count) + str).slice(-count);
  }
};

coreuiTable$1.columns.datetime = {
  _table: null,
  _options: {
    type: 'datetime',
    field: null,
    label: null,
    show: true,
    width: null,
    format: 'DD.MM.YYYY hh:mm:ss',
    attr: {},
    attrHeader: {},
    render: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    if (typeof content !== 'string') {
      return '';
    }
    try {
      if (content !== '') {
        var date = new Date(content);
        content = this._options.format.replace(/YYYY/g, this._strPadLeft(date.getFullYear(), 4)).replace(/MM/g, this._strPadLeft(date.getMonth() + 1, 2)).replace(/M/g, date.getMonth() + 1).replace(/DD/g, this._strPadLeft(date.getDate(), 2)).replace(/D/g, date.getDate()).replace(/hh/g, this._strPadLeft(date.getHours(), 2)).replace(/mm/g, this._strPadLeft(date.getMinutes(), 2)).replace(/m/g, date.getMinutes()).replace(/ss/g, this._strPadLeft(date.getSeconds(), 2)).replace(/s/g, date.getSeconds());
      }
    } catch (e) {
      content = '';
    }
    return content;
  },
  /**
   * Размерность строки
   * @param {string} str
   * @param {int}    count
   * @param {string} repeat
   * @returns {string}
   */
  _strPadLeft: function _strPadLeft(str, count, repeat) {
    str = String(str);
    if (str.length >= count) {
      return str;
    }
    repeat = repeat ? repeat : '0';
    return (repeat.repeat(count) + str).slice(-count);
  }
};

coreuiTable$1.columns.html = {
  _table: null,
  _options: {
    type: 'html',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null,
    noWrap: null,
    noWrapToggle: null,
    attr: {},
    attrHeader: {},
    render: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
    var tableOptions = this._table.getOptions();
    if (this._options.noWrap || this._options.noWrap === null && tableOptions.noWrap) {
      if (!this._options.attr) {
        this._options.attr = {
          "class": 'coreui_table__no-wrap'
        };
      } else {
        this._options.attr = coreuiTableUtils.mergeAttr(this._options.attr, {
          "class": 'coreui_table__no-wrap'
        });
      }
      this._options.noWrap = true;
      if (this._options.noWrapToggle || this._options.noWrapToggle === null && tableOptions.noWrapToggle) {
        this._options.noWrapToggle = true;
      }
    }
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string|HTMLElement|jQuery} content
   * @param {object}                    record
   * @returns {string}
   */
  render: function render(content, record) {
    if (['string', 'bigint', 'symbol', 'number'].indexOf(_typeof(content)) < 0 && !(content instanceof HTMLElement) && !(window.hasOwnProperty('jQuery') && content instanceof jQuery)) {
      return '';
    }
    if (this._options.noWrap) {
      content = $('<div></div>').append(content);
      if (this._options.noWrapToggle) {
        content = $(content).after('<i class="bi bi-caret-down-fill toggle"></i>');
      }
    }
    return content;
  }
};

coreuiTable$1.columns.number = {
  _table: null,
  _options: {
    type: 'number',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null,
    noWrap: null,
    noWrapToggle: null,
    attr: {},
    attrHeader: {},
    render: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
    var tableOptions = this._table.getOptions();
    if (this._options.noWrap || this._options.noWrap === null && tableOptions.noWrap) {
      if (!this._options.attr) {
        this._options.attr = {
          "class": 'coreui_table__no-wrap'
        };
      } else {
        this._options.attr = coreuiTableUtils.mergeAttr(this._options.attr, {
          "class": 'coreui_table__no-wrap'
        });
      }
      this._options.noWrap = true;
      if (this._options.noWrapToggle || this._options.noWrapToggle === null && tableOptions.noWrapToggle) {
        this._options.noWrapToggle = true;
      }
    }
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    if (['string', 'bigint', 'symbol', 'number'].indexOf(_typeof(content)) < 0) {
      return '';
    }
    content = String(content).replace(/,/g, '.').replace(/[^0-9\-\.]/g, '').replace(/[\s]{2,}/g, ' ');
    content = content.replace(/(?<!(\.\d*|^.{0}))(?=(\d{3})+(?!\d))/g, '$1 ').replace(/\- /g, '-');
    if (this._options.noWrap) {
      content = '<div>' + content + '</div>';
      if (this._options.noWrapToggle) {
        content += '<i class="bi bi-caret-down-fill toggle"></i>';
      }
    }
    return content;
  }
};

coreuiTable$1.columns.money = {
  _table: null,
  _options: {
    type: 'money',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null,
    noWrap: null,
    noWrapToggle: null,
    currency: null,
    attr: {
      "class": 'text-end'
    },
    attrHeader: {
      "class": 'text-end'
    },
    render: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
    var tableOptions = this._table.getOptions();
    if (this._options.noWrap || this._options.noWrap === null && tableOptions.noWrap) {
      if (!this._options.attr) {
        this._options.attr = {
          "class": 'coreui_table__no-wrap'
        };
      } else {
        this._options.attr = coreuiTableUtils.mergeAttr(this._options.attr, {
          "class": 'coreui_table__no-wrap'
        });
      }
      this._options.noWrap = true;
      if (this._options.noWrapToggle || this._options.noWrapToggle === null && tableOptions.noWrapToggle) {
        this._options.noWrapToggle = true;
      }
    }
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    if (['string', 'bigint', 'symbol', 'number'].indexOf(_typeof(content)) < 0) {
      return '';
    }
    if (isNaN(content)) {
      content = content.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ');
    } else {
      content = Number(content).toFixed(2).toString();
      content = content.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ');
    }
    if (this._options.currency && ['string', 'number'].indexOf(_typeof(this._options.currency)) >= 0) {
      content += ' <small class="text-muted">' + this._options.currency + '</small>';
    }
    if (this._options.noWrap) {
      content = '<div>' + content + '</div>';
      if (this._options.noWrapToggle) {
        content += '<i class="bi bi-caret-down-fill toggle"></i>';
      }
    }
    return content;
  }
};

coreuiTable$1.columns.numbers = {
  _table: null,
  _options: {
    type: 'numbers',
    label: '№',
    width: 20,
    attr: {
      "class": 'text-end'
    },
    attrHeader: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend(true, {}, this._options, options);
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return true;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    return this._table._recordsNumber;
  }
};

coreuiTable$1.columns.select = {
  _table: null,
  _options: {
    type: 'select',
    field: null,
    label: '',
    show: true,
    width: 35,
    attr: {
      "class": 'coreui-table__select_container text-center'
    },
    attrHeader: {
      "class": 'text-center'
    }
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    if (options.hasOwnProperty('attr')) {
      options.attr = CoreUI.table._mergeAttr(this._options.attr, options.attr);
    }
    if (options.hasOwnProperty('attrHeader')) {
      options.attrHeader = CoreUI.table._mergeAttr(this._options.attrHeader, options.attrHeader);
    }
    this._table = table;
    this._options = $.extend(true, {}, this._options, options);
    this._options.label = tpl['columns/select_label.html'];

    // Показ строк
    this._table.on('records_show', function () {
      var selects = coreuiTableElements.getRowsSelects(table.getId());
      var selectAll = coreuiTableElements.getRowsSelectAll(table.getId());

      // Отмена обработки нажатия в select колонках
      $(selects).click(function (event) {
        event.stopPropagation();
      });

      // Выбор всех строк
      selectAll.click(function (event) {
        if ($(this).is(':checked')) {
          table.selectAll();
        } else {
          table.unselectAll();
        }
      });
    });
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    var select = $(ejs.render(tpl['columns/select.html'], {
      index: record.index
    }));
    var that = this;

    // Выбор строки
    select.click(function (event) {
      var tr = coreuiTableElements.getTrByIndex(that._table.getId(), record.index);
      if (!tr) {
        return;
      }
      if ($(this).is(':checked')) {
        $(tr).addClass('table-primary');
        coreuiTablePrivate._trigger(that._table, 'record_select', [record]);
      } else {
        $(tr).removeClass('table-primary');
        coreuiTablePrivate._trigger(that._table, 'record_unselect', [record]);
      }
    });
    return select;
  }
};

coreuiTable$1.columns["switch"] = {
  _table: null,
  _options: {
    type: 'switch',
    label: '',
    field: '',
    show: true,
    disabled: false,
    width: 5,
    valueY: 'Y',
    attr: {
      "class": 'coreui-table__switch_container'
    },
    attrHeader: {},
    onChange: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend(true, {}, this._options, options);

    // Показ строк
    this._table.on('records_show', function () {
      var containers = coreuiTableElements.getRowsSwitches(table.getId());

      // Отмена обработки нажатия в switch колонках
      containers.click(function (event) {
        event.stopPropagation();
      });
    });
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    var isChecked = record.data.hasOwnProperty(this._options.field) && record.data[this._options.field] === this._options.valueY;
    var formSwitch = $(ejs.render(tpl['columns/switch.html'], {
      index: record.index,
      field: this._options.field,
      disabled: this._options.disabled,
      checked: isChecked
    }));

    // События нажатия на переключатель
    if (this._options.hasOwnProperty('onChange') && (typeof this._options.onChange === 'function' || typeof this._options.onChange === 'string')) {
      var that = this;
      $('.coreui-table__switch', formSwitch).change(function (event) {
        var isChecked = $(this).is(':checked');
        if (typeof that._options.onChange === 'function') {
          that._options.onChange(record, isChecked, this);
        } else if (typeof that._options.onChange === 'string') {
          var id = null;
          if (record.hasOwnProperty(that._table._options.primaryKey)) {
            id = record[that._table._options.primaryKey];
          }
          var func = new Function('record', 'checked', 'id', that._options.onChange);
          func(record, this, id);
        }
        return false;
      });
    }
    return formSwitch;
  }
};

coreuiTable$1.columns.text = {
  _table: null,
  _options: {
    type: 'text',
    field: null,
    label: null,
    show: true,
    showLabel: true,
    width: null,
    minWidth: null,
    maxWidth: null,
    attr: null,
    noWrap: null,
    noWrapToggle: null,
    attrHeader: null,
    render: null
  },
  /**
   * Инициализация
   * @param {object} table
   * @param {object} options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
    var tableOptions = this._table.getOptions();
    if (this._options.noWrap || this._options.noWrap === null && tableOptions.noWrap) {
      if (!this._options.attr) {
        this._options.attr = {
          "class": 'coreui_table__no-wrap'
        };
      } else {
        this._options.attr = coreuiTableUtils.mergeAttr(this._options.attr, {
          "class": 'coreui_table__no-wrap'
        });
      }
      this._options.noWrap = true;
      if (this._options.noWrapToggle || this._options.noWrapToggle === null && tableOptions.noWrapToggle) {
        this._options.noWrapToggle = true;
      }
    }
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {string} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    if (['string', 'bigint', 'symbol', 'number'].indexOf(_typeof(content)) < 0) {
      return '';
    }
    content = String(content).replace(/</g, '&lt;').replace(/>/g, '&gt;');
    if (this._options.noWrap) {
      content = '<div>' + content + '</div>';
      if (this._options.noWrapToggle) {
        content += '<i class="bi bi-caret-down-fill toggle"></i>';
      }
    }
    return content;
  }
};

coreuiTable$1.columns.button = {
  _table: null,
  _options: {
    type: 'button',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {object} content
   * @param {object} record
   * @returns {string}
   */
  render: function render(content, record) {
    if (!coreuiTableUtils.isObject(content)) {
      return '';
    }
    if (!coreuiTableUtils.isObject(content.attr)) {
      content.attr = {};
    }
    if (!content.attr.hasOwnProperty('class')) {
      content.attr["class"] = 'btn btn-outline-secondary';
    }
    if (content.attr.hasOwnProperty('type')) {
      delete content.attr.type;
    }
    var attributes = [];
    $.each(content.attr, function (name, value) {
      if (['string', 'number'].indexOf(_typeof(value)) >= 0) {
        attributes.push(name + '="' + value + '"');
      }
    });
    var btn = $(ejs.render(tpl['columns/button.html'], {
      content: content.content,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    }));
    if (content.hasOwnProperty('onClick')) {
      var that = this;
      if (typeof content.onClick === 'function') {
        btn.click(function (event) {
          event.cancelBubble = true;
          event.preventDefault();
          content.onClick(record, that._table);
        });
      } else if (typeof content.onClick === 'string') {
        var func = new Function('record', 'table', content.onClick);
        btn.click(function (event) {
          event.cancelBubble = true;
          event.preventDefault();
          func(record, that._table);
        });
      } else {
        btn.click(function (event) {
          event.cancelBubble = true;
          event.preventDefault();
        });
      }
    } else {
      btn.click(function (event) {
        event.cancelBubble = true;
        event.preventDefault();
      });
    }
    return btn;
  }
};

coreuiTable$1.columns.link = {
  _table: null,
  _options: {
    type: 'link',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {object|string} content
   * @param {object}        record
   * @returns {string}
   */
  render: function render(content, record) {
    if ((typeof content !== 'string' || !content) && (!coreuiTableUtils.isObject(content) || !content.hasOwnProperty('url') || typeof content.url !== 'string' || !content.url)) {
      return '';
    }
    var linkContent = '';
    var attr = {};
    if (typeof content === 'string') {
      attr.href = content;
      linkContent = content;
    } else {
      if (content.hasOwnProperty('attr') && coreuiTableUtils.isObject(content.attr)) {
        attr = content.attr;
      }
      if (attr.hasOwnProperty('href')) {
        delete attr.href;
      }
      attr.href = content.url;
      if (content.hasOwnProperty('content') && typeof content.content === 'string' && content.content) {
        linkContent = content.content;
      } else {
        linkContent = content.url;
      }
    }
    var attributes = [];
    $.each(attr, function (name, value) {
      if (['string', 'number'].indexOf(_typeof(value)) >= 0) {
        attributes.push(name + '="' + value + '"');
      }
    });
    var link = $(ejs.render(tpl['columns/link.html'], {
      content: linkContent,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
    }));
    link.click(function (event) {
      event.cancelBubble = true;
      event.preventDefault();
    });
    return link;
  }
};

coreuiTable$1.columns.menu = {
  _table: null,
  _options: {
    type: 'menu',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {object|string} content
   * @param {object}        record
   * @returns {string}
   */
  render: function render(content, record) {
    if (!coreuiTableUtils.isObject(content) || !content.hasOwnProperty('items') || !Array.isArray(content.items) || content.items.length === 0) {
      return '';
    }
    var items = [];
    var attr = {};
    if (Array.isArray(content.items)) {
      $.each(content.items, function (key, item) {
        if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
          if (item.type === 'link') {
            if (item.hasOwnProperty('link') && item.hasOwnProperty('content') && typeof item.link === 'string' && typeof item.content === 'string') {
              var linkAttr = {};
              if (item.hasOwnProperty('attr') || coreuiTableUtils.isObject(item.attr)) {
                linkAttr = item.attr;
              }
              if (linkAttr.hasOwnProperty('href')) {
                delete linkAttr.href;
              }
              if (!linkAttr.hasOwnProperty('class') || typeof linkAttr["class"] !== 'string') {
                linkAttr["class"] = 'dropdown-item';
              } else {
                linkAttr["class"] += ' dropdown-item';
              }
              var linkAttributes = [];
              $.each(linkAttr, function (name, value) {
                if (['string', 'number'].indexOf(_typeof(value)) >= 0) {
                  linkAttributes.push(name + '="' + value + '"');
                }
              });
              items.push({
                type: 'link',
                link: item.link,
                content: item.content,
                attr: linkAttributes
              });
            }
          } else if (item.type === 'button') {
            if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && typeof item.content === 'string' && ['string', 'function'].indexOf(_typeof(item.onClick)) >= 0) {
              var btnAttr = {};
              if (item.hasOwnProperty('attr') || coreuiTableUtils.isObject(item.attr)) {
                btnAttr = item.attr;
              }
              if (btnAttr.hasOwnProperty('type')) {
                delete btnAttr.type;
              }
              if (btnAttr.hasOwnProperty('id')) {
                delete btnAttr['id'];
              }
              if (!btnAttr.hasOwnProperty('class') || typeof btnAttr["class"] !== 'string') {
                btnAttr["class"] = 'dropdown-item';
              } else {
                btnAttr["class"] += ' dropdown-item';
              }
              var btnAttributes = [];
              $.each(btnAttr, function (name, value) {
                if (['string', 'number'].indexOf(_typeof(value)) >= 0) {
                  btnAttributes.push(name + '="' + value + '"');
                }
              });
              items.push({
                type: 'button',
                id: coreuiTableUtils.hashCode(),
                content: item.content,
                onClick: item.onClick,
                attr: btnAttributes.length > 0 ? ' ' + btnAttributes.join(' ') : ''
              });
            }
          } else if (item.type === 'divider') {
            items.push({
              type: 'divider'
            });
          } else if (item.type === 'header') {
            if (item.hasOwnProperty('content') && typeof item.content === 'string') {
              items.push({
                type: 'header',
                content: item.content
              });
            }
          }
        }
      });
    }
    if (content.hasOwnProperty('attr') || coreuiTableUtils.isObject(content.attr)) {
      attr = content.attr;
    }
    if (!attr.hasOwnProperty('class') || ['string', 'number'].indexOf(_typeof(attr["class"])) < 0) {
      attr["class"] = 'btn rounded-1';
    }
    if (attr.hasOwnProperty('type')) {
      delete attr.type;
    }
    if (attr.hasOwnProperty('data-bs-toggle')) {
      delete attr['data-bs-toggle'];
    }
    var attributes = [];
    $.each(attr, function (name, value) {
      if (['string', 'number'].indexOf(_typeof(value)) >= 0) {
        attributes.push(name + '="' + value + '"');
      }
    });
    var menuContent = content.hasOwnProperty('content') && typeof content.content === 'string' && content.content ? content.content : '<i class="bi bi-three-dots-vertical"></i>';
    var position = content.hasOwnProperty('position') && typeof content.position === 'string' && content.position ? content.position : 'end';
    var menu = $(ejs.render(tpl['columns/menu.html'], {
      content: menuContent,
      position: position,
      attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
      items: items
    }));
    menu.click(function (event) {
      event.cancelBubble = true;
      event.preventDefault();
    });
    if (Array.isArray(items)) {
      var that = this;
      $.each(items, function (key, item) {
        if (coreuiTableUtils.isObject(item) && typeof item.type === 'string') {
          if (item.type === 'button') {
            if (item.hasOwnProperty('content') && item.hasOwnProperty('onClick') && ['string', 'function'].indexOf(_typeof(item.onClick)) >= 0 && typeof item.content === 'string') {
              $('button#btn-dropdown-' + item.id, menu).click(function (event) {
                if (typeof item.onClick === 'function') {
                  item.onClick(record, that._table, event);
                } else if (typeof item.onClick === 'string') {
                  new Function('record', 'table', 'event', item.onClick)(record, that._table, event);
                }
              });
            }
          }
        }
      });
    }
    return menu;
  }
};

coreuiTable$1.columns.badge = {
  _table: null,
  _options: {
    type: 'badge',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {object|string} content
   * @param {object}        record
   * @returns {string}
   */
  render: function render(content, record) {
    if (!coreuiTableUtils.isObject(content) || !content.hasOwnProperty('type') || !content.hasOwnProperty('text') || typeof content.type !== 'string' || typeof content.text !== 'string' || !content.type || !content.text) {
      return '';
    }
    return $(ejs.render(tpl['columns/badge.html'], {
      type: content.type,
      text: content.text
    }));
  }
};

coreuiTable$1.columns.component = {
  _table: null,
  _options: {
    type: 'component',
    field: null,
    label: null,
    show: true,
    width: null,
    minWidth: null,
    maxWidth: null
  },
  /**
   * Инициализация
   * @param {CoreUI.table.instance} table
   * @param {object}                options
   */
  init: function init(table, options) {
    this._table = table;
    this._options = $.extend({}, this._options, options);
  },
  /**
   * Установка видимости колонки
   * @param {boolean} isShow
   */
  setShow: function setShow(isShow) {
    this._options.show = !!isShow;
  },
  /**
   * Видимости колонки
   */
  isShow: function isShow() {
    return !!this._options.show;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend({}, this._options);
  },
  /**
   * Формирование контента
   * @param {object|string} content
   * @param {object}        record
   * @returns {string}
   */
  render: function render(content, record) {
    if (!coreuiTableUtils.isObject(content) || !content.hasOwnProperty('component') || typeof content.component !== 'string' || !content.component) {
      return '';
    }
    return coreuiTableRender.renderComponents(this._table, content, 'records_show');
  }
};

return coreuiTable$1;

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvbm9kZV9tb2R1bGVzL2Vqcy9lanMubWluLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29yZXVpLnRhYmxlLnRlbXBsYXRlcy5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvcmV1aS50YWJsZS51dGlscy5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvcmV1aS50YWJsZS5yZW5kZXIuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9jb3JldWkudGFibGUucHJpdmF0ZS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvcmV1aS50YWJsZS5lbGVtZW50cy5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvcmV1aS50YWJsZS5pbnN0YW5jZS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvcmV1aS50YWJsZS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2xhbmcvcnUuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9sYW5nL2VuLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29udHJvbHMvbGluay5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbnRyb2xzL2J1dHRvbi5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbnRyb2xzL2Ryb3Bkb3duLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29udHJvbHMvYnV0dG9uX2dyb3VwLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29udHJvbHMvY3VzdG9tLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29udHJvbHMvcGFnZV9zaXplLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29udHJvbHMvcGFnZV9qdW1wLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29udHJvbHMvcGFnZXMuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9jb250cm9scy90b3RhbC5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbnRyb2xzL3NlYXJjaC5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbnRyb2xzL2NvbHVtbnMuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9jb250cm9scy9jYXB0aW9uLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29udHJvbHMvZmlsdGVyX2NsZWFyLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvZmlsdGVycy90ZXh0LmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvZmlsdGVycy9udW1iZXIuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9maWx0ZXJzL2RhdGUuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9maWx0ZXJzL2RhdGV0aW1lLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvZmlsdGVycy9kYXRlX21vbnRoLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvZmlsdGVycy9kYXRlX3JhbmdlLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvZmlsdGVycy9kYXRldGltZV9yYW5nZS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2ZpbHRlcnMvY2hlY2tib3guanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9maWx0ZXJzL3JhZGlvLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvZmlsdGVycy9zZWxlY3QuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9maWx0ZXJzL3N3aXRjaC5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL3NlYXJjaC90ZXh0LmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvc2VhcmNoL251bWJlci5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL3NlYXJjaC9kYXRlLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvc2VhcmNoL2RhdGVfbW9udGguanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9zZWFyY2gvZGF0ZXRpbWUuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9zZWFyY2gvZGF0ZV9yYW5nZS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL3NlYXJjaC9kYXRldGltZV9yYW5nZS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL3NlYXJjaC9jaGVja2JveC5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL3NlYXJjaC9yYWRpby5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL3NlYXJjaC9zZWxlY3QuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9zZWFyY2gvc3dpdGNoLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29sdW1ucy9kYXRlLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29sdW1ucy9kYXRldGltZS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbHVtbnMvaHRtbC5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbHVtbnMvbnVtYmVyLmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29sdW1ucy9tb25leS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbHVtbnMvbnVtYmVycy5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbHVtbnMvc2VsZWN0LmpzIiwiQzovVXNlcnMvYWRtaW4vcHJvamVjdHMvY29yZXVpL2NvcmV1aS10YWJsZS9zcmMvanMvY29sdW1ucy9zd2l0Y2guanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9jb2x1bW5zL3RleHQuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9jb2x1bW5zL2J1dHRvbi5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbHVtbnMvbGluay5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbHVtbnMvbWVudS5qcyIsIkM6L1VzZXJzL2FkbWluL3Byb2plY3RzL2NvcmV1aS9jb3JldWktdGFibGUvc3JjL2pzL2NvbHVtbnMvYmFkZ2UuanMiLCJDOi9Vc2Vycy9hZG1pbi9wcm9qZWN0cy9jb3JldWkvY29yZXVpLXRhYmxlL3NyYy9qcy9jb2x1bW5zL2NvbXBvbmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5lanM9ZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1widXNlIHN0cmljdFwiO3ZhciBmcz1yZXF1aXJlKFwiZnNcIik7dmFyIHBhdGg9cmVxdWlyZShcInBhdGhcIik7dmFyIHV0aWxzPXJlcXVpcmUoXCIuL3V0aWxzXCIpO3ZhciBzY29wZU9wdGlvbldhcm5lZD1mYWxzZTt2YXIgX1ZFUlNJT05fU1RSSU5HPXJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIikudmVyc2lvbjt2YXIgX0RFRkFVTFRfT1BFTl9ERUxJTUlURVI9XCI8XCI7dmFyIF9ERUZBVUxUX0NMT1NFX0RFTElNSVRFUj1cIj5cIjt2YXIgX0RFRkFVTFRfREVMSU1JVEVSPVwiJVwiO3ZhciBfREVGQVVMVF9MT0NBTFNfTkFNRT1cImxvY2Fsc1wiO3ZhciBfTkFNRT1cImVqc1wiO3ZhciBfUkVHRVhfU1RSSU5HPVwiKDwlJXwlJT58PCU9fDwlLXw8JV98PCUjfDwlfCU+fC0lPnxfJT4pXCI7dmFyIF9PUFRTX1BBU1NBQkxFX1dJVEhfREFUQT1bXCJkZWxpbWl0ZXJcIixcInNjb3BlXCIsXCJjb250ZXh0XCIsXCJkZWJ1Z1wiLFwiY29tcGlsZURlYnVnXCIsXCJjbGllbnRcIixcIl93aXRoXCIsXCJybVdoaXRlc3BhY2VcIixcInN0cmljdFwiLFwiZmlsZW5hbWVcIixcImFzeW5jXCJdO3ZhciBfT1BUU19QQVNTQUJMRV9XSVRIX0RBVEFfRVhQUkVTUz1fT1BUU19QQVNTQUJMRV9XSVRIX0RBVEEuY29uY2F0KFwiY2FjaGVcIik7dmFyIF9CT009L15cXHVGRUZGLzt2YXIgX0pTX0lERU5USUZJRVI9L15bYS16QS1aXyRdWzAtOWEtekEtWl8kXSokLztleHBvcnRzLmNhY2hlPXV0aWxzLmNhY2hlO2V4cG9ydHMuZmlsZUxvYWRlcj1mcy5yZWFkRmlsZVN5bmM7ZXhwb3J0cy5sb2NhbHNOYW1lPV9ERUZBVUxUX0xPQ0FMU19OQU1FO2V4cG9ydHMucHJvbWlzZUltcGw9bmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXM7XCIpKCkuUHJvbWlzZTtleHBvcnRzLnJlc29sdmVJbmNsdWRlPWZ1bmN0aW9uKG5hbWUsZmlsZW5hbWUsaXNEaXIpe3ZhciBkaXJuYW1lPXBhdGguZGlybmFtZTt2YXIgZXh0bmFtZT1wYXRoLmV4dG5hbWU7dmFyIHJlc29sdmU9cGF0aC5yZXNvbHZlO3ZhciBpbmNsdWRlUGF0aD1yZXNvbHZlKGlzRGlyP2ZpbGVuYW1lOmRpcm5hbWUoZmlsZW5hbWUpLG5hbWUpO3ZhciBleHQ9ZXh0bmFtZShuYW1lKTtpZighZXh0KXtpbmNsdWRlUGF0aCs9XCIuZWpzXCJ9cmV0dXJuIGluY2x1ZGVQYXRofTtmdW5jdGlvbiByZXNvbHZlUGF0aHMobmFtZSxwYXRocyl7dmFyIGZpbGVQYXRoO2lmKHBhdGhzLnNvbWUoZnVuY3Rpb24odil7ZmlsZVBhdGg9ZXhwb3J0cy5yZXNvbHZlSW5jbHVkZShuYW1lLHYsdHJ1ZSk7cmV0dXJuIGZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpfSkpe3JldHVybiBmaWxlUGF0aH19ZnVuY3Rpb24gZ2V0SW5jbHVkZVBhdGgocGF0aCxvcHRpb25zKXt2YXIgaW5jbHVkZVBhdGg7dmFyIGZpbGVQYXRoO3ZhciB2aWV3cz1vcHRpb25zLnZpZXdzO3ZhciBtYXRjaD0vXltBLVphLXpdKzpcXFxcfF5cXC8vLmV4ZWMocGF0aCk7aWYobWF0Y2gmJm1hdGNoLmxlbmd0aCl7cGF0aD1wYXRoLnJlcGxhY2UoL15cXC8qLyxcIlwiKTtpZihBcnJheS5pc0FycmF5KG9wdGlvbnMucm9vdCkpe2luY2x1ZGVQYXRoPXJlc29sdmVQYXRocyhwYXRoLG9wdGlvbnMucm9vdCl9ZWxzZXtpbmNsdWRlUGF0aD1leHBvcnRzLnJlc29sdmVJbmNsdWRlKHBhdGgsb3B0aW9ucy5yb290fHxcIi9cIix0cnVlKX19ZWxzZXtpZihvcHRpb25zLmZpbGVuYW1lKXtmaWxlUGF0aD1leHBvcnRzLnJlc29sdmVJbmNsdWRlKHBhdGgsb3B0aW9ucy5maWxlbmFtZSk7aWYoZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpe2luY2x1ZGVQYXRoPWZpbGVQYXRofX1pZighaW5jbHVkZVBhdGgmJkFycmF5LmlzQXJyYXkodmlld3MpKXtpbmNsdWRlUGF0aD1yZXNvbHZlUGF0aHMocGF0aCx2aWV3cyl9aWYoIWluY2x1ZGVQYXRoJiZ0eXBlb2Ygb3B0aW9ucy5pbmNsdWRlciE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCB0aGUgaW5jbHVkZSBmaWxlIFwiJytvcHRpb25zLmVzY2FwZUZ1bmN0aW9uKHBhdGgpKydcIicpfX1yZXR1cm4gaW5jbHVkZVBhdGh9ZnVuY3Rpb24gaGFuZGxlQ2FjaGUob3B0aW9ucyx0ZW1wbGF0ZSl7dmFyIGZ1bmM7dmFyIGZpbGVuYW1lPW9wdGlvbnMuZmlsZW5hbWU7dmFyIGhhc1RlbXBsYXRlPWFyZ3VtZW50cy5sZW5ndGg+MTtpZihvcHRpb25zLmNhY2hlKXtpZighZmlsZW5hbWUpe3Rocm93IG5ldyBFcnJvcihcImNhY2hlIG9wdGlvbiByZXF1aXJlcyBhIGZpbGVuYW1lXCIpfWZ1bmM9ZXhwb3J0cy5jYWNoZS5nZXQoZmlsZW5hbWUpO2lmKGZ1bmMpe3JldHVybiBmdW5jfWlmKCFoYXNUZW1wbGF0ZSl7dGVtcGxhdGU9ZmlsZUxvYWRlcihmaWxlbmFtZSkudG9TdHJpbmcoKS5yZXBsYWNlKF9CT00sXCJcIil9fWVsc2UgaWYoIWhhc1RlbXBsYXRlKXtpZighZmlsZW5hbWUpe3Rocm93IG5ldyBFcnJvcihcIkludGVybmFsIEVKUyBlcnJvcjogbm8gZmlsZSBuYW1lIG9yIHRlbXBsYXRlIFwiK1wicHJvdmlkZWRcIil9dGVtcGxhdGU9ZmlsZUxvYWRlcihmaWxlbmFtZSkudG9TdHJpbmcoKS5yZXBsYWNlKF9CT00sXCJcIil9ZnVuYz1leHBvcnRzLmNvbXBpbGUodGVtcGxhdGUsb3B0aW9ucyk7aWYob3B0aW9ucy5jYWNoZSl7ZXhwb3J0cy5jYWNoZS5zZXQoZmlsZW5hbWUsZnVuYyl9cmV0dXJuIGZ1bmN9ZnVuY3Rpb24gdHJ5SGFuZGxlQ2FjaGUob3B0aW9ucyxkYXRhLGNiKXt2YXIgcmVzdWx0O2lmKCFjYil7aWYodHlwZW9mIGV4cG9ydHMucHJvbWlzZUltcGw9PVwiZnVuY3Rpb25cIil7cmV0dXJuIG5ldyBleHBvcnRzLnByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt0cnl7cmVzdWx0PWhhbmRsZUNhY2hlKG9wdGlvbnMpKGRhdGEpO3Jlc29sdmUocmVzdWx0KX1jYXRjaChlcnIpe3JlamVjdChlcnIpfX0pfWVsc2V7dGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBjYWxsYmFjayBmdW5jdGlvblwiKX19ZWxzZXt0cnl7cmVzdWx0PWhhbmRsZUNhY2hlKG9wdGlvbnMpKGRhdGEpfWNhdGNoKGVycil7cmV0dXJuIGNiKGVycil9Y2IobnVsbCxyZXN1bHQpfX1mdW5jdGlvbiBmaWxlTG9hZGVyKGZpbGVQYXRoKXtyZXR1cm4gZXhwb3J0cy5maWxlTG9hZGVyKGZpbGVQYXRoKX1mdW5jdGlvbiBpbmNsdWRlRmlsZShwYXRoLG9wdGlvbnMpe3ZhciBvcHRzPXV0aWxzLnNoYWxsb3dDb3B5KHV0aWxzLmNyZWF0ZU51bGxQcm90b09ialdoZXJlUG9zc2libGUoKSxvcHRpb25zKTtvcHRzLmZpbGVuYW1lPWdldEluY2x1ZGVQYXRoKHBhdGgsb3B0cyk7aWYodHlwZW9mIG9wdGlvbnMuaW5jbHVkZXI9PT1cImZ1bmN0aW9uXCIpe3ZhciBpbmNsdWRlclJlc3VsdD1vcHRpb25zLmluY2x1ZGVyKHBhdGgsb3B0cy5maWxlbmFtZSk7aWYoaW5jbHVkZXJSZXN1bHQpe2lmKGluY2x1ZGVyUmVzdWx0LmZpbGVuYW1lKXtvcHRzLmZpbGVuYW1lPWluY2x1ZGVyUmVzdWx0LmZpbGVuYW1lfWlmKGluY2x1ZGVyUmVzdWx0LnRlbXBsYXRlKXtyZXR1cm4gaGFuZGxlQ2FjaGUob3B0cyxpbmNsdWRlclJlc3VsdC50ZW1wbGF0ZSl9fX1yZXR1cm4gaGFuZGxlQ2FjaGUob3B0cyl9ZnVuY3Rpb24gcmV0aHJvdyhlcnIsc3RyLGZsbm0sbGluZW5vLGVzYyl7dmFyIGxpbmVzPXN0ci5zcGxpdChcIlxcblwiKTt2YXIgc3RhcnQ9TWF0aC5tYXgobGluZW5vLTMsMCk7dmFyIGVuZD1NYXRoLm1pbihsaW5lcy5sZW5ndGgsbGluZW5vKzMpO3ZhciBmaWxlbmFtZT1lc2MoZmxubSk7dmFyIGNvbnRleHQ9bGluZXMuc2xpY2Uoc3RhcnQsZW5kKS5tYXAoZnVuY3Rpb24obGluZSxpKXt2YXIgY3Vycj1pK3N0YXJ0KzE7cmV0dXJuKGN1cnI9PWxpbmVubz9cIiA+PiBcIjpcIiAgICBcIikrY3VycitcInwgXCIrbGluZX0pLmpvaW4oXCJcXG5cIik7ZXJyLnBhdGg9ZmlsZW5hbWU7ZXJyLm1lc3NhZ2U9KGZpbGVuYW1lfHxcImVqc1wiKStcIjpcIitsaW5lbm8rXCJcXG5cIitjb250ZXh0K1wiXFxuXFxuXCIrZXJyLm1lc3NhZ2U7dGhyb3cgZXJyfWZ1bmN0aW9uIHN0cmlwU2VtaShzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvOyhcXHMqJCkvLFwiJDFcIil9ZXhwb3J0cy5jb21waWxlPWZ1bmN0aW9uIGNvbXBpbGUodGVtcGxhdGUsb3B0cyl7dmFyIHRlbXBsO2lmKG9wdHMmJm9wdHMuc2NvcGUpe2lmKCFzY29wZU9wdGlvbldhcm5lZCl7Y29uc29sZS53YXJuKFwiYHNjb3BlYCBvcHRpb24gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIEVKUyAzXCIpO3Njb3BlT3B0aW9uV2FybmVkPXRydWV9aWYoIW9wdHMuY29udGV4dCl7b3B0cy5jb250ZXh0PW9wdHMuc2NvcGV9ZGVsZXRlIG9wdHMuc2NvcGV9dGVtcGw9bmV3IFRlbXBsYXRlKHRlbXBsYXRlLG9wdHMpO3JldHVybiB0ZW1wbC5jb21waWxlKCl9O2V4cG9ydHMucmVuZGVyPWZ1bmN0aW9uKHRlbXBsYXRlLGQsbyl7dmFyIGRhdGE9ZHx8dXRpbHMuY3JlYXRlTnVsbFByb3RvT2JqV2hlcmVQb3NzaWJsZSgpO3ZhciBvcHRzPW98fHV0aWxzLmNyZWF0ZU51bGxQcm90b09ialdoZXJlUG9zc2libGUoKTtpZihhcmd1bWVudHMubGVuZ3RoPT0yKXt1dGlscy5zaGFsbG93Q29weUZyb21MaXN0KG9wdHMsZGF0YSxfT1BUU19QQVNTQUJMRV9XSVRIX0RBVEEpfXJldHVybiBoYW5kbGVDYWNoZShvcHRzLHRlbXBsYXRlKShkYXRhKX07ZXhwb3J0cy5yZW5kZXJGaWxlPWZ1bmN0aW9uKCl7dmFyIGFyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTt2YXIgZmlsZW5hbWU9YXJncy5zaGlmdCgpO3ZhciBjYjt2YXIgb3B0cz17ZmlsZW5hbWU6ZmlsZW5hbWV9O3ZhciBkYXRhO3ZhciB2aWV3T3B0cztpZih0eXBlb2YgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMV09PVwiZnVuY3Rpb25cIil7Y2I9YXJncy5wb3AoKX1pZihhcmdzLmxlbmd0aCl7ZGF0YT1hcmdzLnNoaWZ0KCk7aWYoYXJncy5sZW5ndGgpe3V0aWxzLnNoYWxsb3dDb3B5KG9wdHMsYXJncy5wb3AoKSl9ZWxzZXtpZihkYXRhLnNldHRpbmdzKXtpZihkYXRhLnNldHRpbmdzLnZpZXdzKXtvcHRzLnZpZXdzPWRhdGEuc2V0dGluZ3Mudmlld3N9aWYoZGF0YS5zZXR0aW5nc1tcInZpZXcgY2FjaGVcIl0pe29wdHMuY2FjaGU9dHJ1ZX12aWV3T3B0cz1kYXRhLnNldHRpbmdzW1widmlldyBvcHRpb25zXCJdO2lmKHZpZXdPcHRzKXt1dGlscy5zaGFsbG93Q29weShvcHRzLHZpZXdPcHRzKX19dXRpbHMuc2hhbGxvd0NvcHlGcm9tTGlzdChvcHRzLGRhdGEsX09QVFNfUEFTU0FCTEVfV0lUSF9EQVRBX0VYUFJFU1MpfW9wdHMuZmlsZW5hbWU9ZmlsZW5hbWV9ZWxzZXtkYXRhPXV0aWxzLmNyZWF0ZU51bGxQcm90b09ialdoZXJlUG9zc2libGUoKX1yZXR1cm4gdHJ5SGFuZGxlQ2FjaGUob3B0cyxkYXRhLGNiKX07ZXhwb3J0cy5UZW1wbGF0ZT1UZW1wbGF0ZTtleHBvcnRzLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXtleHBvcnRzLmNhY2hlLnJlc2V0KCl9O2Z1bmN0aW9uIFRlbXBsYXRlKHRleHQsb3B0cyl7b3B0cz1vcHRzfHx1dGlscy5jcmVhdGVOdWxsUHJvdG9PYmpXaGVyZVBvc3NpYmxlKCk7dmFyIG9wdGlvbnM9dXRpbHMuY3JlYXRlTnVsbFByb3RvT2JqV2hlcmVQb3NzaWJsZSgpO3RoaXMudGVtcGxhdGVUZXh0PXRleHQ7dGhpcy5tb2RlPW51bGw7dGhpcy50cnVuY2F0ZT1mYWxzZTt0aGlzLmN1cnJlbnRMaW5lPTE7dGhpcy5zb3VyY2U9XCJcIjtvcHRpb25zLmNsaWVudD1vcHRzLmNsaWVudHx8ZmFsc2U7b3B0aW9ucy5lc2NhcGVGdW5jdGlvbj1vcHRzLmVzY2FwZXx8b3B0cy5lc2NhcGVGdW5jdGlvbnx8dXRpbHMuZXNjYXBlWE1MO29wdGlvbnMuY29tcGlsZURlYnVnPW9wdHMuY29tcGlsZURlYnVnIT09ZmFsc2U7b3B0aW9ucy5kZWJ1Zz0hIW9wdHMuZGVidWc7b3B0aW9ucy5maWxlbmFtZT1vcHRzLmZpbGVuYW1lO29wdGlvbnMub3BlbkRlbGltaXRlcj1vcHRzLm9wZW5EZWxpbWl0ZXJ8fGV4cG9ydHMub3BlbkRlbGltaXRlcnx8X0RFRkFVTFRfT1BFTl9ERUxJTUlURVI7b3B0aW9ucy5jbG9zZURlbGltaXRlcj1vcHRzLmNsb3NlRGVsaW1pdGVyfHxleHBvcnRzLmNsb3NlRGVsaW1pdGVyfHxfREVGQVVMVF9DTE9TRV9ERUxJTUlURVI7b3B0aW9ucy5kZWxpbWl0ZXI9b3B0cy5kZWxpbWl0ZXJ8fGV4cG9ydHMuZGVsaW1pdGVyfHxfREVGQVVMVF9ERUxJTUlURVI7b3B0aW9ucy5zdHJpY3Q9b3B0cy5zdHJpY3R8fGZhbHNlO29wdGlvbnMuY29udGV4dD1vcHRzLmNvbnRleHQ7b3B0aW9ucy5jYWNoZT1vcHRzLmNhY2hlfHxmYWxzZTtvcHRpb25zLnJtV2hpdGVzcGFjZT1vcHRzLnJtV2hpdGVzcGFjZTtvcHRpb25zLnJvb3Q9b3B0cy5yb290O29wdGlvbnMuaW5jbHVkZXI9b3B0cy5pbmNsdWRlcjtvcHRpb25zLm91dHB1dEZ1bmN0aW9uTmFtZT1vcHRzLm91dHB1dEZ1bmN0aW9uTmFtZTtvcHRpb25zLmxvY2Fsc05hbWU9b3B0cy5sb2NhbHNOYW1lfHxleHBvcnRzLmxvY2Fsc05hbWV8fF9ERUZBVUxUX0xPQ0FMU19OQU1FO29wdGlvbnMudmlld3M9b3B0cy52aWV3cztvcHRpb25zLmFzeW5jPW9wdHMuYXN5bmM7b3B0aW9ucy5kZXN0cnVjdHVyZWRMb2NhbHM9b3B0cy5kZXN0cnVjdHVyZWRMb2NhbHM7b3B0aW9ucy5sZWdhY3lJbmNsdWRlPXR5cGVvZiBvcHRzLmxlZ2FjeUluY2x1ZGUhPVwidW5kZWZpbmVkXCI/ISFvcHRzLmxlZ2FjeUluY2x1ZGU6dHJ1ZTtpZihvcHRpb25zLnN0cmljdCl7b3B0aW9ucy5fd2l0aD1mYWxzZX1lbHNle29wdGlvbnMuX3dpdGg9dHlwZW9mIG9wdHMuX3dpdGghPVwidW5kZWZpbmVkXCI/b3B0cy5fd2l0aDp0cnVlfXRoaXMub3B0cz1vcHRpb25zO3RoaXMucmVnZXg9dGhpcy5jcmVhdGVSZWdleCgpfVRlbXBsYXRlLm1vZGVzPXtFVkFMOlwiZXZhbFwiLEVTQ0FQRUQ6XCJlc2NhcGVkXCIsUkFXOlwicmF3XCIsQ09NTUVOVDpcImNvbW1lbnRcIixMSVRFUkFMOlwibGl0ZXJhbFwifTtUZW1wbGF0ZS5wcm90b3R5cGU9e2NyZWF0ZVJlZ2V4OmZ1bmN0aW9uKCl7dmFyIHN0cj1fUkVHRVhfU1RSSU5HO3ZhciBkZWxpbT11dGlscy5lc2NhcGVSZWdFeHBDaGFycyh0aGlzLm9wdHMuZGVsaW1pdGVyKTt2YXIgb3Blbj11dGlscy5lc2NhcGVSZWdFeHBDaGFycyh0aGlzLm9wdHMub3BlbkRlbGltaXRlcik7dmFyIGNsb3NlPXV0aWxzLmVzY2FwZVJlZ0V4cENoYXJzKHRoaXMub3B0cy5jbG9zZURlbGltaXRlcik7c3RyPXN0ci5yZXBsYWNlKC8lL2csZGVsaW0pLnJlcGxhY2UoLzwvZyxvcGVuKS5yZXBsYWNlKC8+L2csY2xvc2UpO3JldHVybiBuZXcgUmVnRXhwKHN0cil9LGNvbXBpbGU6ZnVuY3Rpb24oKXt2YXIgc3JjO3ZhciBmbjt2YXIgb3B0cz10aGlzLm9wdHM7dmFyIHByZXBlbmRlZD1cIlwiO3ZhciBhcHBlbmRlZD1cIlwiO3ZhciBlc2NhcGVGbj1vcHRzLmVzY2FwZUZ1bmN0aW9uO3ZhciBjdG9yO3ZhciBzYW5pdGl6ZWRGaWxlbmFtZT1vcHRzLmZpbGVuYW1lP0pTT04uc3RyaW5naWZ5KG9wdHMuZmlsZW5hbWUpOlwidW5kZWZpbmVkXCI7aWYoIXRoaXMuc291cmNlKXt0aGlzLmdlbmVyYXRlU291cmNlKCk7cHJlcGVuZGVkKz0nICB2YXIgX19vdXRwdXQgPSBcIlwiO1xcbicrXCIgIGZ1bmN0aW9uIF9fYXBwZW5kKHMpIHsgaWYgKHMgIT09IHVuZGVmaW5lZCAmJiBzICE9PSBudWxsKSBfX291dHB1dCArPSBzIH1cXG5cIjtpZihvcHRzLm91dHB1dEZ1bmN0aW9uTmFtZSl7aWYoIV9KU19JREVOVElGSUVSLnRlc3Qob3B0cy5vdXRwdXRGdW5jdGlvbk5hbWUpKXt0aHJvdyBuZXcgRXJyb3IoXCJvdXRwdXRGdW5jdGlvbk5hbWUgaXMgbm90IGEgdmFsaWQgSlMgaWRlbnRpZmllci5cIil9cHJlcGVuZGVkKz1cIiAgdmFyIFwiK29wdHMub3V0cHV0RnVuY3Rpb25OYW1lK1wiID0gX19hcHBlbmQ7XCIrXCJcXG5cIn1pZihvcHRzLmxvY2Fsc05hbWUmJiFfSlNfSURFTlRJRklFUi50ZXN0KG9wdHMubG9jYWxzTmFtZSkpe3Rocm93IG5ldyBFcnJvcihcImxvY2Fsc05hbWUgaXMgbm90IGEgdmFsaWQgSlMgaWRlbnRpZmllci5cIil9aWYob3B0cy5kZXN0cnVjdHVyZWRMb2NhbHMmJm9wdHMuZGVzdHJ1Y3R1cmVkTG9jYWxzLmxlbmd0aCl7dmFyIGRlc3RydWN0dXJpbmc9XCIgIHZhciBfX2xvY2FscyA9IChcIitvcHRzLmxvY2Fsc05hbWUrXCIgfHwge30pLFxcblwiO2Zvcih2YXIgaT0wO2k8b3B0cy5kZXN0cnVjdHVyZWRMb2NhbHMubGVuZ3RoO2krKyl7dmFyIG5hbWU9b3B0cy5kZXN0cnVjdHVyZWRMb2NhbHNbaV07aWYoIV9KU19JREVOVElGSUVSLnRlc3QobmFtZSkpe3Rocm93IG5ldyBFcnJvcihcImRlc3RydWN0dXJlZExvY2Fsc1tcIitpK1wiXSBpcyBub3QgYSB2YWxpZCBKUyBpZGVudGlmaWVyLlwiKX1pZihpPjApe2Rlc3RydWN0dXJpbmcrPVwiLFxcbiAgXCJ9ZGVzdHJ1Y3R1cmluZys9bmFtZStcIiA9IF9fbG9jYWxzLlwiK25hbWV9cHJlcGVuZGVkKz1kZXN0cnVjdHVyaW5nK1wiO1xcblwifWlmKG9wdHMuX3dpdGghPT1mYWxzZSl7cHJlcGVuZGVkKz1cIiAgd2l0aCAoXCIrb3B0cy5sb2NhbHNOYW1lK1wiIHx8IHt9KSB7XCIrXCJcXG5cIjthcHBlbmRlZCs9XCIgIH1cIitcIlxcblwifWFwcGVuZGVkKz1cIiAgcmV0dXJuIF9fb3V0cHV0O1wiK1wiXFxuXCI7dGhpcy5zb3VyY2U9cHJlcGVuZGVkK3RoaXMuc291cmNlK2FwcGVuZGVkfWlmKG9wdHMuY29tcGlsZURlYnVnKXtzcmM9XCJ2YXIgX19saW5lID0gMVwiK1wiXFxuXCIrXCIgICwgX19saW5lcyA9IFwiK0pTT04uc3RyaW5naWZ5KHRoaXMudGVtcGxhdGVUZXh0KStcIlxcblwiK1wiICAsIF9fZmlsZW5hbWUgPSBcIitzYW5pdGl6ZWRGaWxlbmFtZStcIjtcIitcIlxcblwiK1widHJ5IHtcIitcIlxcblwiK3RoaXMuc291cmNlK1wifSBjYXRjaCAoZSkge1wiK1wiXFxuXCIrXCIgIHJldGhyb3coZSwgX19saW5lcywgX19maWxlbmFtZSwgX19saW5lLCBlc2NhcGVGbik7XCIrXCJcXG5cIitcIn1cIitcIlxcblwifWVsc2V7c3JjPXRoaXMuc291cmNlfWlmKG9wdHMuY2xpZW50KXtzcmM9XCJlc2NhcGVGbiA9IGVzY2FwZUZuIHx8IFwiK2VzY2FwZUZuLnRvU3RyaW5nKCkrXCI7XCIrXCJcXG5cIitzcmM7aWYob3B0cy5jb21waWxlRGVidWcpe3NyYz1cInJldGhyb3cgPSByZXRocm93IHx8IFwiK3JldGhyb3cudG9TdHJpbmcoKStcIjtcIitcIlxcblwiK3NyY319aWYob3B0cy5zdHJpY3Qpe3NyYz0nXCJ1c2Ugc3RyaWN0XCI7XFxuJytzcmN9aWYob3B0cy5kZWJ1Zyl7Y29uc29sZS5sb2coc3JjKX1pZihvcHRzLmNvbXBpbGVEZWJ1ZyYmb3B0cy5maWxlbmFtZSl7c3JjPXNyYytcIlxcblwiK1wiLy8jIHNvdXJjZVVSTD1cIitzYW5pdGl6ZWRGaWxlbmFtZStcIlxcblwifXRyeXtpZihvcHRzLmFzeW5jKXt0cnl7Y3Rvcj1uZXcgRnVuY3Rpb24oXCJyZXR1cm4gKGFzeW5jIGZ1bmN0aW9uKCl7fSkuY29uc3RydWN0b3I7XCIpKCl9Y2F0Y2goZSl7aWYoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgYXN5bmMvYXdhaXRcIil9ZWxzZXt0aHJvdyBlfX19ZWxzZXtjdG9yPUZ1bmN0aW9ufWZuPW5ldyBjdG9yKG9wdHMubG9jYWxzTmFtZStcIiwgZXNjYXBlRm4sIGluY2x1ZGUsIHJldGhyb3dcIixzcmMpfWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBTeW50YXhFcnJvcil7aWYob3B0cy5maWxlbmFtZSl7ZS5tZXNzYWdlKz1cIiBpbiBcIitvcHRzLmZpbGVuYW1lfWUubWVzc2FnZSs9XCIgd2hpbGUgY29tcGlsaW5nIGVqc1xcblxcblwiO2UubWVzc2FnZSs9XCJJZiB0aGUgYWJvdmUgZXJyb3IgaXMgbm90IGhlbHBmdWwsIHlvdSBtYXkgd2FudCB0byB0cnkgRUpTLUxpbnQ6XFxuXCI7ZS5tZXNzYWdlKz1cImh0dHBzOi8vZ2l0aHViLmNvbS9SeWFuWmltL0VKUy1MaW50XCI7aWYoIW9wdHMuYXN5bmMpe2UubWVzc2FnZSs9XCJcXG5cIjtlLm1lc3NhZ2UrPVwiT3IsIGlmIHlvdSBtZWFudCB0byBjcmVhdGUgYW4gYXN5bmMgZnVuY3Rpb24sIHBhc3MgYGFzeW5jOiB0cnVlYCBhcyBhbiBvcHRpb24uXCJ9fXRocm93IGV9dmFyIHJldHVybmVkRm49b3B0cy5jbGllbnQ/Zm46ZnVuY3Rpb24gYW5vbnltb3VzKGRhdGEpe3ZhciBpbmNsdWRlPWZ1bmN0aW9uKHBhdGgsaW5jbHVkZURhdGEpe3ZhciBkPXV0aWxzLnNoYWxsb3dDb3B5KHV0aWxzLmNyZWF0ZU51bGxQcm90b09ialdoZXJlUG9zc2libGUoKSxkYXRhKTtpZihpbmNsdWRlRGF0YSl7ZD11dGlscy5zaGFsbG93Q29weShkLGluY2x1ZGVEYXRhKX1yZXR1cm4gaW5jbHVkZUZpbGUocGF0aCxvcHRzKShkKX07cmV0dXJuIGZuLmFwcGx5KG9wdHMuY29udGV4dCxbZGF0YXx8dXRpbHMuY3JlYXRlTnVsbFByb3RvT2JqV2hlcmVQb3NzaWJsZSgpLGVzY2FwZUZuLGluY2x1ZGUscmV0aHJvd10pfTtpZihvcHRzLmZpbGVuYW1lJiZ0eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5PT09XCJmdW5jdGlvblwiKXt2YXIgZmlsZW5hbWU9b3B0cy5maWxlbmFtZTt2YXIgYmFzZW5hbWU9cGF0aC5iYXNlbmFtZShmaWxlbmFtZSxwYXRoLmV4dG5hbWUoZmlsZW5hbWUpKTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHJldHVybmVkRm4sXCJuYW1lXCIse3ZhbHVlOmJhc2VuYW1lLHdyaXRhYmxlOmZhbHNlLGVudW1lcmFibGU6ZmFsc2UsY29uZmlndXJhYmxlOnRydWV9KX1jYXRjaChlKXt9fXJldHVybiByZXR1cm5lZEZufSxnZW5lcmF0ZVNvdXJjZTpmdW5jdGlvbigpe3ZhciBvcHRzPXRoaXMub3B0cztpZihvcHRzLnJtV2hpdGVzcGFjZSl7dGhpcy50ZW1wbGF0ZVRleHQ9dGhpcy50ZW1wbGF0ZVRleHQucmVwbGFjZSgvW1xcclxcbl0rL2csXCJcXG5cIikucmVwbGFjZSgvXlxccyt8XFxzKyQvZ20sXCJcIil9dGhpcy50ZW1wbGF0ZVRleHQ9dGhpcy50ZW1wbGF0ZVRleHQucmVwbGFjZSgvWyBcXHRdKjwlXy9nbSxcIjwlX1wiKS5yZXBsYWNlKC9fJT5bIFxcdF0qL2dtLFwiXyU+XCIpO3ZhciBzZWxmPXRoaXM7dmFyIG1hdGNoZXM9dGhpcy5wYXJzZVRlbXBsYXRlVGV4dCgpO3ZhciBkPXRoaXMub3B0cy5kZWxpbWl0ZXI7dmFyIG89dGhpcy5vcHRzLm9wZW5EZWxpbWl0ZXI7dmFyIGM9dGhpcy5vcHRzLmNsb3NlRGVsaW1pdGVyO2lmKG1hdGNoZXMmJm1hdGNoZXMubGVuZ3RoKXttYXRjaGVzLmZvckVhY2goZnVuY3Rpb24obGluZSxpbmRleCl7dmFyIGNsb3Npbmc7aWYobGluZS5pbmRleE9mKG8rZCk9PT0wJiZsaW5lLmluZGV4T2YobytkK2QpIT09MCl7Y2xvc2luZz1tYXRjaGVzW2luZGV4KzJdO2lmKCEoY2xvc2luZz09ZCtjfHxjbG9zaW5nPT1cIi1cIitkK2N8fGNsb3Npbmc9PVwiX1wiK2QrYykpe3Rocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgbWF0Y2hpbmcgY2xvc2UgdGFnIGZvciBcIicrbGluZSsnXCIuJyl9fXNlbGYuc2NhbkxpbmUobGluZSl9KX19LHBhcnNlVGVtcGxhdGVUZXh0OmZ1bmN0aW9uKCl7dmFyIHN0cj10aGlzLnRlbXBsYXRlVGV4dDt2YXIgcGF0PXRoaXMucmVnZXg7dmFyIHJlc3VsdD1wYXQuZXhlYyhzdHIpO3ZhciBhcnI9W107dmFyIGZpcnN0UG9zO3doaWxlKHJlc3VsdCl7Zmlyc3RQb3M9cmVzdWx0LmluZGV4O2lmKGZpcnN0UG9zIT09MCl7YXJyLnB1c2goc3RyLnN1YnN0cmluZygwLGZpcnN0UG9zKSk7c3RyPXN0ci5zbGljZShmaXJzdFBvcyl9YXJyLnB1c2gocmVzdWx0WzBdKTtzdHI9c3RyLnNsaWNlKHJlc3VsdFswXS5sZW5ndGgpO3Jlc3VsdD1wYXQuZXhlYyhzdHIpfWlmKHN0cil7YXJyLnB1c2goc3RyKX1yZXR1cm4gYXJyfSxfYWRkT3V0cHV0OmZ1bmN0aW9uKGxpbmUpe2lmKHRoaXMudHJ1bmNhdGUpe2xpbmU9bGluZS5yZXBsYWNlKC9eKD86XFxyXFxufFxccnxcXG4pLyxcIlwiKTt0aGlzLnRydW5jYXRlPWZhbHNlfWlmKCFsaW5lKXtyZXR1cm4gbGluZX1saW5lPWxpbmUucmVwbGFjZSgvXFxcXC9nLFwiXFxcXFxcXFxcIik7bGluZT1saW5lLnJlcGxhY2UoL1xcbi9nLFwiXFxcXG5cIik7bGluZT1saW5lLnJlcGxhY2UoL1xcci9nLFwiXFxcXHJcIik7bGluZT1saW5lLnJlcGxhY2UoL1wiL2csJ1xcXFxcIicpO3RoaXMuc291cmNlKz0nICAgIDsgX19hcHBlbmQoXCInK2xpbmUrJ1wiKScrXCJcXG5cIn0sc2NhbkxpbmU6ZnVuY3Rpb24obGluZSl7dmFyIHNlbGY9dGhpczt2YXIgZD10aGlzLm9wdHMuZGVsaW1pdGVyO3ZhciBvPXRoaXMub3B0cy5vcGVuRGVsaW1pdGVyO3ZhciBjPXRoaXMub3B0cy5jbG9zZURlbGltaXRlcjt2YXIgbmV3TGluZUNvdW50PTA7bmV3TGluZUNvdW50PWxpbmUuc3BsaXQoXCJcXG5cIikubGVuZ3RoLTE7c3dpdGNoKGxpbmUpe2Nhc2UgbytkOmNhc2UgbytkK1wiX1wiOnRoaXMubW9kZT1UZW1wbGF0ZS5tb2Rlcy5FVkFMO2JyZWFrO2Nhc2UgbytkK1wiPVwiOnRoaXMubW9kZT1UZW1wbGF0ZS5tb2Rlcy5FU0NBUEVEO2JyZWFrO2Nhc2UgbytkK1wiLVwiOnRoaXMubW9kZT1UZW1wbGF0ZS5tb2Rlcy5SQVc7YnJlYWs7Y2FzZSBvK2QrXCIjXCI6dGhpcy5tb2RlPVRlbXBsYXRlLm1vZGVzLkNPTU1FTlQ7YnJlYWs7Y2FzZSBvK2QrZDp0aGlzLm1vZGU9VGVtcGxhdGUubW9kZXMuTElURVJBTDt0aGlzLnNvdXJjZSs9JyAgICA7IF9fYXBwZW5kKFwiJytsaW5lLnJlcGxhY2UobytkK2QsbytkKSsnXCIpJytcIlxcblwiO2JyZWFrO2Nhc2UgZCtkK2M6dGhpcy5tb2RlPVRlbXBsYXRlLm1vZGVzLkxJVEVSQUw7dGhpcy5zb3VyY2UrPScgICAgOyBfX2FwcGVuZChcIicrbGluZS5yZXBsYWNlKGQrZCtjLGQrYykrJ1wiKScrXCJcXG5cIjticmVhaztjYXNlIGQrYzpjYXNlXCItXCIrZCtjOmNhc2VcIl9cIitkK2M6aWYodGhpcy5tb2RlPT1UZW1wbGF0ZS5tb2Rlcy5MSVRFUkFMKXt0aGlzLl9hZGRPdXRwdXQobGluZSl9dGhpcy5tb2RlPW51bGw7dGhpcy50cnVuY2F0ZT1saW5lLmluZGV4T2YoXCItXCIpPT09MHx8bGluZS5pbmRleE9mKFwiX1wiKT09PTA7YnJlYWs7ZGVmYXVsdDppZih0aGlzLm1vZGUpe3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgVGVtcGxhdGUubW9kZXMuRVZBTDpjYXNlIFRlbXBsYXRlLm1vZGVzLkVTQ0FQRUQ6Y2FzZSBUZW1wbGF0ZS5tb2Rlcy5SQVc6aWYobGluZS5sYXN0SW5kZXhPZihcIi8vXCIpPmxpbmUubGFzdEluZGV4T2YoXCJcXG5cIikpe2xpbmUrPVwiXFxuXCJ9fXN3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgVGVtcGxhdGUubW9kZXMuRVZBTDp0aGlzLnNvdXJjZSs9XCIgICAgOyBcIitsaW5lK1wiXFxuXCI7YnJlYWs7Y2FzZSBUZW1wbGF0ZS5tb2Rlcy5FU0NBUEVEOnRoaXMuc291cmNlKz1cIiAgICA7IF9fYXBwZW5kKGVzY2FwZUZuKFwiK3N0cmlwU2VtaShsaW5lKStcIikpXCIrXCJcXG5cIjticmVhaztjYXNlIFRlbXBsYXRlLm1vZGVzLlJBVzp0aGlzLnNvdXJjZSs9XCIgICAgOyBfX2FwcGVuZChcIitzdHJpcFNlbWkobGluZSkrXCIpXCIrXCJcXG5cIjticmVhaztjYXNlIFRlbXBsYXRlLm1vZGVzLkNPTU1FTlQ6YnJlYWs7Y2FzZSBUZW1wbGF0ZS5tb2Rlcy5MSVRFUkFMOnRoaXMuX2FkZE91dHB1dChsaW5lKTticmVha319ZWxzZXt0aGlzLl9hZGRPdXRwdXQobGluZSl9fWlmKHNlbGYub3B0cy5jb21waWxlRGVidWcmJm5ld0xpbmVDb3VudCl7dGhpcy5jdXJyZW50TGluZSs9bmV3TGluZUNvdW50O3RoaXMuc291cmNlKz1cIiAgICA7IF9fbGluZSA9IFwiK3RoaXMuY3VycmVudExpbmUrXCJcXG5cIn19fTtleHBvcnRzLmVzY2FwZVhNTD11dGlscy5lc2NhcGVYTUw7ZXhwb3J0cy5fX2V4cHJlc3M9ZXhwb3J0cy5yZW5kZXJGaWxlO2V4cG9ydHMuVkVSU0lPTj1fVkVSU0lPTl9TVFJJTkc7ZXhwb3J0cy5uYW1lPV9OQU1FO2lmKHR5cGVvZiB3aW5kb3chPVwidW5kZWZpbmVkXCIpe3dpbmRvdy5lanM9ZXhwb3J0c319LHtcIi4uL3BhY2thZ2UuanNvblwiOjYsXCIuL3V0aWxzXCI6MixmczozLHBhdGg6NH1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1widXNlIHN0cmljdFwiO3ZhciByZWdFeHBDaGFycz0vW3xcXFxce30oKVtcXF1eJCsqPy5dL2c7dmFyIGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGhhc093bj1mdW5jdGlvbihvYmosa2V5KXtyZXR1cm4gaGFzT3duUHJvcGVydHkuYXBwbHkob2JqLFtrZXldKX07ZXhwb3J0cy5lc2NhcGVSZWdFeHBDaGFycz1mdW5jdGlvbihzdHJpbmcpe2lmKCFzdHJpbmcpe3JldHVyblwiXCJ9cmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVnRXhwQ2hhcnMsXCJcXFxcJCZcIil9O3ZhciBfRU5DT0RFX0hUTUxfUlVMRVM9e1wiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJiMzNDtcIixcIidcIjpcIiYjMzk7XCJ9O3ZhciBfTUFUQ0hfSFRNTD0vWyY8PidcIl0vZztmdW5jdGlvbiBlbmNvZGVfY2hhcihjKXtyZXR1cm4gX0VOQ09ERV9IVE1MX1JVTEVTW2NdfHxjfXZhciBlc2NhcGVGdW5jU3RyPVwidmFyIF9FTkNPREVfSFRNTF9SVUxFUyA9IHtcXG5cIisnICAgICAgXCImXCI6IFwiJmFtcDtcIlxcbicrJyAgICAsIFwiPFwiOiBcIiZsdDtcIlxcbicrJyAgICAsIFwiPlwiOiBcIiZndDtcIlxcbicrJyAgICAsIFxcJ1wiXFwnOiBcIiYjMzQ7XCJcXG4nKycgICAgLCBcIlxcJ1wiOiBcIiYjMzk7XCJcXG4nK1wiICAgIH1cXG5cIitcIiAgLCBfTUFUQ0hfSFRNTCA9IC9bJjw+J1xcXCJdL2c7XFxuXCIrXCJmdW5jdGlvbiBlbmNvZGVfY2hhcihjKSB7XFxuXCIrXCIgIHJldHVybiBfRU5DT0RFX0hUTUxfUlVMRVNbY10gfHwgYztcXG5cIitcIn07XFxuXCI7ZXhwb3J0cy5lc2NhcGVYTUw9ZnVuY3Rpb24obWFya3VwKXtyZXR1cm4gbWFya3VwPT11bmRlZmluZWQ/XCJcIjpTdHJpbmcobWFya3VwKS5yZXBsYWNlKF9NQVRDSF9IVE1MLGVuY29kZV9jaGFyKX07ZnVuY3Rpb24gZXNjYXBlWE1MVG9TdHJpbmcoKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcykrXCI7XFxuXCIrZXNjYXBlRnVuY1N0cn10cnl7aWYodHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eT09PVwiZnVuY3Rpb25cIil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMuZXNjYXBlWE1MLFwidG9TdHJpbmdcIix7dmFsdWU6ZXNjYXBlWE1MVG9TdHJpbmd9KX1lbHNle2V4cG9ydHMuZXNjYXBlWE1MLnRvU3RyaW5nPWVzY2FwZVhNTFRvU3RyaW5nfX1jYXRjaChlcnIpe2NvbnNvbGUud2FybihcIlVuYWJsZSB0byBzZXQgZXNjYXBlWE1MLnRvU3RyaW5nIChpcyB0aGUgRnVuY3Rpb24gcHJvdG90eXBlIGZyb3plbj8pXCIpfWV4cG9ydHMuc2hhbGxvd0NvcHk9ZnVuY3Rpb24odG8sZnJvbSl7ZnJvbT1mcm9tfHx7fTtpZih0byE9PW51bGwmJnRvIT09dW5kZWZpbmVkKXtmb3IodmFyIHAgaW4gZnJvbSl7aWYoIWhhc093bihmcm9tLHApKXtjb250aW51ZX1pZihwPT09XCJfX3Byb3RvX19cInx8cD09PVwiY29uc3RydWN0b3JcIil7Y29udGludWV9dG9bcF09ZnJvbVtwXX19cmV0dXJuIHRvfTtleHBvcnRzLnNoYWxsb3dDb3B5RnJvbUxpc3Q9ZnVuY3Rpb24odG8sZnJvbSxsaXN0KXtsaXN0PWxpc3R8fFtdO2Zyb209ZnJvbXx8e307aWYodG8hPT1udWxsJiZ0byE9PXVuZGVmaW5lZCl7Zm9yKHZhciBpPTA7aTxsaXN0Lmxlbmd0aDtpKyspe3ZhciBwPWxpc3RbaV07aWYodHlwZW9mIGZyb21bcF0hPVwidW5kZWZpbmVkXCIpe2lmKCFoYXNPd24oZnJvbSxwKSl7Y29udGludWV9aWYocD09PVwiX19wcm90b19fXCJ8fHA9PT1cImNvbnN0cnVjdG9yXCIpe2NvbnRpbnVlfXRvW3BdPWZyb21bcF19fX1yZXR1cm4gdG99O2V4cG9ydHMuY2FjaGU9e19kYXRhOnt9LHNldDpmdW5jdGlvbihrZXksdmFsKXt0aGlzLl9kYXRhW2tleV09dmFsfSxnZXQ6ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpcy5fZGF0YVtrZXldfSxyZW1vdmU6ZnVuY3Rpb24oa2V5KXtkZWxldGUgdGhpcy5fZGF0YVtrZXldfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RhdGE9e319fTtleHBvcnRzLmh5cGhlblRvQ2FtZWw9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLy1bYS16XS9nLGZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4gbWF0Y2hbMV0udG9VcHBlckNhc2UoKX0pfTtleHBvcnRzLmNyZWF0ZU51bGxQcm90b09ialdoZXJlUG9zc2libGU9ZnVuY3Rpb24oKXtpZih0eXBlb2YgT2JqZWN0LmNyZWF0ZT09XCJmdW5jdGlvblwiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKX19aWYoISh7X19wcm90b19fOm51bGx9aW5zdGFuY2VvZiBPYmplY3QpKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm57X19wcm90b19fOm51bGx9fX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm57fX19KCl9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXt9LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24ocHJvY2Vzcyl7ZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsYWxsb3dBYm92ZVJvb3Qpe3ZhciB1cD0wO2Zvcih2YXIgaT1wYXJ0cy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGxhc3Q9cGFydHNbaV07aWYobGFzdD09PVwiLlwiKXtwYXJ0cy5zcGxpY2UoaSwxKX1lbHNlIGlmKGxhc3Q9PT1cIi4uXCIpe3BhcnRzLnNwbGljZShpLDEpO3VwKyt9ZWxzZSBpZih1cCl7cGFydHMuc3BsaWNlKGksMSk7dXAtLX19aWYoYWxsb3dBYm92ZVJvb3Qpe2Zvcig7dXAtLTt1cCl7cGFydHMudW5zaGlmdChcIi4uXCIpfX1yZXR1cm4gcGFydHN9ZXhwb3J0cy5yZXNvbHZlPWZ1bmN0aW9uKCl7dmFyIHJlc29sdmVkUGF0aD1cIlwiLHJlc29sdmVkQWJzb2x1dGU9ZmFsc2U7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgtMTtpPj0tMSYmIXJlc29sdmVkQWJzb2x1dGU7aS0tKXt2YXIgcGF0aD1pPj0wP2FyZ3VtZW50c1tpXTpwcm9jZXNzLmN3ZCgpO2lmKHR5cGVvZiBwYXRoIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzXCIpfWVsc2UgaWYoIXBhdGgpe2NvbnRpbnVlfXJlc29sdmVkUGF0aD1wYXRoK1wiL1wiK3Jlc29sdmVkUGF0aDtyZXNvbHZlZEFic29sdXRlPXBhdGguY2hhckF0KDApPT09XCIvXCJ9cmVzb2x2ZWRQYXRoPW5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoXCIvXCIpLGZ1bmN0aW9uKHApe3JldHVybiEhcH0pLCFyZXNvbHZlZEFic29sdXRlKS5qb2luKFwiL1wiKTtyZXR1cm4ocmVzb2x2ZWRBYnNvbHV0ZT9cIi9cIjpcIlwiKStyZXNvbHZlZFBhdGh8fFwiLlwifTtleHBvcnRzLm5vcm1hbGl6ZT1mdW5jdGlvbihwYXRoKXt2YXIgaXNBYnNvbHV0ZT1leHBvcnRzLmlzQWJzb2x1dGUocGF0aCksdHJhaWxpbmdTbGFzaD1zdWJzdHIocGF0aCwtMSk9PT1cIi9cIjtwYXRoPW5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KFwiL1wiKSxmdW5jdGlvbihwKXtyZXR1cm4hIXB9KSwhaXNBYnNvbHV0ZSkuam9pbihcIi9cIik7aWYoIXBhdGgmJiFpc0Fic29sdXRlKXtwYXRoPVwiLlwifWlmKHBhdGgmJnRyYWlsaW5nU2xhc2gpe3BhdGgrPVwiL1wifXJldHVybihpc0Fic29sdXRlP1wiL1wiOlwiXCIpK3BhdGh9O2V4cG9ydHMuaXNBYnNvbHV0ZT1mdW5jdGlvbihwYXRoKXtyZXR1cm4gcGF0aC5jaGFyQXQoMCk9PT1cIi9cIn07ZXhwb3J0cy5qb2luPWZ1bmN0aW9uKCl7dmFyIHBhdGhzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLGZ1bmN0aW9uKHAsaW5kZXgpe2lmKHR5cGVvZiBwIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzXCIpfXJldHVybiBwfSkuam9pbihcIi9cIikpfTtleHBvcnRzLnJlbGF0aXZlPWZ1bmN0aW9uKGZyb20sdG8pe2Zyb209ZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTt0bz1leHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtmdW5jdGlvbiB0cmltKGFycil7dmFyIHN0YXJ0PTA7Zm9yKDtzdGFydDxhcnIubGVuZ3RoO3N0YXJ0Kyspe2lmKGFycltzdGFydF0hPT1cIlwiKWJyZWFrfXZhciBlbmQ9YXJyLmxlbmd0aC0xO2Zvcig7ZW5kPj0wO2VuZC0tKXtpZihhcnJbZW5kXSE9PVwiXCIpYnJlYWt9aWYoc3RhcnQ+ZW5kKXJldHVybltdO3JldHVybiBhcnIuc2xpY2Uoc3RhcnQsZW5kLXN0YXJ0KzEpfXZhciBmcm9tUGFydHM9dHJpbShmcm9tLnNwbGl0KFwiL1wiKSk7dmFyIHRvUGFydHM9dHJpbSh0by5zcGxpdChcIi9cIikpO3ZhciBsZW5ndGg9TWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCx0b1BhcnRzLmxlbmd0aCk7dmFyIHNhbWVQYXJ0c0xlbmd0aD1sZW5ndGg7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtpZihmcm9tUGFydHNbaV0hPT10b1BhcnRzW2ldKXtzYW1lUGFydHNMZW5ndGg9aTticmVha319dmFyIG91dHB1dFBhcnRzPVtdO2Zvcih2YXIgaT1zYW1lUGFydHNMZW5ndGg7aTxmcm9tUGFydHMubGVuZ3RoO2krKyl7b3V0cHV0UGFydHMucHVzaChcIi4uXCIpfW91dHB1dFBhcnRzPW91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO3JldHVybiBvdXRwdXRQYXJ0cy5qb2luKFwiL1wiKX07ZXhwb3J0cy5zZXA9XCIvXCI7ZXhwb3J0cy5kZWxpbWl0ZXI9XCI6XCI7ZXhwb3J0cy5kaXJuYW1lPWZ1bmN0aW9uKHBhdGgpe2lmKHR5cGVvZiBwYXRoIT09XCJzdHJpbmdcIilwYXRoPXBhdGgrXCJcIjtpZihwYXRoLmxlbmd0aD09PTApcmV0dXJuXCIuXCI7dmFyIGNvZGU9cGF0aC5jaGFyQ29kZUF0KDApO3ZhciBoYXNSb290PWNvZGU9PT00Nzt2YXIgZW5kPS0xO3ZhciBtYXRjaGVkU2xhc2g9dHJ1ZTtmb3IodmFyIGk9cGF0aC5sZW5ndGgtMTtpPj0xOy0taSl7Y29kZT1wYXRoLmNoYXJDb2RlQXQoaSk7aWYoY29kZT09PTQ3KXtpZighbWF0Y2hlZFNsYXNoKXtlbmQ9aTticmVha319ZWxzZXttYXRjaGVkU2xhc2g9ZmFsc2V9fWlmKGVuZD09PS0xKXJldHVybiBoYXNSb290P1wiL1wiOlwiLlwiO2lmKGhhc1Jvb3QmJmVuZD09PTEpe3JldHVyblwiL1wifXJldHVybiBwYXRoLnNsaWNlKDAsZW5kKX07ZnVuY3Rpb24gYmFzZW5hbWUocGF0aCl7aWYodHlwZW9mIHBhdGghPT1cInN0cmluZ1wiKXBhdGg9cGF0aCtcIlwiO3ZhciBzdGFydD0wO3ZhciBlbmQ9LTE7dmFyIG1hdGNoZWRTbGFzaD10cnVlO3ZhciBpO2ZvcihpPXBhdGgubGVuZ3RoLTE7aT49MDstLWkpe2lmKHBhdGguY2hhckNvZGVBdChpKT09PTQ3KXtpZighbWF0Y2hlZFNsYXNoKXtzdGFydD1pKzE7YnJlYWt9fWVsc2UgaWYoZW5kPT09LTEpe21hdGNoZWRTbGFzaD1mYWxzZTtlbmQ9aSsxfX1pZihlbmQ9PT0tMSlyZXR1cm5cIlwiO3JldHVybiBwYXRoLnNsaWNlKHN0YXJ0LGVuZCl9ZXhwb3J0cy5iYXNlbmFtZT1mdW5jdGlvbihwYXRoLGV4dCl7dmFyIGY9YmFzZW5hbWUocGF0aCk7aWYoZXh0JiZmLnN1YnN0cigtMSpleHQubGVuZ3RoKT09PWV4dCl7Zj1mLnN1YnN0cigwLGYubGVuZ3RoLWV4dC5sZW5ndGgpfXJldHVybiBmfTtleHBvcnRzLmV4dG5hbWU9ZnVuY3Rpb24ocGF0aCl7aWYodHlwZW9mIHBhdGghPT1cInN0cmluZ1wiKXBhdGg9cGF0aCtcIlwiO3ZhciBzdGFydERvdD0tMTt2YXIgc3RhcnRQYXJ0PTA7dmFyIGVuZD0tMTt2YXIgbWF0Y2hlZFNsYXNoPXRydWU7dmFyIHByZURvdFN0YXRlPTA7Zm9yKHZhciBpPXBhdGgubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBjb2RlPXBhdGguY2hhckNvZGVBdChpKTtpZihjb2RlPT09NDcpe2lmKCFtYXRjaGVkU2xhc2gpe3N0YXJ0UGFydD1pKzE7YnJlYWt9Y29udGludWV9aWYoZW5kPT09LTEpe21hdGNoZWRTbGFzaD1mYWxzZTtlbmQ9aSsxfWlmKGNvZGU9PT00Nil7aWYoc3RhcnREb3Q9PT0tMSlzdGFydERvdD1pO2Vsc2UgaWYocHJlRG90U3RhdGUhPT0xKXByZURvdFN0YXRlPTF9ZWxzZSBpZihzdGFydERvdCE9PS0xKXtwcmVEb3RTdGF0ZT0tMX19aWYoc3RhcnREb3Q9PT0tMXx8ZW5kPT09LTF8fHByZURvdFN0YXRlPT09MHx8cHJlRG90U3RhdGU9PT0xJiZzdGFydERvdD09PWVuZC0xJiZzdGFydERvdD09PXN0YXJ0UGFydCsxKXtyZXR1cm5cIlwifXJldHVybiBwYXRoLnNsaWNlKHN0YXJ0RG90LGVuZCl9O2Z1bmN0aW9uIGZpbHRlcih4cyxmKXtpZih4cy5maWx0ZXIpcmV0dXJuIHhzLmZpbHRlcihmKTt2YXIgcmVzPVtdO2Zvcih2YXIgaT0wO2k8eHMubGVuZ3RoO2krKyl7aWYoZih4c1tpXSxpLHhzKSlyZXMucHVzaCh4c1tpXSl9cmV0dXJuIHJlc312YXIgc3Vic3RyPVwiYWJcIi5zdWJzdHIoLTEpPT09XCJiXCI/ZnVuY3Rpb24oc3RyLHN0YXJ0LGxlbil7cmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsbGVuKX06ZnVuY3Rpb24oc3RyLHN0YXJ0LGxlbil7aWYoc3RhcnQ8MClzdGFydD1zdHIubGVuZ3RoK3N0YXJ0O3JldHVybiBzdHIuc3Vic3RyKHN0YXJ0LGxlbil9fSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJfcHJvY2Vzc1wiKSl9LHtfcHJvY2Vzczo1fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7dmFyIHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e307dmFyIGNhY2hlZFNldFRpbWVvdXQ7dmFyIGNhY2hlZENsZWFyVGltZW91dDtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXtpZih0eXBlb2Ygc2V0VGltZW91dD09PVwiZnVuY3Rpb25cIil7Y2FjaGVkU2V0VGltZW91dD1zZXRUaW1lb3V0fWVsc2V7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0fX1jYXRjaChlKXtjYWNoZWRTZXRUaW1lb3V0PWRlZmF1bHRTZXRUaW1vdXR9dHJ5e2lmKHR5cGVvZiBjbGVhclRpbWVvdXQ9PT1cImZ1bmN0aW9uXCIpe2NhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXR9ZWxzZXtjYWNoZWRDbGVhclRpbWVvdXQ9ZGVmYXVsdENsZWFyVGltZW91dH19Y2F0Y2goZSl7Y2FjaGVkQ2xlYXJUaW1lb3V0PWRlZmF1bHRDbGVhclRpbWVvdXR9fSkoKTtmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bil7aWYoY2FjaGVkU2V0VGltZW91dD09PXNldFRpbWVvdXQpe3JldHVybiBzZXRUaW1lb3V0KGZ1biwwKX1pZigoY2FjaGVkU2V0VGltZW91dD09PWRlZmF1bHRTZXRUaW1vdXR8fCFjYWNoZWRTZXRUaW1lb3V0KSYmc2V0VGltZW91dCl7Y2FjaGVkU2V0VGltZW91dD1zZXRUaW1lb3V0O3JldHVybiBzZXRUaW1lb3V0KGZ1biwwKX10cnl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLDApfWNhdGNoKGUpe3RyeXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsZnVuLDApfWNhdGNoKGUpe3JldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcyxmdW4sMCl9fX1mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKXtpZihjYWNoZWRDbGVhclRpbWVvdXQ9PT1jbGVhclRpbWVvdXQpe3JldHVybiBjbGVhclRpbWVvdXQobWFya2VyKX1pZigoY2FjaGVkQ2xlYXJUaW1lb3V0PT09ZGVmYXVsdENsZWFyVGltZW91dHx8IWNhY2hlZENsZWFyVGltZW91dCkmJmNsZWFyVGltZW91dCl7Y2FjaGVkQ2xlYXJUaW1lb3V0PWNsZWFyVGltZW91dDtyZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcil9dHJ5e3JldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKX1jYXRjaChlKXt0cnl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsbWFya2VyKX1jYXRjaChlKXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcyxtYXJrZXIpfX19dmFyIHF1ZXVlPVtdO3ZhciBkcmFpbmluZz1mYWxzZTt2YXIgY3VycmVudFF1ZXVlO3ZhciBxdWV1ZUluZGV4PS0xO2Z1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2lmKCFkcmFpbmluZ3x8IWN1cnJlbnRRdWV1ZSl7cmV0dXJufWRyYWluaW5nPWZhbHNlO2lmKGN1cnJlbnRRdWV1ZS5sZW5ndGgpe3F1ZXVlPWN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpfWVsc2V7cXVldWVJbmRleD0tMX1pZihxdWV1ZS5sZW5ndGgpe2RyYWluUXVldWUoKX19ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpe2lmKGRyYWluaW5nKXtyZXR1cm59dmFyIHRpbWVvdXQ9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO2RyYWluaW5nPXRydWU7dmFyIGxlbj1xdWV1ZS5sZW5ndGg7d2hpbGUobGVuKXtjdXJyZW50UXVldWU9cXVldWU7cXVldWU9W107d2hpbGUoKytxdWV1ZUluZGV4PGxlbil7aWYoY3VycmVudFF1ZXVlKXtjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCl9fXF1ZXVlSW5kZXg9LTE7bGVuPXF1ZXVlLmxlbmd0aH1jdXJyZW50UXVldWU9bnVsbDtkcmFpbmluZz1mYWxzZTtydW5DbGVhclRpbWVvdXQodGltZW91dCl9cHJvY2Vzcy5uZXh0VGljaz1mdW5jdGlvbihmdW4pe3ZhciBhcmdzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7YXJnc1tpLTFdPWFyZ3VtZW50c1tpXX19cXVldWUucHVzaChuZXcgSXRlbShmdW4sYXJncykpO2lmKHF1ZXVlLmxlbmd0aD09PTEmJiFkcmFpbmluZyl7cnVuVGltZW91dChkcmFpblF1ZXVlKX19O2Z1bmN0aW9uIEl0ZW0oZnVuLGFycmF5KXt0aGlzLmZ1bj1mdW47dGhpcy5hcnJheT1hcnJheX1JdGVtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfTtwcm9jZXNzLnRpdGxlPVwiYnJvd3NlclwiO3Byb2Nlc3MuYnJvd3Nlcj10cnVlO3Byb2Nlc3MuZW52PXt9O3Byb2Nlc3MuYXJndj1bXTtwcm9jZXNzLnZlcnNpb249XCJcIjtwcm9jZXNzLnZlcnNpb25zPXt9O2Z1bmN0aW9uIG5vb3AoKXt9cHJvY2Vzcy5vbj1ub29wO3Byb2Nlc3MuYWRkTGlzdGVuZXI9bm9vcDtwcm9jZXNzLm9uY2U9bm9vcDtwcm9jZXNzLm9mZj1ub29wO3Byb2Nlc3MucmVtb3ZlTGlzdGVuZXI9bm9vcDtwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycz1ub29wO3Byb2Nlc3MuZW1pdD1ub29wO3Byb2Nlc3MucHJlcGVuZExpc3RlbmVyPW5vb3A7cHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyPW5vb3A7cHJvY2Vzcy5saXN0ZW5lcnM9ZnVuY3Rpb24obmFtZSl7cmV0dXJuW119O3Byb2Nlc3MuYmluZGluZz1mdW5jdGlvbihuYW1lKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX07cHJvY2Vzcy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn07cHJvY2Vzcy5jaGRpcj1mdW5jdGlvbihkaXIpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX07cHJvY2Vzcy51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXtuYW1lOlwiZWpzXCIsZGVzY3JpcHRpb246XCJFbWJlZGRlZCBKYXZhU2NyaXB0IHRlbXBsYXRlc1wiLGtleXdvcmRzOltcInRlbXBsYXRlXCIsXCJlbmdpbmVcIixcImVqc1wiXSx2ZXJzaW9uOlwiMy4xLjhcIixhdXRob3I6XCJNYXR0aGV3IEVlcm5pc3NlIDxtZGVAZmxlZWdpeC5vcmc+IChodHRwOi8vZmxlZWdpeC5vcmcpXCIsbGljZW5zZTpcIkFwYWNoZS0yLjBcIixiaW46e2VqczpcIi4vYmluL2NsaS5qc1wifSxtYWluOlwiLi9saWIvZWpzLmpzXCIsanNkZWxpdnI6XCJlanMubWluLmpzXCIsdW5wa2c6XCJlanMubWluLmpzXCIscmVwb3NpdG9yeTp7dHlwZTpcImdpdFwiLHVybDpcImdpdDovL2dpdGh1Yi5jb20vbWRlL2Vqcy5naXRcIn0sYnVnczpcImh0dHBzOi8vZ2l0aHViLmNvbS9tZGUvZWpzL2lzc3Vlc1wiLGhvbWVwYWdlOlwiaHR0cHM6Ly9naXRodWIuY29tL21kZS9lanNcIixkZXBlbmRlbmNpZXM6e2pha2U6XCJeMTAuOC41XCJ9LGRldkRlcGVuZGVuY2llczp7YnJvd3NlcmlmeTpcIl4xNi41LjFcIixlc2xpbnQ6XCJeNi44LjBcIixcImdpdC1kaXJlY3RvcnktZGVwbG95XCI6XCJeMS41LjFcIixqc2RvYzpcIl40LjAuMlwiLFwibHJ1LWNhY2hlXCI6XCJeNC4wLjFcIixtb2NoYTpcIl4xMC4yLjBcIixcInVnbGlmeS1qc1wiOlwiXjMuMy4xNlwifSxlbmdpbmVzOntub2RlOlwiPj0wLjEwLjBcIn0sc2NyaXB0czp7dGVzdDpcIm1vY2hhIC11IHRkZFwifX19LHt9XX0se30sWzFdKSgxKX0pO1xuIiwibGV0IHRwbCA9IE9iamVjdC5jcmVhdGUobnVsbClcbnRwbFsnY29sdW1ucy9iYWRnZS5odG1sJ10gPSAnPHNwYW4gY2xhc3M9XCJiYWRnZSB0ZXh0LWJnLTwlPSB0eXBlICU+XCI+PCU9IHRleHQgJT48L3NwYW4+J1xudHBsWydjb2x1bW5zL2J1dHRvbi5odG1sJ10gPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI8JS0gYXR0ciAlPj48JS0gY29udGVudCAlPjwvYnV0dG9uPidcbnRwbFsnY29sdW1ucy9saW5rLmh0bWwnXSA9ICc8YSA8JS0gYXR0ciAlPj48JS0gY29udGVudCAlPjwvYT4nXG50cGxbJ2NvbHVtbnMvbWVudS5odG1sJ10gPSAnIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJkcm9wZG93blwiIDwlLSBhdHRyICU+PiA8JS0gY29udGVudCAlPiA8L2J1dHRvbj4gPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LTwlPSBwb3NpdGlvbiAlPlwiPiA8JSAkLmVhY2goaXRlbXMsIGZ1bmN0aW9uKGtleSwgaXRlbSkgeyAlPiA8JSBpZiAoaXRlbS50eXBlID09PSBcXCdsaW5rXFwnKSB7ICU+IDxsaT48YSBocmVmPVwiPCU9IGl0ZW0udXJsICU+XCI8JS0gaXRlbS5hdHRyICU+PjwlPSBpdGVtLmNvbnRlbnQgJT48L2E+PC9saT4gPCUgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFxcJ2J1dHRvblxcJykgeyAlPiA8bGk+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiYnRuLWRyb3Bkb3duLTwlPSBpdGVtLmlkICU+XCI8JS0gaXRlbS5hdHRyICU+PiA8JS0gaXRlbS5jb250ZW50ICU+IDwvYnV0dG9uPiA8L2xpPiA8JSB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gXFwnZGl2aWRlclxcJykgeyAlPiA8bGk+PGhyIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvbGk+IDwlIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSBcXCdoZWFkZXJcXCcpIHsgJT4gPGxpPjxoNiBjbGFzcz1cImRyb3Bkb3duLWhlYWRlclwiPjwlPSBpdGVtLmNvbnRlbnQgJT48L2g2PjwvbGk+IDwlIH0gJT4gPCUgfSkgJT4gPC91bD4gPC9kaXY+J1xudHBsWydjb2x1bW5zL3NlbGVjdF9sYWJlbC5odG1sJ10gPSAnPGlucHV0IGNsYXNzPVwiY29yZXVpLXRhYmxlX19zZWxlY3QtYWxsIGZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIlwiPidcbnRwbFsnY29sdW1ucy9zZWxlY3QuaHRtbCddID0gJzxpbnB1dCBjbGFzcz1cImNvcmV1aS10YWJsZV9fc2VsZWN0IGZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIjwlPSBpbmRleCAlPlwiPidcbnRwbFsnY29sdW1ucy9zd2l0Y2guaHRtbCddID0gJzxkaXYgY2xhc3M9XCJmb3JtLXN3aXRjaFwiPiA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0IGNvcmV1aS10YWJsZV9fc3dpdGNoXCIgdHlwZT1cImNoZWNrYm94XCIgZGF0YS1maWVsZD1cIjwlPSBmaWVsZCAlPlwiIHZhbHVlPVwicmVjb3JkLmluZGV4XCI8JSBpZiAoY2hlY2tlZCkgeyAlPiBjaGVja2VkPCUgfSAlPjwlIGlmIChkaXNhYmxlZCkgeyAlPiBkaXNhYmxlZDwlIH0gJT4+IDwvZGl2PidcbnRwbFsnY29udHJvbHMvYnV0dG9uX2dyb3VwLmh0bWwnXSA9ICcgPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiIHJvbGU9XCJncm91cFwiPiA8JSAkLmVhY2goYnV0dG9ucywgZnVuY3Rpb24oa2V5LCBidXR0b24pIHsgJT4gPCUgaWYgKGJ1dHRvbi50eXBlID09PSBcXCdsaW5rXFwnKSB7ICU+IDxhIGhyZWY9XCI8JT0gYnV0dG9uLnVybCAlPlwiPCUtIGJ1dHRvbi5hdHRyICU+PjwlPSBidXR0b24uY29udGVudCAlPjwvYT4gPCUgfSBlbHNlIGlmIChidXR0b24udHlwZSA9PT0gXFwnYnV0dG9uXFwnKSB7ICU+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiYnRuLWdycC08JT0gYnV0dG9uLmlkICU+XCI8JS0gYnV0dG9uLmF0dHIgJT4+IDwlPSBidXR0b24uY29udGVudCAlPiA8L2J1dHRvbj4gPCUgfSBlbHNlIGlmIChidXR0b24udHlwZSA9PT0gXFwnZHJvcGRvd25cXCcpIHsgJT4gPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiIHJvbGU9XCJncm91cFwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImRyb3Bkb3duXCI8JS0gYnV0dG9uLmF0dHIgJT4+IDwlLSBidXR0b24uY29udGVudCAlPiA8L2J1dHRvbj4gPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LTwlPSBidXR0b24ucG9zaXRpb24gJT5cIj4gPCUgJC5lYWNoKGJ1dHRvbi5pdGVtcywgZnVuY3Rpb24oa2V5LCBpdGVtKSB7ICU+IDwlIGlmIChpdGVtLnR5cGUgPT09IFxcJ2xpbmtcXCcpIHsgJT4gPGxpPjxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCI8JT0gaXRlbS51cmwgJT5cIj48JT0gaXRlbS5jb250ZW50ICU+PC9hPjwvbGk+IDwlIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSBcXCdidXR0b25cXCcpIHsgJT4gPGxpPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImJ0bi1kcm9wZG93bi08JT0gaXRlbS5pZCAlPlwiPiA8JT0gaXRlbS5jb250ZW50ICU+IDwvYnV0dG9uPiA8L2xpPiA8JSB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gXFwnZGl2aWRlclxcJykgeyAlPiA8bGk+PGhyIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvbGk+IDwlIH0gJT4gPCUgfSkgJT4gPC91bD4gPC9kaXY+IDwlIH0gJT4gPCUgfSkgJT4gPC9kaXY+J1xudHBsWydjb250cm9scy9idXR0b24uaHRtbCddID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiPCUtIGF0dHIgJT4+PCUtIGNvbnRlbnQgJT48L2J1dHRvbj4nXG50cGxbJ2NvbnRyb2xzL2NhcHRpb24uaHRtbCddID0gJzxkaXYgY2xhc3M9XCJkLWZsZXggZmxleC1jb2x1bW4gbWUtM1wiPiA8c21hbGwgY2xhc3M9XCJ0ZXh0LWJvZHktc2Vjb25kYXJ5IGZ3LW1lZGl1bVwiPiA8JT0gdGl0bGUgJT4gPCUgaWYgKGRlc2NyaXB0aW9uKSB7ICU+IDxpIGNsYXNzPVwiYmkgYmktcXVlc3Rpb24tY2lyY2xlIGNvcmV1aS10YWJsZV9fY3Vyc29yX2hlbHBcIiB0aXRsZT1cIjwlPSBkZXNjcmlwdGlvbiAlPlwiPjwvaT4gPCUgfSAlPiA8L3NtYWxsPiA8YiBjbGFzcz1cInRleHQtbm93cmFwXCI+PCU9IHZhbHVlICU+PC9iPiA8L2Rpdj4nXG50cGxbJ2NvbnRyb2xzL2NvbHVtbnMtY29udGFpbmVyLmh0bWwnXSA9ICcgPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29sdW1ucyBweC0zIHB0LTMgcGItNFwiPiA8ZGl2IGNsYXNzPVwibWItM1wiPiA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBjb3JldWktdGFibGVfX2NoZWNrX2FsbFwiPiA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCI+IDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiA8JSBpZiAoc2hvd0FsbCA9PT0gdHJ1ZSkgeyAlPmNoZWNrZWQ8JSB9ICU+PiA8JT0gbGFuZy5hbGwgJT4gPC9sYWJlbD4gPC9kaXY+IDwlICQuZWFjaChjb2x1bW5zLCBmdW5jdGlvbihrZXksIGNvbHVtbikgeyAlPiA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBjb3JldWktdGFibGVfY2hlY2stY29sdW1uXCI+IDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIj4gPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiPCU9IGNvbHVtbi5maWVsZCAlPlwiIDwlIGlmIChjb2x1bW4uc2hvdyA9PT0gdHJ1ZSkgeyAlPmNoZWNrZWQ8JSB9ICU+PiA8JT0gY29sdW1uLmxhYmVsICU+IDwvbGFiZWw+IDwvZGl2PiA8JSB9KTsgJT4gPC9kaXY+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIDwlLSBidG5Db21wbGV0ZUF0dHIgJT4+IDwlLSBidG5Db21wbGV0ZUNvbnRlbnQgJT4gPC9idXR0b24+IDwvZGl2PidcbnRwbFsnY29udHJvbHMvY29sdW1ucy5odG1sJ10gPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI8JS0gYnRuQXR0ciAlPj48JS1idG5Db250ZW50JT48L2J1dHRvbj4nXG50cGxbJ2NvbnRyb2xzL2Ryb3Bkb3duLmh0bWwnXSA9ICcgPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiIHJvbGU9XCJncm91cFwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImRyb3Bkb3duXCI8JS0gYXR0ciAlPj4gPCUtIGNvbnRlbnQgJT4gPC9idXR0b24+IDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS08JT0gcG9zaXRpb24gJT5cIj4gPCUgJC5lYWNoKGl0ZW1zLCBmdW5jdGlvbihrZXksIGl0ZW0pIHsgJT4gPCUgaWYgKGl0ZW0udHlwZSA9PT0gXFwnbGlua1xcJykgeyAlPiA8bGk+PGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaHJlZj1cIjwlPSBpdGVtLnVybCAlPlwiPjwlPSBpdGVtLmNvbnRlbnQgJT48L2E+PC9saT4gPCUgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFxcJ2J1dHRvblxcJykgeyAlPiA8bGk+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiYnRuLWRyb3Bkb3duLTwlPSBpdGVtLmlkICU+XCI+IDwlPSBpdGVtLmNvbnRlbnQgJT4gPC9idXR0b24+IDwvbGk+IDwlIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSBcXCdkaXZpZGVyXFwnKSB7ICU+IDxsaT48aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+PC9saT4gPCUgfSAlPiA8JSB9KSAlPiA8L3VsPiA8L2Rpdj4nXG50cGxbJ2NvbnRyb2xzL2ZpbHRlcl9jbGVhci5odG1sJ10gPSAnIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIDwlLSBhdHRyICU+PjwlLSBjb250ZW50ICU+PC9idXR0b24+J1xudHBsWydjb250cm9scy9saW5rLmh0bWwnXSA9ICc8YSBocmVmPVwiPCUtIHVybCAlPlwiPCUtIGF0dHIgJT4+PCUtIGNvbnRlbnQgJT48L2E+J1xudHBsWydjb250cm9scy9wYWdlLWp1bXAuaHRtbCddID0gJyA8ZGl2IGNsYXNzPVwiY29yZXVpLXRhYmxlX19wYWdlX2p1bXBfY29udGFpbmVyXCI+IDxkaXYgPCUtIGF0dHIgJT4+IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYm9yZGVyLXNlY29uZGFyeS1zdWJ0bGVcIiBtaW49XCIxXCI+IDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJvcmRlci1zZWNvbmRhcnktc3VidGxlXCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImJpIGJpLWNoZXZyb24tY29tcGFjdC1yaWdodFwiPjwvaT4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4nXG50cGxbJ2NvbnRyb2xzL3BhZ2Utc2l6ZS5odG1sJ10gPSAnIDxzZWxlY3QgPCUtIGF0dHIgJT4+IDwlICQuZWFjaChyZWNvcmRzUGVyUGFnZUxpc3QsIGZ1bmN0aW9uKGtleSwgY291bnQpIHsgJT4gPG9wdGlvbiB2YWx1ZT1cIjwlPSBjb3VudCAlPlwiPCUgaWYgKHJlY29yZHNQZXJQYWdlID09IGNvdW50KSB7ICU+c2VsZWN0ZWQ8JSB9ICU+PiA8JSBpZiAoY291bnQgPT0gXFwnMFxcJykgeyAlPjwlPSBsYW5nLmFsbCAlPjwlIH0gZWxzZSB7ICU+PCU9IGNvdW50ICU+PCUgfSAlPiA8L29wdGlvbj4gPCUgfSk7ICU+IDwvc2VsZWN0PidcbnRwbFsnY29udHJvbHMvcGFnZXMuaHRtbCddID0gJyA8bmF2PiA8dWwgPCUtIGF0dHIgJT4+IDwlIGlmIChzaG93UHJldikgeyAlPiA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gY29yZXVpLXRhYmxlX19wYWdlX3ByZXYgPCUgaWYgKCAhIGlzQWN0aXZlUHJldikgeyAlPiBkaXNhYmxlZDwlIH0gJT5cIj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJwYWdlLWxpbmtcIj4gPGkgY2xhc3M9XCJiaSBiaS1jaGV2cm9uLWxlZnRcIj48L2k+IDwvYnV0dG9uPiA8L2xpPiA8JSB9ICU+IDwlIGlmIChzaG93UGFnZUZpcnN0KSB7ICU+IDxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInBhZ2UtbGluayBjb3JldWktdGFibGVfX3BhZ2VcIj4gMSA8L2J1dHRvbj4gPC9saT4gPCUgfSAlPiA8JSBpZiAoc2hvd0RpdmlkZXJTdGFydCkgeyAlPiA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gZGlzYWJsZWRcIj4gPHNwYW4gY2xhc3M9XCJwYWdlLWxpbmsgcHgtMVwiPi4uLjwvc3Bhbj4gPC9saT4gPCUgfSAlPiA8JSAkLmVhY2gocGFnZXMsIGZ1bmN0aW9uKGtleSwgcGFnZSkgeyAlPiA8JSBpZiAocGFnZSA9PSBjdXJyZW50UGFnZSkgeyAlPiA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gYWN0aXZlXCI+IDxzcGFuIGNsYXNzPVwicGFnZS1saW5rXCI+PCU9IHBhZ2UgJT48L3NwYW4+IDwvbGk+IDwlIH0gZWxzZSB7ICU+IDxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInBhZ2UtbGluayBjb3JldWktdGFibGVfX3BhZ2VcIj4gPCU9IHBhZ2UgJT4gPC9idXR0b24+IDwvbGk+IDwlIH0gJT4gPCUgfSk7ICU+IDwlIGlmIChzaG93RGl2aWRlckVuZCkgeyAlPiA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gZGlzYWJsZWRcIj4gPHNwYW4gY2xhc3M9XCJwYWdlLWxpbmsgcHgtMVwiPi4uLjwvc3Bhbj4gPC9saT4gPCUgfSAlPiA8JSBpZiAoc2hvd1BhZ2VMYXN0KSB7ICU+IDxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInBhZ2UtbGluayBjb3JldWktdGFibGVfX3BhZ2VcIj4gPCU9IHBhZ2VzVG90YWwgJT4gPC9idXR0b24+IDwvbGk+IDwlIH0gJT4gPCUgaWYgKHNob3dOZXh0KSB7ICU+IDxsaSBjbGFzcz1cInBhZ2UtaXRlbSBjb3JldWktdGFibGVfX3BhZ2VfbmV4dDwlIGlmICggISBpc0FjdGl2ZU5leHQpIHsgJT4gZGlzYWJsZWQ8JSB9ICU+XCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicGFnZS1saW5rXCI+IDxpIGNsYXNzPVwiYmkgYmktY2hldnJvbi1yaWdodFwiPjwvaT4gPC9idXR0b24+IDwvbGk+IDwlIH0gJT4gPC91bD4gPC9uYXY+J1xudHBsWydjb250cm9scy9zZWFyY2gtY2xlYXIuaHRtbCddID0gJyA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiA8JS0gYXR0ciAlPj4gPCUtIGNvbnRlbnQgJT4gPC9idXR0b24+ICdcbnRwbFsnY29udHJvbHMvc2VhcmNoLWNvbnRhaW5lci5odG1sJ10gPSAnIDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX3NlYXJjaCBweC0zIHB0LTMgcGItNFwiPiA8ZGl2IGNsYXNzPVwibWItM1wiPiA8JSAkLmVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGtleSwgY29udHJvbCkgeyAlPiA8ZGl2IGNsYXNzPVwibWItMiBkLWZsZXggZmxleC1jb2x1bW4gZmxleC1tZC1yb3cgXCI+IDxsYWJlbCBjbGFzcz1cImNvbC1mb3JtLWxhYmVsIGZ3LW1lZGl1bSB0ZXh0LXN0YXJ0IHRleHQtbWQtZW5kIHBlLTJcIiBzdHlsZT1cIm1pbi13aWR0aDo8JT0gbGFiZWxXaWR0aCAlPjt3aWR0aDo8JT0gbGFiZWxXaWR0aCAlPlwiPiA8JT0gY29udHJvbC5sYWJlbCAlPiA8JSBpZiAoY29udHJvbC5kZXNjcmlwdGlvbikgeyAlPiA8ZGl2IGNsYXNzPVwidGV4dC1tdXRlZCBmdy1ub3JtYWxcIj4gPHNtYWxsPjwlPSBjb250cm9sLmRlc2NyaXB0aW9uICU+PC9zbWFsbD4gPC9kaXY+IDwlIH0gJT4gPC9sYWJlbD4gPGRpdiBjbGFzcz1cImZsZXgtZmlsbCBzZWFyY2gtY29udHJvbC08JT0gY29udHJvbC5pZCAlPlwiPiA8JS0gY29udHJvbC5jb250ZW50ICU+IDwlIGlmIChjb250cm9sLnByZWZpeCkgeyAlPiA8JT0gY29udHJvbC5wcmVmaXggJT4gPCUgfSAlPiA8L2Rpdj4gPC9kaXY+IDwlIH0pOyAlPiA8L2Rpdj4gPGRpdiBjbGFzcz1cImQtZmxleCBmbGV4LXNtLXdyYXAgZmxleC1tZC1ub3dyYXBcIj4gPGRpdiBjbGFzcz1cImQtbm9uZSBkLW1kLWJsb2NrXCIgc3R5bGU9XCJ3aWR0aDo8JT0gbGFiZWxXaWR0aCAlPjttaW4td2lkdGg6PCU9IGxhYmVsV2lkdGggJT5cIj48L2Rpdj4gPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtc3RhcnQgZmxleC13cmFwIGdhcC0yXCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIDwlLSBidG5Db21wbGV0ZUF0dHIgJT4+IDwlLSBidG5Db21wbGV0ZUNvbnRlbnQgJT4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+J1xudHBsWydjb250cm9scy9zZWFyY2guaHRtbCddID0gJzxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI8JS0gYnRuQXR0ciAlPj48JS0gYnRuQ29udGVudCAlPjwvYnV0dG9uPiA8JS0gYnRuQ2xlYXIgJT4gPC9kaXY+ICdcbnRwbFsnY29udHJvbHMvdG90YWwuaHRtbCddID0gJzxkaXYgPCUtIGF0dHIgJT4+IDxzbWFsbD48JT0gbGFuZy50b3RhbCAlPjogPHNwYW4gY2xhc3M9XCJjb3JldWktdGFibGVfX2NvdW50LXRvdGFsXCI+PCU9IHJlY29yZHNUb3RhbCAlPjwvc3Bhbj48L3NtYWxsPiA8L2Rpdj4nXG50cGxbJ2ZpbHRlcnMvY2hlY2tib3guaHRtbCddID0gJyA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+IDwlIGlmIChsYWJlbCkgeyAlPiA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48JT0gbGFiZWwgJT48L3NwYW4+IDwlIH0gJT4gPCUgJC5lYWNoKGl0ZW1zLCBmdW5jdGlvbihrZXksIGl0ZW0pIHsgJT4gPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiYnRuLWNoZWNrXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgaWQ9XCI8JT0gKGZpZWxkICsga2V5KSAlPlwiIG5hbWU9XCI8JT0gZmllbGQgJT5cIiB2YWx1ZT1cIjwlPSBpdGVtLnZhbHVlICU+XCIgPCU9IGl0ZW0uY2hlY2tlZCA/IFxcJyBjaGVja2VkXFwnIDogXFwnXFwnICU+PiA8bGFiZWwgY2xhc3M9XCI8JT0gaXRlbS5jbGFzcyAlPlwiIGZvcj1cIjwlPSAoZmllbGQgKyBrZXkpICU+XCI+PCU9IGl0ZW0udGV4dCAlPjwvbGFiZWw+IDwlIH0pOyAlPiA8L2Rpdj4nXG50cGxbJ2ZpbHRlcnMvZGF0ZV9tb250aC5odG1sJ10gPSAnIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPiA8JSBpZiAobGFiZWwpIHsgJT4gPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+PCU9IGxhYmVsICU+PC9zcGFuPiA8JSB9ICU+IDxpbnB1dCB0eXBlPVwibW9udGhcIiA8JS0gYXR0ciAlPj4gPC9kaXY+J1xudHBsWydmaWx0ZXJzL2RhdGVfcmFuZ2UuaHRtbCddID0gJyA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj4gPCUgaWYgKGxhYmVsKSB7ICU+IDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPjwlPSBsYWJlbCAlPjwvc3Bhbj4gPCUgfSAlPiA8aW5wdXQgdHlwZT1cImRhdGVcIiA8JS0gc3RhcnRBdHRyICU+PiA8aW5wdXQgdHlwZT1cImRhdGVcIiA8JS0gZW5kQXR0ciAlPj4gPC9kaXY+J1xudHBsWydmaWx0ZXJzL2RhdGUuaHRtbCddID0gJyA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj4gPCUgaWYgKGxhYmVsKSB7ICU+IDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPjwlPSBsYWJlbCAlPjwvc3Bhbj4gPCUgfSAlPiA8aW5wdXQgdHlwZT1cImRhdGVcIiA8JS0gYXR0ciAlPj4gPC9kaXY+J1xudHBsWydmaWx0ZXJzL2RhdGV0aW1lX3JhbmdlLmh0bWwnXSA9ICcgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+IDwlIGlmIChsYWJlbCkgeyAlPiA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48JT0gbGFiZWwgJT48L3NwYW4+IDwlIH0gJT4gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIDwlLSBzdGFydEF0dHIgJT4+IDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiA8JS0gZW5kQXR0ciAlPj4gPC9kaXY+J1xudHBsWydmaWx0ZXJzL2RhdGV0aW1lLmh0bWwnXSA9ICcgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+IDwlIGlmIChsYWJlbCkgeyAlPiA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48JT0gbGFiZWwgJT48L3NwYW4+IDwlIH0gJT4gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIDwlLSBhdHRyICU+PiA8L2Rpdj4nXG50cGxbJ2ZpbHRlcnMvbnVtYmVyLmh0bWwnXSA9ICcgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+IDwlIGlmIChsYWJlbCkgeyAlPiA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48JT0gbGFiZWwgJT48L3NwYW4+IDwlIH0gJT4gPGlucHV0IHR5cGU9XCJudW1iZXJcIiA8JS0gYXR0clN0YXJ0ICU+PiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIDwlLSBhdHRyRW5kICU+PiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiA8JS0gYnRuQXR0ciAlPj4gPCUtIGJ0bkNvbnRlbnQgJT4gPC9idXR0b24+IDwvZGl2PidcbnRwbFsnZmlsdGVycy9yYWRpby5odG1sJ10gPSAnIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj4gPCUgaWYgKGxhYmVsKSB7ICU+IDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPjwlPSBsYWJlbCAlPjwvc3Bhbj4gPCUgfSAlPiA8JSAkLmVhY2goaXRlbXMsIGZ1bmN0aW9uKGtleSwgaXRlbSkgeyAlPiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgY2xhc3M9XCJidG4tY2hlY2tcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBpZD1cIjwlPSAoZmllbGQgKyBrZXkpICU+XCIgbmFtZT1cIjwlPSBmaWVsZCAlPlwiIHZhbHVlPVwiPCU9IGl0ZW0udmFsdWUgJT5cIiA8JT0gaXRlbS5jaGVja2VkID8gXFwnIGNoZWNrZWRcXCcgOiBcXCdcXCcgJT4+IDxsYWJlbCBjbGFzcz1cIjwlPSBpdGVtLmNsYXNzICU+XCIgZm9yPVwiPCU9IChmaWVsZCArIGtleSkgJT5cIj48JT0gaXRlbS50ZXh0ICU+PC9sYWJlbD4gPCUgfSk7ICU+IDwvZGl2PidcbnRwbFsnZmlsdGVycy9zZWxlY3QuaHRtbCddID0gJzxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cCBmbGV4LW5vd3JhcFwiPiA8JSBpZiAobGFiZWwpIHsgJT4gPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+PCU9IGxhYmVsICU+PC9zcGFuPiA8JSB9ICU+IDxzZWxlY3QgPCUtIGF0dHIgJT4+IDxvcHRpb24+LS08L29wdGlvbj4gPCUgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSwgb3B0aW9uKSB7ICU+IDwlIGlmIChvcHRpb24udHlwZSA9PT0gXFwnZ3JvdXBcXCcpIHsgJT4gPG9wdGdyb3VwPCUtIG9wdGlvbi5hdHRyICU+Lz4gPCUgJC5lYWNoKG9wdGlvbi5vcHRpb25zLCBmdW5jdGlvbihrZXksIGdyb3VwT3B0aW9uKSB7ICU+IDxvcHRpb24gPCUtIGdyb3VwT3B0aW9uLmF0dHIgJT4vPjwlPSBncm91cE9wdGlvbi50ZXh0ICU+PC9vcHRpb24+IDwlIH0pOyAlPiA8L29wdGdyb3VwPiA8JSB9IGVsc2UgeyAlPiA8b3B0aW9uIDwlLSBvcHRpb24uYXR0ciAlPi8+PCU9IG9wdGlvbi50ZXh0ICU+PC9vcHRpb24+IDwlIH0gJT4gPCUgfSk7ICU+IDwvc2VsZWN0PiA8L2Rpdj4nXG50cGxbJ2ZpbHRlcnMvc3dpdGNoLmh0bWwnXSA9ICc8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBmb3JtLXN3aXRjaFwiPiA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCI8JT0gKGZpZWxkICsgaWQpICU+XCIgbmFtZT1cIjwlPSBmaWVsZCAlPlwiIHZhbHVlPVwiPCU9IHZhbHVlWSAlPlwiIDwlPSBjaGVja2VkID8gXFwnIGNoZWNrZWRcXCcgOiBcXCdcXCcgJT4+IDwlIGlmIChsYWJlbCAhPSBcXCdcXCcpIHsgJT4gPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cIjwlPSAoZmllbGQgKyBpZCkgJT5cIj48JT0gbGFiZWwgJT48L2xhYmVsPiA8JSB9ICU+IDwvZGl2PidcbnRwbFsnZmlsdGVycy90ZXh0Lmh0bWwnXSA9ICcgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+IDwlIGlmIChsYWJlbCkgeyAlPiA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48JT0gbGFiZWwgJT48L3NwYW4+IDwlIH0gJT4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgPCUtIGF0dHIgJT4+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIDwlLSBidG5BdHRyICU+PiA8JS0gYnRuQ29udGVudCAlPiA8L2J1dHRvbj4gPC9kaXY+J1xudHBsWydzZWFyY2gvY2hlY2tib3guaHRtbCddID0gJyA8ZGl2IGNsYXNzPVwicHQtMlwiPiA8JSAkLmVhY2gob3B0aW9ucywgZnVuY3Rpb24oa2V5LCBvcHRpb24pIHsgJT4gPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj4gPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbCBjb3JldWktdGFibGVfcG9pbnRlclwiPiA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIjwlPSBmaWVsZCAlPlwiIHZhbHVlPVwiPCUtIG9wdGlvbi52YWx1ZSAlPlwiIDwlPSBvcHRpb24uY2hlY2tlZCA/IFxcJyBjaGVja2VkXFwnIDogXFwnXFwnICU+PiA8JT0gb3B0aW9uLnRleHQgJT4gPC9sYWJlbD4gPC9kaXY+IDwlIH0pOyAlPiA8L2Rpdj4nXG50cGxbJ3NlYXJjaC9kYXRlX21vbnRoLmh0bWwnXSA9ICcgPGlucHV0IHR5cGU9XCJtb250aFwiIDwlLSBhdHRyICU+PidcbnRwbFsnc2VhcmNoL2RhdGVfcmFuZ2UuaHRtbCddID0gJyA8aW5wdXQgdHlwZT1cImRhdGVcIiA8JS0gc3RhcnRBdHRyICU+PiA8aW5wdXQgdHlwZT1cImRhdGVcIiA8JS0gZW5kQXR0ciAlPj4nXG50cGxbJ3NlYXJjaC9kYXRlLmh0bWwnXSA9ICcgPGlucHV0IHR5cGU9XCJkYXRlXCIgPCUtIGF0dHIgJT4+J1xudHBsWydzZWFyY2gvZGF0ZXRpbWVfcmFuZ2UuaHRtbCddID0gJyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgPCUtIHN0YXJ0QXR0ciAlPj4gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIDwlLSBlbmRBdHRyICU+PidcbnRwbFsnc2VhcmNoL2RhdGV0aW1lLmh0bWwnXSA9ICcgPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIDwlLSBhdHRyICU+PidcbnRwbFsnc2VhcmNoL251bWJlci5odG1sJ10gPSAnIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgPCUtIHN0YXJ0QXR0ciAlPj4gPGlucHV0IHR5cGU9XCJudW1iZXJcIiA8JS0gZW5kQXR0ciAlPj4nXG50cGxbJ3NlYXJjaC9yYWRpby5odG1sJ10gPSAnPGRpdiBjbGFzcz1cInB0LTJcIj4gPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj4gPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbCBjb3JldWktdGFibGVfcG9pbnRlclwiPiA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cInJhZGlvXCIgbmFtZT1cIjwlPSBmaWVsZCAlPlwiIHZhbHVlPVwiXCI8JT0gY2hlY2tlZEFsbCA/IFxcJyBjaGVja2VkXFwnIDogXFwnXFwnICU+PiA8JT0gbGFuZy5hbGwgJT4gPC9sYWJlbD4gPC9kaXY+IDwlICQuZWFjaChvcHRpb25zLCBmdW5jdGlvbihrZXksIG9wdGlvbikgeyAlPiA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPiA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsIGNvcmV1aS10YWJsZV9wb2ludGVyXCI+IDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwicmFkaW9cIiBuYW1lPVwiPCU9IGZpZWxkICU+XCIgdmFsdWU9XCI8JS0gb3B0aW9uLnZhbHVlICU+XCIgPCU9IG9wdGlvbi5jaGVja2VkID8gXFwnIGNoZWNrZWRcXCcgOiBcXCdcXCcgJT4+IDwlPSBvcHRpb24udGV4dCAlPiA8L2xhYmVsPiA8L2Rpdj4gPCUgfSk7ICU+IDwvZGl2PidcbnRwbFsnc2VhcmNoL3NlbGVjdC5odG1sJ10gPSAnIDxzZWxlY3QgPCUtIGF0dHIgJT4+IDxvcHRpb24+LS08L29wdGlvbj4gPCUgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSwgb3B0aW9uKSB7ICU+IDwlIGlmIChvcHRpb24udHlwZSA9PT0gXFwnZ3JvdXBcXCcpIHsgJT4gPG9wdGdyb3VwPCUtIG9wdGlvbi5hdHRyICU+Lz4gPCUgJC5lYWNoKG9wdGlvbi5vcHRpb25zLCBmdW5jdGlvbihrZXksIGdyb3VwT3B0aW9uKSB7ICU+IDxvcHRpb24gPCUtIGdyb3VwT3B0aW9uLmF0dHIgJT4vPjwlPSBncm91cE9wdGlvbi50ZXh0ICU+PC9vcHRpb24+IDwlIH0pOyAlPiA8L29wdGdyb3VwPiA8JSB9IGVsc2UgeyAlPiA8b3B0aW9uIDwlLSBvcHRpb24uYXR0ciAlPi8+PCU9IG9wdGlvbi50ZXh0ICU+PC9vcHRpb24+IDwlIH0gJT4gPCUgfSk7ICU+IDwvc2VsZWN0PidcbnRwbFsnc2VhcmNoL3N3aXRjaC5odG1sJ10gPSAnPGRpdiBjbGFzcz1cImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2ggcHQtMlwiPiA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCI8JT0gKGZpZWxkICsgaWQpICU+XCIgbmFtZT1cIjwlPSBmaWVsZCAlPlwiIHZhbHVlPVwiPCU9IHZhbHVlWSAlPlwiIDwlPSBjaGVja2VkID8gXFwnIGNoZWNrZWRcXCcgOiBcXCdcXCcgJT4+IDwvZGl2PidcbnRwbFsnc2VhcmNoL3RleHQuaHRtbCddID0gJyA8aW5wdXQgdHlwZT1cInRleHRcIiA8JS0gYXR0ciAlPj4nXG50cGxbJ3RhYmxlLWNvbHVtbnMtZm9vdGVyLmh0bWwnXSA9ICc8dHI+IDwlICQuZWFjaChjb2x1bW5zLCBmdW5jdGlvbihrZXksIGNvbHVtbikgeyAlPiA8dGQ8JS0gY29sdW1uLmF0dHIlPj48JS0gY29sdW1uLmNvbnRlbnQgJT48L3RkPiA8JSB9KTsgJT4gPC90cj4nXG50cGxbJ3RhYmxlLWNvbHVtbnMtaGVhZGVyLmh0bWwnXSA9ICc8dHIgY2xhc3M9XCJmdy1tZWRpdW0gYmctd2hpdGVcIj4gPCUgJC5lYWNoKGNvbHVtbnMsIGZ1bmN0aW9uKGtleSwgY29sdW1uKSB7ICU+IDx0ZDwlLSBjb2x1bW4uYXR0ciU+PjwlLSBjb2x1bW4uY29udGVudCAlPjwvdGQ+IDwlIH0pOyAlPiA8L3RyPidcbnRwbFsndGFibGUtY29sdW1ucy5odG1sJ10gPSAnPHRyIGNsYXNzPVwiZnctbWVkaXVtIGJnLXdoaXRlXCI+IDwlICQuZWFjaChjb2x1bW5zLCBmdW5jdGlvbihrZXksIGNvbHVtbikgeyAlPiA8dGQ8JS0gY29sdW1uLmF0dHIlPj4gPHNwYW4gY2xhc3M9XCJjb3JldWktdGFibGVfX2NvbHVtbi1sYWJlbFwiPjwlLSBjb2x1bW4ubGFiZWwgJT48L3NwYW4+IDwlIGlmIChjb2x1bW4uZGVzY3JpcHRpb24pIHsgJT4gPHNtYWxsIGNsYXNzPVwiY29yZXVpLXRhYmxlX19jb2x1bW4tZGVzY3JpcHRpb24gYmkgYmktcXVlc3Rpb24tY2lyY2xlIHRleHQtYm9keS1zZWNvbmRhcnlcIiB0aXRsZT1cIjwlPSBjb2x1bW4uZGVzY3JpcHRpb24gJT5cIj48L3NtYWxsPiA8JSB9ICU+IDwlIGlmIChjb2x1bW4uc29ydGFibGUgPT09IFxcJ2FzY1xcJykgeyAlPiA8aSBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29sdW1uLXNvcnQgYmkgYmktc29ydC1kb3duLWFsdFwiPjwvaT4gPCUgfSBlbHNlIGlmIChjb2x1bW4uc29ydGFibGUgPT09IFxcJ2Rlc2NcXCcpIHsgJT4gPGkgY2xhc3M9XCJjb3JldWktdGFibGVfX2NvbHVtbi1zb3J0IGJpIGJpLXNvcnQtZG93blwiPjwvaT4gPCUgfSAlPiA8L3RkPiA8JSB9KTsgJT4gPC90cj4nXG50cGxbJ3RhYmxlLWNvbnRyb2wuaHRtbCddID0gJzxkaXYgaWQ9XCJjb3JldWktdGFibGUtY29udHJvbC08JT0gaWQgJT5cIiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udHJvbFwiPjwvZGl2PidcbnRwbFsndGFibGUtY29udHJvbHMtZm9vdGVyLW91dC5odG1sJ10gPSAnIDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX2Zvb3RlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj4gPCUgaWYgKGNvbnRyb2xzTGVmdC5sZW5ndGgpIHsgJT4gPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udHJvbHMgY29yZXVpLXRhYmxlX19jb250cm9sc19sZWZ0IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtc3RhcnQgZ2FwLTIgZmxleC13cmFwIGZsZXgtZmlsbCBtYi0xIG10LTIgYWxpZ24taXRlbXMtY2VudGVyXCI+PC9kaXY+IDwlIH0gJT4gPCUgaWYgKGNvbnRyb2xzQ2VudGVyLmxlbmd0aCkgeyAlPiA8ZGl2IGNsYXNzPVwiY29yZXVpLXRhYmxlX19jb250cm9scyBjb3JldWktdGFibGVfX2NvbnRyb2xzX2NlbnRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBnYXAtMiBmbGV4LXdyYXAgZmxleC1maWxsIG1iLTEgbXQtMiBhbGlnbi1pdGVtcy1jZW50ZXJcIj48L2Rpdj4gPCUgfSAlPiA8JSBpZiAoY29udHJvbHNSaWdodC5sZW5ndGgpIHsgJT4gPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udHJvbHMgY29yZXVpLXRhYmxlX19jb250cm9sc19yaWdodCBkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZCBnYXAtMiBmbGV4LXdyYXAgZmxleC1maWxsIG1iLTEgbXQtMiBhbGlnbi1pdGVtcy1jZW50ZXJcIj48L2Rpdj4gPCUgfSAlPiA8L2Rpdj4nXG50cGxbJ3RhYmxlLWNvbnRyb2xzLWZvb3Rlci5odG1sJ10gPSAnIDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX2Zvb3RlciBwcy0xIHBlLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGJvcmRlci10b3AgYm9yZGVyLXNlY29uZGFyeS1zdWJ0bGVcIj4gPCUgaWYgKGNvbnRyb2xzTGVmdC5sZW5ndGgpIHsgJT4gPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udHJvbHMgY29yZXVpLXRhYmxlX19jb250cm9sc19sZWZ0IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtc3RhcnQgZ2FwLTIgZmxleC13cmFwIGZsZXgtZmlsbCBtYi0xIG10LTEgYWxpZ24taXRlbXMtY2VudGVyXCI+PC9kaXY+IDwlIH0gJT4gPCUgaWYgKGNvbnRyb2xzQ2VudGVyLmxlbmd0aCkgeyAlPiA8ZGl2IGNsYXNzPVwiY29yZXVpLXRhYmxlX19jb250cm9scyBjb3JldWktdGFibGVfX2NvbnRyb2xzX2NlbnRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBnYXAtMiBmbGV4LXdyYXAgZmxleC1maWxsIG1iLTEgbXQtMSBhbGlnbi1pdGVtcy1jZW50ZXJcIj48L2Rpdj4gPCUgfSAlPiA8JSBpZiAoY29udHJvbHNSaWdodC5sZW5ndGgpIHsgJT4gPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udHJvbHMgY29yZXVpLXRhYmxlX19jb250cm9sc19yaWdodCBkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZCBnYXAtMiBmbGV4LXdyYXAgZmxleC1maWxsIG1iLTEgbXQtMSBhbGlnbi1pdGVtcy1jZW50ZXJcIj48L2Rpdj4gPCUgfSAlPiA8L2Rpdj4nXG50cGxbJ3RhYmxlLWNvbnRyb2xzLWhlYWRlci1vdXQuaHRtbCddID0gJyA8ZGl2IGNsYXNzPVwiY29yZXVpLXRhYmxlX19oZWFkZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+IDwlIGlmIChjb250cm9sc0xlZnQubGVuZ3RoKSB7ICU+IDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX2NvbnRyb2xzIGNvcmV1aS10YWJsZV9fY29udHJvbHNfbGVmdCBkLWZsZXgganVzdGlmeS1jb250ZW50LXN0YXJ0IGdhcC0yIGZsZXgtd3JhcCBmbGV4LWZpbGwgbWItMiBtdC0xIGFsaWduLWl0ZW1zLWNlbnRlclwiPjwvZGl2PiA8JSB9ICU+IDwlIGlmIChjb250cm9sc0NlbnRlci5sZW5ndGgpIHsgJT4gPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udHJvbHMgY29yZXVpLXRhYmxlX19jb250cm9sc19jZW50ZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgZ2FwLTIgZmxleC13cmFwIGZsZXgtZmlsbCBtYi0yIG10LTEgYWxpZ24taXRlbXMtY2VudGVyXCI+PC9kaXY+IDwlIH0gJT4gPCUgaWYgKGNvbnRyb2xzUmlnaHQubGVuZ3RoKSB7ICU+IDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX2NvbnRyb2xzIGNvcmV1aS10YWJsZV9fY29udHJvbHNfcmlnaHQgZC1mbGV4IGp1c3RpZnktY29udGVudC1lbmQgZ2FwLTIgZmxleC13cmFwIGZsZXgtZmlsbCBtYi0yIG10LTEgYWxpZ24taXRlbXMtY2VudGVyXCI+PC9kaXY+IDwlIH0gJT4gPC9kaXY+J1xudHBsWyd0YWJsZS1jb250cm9scy1oZWFkZXIuaHRtbCddID0gJyA8ZGl2IGNsYXNzPVwiY29yZXVpLXRhYmxlX19oZWFkZXIgcHMtMSBwZS0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBib3JkZXItYm90dG9tIGJvcmRlci1zZWNvbmRhcnktc3VidGxlXCI+IDwlIGlmIChjb250cm9sc0xlZnQubGVuZ3RoKSB7ICU+IDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX2NvbnRyb2xzIGNvcmV1aS10YWJsZV9fY29udHJvbHNfbGVmdCBkLWZsZXgganVzdGlmeS1jb250ZW50LXN0YXJ0IGdhcC0yIGZsZXgtd3JhcCBmbGV4LWZpbGwgbXktMSBhbGlnbi1pdGVtcy1jZW50ZXJcIj48L2Rpdj4gPCUgfSAlPiA8JSBpZiAoY29udHJvbHNDZW50ZXIubGVuZ3RoKSB7ICU+IDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX2NvbnRyb2xzIGNvcmV1aS10YWJsZV9fY29udHJvbHNfY2VudGVyIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGdhcC0yIGZsZXgtd3JhcCBmbGV4LWZpbGwgbXktMSBhbGlnbi1pdGVtcy1jZW50ZXJcIj48L2Rpdj4gPCUgfSAlPiA8JSBpZiAoY29udHJvbHNSaWdodC5sZW5ndGgpIHsgJT4gPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udHJvbHMgY29yZXVpLXRhYmxlX19jb250cm9sc19yaWdodCBkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZCBnYXAtMiBmbGV4LXdyYXAgZmxleC1maWxsIG15LTEgYWxpZ24taXRlbXMtY2VudGVyXCI+PC9kaXY+IDwlIH0gJT4gPC9kaXY+J1xudHBsWyd0YWJsZS1sb2FkZXIuaHRtbCddID0gJzxkaXYgY2xhc3M9XCJjb3JldWktdGFibGUtbG9jayBwb3NpdGlvbi1hYnNvbHV0ZSB3LTEwMCB0b3AtMCBib3R0b20tMFwiPiA8ZGl2IGNsYXNzPVwiY29yZXVpLXRhYmxlLWJsb2NrIGJnLXNlY29uZGFyeS1zdWJ0bGUgcG9zaXRpb24tYWJzb2x1dGUgb3BhY2l0eS01MCB3LTEwMCB0b3AtMCBib3R0b20tMFwiPjwvZGl2PiA8ZGl2IGNsYXNzPVwiY29yZXVpLXRhYmxlLW1lc3NhZ2UgcG9zaXRpb24tcmVsYXRpdmUgZC1mbGV4IGFsaWduLWNvbnRlbnQtY2VudGVyIGp1c3RpZnktY29udGVudC1zdGFydCBnYXAtMiBtdC0zIHB5LTEgcHgtMiBtLWF1dG8gYm9yZGVyIGJvcmRlci1zZWNvbmRhcnktc3VidGxlIHJvdW5kZWQtMyBiZy1ib2R5LXNlY29uZGFyeVwiPiA8ZGl2IGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgdGV4dC1zZWNvbmRhcnkgYWxpZ24tc2VsZi1jZW50ZXJcIj48L2Rpdj4gPHNwYW4gY2xhc3M9XCJsaC1sZ1wiPjwlPSBsYW5nLmxvYWRpbmcgJT48L3NwYW4+IDwvZGl2PiA8L2Rpdj4nXG50cGxbJ3RhYmxlLXJlY29yZC1leHBhbmQuaHRtbCddID0gJzx0ciBjbGFzcz1cImNvcmV1aS10YWJsZV9fcmVjb3JkLWV4cGFuZGVkXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+IDx0ZCBjb2xzcGFuPVwiPCU9IGNvbHNwYW4gJT5cIj48L3RkPiA8L3RyPidcbnRwbFsndGFibGUtcmVjb3JkLWdyb3VwLmh0bWwnXSA9ICc8dHI8JS0gYXR0ciAlPj4gPHRkIGNvbHNwYW49XCI8JT0gY29sc3BhbiAlPlwiPjwvdGQ+IDwvdHI+J1xudHBsWyd0YWJsZS1yZWNvcmQuaHRtbCddID0gJzx0cjwlLSByZWNvcmQuYXR0ciAlPiBkYXRhLXJlY29yZC1pbmRleD1cIjwlPSByZWNvcmQuaW5kZXggJT5cIj4gPCUgJC5lYWNoKHJlY29yZC5maWVsZHMsIGZ1bmN0aW9uKGtleTIsIGZpZWxkKSB7ICU+IDx0ZDwlLSBmaWVsZC5hdHRyICU+PjwvdGQ+IDwlIH0pOyAlPiA8L3RyPidcbnRwbFsndGFibGUtcmVjb3Jkcy1lbXB0eS5odG1sJ10gPSAnPHRyPiA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiIGNvbHNwYW49XCI8JT0gY29sdW1uc0NvdW50ICU+XCI+PCU9IGxhbmcuZW1wdHlSZWNvcmRzICU+PC90ZD4gPC90cj4nXG50cGxbJ3RhYmxlLXdyYXBwZXIuaHRtbCddID0gJyA8ZGl2IGlkPVwiY29yZXVpLXRhYmxlLTwlPSBpZCAlPlwiIGNsYXNzPVwiY29yZXVpLXRhYmxlPCU9IGNsYXNzZXMgJT5cIjwlIGlmICh3aWR0aFNpemVzKSB7ICU+IHN0eWxlPVwiPCU9IHdpZHRoU2l6ZXMuam9pbihcXCc7XFwnKSAlPlwiPCUgfSAlPj4gPGRpdiBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29udGFpbmVyIHBvc2l0aW9uLXJlbGF0aXZlXCI+IDxkaXYgY2xhc3M9XCJjb3JldWktdGFibGVfX3dyYXBwZXI8JSBpZiAob3ZlcmZsb3cpIHsgJT4gb3ZlcmZsb3cteC1hdXRvPCUgfSAlPlwiIDwlIGlmIChoZWlnaHRTaXplcykgeyAlPnN0eWxlPVwiPCU9IGhlaWdodFNpemVzLmpvaW4oXFwnO1xcJykgJT5cIjwlIH0gJT4+PC9kaXY+IDwvZGl2PiA8L2Rpdj4nXG50cGxbJ3RhYmxlLmh0bWwnXSA9ICcgPHRhYmxlIGNsYXNzPVwidGFibGUgPCU9IGNsYXNzZXMgJT4gbWItMFwiPiA8Y29sZ3JvdXA+IDwlICQuZWFjaChjb2xHcm91cHMsIGZ1bmN0aW9uKGtleSwgY29sdW1uR3JvdXApIHsgJT4gPGNvbDwlIGlmIChjb2x1bW5Hcm91cC5zdHlsZSkgeyAlPiBzdHlsZT1cIjwlPSBjb2x1bW5Hcm91cC5zdHlsZSAlPlwiPCUgfSAlPi8+IDwlIH0pOyAlPiA8L2NvbGdyb3VwPiA8JSBpZiAoc2hvd0hlYWRlcnMpIHsgJT4gPHRoZWFkPCUgaWYgKHRoZWFkQXR0cikgeyAlPiA8JS0gdGhlYWRBdHRyICU+XCI8JSB9ICU+PiA8JS0gY29sdW1uc0hlYWRlciAlPiA8JS0gY29sdW1ucyAlPiA8L3RoZWFkPiA8JSB9ICU+IDx0Ym9keT48L3Rib2R5PiA8JSBpZiAoY29sdW1uc0Zvb3RlciAhPSBcXCdcXCcpIHsgJT4gPHRmb290PiA8JS0gY29sdW1uc0Zvb3RlciAlPiA8L3Rmb290PiA8JSB9ICU+IDwvdGFibGU+JztcbmV4cG9ydCBkZWZhdWx0IHRwbDsiLCJcclxubGV0IGNvcmV1aVRhYmxlVXRpbHMgPSB7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J7QsdGK0LXQtNC40L3QtdC90LjQtSDQsNGC0YDQuNCx0YPRgtC+0LJcclxuICAgICAqIEBwYXJhbSBhdHRyMVxyXG4gICAgICogQHBhcmFtIGF0dHIyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBtZXJnZUF0dHI6IGZ1bmN0aW9uIChhdHRyMSwgYXR0cjIpIHtcclxuXHJcbiAgICAgICAgbGV0IG1lcmdlQXR0ciA9IE9iamVjdC5hc3NpZ24oe30sIGF0dHIxKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyMiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgJC5lYWNoKGF0dHIyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtZXJnZUF0dHIuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUF0dHJbbmFtZV0gKz0gJyAnICsgdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUF0dHJbbmFtZV0gKz0gJzsnICsgdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlQXR0cltuYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlQXR0cltuYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBtZXJnZUF0dHI7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0YDQvtCy0LXRgNC60LAg0L3QsCDRh9C40YHQu9C+XHJcbiAgICAgKiBAcGFyYW0gbnVtXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGlzTnVtZXJpYzogZnVuY3Rpb24obnVtKSB7XHJcbiAgICAgICAgcmV0dXJuICh0eXBlb2YobnVtKSA9PT0gJ251bWJlcicgfHwgdHlwZW9mKG51bSkgPT09IFwic3RyaW5nXCIgJiYgbnVtLnRyaW0oKSAhPT0gJycpICYmICEgaXNOYU4obnVtKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGhhc2hDb2RlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmMzMigobmV3IERhdGUoKS5nZXRUaW1lKCkgKyBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpKS50b1N0cmluZygxNik7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0YDQvtCy0LXRgNC60LAg0L3QsCDQvtCx0YrQtdC60YJcclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBpc09iamVjdDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgICAgICEgQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiZcclxuICAgICAgICAgICAgdmFsdWUgIT09IG51bGw7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBzdHJcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBjcmMzMjogZnVuY3Rpb24gKHN0cikge1xyXG5cclxuICAgICAgICBmb3IgKHZhciBhLCBvID0gW10sIGMgPSAwOyBjIDwgMjU2OyBjKyspIHtcclxuICAgICAgICAgICAgYSA9IGM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgODsgZisrKSB7XHJcbiAgICAgICAgICAgICAgICBhID0gMSAmIGEgPyAzOTg4MjkyMzg0IF4gYSA+Pj4gMSA6IGEgPj4+IDFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvW2NdID0gYVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgbiA9IC0xLCB0ID0gMDsgdCA8IHN0ci5sZW5ndGg7IHQrKykge1xyXG4gICAgICAgICAgICBuID0gbiA+Pj4gOCBeIG9bMjU1ICYgKG4gXiBzdHIuY2hhckNvZGVBdCh0KSldXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKC0xIF4gbikgPj4+IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb3JldWlUYWJsZVV0aWxzOyIsIlxyXG5cclxuaW1wb3J0ICcuLi8uLi9ub2RlX21vZHVsZXMvZWpzL2Vqcy5taW4nO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tICcuL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXMnO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuXHJcblxyXG5sZXQgY29yZXVpVGFibGVSZW5kZXIgPSB7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KHQsdC+0YDQutCwINGC0LDQsdC70LjRhtGLXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGVcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHJlbmRlclRhYmxlOiBmdW5jdGlvbiAodGFibGUpIHtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgICAgICAgICA9IHRhYmxlLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgcmVjb3Jkc0VsZW1lbnRzID0gW107XHJcbiAgICAgICAgbGV0IGNvbHVtbnNIZWFkZXIgICA9ICcnO1xyXG4gICAgICAgIGxldCBjb2x1bW5zRm9vdGVyICAgPSAnJztcclxuICAgICAgICBsZXQgY29sR3JvdXBzICAgICAgID0gW107XHJcbiAgICAgICAgbGV0IGNvbHVtbnMgICAgICAgICA9IFtdO1xyXG5cclxuICAgICAgICAvLyDQmtC+0LvQvtC90LrQuFxyXG4gICAgICAgIGlmICh0YWJsZS5fY29sdW1ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICQuZWFjaCh0YWJsZS5fY29sdW1ucywgZnVuY3Rpb24gKGtleSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoICEgY29sdW1uLmlzU2hvdygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5PcHRpb25zID0gY29sdW1uLmdldE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzICAgID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgc29ydGFibGUgICAgICA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2ZpZWxkJykgJiYgdHlwZW9mIGNvbHVtbk9wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uT3B0aW9ucy5hdHRySGVhZGVyID0gY29yZXVpVGFibGVVdGlscy5tZXJnZUF0dHIoY29sdW1uT3B0aW9ucy5hdHRySGVhZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1maWVsZFwiOiBjb2x1bW5PcHRpb25zLmZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2ZpeGVkJykgJiYgdHlwZW9mIGNvbHVtbk9wdGlvbnMuZml4ZWQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uT3B0aW9ucy5hdHRySGVhZGVyID0gY29yZXVpVGFibGVVdGlscy5tZXJnZUF0dHIoY29sdW1uT3B0aW9ucy5hdHRySGVhZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnY29yZXVpLXRhYmxlX19maXhlZF8nICsgY29sdW1uT3B0aW9ucy5maXhlZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5PcHRpb25zLmF0dHIgPSBjb3JldWlUYWJsZVV0aWxzLm1lcmdlQXR0cihjb2x1bW5PcHRpb25zLmF0dHIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb3JldWktdGFibGVfX2ZpeGVkXycgKyBjb2x1bW5PcHRpb25zLmZpeGVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMudHlwZSAhPT0gJ251bWJlcnMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3NvcnRhYmxlJykgJiYgY29sdW1uT3B0aW9ucy5zb3J0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5PcHRpb25zLmF0dHJIZWFkZXIgPSBjb3JldWlUYWJsZVV0aWxzLm1lcmdlQXR0cihjb2x1bW5PcHRpb25zLmF0dHJIZWFkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnY29yZXVpLXRhYmxlX19zb3J0YWJsZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFibGUuX3NvcnQubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5PcHRpb25zLmhhc093blByb3BlcnR5KCdmaWVsZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjb2x1bW5PcHRpb25zLmZpZWxkID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5PcHRpb25zLmZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCh0YWJsZS5fc29ydCwgZnVuY3Rpb24gKGtleSwgc29ydEZpZWxkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMuZmllbGQgPT09IHNvcnRGaWVsZC5maWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3J0RmllbGQub3JkZXIgPT09ICdhc2MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlID0gJ2FzYyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydEZpZWxkLm9yZGVyID09PSAnZGVzYycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGFibGUgPSAnZGVzYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uT3B0aW9ucy5hdHRySGVhZGVyICYmIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoY29sdW1uT3B0aW9ucy5hdHRySGVhZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChjb2x1bW5PcHRpb25zLmF0dHJIZWFkZXIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHN0eWxlID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykgJiZcclxuICAgICAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBjb2x1bW5PcHRpb25zLndpZHRoKSA+PSAwXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdW5pdCA9IHR5cGVvZiBjb2x1bW5PcHRpb25zLndpZHRoID09PSAnbnVtYmVyJyA/ICdweCcgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5wdXNoKCd3aWR0aDonICsgY29sdW1uT3B0aW9ucy53aWR0aCArIHVuaXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21pbldpZHRoJykgJiZcclxuICAgICAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBjb2x1bW5PcHRpb25zLm1pbldpZHRoKSA+PSAwXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdW5pdCA9IHR5cGVvZiBjb2x1bW5PcHRpb25zLm1pbldpZHRoID09PSAnbnVtYmVyJyA/ICdweCcgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5wdXNoKCdtaW4td2lkdGg6JyArIGNvbHVtbk9wdGlvbnMubWluV2lkdGggKyB1bml0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW5PcHRpb25zLmhhc093blByb3BlcnR5KCdtYXhXaWR0aCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgY29sdW1uT3B0aW9ucy5tYXhXaWR0aCkgPj0gMFxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVuaXQgPSB0eXBlb2YgY29sdW1uT3B0aW9ucy5tYXhXaWR0aCA9PT0gJ251bWJlcicgPyAncHgnIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUucHVzaCgnbWF4LXdpZHRoOicgKyBjb2x1bW5PcHRpb25zLm1heFdpZHRoICsgdW5pdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29sR3JvdXBzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBzdHlsZS5sZW5ndGggPiAwID8gc3R5bGUuam9pbignOycpIDogJydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsICAgICAgID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjb2x1bW5PcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICggISBjb2x1bW5PcHRpb25zLmhhc093blByb3BlcnR5KCdzaG93TGFiZWwnKSB8fCBjb2x1bW5PcHRpb25zLnNob3dMYWJlbClcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gY29sdW1uT3B0aW9ucy5sYWJlbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZGVzY3JpcHRpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjb2x1bW5PcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBjb2x1bW5PcHRpb25zLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlcy5sZW5ndGggPiAwID8gKCcgJyArIGF0dHJpYnV0ZXMuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8g0KHRgtGA0L7QutC4XHJcbiAgICAgICAgaWYgKHRhYmxlLl9yZWNvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGFibGUuX3JlY29yZHNUb3RhbCAgPSB0YWJsZS5nZXRSZWNvcmRzQ291bnQoKTtcclxuICAgICAgICAgICAgdGFibGUuX3JlY29yZHNOdW1iZXIgPSB0YWJsZS5fcGFnZSA9PT0gMVxyXG4gICAgICAgICAgICAgICAgPyAxXHJcbiAgICAgICAgICAgICAgICA6ICgodGFibGUuX3BhZ2UgLSAxKSAqIHRhYmxlLl9yZWNvcmRzUGVyUGFnZSkgKyAxO1xyXG5cclxuICAgICAgICAgICAgcmVjb3Jkc0VsZW1lbnRzID0gY29yZXVpVGFibGVSZW5kZXIucmVuZGVyUmVjb3Jkcyh0YWJsZSwgdGFibGUuX3JlY29yZHMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlY29yZHNFbGVtZW50cyA9IGNvcmV1aVRhYmxlUmVuZGVyLnJlbmRlclJlY29yZHModGFibGUsIFtdKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnY29sdW1uc0hlYWRlcicpICYmXHJcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkob3B0aW9ucy5jb2x1bW5zSGVhZGVyKSAmJlxyXG4gICAgICAgICAgICBvcHRpb25zLmNvbHVtbnNIZWFkZXIubGVuZ3RoID4gMFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBsZXQgcm93cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMuY29sdW1uc0hlYWRlciwgZnVuY3Rpb24gKGtleSwgaGVhZGVyUm93KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJSb3cpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChoZWFkZXJSb3csIGZ1bmN0aW9uIChrZXksIGhlYWRlckNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdChoZWFkZXJDb2x1bW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJDb2x1bW4uaGFzT3duUHJvcGVydHkoJ2F0dHInKSAmJiBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGhlYWRlckNvbHVtbi5hdHRyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChoZWFkZXJDb2x1bW4uYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGhlYWRlckNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpID8gaGVhZGVyQ29sdW1uLmNvbnRlbnQgOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaGVhZGVyQ29sdW1uLmhhc093blByb3BlcnR5KCdkZXNjcmlwdGlvbicpID8gaGVhZGVyQ29sdW1uLmRlc2NyaXB0aW9uIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlcy5sZW5ndGggPiAwID8gJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykgOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsndGFibGUtY29sdW1ucy1oZWFkZXIuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBjZWxscyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbHVtbnNIZWFkZXIgPSByb3dzLmpvaW4oJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2NvbHVtbnNGb290ZXInKSAmJlxyXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KG9wdGlvbnMuY29sdW1uc0Zvb3RlcikgJiZcclxuICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5zRm9vdGVyLmxlbmd0aCA+IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgbGV0IHJvd3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLmNvbHVtbnNGb290ZXIsIGZ1bmN0aW9uIChrZXksIGZvb3RlclJvdykge1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZm9vdGVyUm93KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxscyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZm9vdGVyUm93LCBmdW5jdGlvbiAoa2V5LCBmb290ZXJDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoZm9vdGVyQ29sdW1uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9vdGVyQ29sdW1uLmhhc093blByb3BlcnR5KCdhdHRyJykgJiYgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChmb290ZXJDb2x1bW4uYXR0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZm9vdGVyQ29sdW1uLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxscy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBmb290ZXJDb2x1bW4uaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSA/IGZvb3RlckNvbHVtbi5jb250ZW50IDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGZvb3RlckNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnZGVzY3JpcHRpb24nKSA/IGZvb3RlckNvbHVtbi5kZXNjcmlwdGlvbiA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICcgJyArIGF0dHJpYnV0ZXMuam9pbignICcpIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3RhYmxlLWNvbHVtbnMtZm9vdGVyLmh0bWwnXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogY2VsbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb2x1bW5zRm9vdGVyID0gcm93cy5qb2luKCcnKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgbGV0IGNsYXNzZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNsYXNzID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLmNsYXNzKSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaChvcHRpb25zLmNsYXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggISBjb2x1bW5zRm9vdGVyKSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgnZW1wdHktdGZvb3QnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBodG1sQ29sdW1ucyA9IGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3RhYmxlLWNvbHVtbnMuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCB0aGVhZEF0dHIgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3RoZWFkVG9wJykgJiZcclxuICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2Ygb3B0aW9ucy50aGVhZFRvcCkgPj0gMFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBsZXQgdW5pdCA9IGNvcmV1aVRhYmxlVXRpbHMuaXNOdW1lcmljKG9wdGlvbnMudGhlYWRUb3ApID8gJ3B4JyA6ICcnO1xyXG4gICAgICAgICAgICB0aGVhZEF0dHIucHVzaCgnc3R5bGU9XCJ0b3A6JyArIG9wdGlvbnMudGhlYWRUb3AgKyB1bml0ICsgJ1wiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdGFibGVFbGVtZW50ID0gJChcclxuICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsndGFibGUuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBjbGFzc2VzLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgIHRoZWFkQXR0cjogdGhlYWRBdHRyLmxlbmd0aCA+IDAgPyB0aGVhZEF0dHIuam9pbignICcpIDogJycsXHJcbiAgICAgICAgICAgICAgICBzaG93SGVhZGVyczogb3B0aW9ucy5zaG93SGVhZGVycyxcclxuICAgICAgICAgICAgICAgIGNvbHVtbnNIZWFkZXIgOiBjb2x1bW5zSGVhZGVyLFxyXG4gICAgICAgICAgICAgICAgY29sR3JvdXBzIDogY29sR3JvdXBzLFxyXG4gICAgICAgICAgICAgICAgY29sdW1ucyA6IGh0bWxDb2x1bW5zLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uc0Zvb3RlciA6IGNvbHVtbnNGb290ZXIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIGxldCB0Ym9keSA9IHRhYmxlRWxlbWVudC5maW5kKCd0Ym9keScpO1xyXG5cclxuICAgICAgICAkLmVhY2gocmVjb3Jkc0VsZW1lbnRzLCBmdW5jdGlvbiAoa2V5LCByZWNvcmRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZChyZWNvcmRFbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRhYmxlRWxlbWVudFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQodCx0L7RgNC60LAg0LfQsNC/0LjRgdC10Lkg0YLQsNCx0LvQuNGG0YtcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gIHJlY29yZHNcclxuICAgICAqIEByZXR1cm4ge0FycmF5fVxyXG4gICAgICovXHJcbiAgICByZW5kZXJSZWNvcmRzOiBmdW5jdGlvbiAodGFibGUsIHJlY29yZHMpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlbmRlclJlY29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgdGhhdCAgICA9IHRoaXM7XHJcbiAgICAgICAgICAgIGxldCBvcHRpb25zID0gdGFibGUuZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXAgICA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2dyb3VwJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuZ3JvdXApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5ncm91cC5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmdyb3VwLmZpZWxkID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZ3JvdXAuZmllbGRcclxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5ncm91cFxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBWYWx1ZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAkLmVhY2gocmVjb3JkcywgZnVuY3Rpb24gKGtleSwgcmVjb3JkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5zaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5kYXRhLmhhc093blByb3BlcnR5KGdyb3VwLmZpZWxkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiByZWNvcmQuZGF0YVtncm91cC5maWVsZF0pID49IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBWYWx1ZSAhPSByZWNvcmQuZGF0YVtncm91cC5maWVsZF1cclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBWYWx1ZSA9IHJlY29yZC5kYXRhW2dyb3VwLmZpZWxkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyUmVjb3Jkcy5wdXNoKHRoYXQucmVuZGVyR3JvdXAodGFibGUsIGdyb3VwLCByZWNvcmQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclJlY29yZHMucHVzaCh0aGF0LnJlbmRlclJlY29yZCh0YWJsZSwgcmVjb3JkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGUuX3JlY29yZHNOdW1iZXIrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVuZGVyUmVjb3Jkcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmVuZGVyUmVjb3JkcyA9IFtcclxuICAgICAgICAgICAgICAgICQoXHJcbiAgICAgICAgICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsndGFibGUtcmVjb3Jkcy1lbXB0eS5odG1sJ10sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uc0NvdW50OiB0YWJsZS5fY291bnRDb2x1bW5zU2hvdyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZzogdGFibGUuZ2V0TGFuZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVuZGVyUmVjb3JkcztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KHQsdC+0YDQutCwINC30LDQv9C40YHQuCDRgtCw0LHQu9C40YbRi1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7eyBhdHRyOiAoc3RyaW5nKSwgZmllbGRzOiAob2JqZWN0KSB9fX1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHJlbmRlclJlY29yZDogZnVuY3Rpb24gKHRhYmxlLCByZWNvcmQpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCBvcHRpb25zICAgID0gdGFibGUuZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGxldCBmaWVsZHMgICAgID0gW107XHJcbiAgICAgICAgbGV0IHJlY29yZEF0dHIgPSB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAnY29yZXVpLXRhYmxlX19yZWNvcmQnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVjb3JkID0gJC5leHRlbmQodHJ1ZSwge30sIHJlY29yZCk7XHJcblxyXG4gICAgICAgICQuZWFjaCh0YWJsZS5fY29sdW1ucywgZnVuY3Rpb24gKGtleSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGlmICggISBjb2x1bW4uaXNTaG93KCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGZpZWxkID0gdGhhdC5yZW5kZXJGaWVsZCh0YWJsZSwgY29sdW1uLCByZWNvcmQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZHMucHVzaChmaWVsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uQ2xpY2tVcmwgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMub25DbGlja1VybCkge1xyXG4gICAgICAgICAgICByZWNvcmRBdHRyLmNsYXNzICs9ICcgY29yZXVpLXRhYmxlX3BvaW50ZXInO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlY29yZC5tZXRhKSB7XHJcbiAgICAgICAgICAgIHJlY29yZEF0dHIgPSBjb3JldWlUYWJsZVV0aWxzLm1lcmdlQXR0cihyZWNvcmRBdHRyLCByZWNvcmQubWV0YS5hdHRyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICQuZWFjaChyZWNvcmRBdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCByZWNvcmRFbGVtZW50ID0gJChcclxuICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsndGFibGUtcmVjb3JkLmh0bWwnXSwge1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlcy5sZW5ndGggPiAwID8gKCcgJyArIGF0dHJpYnV0ZXMuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiByZWNvcmQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKGZpZWxkcywgZnVuY3Rpb24gKGtleSwgZmllbGQpIHtcclxuICAgICAgICAgICAgcmVjb3JkRWxlbWVudC5maW5kKCcgPiB0ZDplcSgnICsga2V5ICsgJyknKS5odG1sKGZpZWxkLmNvbnRlbnQpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZWNvcmRFbGVtZW50O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQodCx0L7RgNC60LAg0Y/Rh9C10LnQutC4INGC0LDQsdC70LjRhtGLXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb2x1bW5cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZWNvcmRcclxuICAgICAqIEByZXR1cm5zIHt7IGF0dHI6IChzdHJpbmcpLCBjb250ZW50OiAoc3RyaW5nKSB9fVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcmVuZGVyRmllbGQ6IGZ1bmN0aW9uICh0YWJsZSwgY29sdW1uLCByZWNvcmQpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbHVtbk9wdGlvbnMgPSBjb2x1bW4uZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGxldCBjb2x1bW5GaWVsZCAgID0gdHlwZW9mIGNvbHVtbk9wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnID8gY29sdW1uT3B0aW9ucy5maWVsZCA6IG51bGw7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgICAgICAgPSBudWxsO1xyXG4gICAgICAgIGxldCBmaWVsZFByb3BzICAgID0gcmVjb3JkLm1ldGEgJiYgcmVjb3JkLm1ldGEuaGFzT3duUHJvcGVydHkoJ2ZpZWxkcycpICYmIHJlY29yZC5tZXRhLmZpZWxkcy5oYXNPd25Qcm9wZXJ0eShjb2x1bW5GaWVsZClcclxuICAgICAgICAgICAgPyByZWNvcmQubWV0YS5maWVsZHNbY29sdW1uRmllbGRdXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICBsZXQgZmllbGRBdHRyID0gY29sdW1uT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXR0cicpICYmIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoY29sdW1uT3B0aW9ucy5hdHRyKVxyXG4gICAgICAgICAgICA/IGNvbHVtbk9wdGlvbnMuYXR0clxyXG4gICAgICAgICAgICA6IHt9O1xyXG5cclxuICAgICAgICBpZiAoZmllbGRQcm9wcyAmJiBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGZpZWxkUHJvcHMpKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWVsZFByb3BzICYmIGZpZWxkUHJvcHMuaGFzT3duUHJvcGVydHkoJ3Nob3cnKSAmJiAhIGZpZWxkUHJvcHMuc2hvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGZpZWxkUHJvcHMuYXR0cikpIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkQXR0ciA9IGNvcmV1aVRhYmxlVXRpbHMubWVyZ2VBdHRyKGZpZWxkQXR0ciwgZmllbGRQcm9wcy5hdHRyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbHVtbk9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2ZpeGVkJykgJiYgdHlwZW9mIGNvbHVtbk9wdGlvbnMuZml4ZWQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGZpZWxkQXR0ciA9IGNvcmV1aVRhYmxlVXRpbHMubWVyZ2VBdHRyKGZpZWxkQXR0ciwge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdjb3JldWktdGFibGVfX2ZpeGVkXycgKyBjb2x1bW5PcHRpb25zLmZpeGVkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb2x1bW5PcHRpb25zLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29sdW1uT3B0aW9ucy5yZW5kZXIoe1xyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVjb3JkLmRhdGEsXHJcbiAgICAgICAgICAgICAgICBtZXRhOiByZWNvcmQubWV0YSxcclxuICAgICAgICAgICAgICAgIGluZGV4OiByZWNvcmQuaW5kZXgsXHJcbiAgICAgICAgICAgIH0sIHRhYmxlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29sdW1uRmllbGQgJiYgcmVjb3JkLmRhdGEuaGFzT3duUHJvcGVydHkoY29sdW1uRmllbGQpXHJcbiAgICAgICAgICAgICAgICA/IHJlY29yZC5kYXRhW2NvbHVtbkZpZWxkXVxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudCA9IGNvbHVtbi5yZW5kZXIoY29udGVudCwgcmVjb3JkKTtcclxuXHJcbiAgICAgICAgbGV0IGZpZWxkQXR0clJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2goZmllbGRBdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgZmllbGRBdHRyUmVzdWx0LnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXR0cjogICAgZmllbGRBdHRyUmVzdWx0Lmxlbmd0aCA+IDAgPyAoJyAnICsgZmllbGRBdHRyUmVzdWx0LmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgY29udGVudDogY29udGVudCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQodCx0L7RgNC60LAg0LfQsNC/0LjRgdC4LdCz0YDRg9C/0L/Ri1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZ3JvdXBcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZWNvcmRcclxuICAgICAqIEByZXR1cm5zIHt7IGF0dHI6IChzdHJpbmcpLCBmaWVsZHM6IChvYmplY3QpIH19fVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcmVuZGVyR3JvdXA6IGZ1bmN0aW9uICh0YWJsZSwgZ3JvdXAsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBsZXQgYXR0ciA9IGdyb3VwLmhhc093blByb3BlcnR5KCdhdHRyJykgJiYgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChncm91cC5hdHRyKVxyXG4gICAgICAgICAgICA/IGdyb3VwLmF0dHJcclxuICAgICAgICAgICAgOiB7fTtcclxuXHJcbiAgICAgICAgaWYgKGF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiYgdHlwZW9mIGF0dHIuY2xhc3MgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGF0dHIuY2xhc3MgKz0gJyBjb3JldWktdGFibGVfX3JlY29yZC1ncm91cCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXR0ci5jbGFzcyA9ICdjb3JldWktdGFibGVfX3JlY29yZC1ncm91cCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2goYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgcmVjb3JkRWxlbWVudCA9ICQoXHJcbiAgICAgICAgICAgIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3RhYmxlLXJlY29yZC1ncm91cC5odG1sJ10sIHtcclxuICAgICAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgICAgIGNvbHNwYW46IHRhYmxlLl9jb3VudENvbHVtbnNTaG93LFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBjb250ZW50ID0gcmVjb3JkLmRhdGFbZ3JvdXAuZmllbGRdO1xyXG5cclxuICAgICAgICBpZiAoZ3JvdXAuaGFzT3duUHJvcGVydHkoJ3JlbmRlcicpICYmIHR5cGVvZiBncm91cC5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgbGV0IHJlbmRlckNvbnRlbnQgPSBncm91cC5yZW5kZXIocmVjb3JkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZW5kZXJDb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gcmVuZGVyQ29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVjb3JkRWxlbWVudC5maW5kKCcgPiB0ZCcpLmh0bWwoY29udGVudCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZWNvcmRFbGVtZW50O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQodCx0L7RgNC60LAg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC50YHRjyDRgdGC0YDQvtC60LhcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgcmVuZGVyRXhwYW5kOiBmdW5jdGlvbiAodGFibGUsIGNvbnRlbnQpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29yZXVpVGFibGVSZW5kZXIucmVuZGVyQ29tcG9uZW50cyh0YWJsZSwgY29udGVudCwgJ3JlY29yZF9leHBhbmRfc2hvdycpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBleHBhbmRSZWNvcmQgPSAkKFxyXG4gICAgICAgICAgICBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWyd0YWJsZS1yZWNvcmQtZXhwYW5kLmh0bWwnXSwge1xyXG4gICAgICAgICAgICAgICAgY29sc3BhbjogdGFibGUuX2NvdW50Q29sdW1uc1Nob3csXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIGNvbnRlbnQpID49IDApIHtcclxuICAgICAgICAgICAgZXhwYW5kUmVjb3JkLmZpbmQoJ3RkJykuaHRtbChjb250ZW50KVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcclxuICAgICAgICAgICAgJC5lYWNoKGNvbnRlbnQsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBpdGVtKSA+PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnalF1ZXJ5JykgJiYgaXRlbSBpbnN0YW5jZW9mIGpRdWVyeSlcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZFJlY29yZC5maW5kKCd0ZCcpLmFwcGVuZChpdGVtKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBleHBhbmRSZWNvcmQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCh0LHQvtGA0LrQsCDRjdC70LXQvNC10L3RgtCwINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb250cm9sXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fGpRdWVyeX1cclxuICAgICAqL1xyXG4gICAgcmVuZGVyQ29udHJvbDogZnVuY3Rpb24gKHRhYmxlLCBjb250cm9sKSB7XHJcblxyXG4gICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGNvbnRyb2wpKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sRWxlbWVudCA9ICQoXHJcbiAgICAgICAgICAgICAgICBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWyd0YWJsZS1jb250cm9sLmh0bWwnXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjb250cm9sLmdldElkKClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBjb250cm9sRWxlbWVudC5hcHBlbmQoY29udHJvbC5yZW5kZXIoKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udHJvbC5oYXNPd25Qcm9wZXJ0eSgnaW5pdEV2ZW50cycpICYmIHR5cGVvZiBjb250cm9sLmluaXRFdmVudHMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLm9uKCdjb250YWluZXJfc2hvdycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sLmluaXRFdmVudHMoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb250cm9sRWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwINC60L7QvNC/0L7QvdC10L3RgtCwXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb21wb25lbnRzXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgcmVuZGVyQ29tcG9uZW50czogZnVuY3Rpb24gKHRhYmxlLCBjb21wb25lbnRzLCBldmVudE5hbWUpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoY29tcG9uZW50cyBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAoICEgQXJyYXkuaXNBcnJheShjb21wb25lbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cyA9IFsgY29tcG9uZW50cyBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50c1tpXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb21wb25lbnRzW2ldKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCAhIEFycmF5LmlzQXJyYXkoY29tcG9uZW50c1tpXSkgJiZcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzW2ldLmhhc093blByb3BlcnR5KCdjb21wb25lbnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHNbaV0uY29tcG9uZW50LnN1YnN0cmluZygwLCA2KSA9PT0gJ2NvcmV1aSdcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gY29tcG9uZW50c1tpXS5jb21wb25lbnQuc3BsaXQoJy4nKVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKENvcmVVSS5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KENvcmVVSVtuYW1lXSlcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluc3RhbmNlID0gQ29yZVVJW25hbWVdLmNyZWF0ZShjb21wb25lbnRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5zdGFuY2UucmVuZGVyKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUub24oZXZlbnROYW1lLCBpbnN0YW5jZS5pbml0RXZlbnRzLCBpbnN0YW5jZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb3JldWlUYWJsZVJlbmRlcjsiLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcblxyXG5sZXQgY29yZXVpVGFibGVQcml2YXRlID0ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LrQvtC70L7QvdC+0LpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gY29sdW1uc1xyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgaW5pdENvbHVtbnModGFibGUsIGNvbHVtbnMpIHtcclxuXHJcbiAgICAgICAgJC5lYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChrZXksIGNvbHVtbikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbHVtbi50eXBlID09PSAndW5kZWZpbmVkJyB8fFxyXG4gICAgICAgICAgICAgICAgISBjb3JldWlUYWJsZS5jb2x1bW5zLmhhc093blByb3BlcnR5KGNvbHVtbi50eXBlKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbi50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoICEgY29sdW1uLmhhc093blByb3BlcnR5KCdzaG93JykgfHwgdHlwZW9mIGNvbHVtbi5zaG93ICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbi5zaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnZml4ZWQnKSAmJiB0eXBlb2YgY29sdW1uLmZpeGVkID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdGFibGUuX29wdGlvbnMub3ZlcmZsb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY29sdW1uSW5zdGFuY2UgPSAkLmV4dGVuZCh0cnVlLCB7fSwgY29yZXVpVGFibGUuY29sdW1uc1tjb2x1bW4udHlwZV0pO1xyXG4gICAgICAgICAgICBjb2x1bW5JbnN0YW5jZS5pbml0KHRhYmxlLCBjb2x1bW4pO1xyXG4gICAgICAgICAgICB0YWJsZS5fY29sdW1ucy5wdXNoKGNvbHVtbkluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb2x1bW5JbnN0YW5jZS5pc1Nob3coKSkge1xyXG4gICAgICAgICAgICAgICAgdGFibGUuX2NvdW50Q29sdW1uc1Nob3crKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQv9C+0LjRgdC60L7QstGL0YUg0L/QvtC70LXQuVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSAgc2VhcmNoQ29udHJvbHNcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGluaXRTZWFyY2g6IGZ1bmN0aW9uICh0YWJsZSwgc2VhcmNoQ29udHJvbHMpIHtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgICAgICA9IHRhYmxlLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgc2VhcmNoVmFsdWVzID0gb3B0aW9ucy5zYXZlU3RhdGUgJiYgb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IGNvcmV1aVRhYmxlUHJpdmF0ZS5nZXRTdG9yYWdlRmllbGQodGFibGUuZ2V0SWQoKSwgJ3NlYXJjaCcpXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuXHJcbiAgICAgICAgJC5lYWNoKHNlYXJjaENvbnRyb2xzLCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGNvbnRyb2wpKSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggISBjb250cm9sLmhhc093blByb3BlcnR5KCd0eXBlJykgfHxcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBjb250cm9sLnR5cGUgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgICAgICAgICAhIGNvcmV1aVRhYmxlLnNlYXJjaC5oYXNPd25Qcm9wZXJ0eShjb250cm9sLnR5cGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbC50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zYXZlU3RhdGUgJiYgb3B0aW9ucy5pZCkge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbC52YWx1ZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VhcmNoVmFsdWVzKSAmJiBjb250cm9sLmhhc093blByb3BlcnR5KCdmaWVsZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHNlYXJjaFZhbHVlcywgZnVuY3Rpb24gKGtleSwgc2VhcmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHNlYXJjaCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaC5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoLmhhc093blByb3BlcnR5KCd2YWx1ZScpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2guZmllbGQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaC5maWVsZCA9PT0gY29udHJvbC5maWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wudmFsdWUgPSBzZWFyY2gudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY29udHJvbEluc3RhbmNlID0gJC5leHRlbmQodHJ1ZSwge30sIGNvcmV1aVRhYmxlLnNlYXJjaFtjb250cm9sLnR5cGVdKTtcclxuICAgICAgICAgICAgY29udHJvbEluc3RhbmNlLmluaXQodGFibGUsIGNvbnRyb2wpO1xyXG4gICAgICAgICAgICB0YWJsZS5fc2VhcmNoLnB1c2goY29udHJvbEluc3RhbmNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LrQvtC90YLRgNC+0LvQvtCyINC4INGE0LjQu9GM0YLRgNC+0LJcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gIHJvd3NcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvblxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgaW5pdENvbnRyb2xzOiBmdW5jdGlvbiAodGFibGUsIHJvd3MsIHBvc2l0aW9uKSB7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgJC5lYWNoKHJvd3MsIGZ1bmN0aW9uIChrZXksIHJvdykge1xyXG5cclxuICAgICAgICAgICAgbGV0IHR5cGUgICAgICAgICAgID0gJ2luJztcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2xzTGVmdCAgID0gW107XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sc0NlbnRlciA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgY29udHJvbHNSaWdodCAgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygcm93LnR5cGUgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICBbJ2luJywgJ291dCddLmluZGV4T2Yocm93LnR5cGUudG9Mb3dlckNhc2UoKSkgPj0gMFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSByb3cudHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocm93Lmhhc093blByb3BlcnR5KCdsZWZ0JykgJiYgQXJyYXkuaXNBcnJheShyb3cubGVmdCkpIHtcclxuICAgICAgICAgICAgICAgICQuZWFjaChyb3cubGVmdCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnN0YW5jZSA9IHRoYXQuaW5pdENvbnRyb2wodGFibGUsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdChpbnN0YW5jZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNMZWZ0LnB1c2goaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocm93Lmhhc093blByb3BlcnR5KCdjZW50ZXInKSAmJiBBcnJheS5pc0FycmF5KHJvdy5jZW50ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAkLmVhY2gocm93LmNlbnRlciwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnN0YW5jZSA9IHRoYXQuaW5pdENvbnRyb2wodGFibGUsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdChpbnN0YW5jZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNDZW50ZXIucHVzaChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyb3cuaGFzT3duUHJvcGVydHkoJ3JpZ2h0JykgJiYgQXJyYXkuaXNBcnJheShyb3cucmlnaHQpKSB7XHJcbiAgICAgICAgICAgICAgICAkLmVhY2gocm93LnJpZ2h0LCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluc3RhbmNlID0gdGhhdC5pbml0Q29udHJvbCh0YWJsZSwgY29udHJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGluc3RhbmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1JpZ2h0LnB1c2goaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udHJvbHNMZWZ0Lmxlbmd0aCA+IDAgfHwgY29udHJvbHNDZW50ZXIubGVuZ3RoID4gMCB8fCBjb250cm9sc1JpZ2h0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLl9jb250cm9sc1Bvc2l0aW9uc1twb3NpdGlvbl0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBjb250cm9sc0xlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBjb250cm9sc0NlbnRlcixcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogY29udHJvbHNSaWdodCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L7QvdGC0YDQvtC70LAg0LjQu9C4INGE0LjQu9GM0YLRgNCwXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb250cm9sXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBpbml0Q29udHJvbDogZnVuY3Rpb24gKHRhYmxlLCBjb250cm9sKSB7XHJcblxyXG4gICAgICAgIGxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGNvbnRyb2wpICYmIHR5cGVvZiBjb250cm9sLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29yZXVpVGFibGUuY29udHJvbHMuaGFzT3duUHJvcGVydHkoY29udHJvbC50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSAkLmV4dGVuZCh0cnVlLCB7fSwgY29yZXVpVGFibGUuY29udHJvbHNbY29udHJvbC50eXBlXSk7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pbml0KHRhYmxlLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0YWJsZS5fY29udHJvbHMucHVzaChpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2wudHlwZS5pbmRleE9mKCdmaWx0ZXI6JykgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJOYW1lID0gY29udHJvbC50eXBlLnN1YnN0cmluZyg3KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29yZXVpVGFibGUuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eShmaWx0ZXJOYW1lKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbC5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IHRhYmxlLmdldE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnNhdmVTdGF0ZSAmJiBvcHRpb25zLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVyVmFsdWVzID0gb3B0aW9ucy5zYXZlU3RhdGUgJiYgb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29yZXVpVGFibGVQcml2YXRlLmdldFN0b3JhZ2VGaWVsZCh0YWJsZS5nZXRJZCgpLCAnZmlsdGVycycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wudmFsdWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpbHRlclZhbHVlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsdGVyVmFsdWVzLCBmdW5jdGlvbiAoa2V5LCBmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoZmlsdGVyKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmhhc093blByb3BlcnR5KCdmaWVsZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5maWVsZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmZpZWxkID09PSBjb250cm9sLmZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbC52YWx1ZSA9IGZpbHRlci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gJC5leHRlbmQodHJ1ZSwge30sIGNvcmV1aVRhYmxlLmZpbHRlcnNbZmlsdGVyTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmluaXQodGFibGUsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0YWJsZS5fZmlsdGVycy5wdXNoKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0YDRgtC40YDQvtCy0LrQuFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3J0XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBpbml0U29ydDogZnVuY3Rpb24gKHRhYmxlLCBzb3J0KSB7XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvcnQpICYmIHNvcnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAkLmVhY2goc29ydCwgZnVuY3Rpb24gKGtleSwgc29ydEZpZWxkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qoc29ydEZpZWxkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRGaWVsZC5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRGaWVsZC5oYXNPd25Qcm9wZXJ0eSgnb3JkZXInKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBzb3J0RmllbGQuZmllbGQgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHNvcnRGaWVsZC5vcmRlciA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGQuZmllbGQgJiZcclxuICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGQub3JkZXIgJiZcclxuICAgICAgICAgICAgICAgICAgICBbJ2FzYycsICdkZXNjJ10uaW5kZXhPZihzb3J0RmllbGQub3JkZXIpID49IDBcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLl9zb3J0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogc29ydEZpZWxkLmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogc29ydEZpZWxkLm9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINC30LDQv9C40YHQtdC5XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICByZWNvcmRzXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBzZXRSZWNvcmRzOiBmdW5jdGlvbiAodGFibGUsIHJlY29yZHMpIHtcclxuXHJcbiAgICAgICAgdGFibGUuX3JlY29yZHNJbmRleCA9IDE7XHJcbiAgICAgICAgdGFibGUuX3JlY29yZHMgICAgICA9IFtdO1xyXG5cclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgICQuZWFjaChyZWNvcmRzLCBmdW5jdGlvbiAoa2V5LCByZWNvcmQpIHtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuYWRkUmVjb3JkKHRhYmxlLCByZWNvcmQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC30LDQv9C40YHQuFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFmdGVySW5kZXhcclxuICAgICAqIEByZXR1cm4ge29iamVjdHxudWxsfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgYWRkUmVjb3JkOiBmdW5jdGlvbiAodGFibGUsIGRhdGEsIGFmdGVySW5kZXgpIHtcclxuXHJcbiAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcclxuICAgICAgICAgICAgZGF0YSA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBtZXRhID0gZGF0YS5oYXNPd25Qcm9wZXJ0eSgnX21ldGEnKSAmJiBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGRhdGEuX21ldGEpXHJcbiAgICAgICAgICAgICAgICA/IGRhdGEuX21ldGFcclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChtZXRhKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgZGF0YS5fbWV0YTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHJlY29yZCA9IHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiB0YWJsZS5fcmVjb3Jkc0luZGV4KyssXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1ldGE6IG1ldGEsXHJcbiAgICAgICAgICAgICAgICBzZXE6IHRhYmxlLl9zZXErKyxcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFmdGVySW5kZXggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWZ0ZXJJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLl9yZWNvcmRzLnNwbGljZSgwLCAwLCByZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2godGFibGUuX3JlY29yZHMsIGZ1bmN0aW9uIChrZXksIHJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWZ0ZXJJbmRleCA9PT0gcmVjb3JkLmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuX3JlY29yZHMuc3BsaWNlKGluZGV4LCAwLCByZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5fcmVjb3Jkcy5wdXNoKHJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCU0L7QsdCw0LLQu9C10L3QuNC1INC90L7QstC+0Lkg0LfQsNC/0LjRgdC4INC/0LXRgNC10LQg0YPQutCw0LfQsNC90L3QvtC5XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcclxuICAgICAqIEByZXR1cm4ge29iamVjdHxudWxsfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgYWRkUmVjb3JkQmVmb3JlOiBmdW5jdGlvbiAodGFibGUsIGRhdGEsIGluZGV4KSB7XHJcblxyXG4gICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGRhdGEpICYmIHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgZGF0YSA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBtZXRhID0gZGF0YS5oYXNPd25Qcm9wZXJ0eSgnX21ldGEnKSAmJiBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGRhdGEuX21ldGEpXHJcbiAgICAgICAgICAgICAgICA/IGRhdGEuX21ldGFcclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChtZXRhKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgZGF0YS5fbWV0YTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHJlY29yZCA9IHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiB0YWJsZS5fcmVjb3Jkc0luZGV4KyssXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1ldGE6IG1ldGEsXHJcbiAgICAgICAgICAgICAgICBzZXE6IHRhYmxlLl9zZXErKyxcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgaXNzZXRLZXkgID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBrZXlCZWZvcmUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKHRhYmxlLl9yZWNvcmRzLCBmdW5jdGlvbiAoa2V5LCByZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gcmVjb3JkLmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNzZXRLZXkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBrZXlCZWZvcmUgPSBrZXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzc2V0S2V5ICYmIGtleUJlZm9yZSkge1xyXG4gICAgICAgICAgICAgICAgdGFibGUuX3JlY29yZHMuc3BsaWNlKGtleUJlZm9yZSwgMCwgcmVjb3JkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/RgNC+0LLQtdGA0LrQsCDQv9C+0LTRhdC+0LTQuNGCINC70Lgg0LfQsNC/0LjRgdGMINC/0L7QtCDQv9C+0LjRgdC60L7QstGL0LUg0LTQsNC90L3Ri9C1XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSAgZmlsdGVyc1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlY29yZERhdGFcclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBpc0ZpbHRlcmVkUmVjb3JkOiBmdW5jdGlvbiAoZmlsdGVycywgcmVjb3JkRGF0YSkge1xyXG5cclxuICAgICAgICBsZXQgaXNTaG93ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgJC5lYWNoKGZpbHRlcnMsIGZ1bmN0aW9uIChrZXksIGZpbHRlcikge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlY29yZERhdGEuaGFzT3duUHJvcGVydHkoZmlsdGVyLmZpZWxkKSAmJlxyXG4gICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgcmVjb3JkRGF0YVtmaWx0ZXIuZmllbGRdKSA+PSAwXHJcbiAgICAgICAgICAgICkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBmaWx0ZXIudmFsdWUpID49IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5oYXNPd25Qcm9wZXJ0eSgnYWxnJykgJiYgZmlsdGVyLmFsZyA9PT0gJ3N0cmljdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZERhdGFbZmlsdGVyLmZpZWxkXS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgIT0gZmlsdGVyLnZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmREYXRhW2ZpbHRlci5maWVsZF0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihmaWx0ZXIudmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSA8IDBcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZpbHRlci52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnZhbHVlLmluZGV4T2YocmVjb3JkRGF0YVtmaWx0ZXIuZmllbGRdLnRvU3RyaW5nKCkpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Nob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoZmlsdGVyLnZhbHVlKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnc3RhcnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnZW5kJylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc3NldFN0YXJ0ID0gWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgZmlsdGVyLnZhbHVlLnN0YXJ0KSA+PSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc3NldEVuZCAgID0gWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgZmlsdGVyLnZhbHVlLmVuZCkgPj0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzc2V0U3RhcnQgJiYgaXNzZXRFbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZERhdGFbZmlsdGVyLmZpZWxkXSA8IGZpbHRlci52YWx1ZS5zdGFydCB8fCBmaWx0ZXIudmFsdWUuZW5kIDwgcmVjb3JkRGF0YVtmaWx0ZXIuZmllbGRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Nob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzc2V0U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci52YWx1ZS5zdGFydCA+IHJlY29yZERhdGFbZmlsdGVyLmZpZWxkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc3NldEVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnZhbHVlLmVuZCA8IHJlY29yZERhdGFbZmlsdGVyLmZpZWxkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXNTaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlzU2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JLRi9C/0L7Qu9C90LXQvdC40Y8g0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNC90L3Ri9GFINGE0YPQvdC60YbQuNC5INCyINGD0LrQsNC30LDQvdC90L7QvCDRgdC+0LHRi9GC0LjQuFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gIHBhcmFtc1xyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgX3RyaWdnZXI6IGZ1bmN0aW9uKHRhYmxlLCBuYW1lLCBwYXJhbXMpIHtcclxuXHJcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IFtdO1xyXG5cclxuICAgICAgICBpZiAodGFibGUuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB0YWJsZS5fZXZlbnRzW25hbWVdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5fZXZlbnRzW25hbWVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FsbGJhY2sgPSB0YWJsZS5fZXZlbnRzW25hbWVdW2ldLmNhbGxiYWNrO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgID0gdGFibGUuX2V2ZW50c1tuYW1lXVtpXS5jb250ZXh0ID8gdGFibGUuX2V2ZW50c1tuYW1lXVtpXS5jb250ZXh0IDogdGFibGU7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoY29udGV4dCwgcGFyYW1zKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0YWJsZS5fZXZlbnRzW25hbWVdW2ldLnNpbmdsZUV4ZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZS5fZXZlbnRzW25hbWVdLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCh0L7RgNGC0LjRgNC+0LLQutCwINC30LDQv9C40YHQtdC5INC/0L4gc2VxXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByZWNvcmRzXHJcbiAgICAgKiBAcmV0dXJuIHsqfVxyXG4gICAgICovXHJcbiAgICBzb3J0UmVjb3Jkc0J5U2VxOiBmdW5jdGlvbiAocmVjb3Jkcykge1xyXG5cclxuICAgICAgICByZXR1cm4gcmVjb3Jkcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLnNlcSAtIGIuc2VxO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQodC+0YDRgtC40YDQvtCy0LrQsCDQt9Cw0L/QuNGB0LXQuSDQv9C+INGD0LrQsNC30LDQvdC90YvQvCDQv9C+0LvRj9C8XHJcbiAgICAgKiBAcGFyYW0gcmVjb3Jkc1xyXG4gICAgICogQHBhcmFtIGZpZWxkc1xyXG4gICAgICovXHJcbiAgICBzb3J0UmVjb3Jkc0J5RmllbGRzOiBmdW5jdGlvbiAocmVjb3JkcywgZmllbGRzKSB7XHJcblxyXG4gICAgICAgIHJldHVybiByZWNvcmRzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc3NldEFGaWVsZCA9IGEuZGF0YS5oYXNPd25Qcm9wZXJ0eShmaWVsZHNbaV0uZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzc2V0QkZpZWxkID0gYi5kYXRhLmhhc093blByb3BlcnR5KGZpZWxkc1tpXS5maWVsZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhIGlzc2V0QUZpZWxkICYmICEgaXNzZXRCRmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCAhIGlzc2V0QUZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggISBpc3NldEJGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYVZhbCA9IGEuZGF0YVtmaWVsZHNbaV0uZmllbGRdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJWYWwgPSBiLmRhdGFbZmllbGRzW2ldLmZpZWxkXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYVZhbCA9PT0gbnVsbCB8fCBhVmFsID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGFWYWwgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFWYWwgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhVmFsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFWYWwgPSBKU09OLnN0cmluZ2lmeShhVmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYlZhbCA9PT0gbnVsbCB8fCBiVmFsID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGJWYWwgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJWYWwgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBiVmFsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJWYWwgPSBKU09OLnN0cmluZ2lmeShiVmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gYVZhbCA8IGJWYWxcclxuICAgICAgICAgICAgICAgICAgICA/IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgOiAoYVZhbCA+IGJWYWwgPyAxIDogMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkc1tpXS5vcmRlciA9PT0gXCJkZXNjXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwgKiAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDRgdC+0YDRgtC40YDQvtCy0LrQuCDQtNC70Y8g0YPQutCw0LfQsNC90L3Ri9GFINC60L7Qu9C+0L3QvtC6XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICBzb3J0XHJcbiAgICAgKi9cclxuICAgIHNldENvbHVtbnNTb3J0OiBmdW5jdGlvbiAodGFibGUsIHNvcnQpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoZWFkID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUYWJsZVRoZWFkKHRhYmxlLmdldElkKCkpO1xyXG5cclxuICAgICAgICAkLmVhY2godGFibGUuX2NvbHVtbnMsIGZ1bmN0aW9uIChrZXksIGNvbHVtbikge1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IGNvbHVtbi5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSAmJlxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc29ydGFibGUnKSAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNvcnRhYmxlXHJcbiAgICAgICAgICAgICkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzb3J0Q29sdW1uID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3J0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChzb3J0LCBmdW5jdGlvbiAoa2V5LCBzb3J0SXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdChzb3J0SXRlbSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRJdGVtLmhhc093blByb3BlcnR5KCdmaWVsZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0SXRlbS5oYXNPd25Qcm9wZXJ0eSgnb3JkZXInKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHNvcnRJdGVtLmZpZWxkID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHNvcnRJdGVtLm9yZGVyID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5maWVsZCA9PT0gc29ydEl0ZW0uZmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0Q29sdW1uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzb3J0SXRlbS5maWVsZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogc29ydEl0ZW0ub3JkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY29sdW1uRWxlbWVudCA9IHRoZWFkLmZpbmQoJ1tkYXRhLWZpZWxkPVwiJyArIG9wdGlvbnMuZmllbGQgKyAnXCJdJyk7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5FbGVtZW50LmZpbmQoJy5jb3JldWktdGFibGVfX2NvbHVtbi1zb3J0JykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNvcnRDb2x1bW4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc29ydENvbHVtbi5vcmRlciA9PT0gJ2FzYycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uRWxlbWVudC5hcHBlbmQoJzxpIGNsYXNzPVwiY29yZXVpLXRhYmxlX19jb2x1bW4tc29ydCBiaSBiaS1zb3J0LWRvd24tYWx0XCI+PC9pPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbkVsZW1lbnQuYXBwZW5kKCc8aSBjbGFzcz1cImNvcmV1aS10YWJsZV9fY29sdW1uLXNvcnQgYmkgYmktc29ydC1kb3duXCI+PC9pPicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LTQsNC90L3Ri9GFINC40Lcg0YXRgNCw0L3QuNC70LjRidCwXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZFxyXG4gICAgICogQHJldHVybiB7b2JqZWN0fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFN0b3JhZ2U6IGZ1bmN0aW9uICh0YWJsZUlkKSB7XHJcblxyXG4gICAgICAgIGxldCBzdG9yYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvcmV1aV90YWJsZScpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0b3JhZ2UgPT09ICdzdHJpbmcnICYmIHN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2UgPSBKU09OLnBhcnNlKHN0b3JhZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHN0b3JhZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlSWQgJiYgdHlwZW9mIHRhYmxlSWQgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKHN0b3JhZ2UuaGFzT3duUHJvcGVydHkodGFibGVJZCkgPyBzdG9yYWdlW3RhYmxlSWRdIDogbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdG9yYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCh0L7RhdGA0LDQvdC10L3QuNC1INC00LDQvdC90YvRhSDQsiDRhdGA0LDQvdC40LvQuNGJ0LVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIHRhYmxlSWRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fG51bGx9IHN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgc2V0U3RvcmFnZTogZnVuY3Rpb24gKHRhYmxlSWQsIHN0b3JhZ2UpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YWJsZUlkICE9PSAnc3RyaW5nJyB8fCAhIHRhYmxlSWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHN0b3JhZ2VBbGwgPSB0aGlzLmdldFN0b3JhZ2UoKTtcclxuXHJcbiAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qoc3RvcmFnZUFsbCkpIHtcclxuICAgICAgICAgICAgaWYgKHN0b3JhZ2VBbGwuaGFzT3duUHJvcGVydHkodGFibGVJZCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZUFsbFt0YWJsZUlkXSA9IHN0b3JhZ2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzdG9yYWdlQWxsW3RhYmxlSWRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdG9yYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9yYWdlQWxsW3RhYmxlSWRdID0gc3RvcmFnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NvcmV1aV90YWJsZScsIEpTT04uc3RyaW5naWZ5KHN0b3JhZ2VBbGwgfHwge30pKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0L7Qu9GPINC40Lcg0YXRgNCw0L3QuNC70LjRidCwXHJcbiAgICAgKiBAcGFyYW0gdGFibGVJZFxyXG4gICAgICogQHBhcmFtIGZpZWxkXHJcbiAgICAgKiBAcmV0dXJuIHsqfG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFN0b3JhZ2VGaWVsZDogZnVuY3Rpb24gKHRhYmxlSWQsIGZpZWxkKSB7XHJcblxyXG4gICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5nZXRTdG9yYWdlKHRhYmxlSWQpIHx8IHt9O1xyXG5cclxuICAgICAgICByZXR1cm4gc3RvcmFnZS5oYXNPd25Qcm9wZXJ0eShmaWVsZClcclxuICAgICAgICAgICAgPyBzdG9yYWdlW2ZpZWxkXVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCh0L7RhdGA0LDQvdC10L3QuNC1INC/0L7Qu9GPINCyINGF0YDQsNC90LjQu9C40YnQtVxyXG4gICAgICogQHBhcmFtIHRhYmxlSWRcclxuICAgICAqIEBwYXJhbSBmaWVsZFxyXG4gICAgICogQHBhcmFtIGRhdGFcclxuICAgICAqL1xyXG4gICAgc2V0U3RvcmFnZUZpZWxkOiBmdW5jdGlvbiAodGFibGVJZCwgZmllbGQsIGRhdGEpIHtcclxuXHJcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLmdldFN0b3JhZ2UodGFibGVJZCkgfHwge307XHJcblxyXG4gICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChzdG9yYWdlLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHN0b3JhZ2VbZmllbGRdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0b3JhZ2VbZmllbGRdID0gZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RvcmFnZSh0YWJsZUlkLCBzdG9yYWdlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29yZXVpVGFibGVQcml2YXRlOyIsImltcG9ydCBjb3JldWlUYWJsZVJlbmRlciBmcm9tIFwiLi9jb3JldWkudGFibGUucmVuZGVyXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVByaXZhdGUgZnJvbSBcIi4vY29yZXVpLnRhYmxlLnByaXZhdGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVGVtcGxhdGVzIGZyb20gXCIuL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsIGZyb20gXCIuL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuXHJcblxyXG5sZXQgY29yZXVpVGFibGVFbGVtZW50cyA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQutC+0L3RgtC10LnQvdC10YDQsCDRgtCw0LHQu9C40YbRi1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqIEByZXR1cm4ge2pRdWVyeX1cclxuICAgICAqL1xyXG4gICAgZ2V0Q29udGFpbmVyOiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXInKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC+0LHQtdGA0YLQutC4INGC0LDQsdC70LjRhtGLXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZFxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fVxyXG4gICAgICovXHJcbiAgICBnZXRMb2NrOiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlLWxvY2snKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC+0LHQtdGA0YLQutC4INGC0LDQsdC70LjRhtGLXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZFxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fVxyXG4gICAgICovXHJcbiAgICBnZXRXcmFwcGVyOiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlX193cmFwcGVyJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9C+0LjRgdC60L7QstC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqIEByZXR1cm4ge2pRdWVyeX1cclxuICAgICAqL1xyXG4gICAgZ2V0U2VhcmNoQ29udGFpbmVyOiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlX193cmFwcGVyID4gLmNvcmV1aS10YWJsZV9fc2VhcmNoJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9C+0LjRgdC60L7QstC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqIEByZXR1cm4ge2pRdWVyeX1cclxuICAgICAqL1xyXG4gICAgZ2V0Q29sdW1uc0NvbnRhaW5lcjogZnVuY3Rpb24gKHRhYmxlSWQpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICQoJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlciA+IC5jb3JldWktdGFibGVfX2NvbHVtbnMnKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC60L7QvdGC0LXQudC90LXRgNCwINC/0L7QuNGB0LrQvtCy0L7Qs9C+INC60L7QvdGC0YDQvtC70LBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udHJvbElkXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIGdldFNlYXJjaENvbnRyb2w6IGZ1bmN0aW9uICh0YWJsZUlkLCBjb250cm9sSWQpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICQoJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlciA+IC5jb3JldWktdGFibGVfX3NlYXJjaCAuc2VhcmNoLWNvbnRyb2wtJyArIGNvbnRyb2xJZCk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQutC+0L3RgtC10LnQvdC10YDQsCDQutC+0L3RgtGA0L7Qu9CwXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRyb2xJZFxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fVxyXG4gICAgICovXHJcbiAgICBnZXRDb250cm9sOiBmdW5jdGlvbiAodGFibGVJZCwgY29udHJvbElkKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAkKCcjY29yZXVpLXRhYmxlLScgKyB0YWJsZUlkICsgJyAgI2NvcmV1aS10YWJsZS1jb250cm9sLScgKyBjb250cm9sSWQpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0YLQsNCx0LvQuNGG0YtcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIGdldFRhYmxlOiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlX193cmFwcGVyID4gdGFibGUnKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INGC0LXQu9CwINGC0LDQsdC70LjRhtGLXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZFxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fVxyXG4gICAgICovXHJcbiAgICBnZXRUYWJsZVRib2R5OiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keScpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQsNCz0L7Qu9C+0LLQutC+0LIg0YLQsNCx0LvQuNGG0YtcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIGdldFRhYmxlVGhlYWQ6IGZ1bmN0aW9uICh0YWJsZUlkKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAkKCcjY29yZXVpLXRhYmxlLScgKyB0YWJsZUlkICsgJyA+IC5jb3JldWktdGFibGVfX2NvbnRhaW5lciA+IC5jb3JldWktdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRoZWFkJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDRj9GH0LXQtdC6INGBINGB0L7RgNGC0LjRgNC+0LLQutC+0Lkg0L/QviDRgtCw0LHQu9C40YbQtVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqIEByZXR1cm4ge2pRdWVyeX1cclxuICAgICAqL1xyXG4gICAgZ2V0VGFibGVTb3J0YWJsZTogZnVuY3Rpb24gKHRhYmxlSWQpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICQoJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGhlYWQgPiB0ciA+IHRkLmNvcmV1aS10YWJsZV9fc29ydGFibGUnKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INGB0YLRgNC+0Log0LfQsNC/0LjRgdC10LlcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIGdldFRyUmVjb3JkczogZnVuY3Rpb24gKHRhYmxlSWQpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICQoJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGJvZHkgPiB0ci5jb3JldWktdGFibGVfX3JlY29yZCcpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0Y3Qu9C10LzQtdC90YLQsCDRgdGC0YDQvtC60Lgg0L/QviDQutC70Y7Rh9GDXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZFxyXG4gICAgICogQHBhcmFtIHtpbnR9ICAgIGluZGV4XHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIGdldFRyQnlJbmRleDogZnVuY3Rpb24gKHRhYmxlSWQsIGluZGV4KSB7XHJcblxyXG4gICAgICAgIHJldHVybiAkKCcjY29yZXVpLXRhYmxlLScgKyB0YWJsZUlkICsgJyA+IC5jb3JldWktdGFibGVfX2NvbnRhaW5lciA+IC5jb3JldWktdGFibGVfX3dyYXBwZXIgPiB0YWJsZSA+IHRib2R5ID4gdHJbZGF0YS1yZWNvcmQtaW5kZXg9XCInICsgaW5kZXggKyAnXCJdJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQutC+0L3RgtC10L3RgtCwINC/0L7QtCDRgdGC0YDQvtC60L7QuVxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHJlY29yZEVsZW1lbnRcclxuICAgICAqIEByZXR1cm4ge2pRdWVyeX1cclxuICAgICAqL1xyXG4gICAgZ2V0RXhwYW5kUm93OiBmdW5jdGlvbiAocmVjb3JkRWxlbWVudCkge1xyXG5cclxuICAgICAgICByZXR1cm4gcmVjb3JkRWxlbWVudC5uZXh0KCkuaGFzQ2xhc3MoJ2NvcmV1aS10YWJsZV9fcmVjb3JkLWV4cGFuZGVkJylcclxuICAgICAgICAgICAgPyByZWNvcmRFbGVtZW50Lm5leHQoKVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCU0L7QsdCw0LLQu9C10L3QuNC1INC60L7QvdGC0LXQvdGC0LAg0L/QvtC0INGB0YLRgNC+0LrQvtC5XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgdGFibGVcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAgICAgICByZWNvcmRFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gY29udGVudFxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fVxyXG4gICAgICovXHJcbiAgICBhZGRFeHBhbmRSb3c6IGZ1bmN0aW9uICh0YWJsZSwgcmVjb3JkRWxlbWVudCwgY29udGVudCkge1xyXG5cclxuICAgICAgICBsZXQgZXhwYW5kUmVjb3JkID0gY29yZXVpVGFibGVSZW5kZXIucmVuZGVyRXhwYW5kKHRhYmxlLCBjb250ZW50LCAncmVjb3JkX2V4cGFuZF9zaG93Jyk7XHJcblxyXG4gICAgICAgIHJlY29yZEVsZW1lbnQuYWZ0ZXIoZXhwYW5kUmVjb3JkKTtcclxuICAgICAgICByZWNvcmRFbGVtZW50Lm5leHQoKS5zaG93KCdmYXN0Jyk7XHJcbiAgICAgICAgcmVjb3JkRWxlbWVudC5hZGRDbGFzcygncmVjb3JkLWV4cGFuZGVkJyk7XHJcblxyXG4gICAgICAgIGxldCByZWNvcmRJbmRleCA9IHJlY29yZEVsZW1lbnQuZGF0YSgncmVjb3JkLWluZGV4Jyk7XHJcblxyXG4gICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0YWJsZSwgJ3JlY29yZF9leHBhbmRfc2hvdycsIFtyZWNvcmRJbmRleF0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQodC60YDRi9GC0LjQtSDQutC+0L3RgtC10L3RgtCwINC/0L7QtCDRgdGC0YDQvtC60L7QuVxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHJlY29yZEV4cGFuZGVkXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIGhpZGVFeHBhbmRSb3c6IGZ1bmN0aW9uIChyZWNvcmRFeHBhbmRlZCkge1xyXG5cclxuICAgICAgICByZWNvcmRFeHBhbmRlZC5oaWRlKCdmYXN0JylcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC60LDQtyDQutC+0L3RgtC10L3RgtCwINC/0L7QtCDRgdGC0YDQvtC60L7QuVxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHJlY29yZEV4cGFuZGVkXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIHNob3dFeHBhbmRSb3c6IGZ1bmN0aW9uIChyZWNvcmRFeHBhbmRlZCkge1xyXG5cclxuICAgICAgICByZWNvcmRFeHBhbmRlZC5zaG93KCdmYXN0JylcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPQtNCw0LvQtdC90LjQtSDQutC+0L3RgtC10L3RgtCwINC/0L7QtCDRgdGC0YDQvtC60L7QuVxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHJlY29yZEV4cGFuZGVkXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUV4cGFuZFJvdzogZnVuY3Rpb24gKHJlY29yZEV4cGFuZGVkKSB7XHJcblxyXG4gICAgICAgIHJlY29yZEV4cGFuZGVkLmhpZGUoJ2Zhc3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INCy0YvQsdGA0LDQvdC90YvRhSDQvdCwINGC0LDQsdC70LjRhtC1INGN0LvQtdC80LXQvdGC0L7QslxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqIEByZXR1cm4ge0FycmF5fVxyXG4gICAgICovXHJcbiAgICBnZXRTZWxlY3RlZEluZGV4ZXM6IGZ1bmN0aW9uICh0YWJsZUlkKSB7XHJcblxyXG4gICAgICAgIGxldCBpbmRleGVzID0gW107XHJcblxyXG4gICAgICAgICQoJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlciA+IHRhYmxlID4gdGJvZHkgPiB0ci5jb3JldWktdGFibGVfX3JlY29yZCA+IHRkLmNvcmV1aS10YWJsZV9fc2VsZWN0X2NvbnRhaW5lciA+IC5jb3JldWktdGFibGVfX3NlbGVjdDpjaGVja2VkJylcclxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGtleSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKCQoZWxlbWVudCkudmFsKCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGluZGV4ZXM7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQstGL0LHRgNCw0L3QvdGL0YUg0L3QsCDRgtCw0LHQu9C40YbQtSDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgZ2V0Um93c1N3aXRjaGVzOiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlX193cmFwcGVyID4gdGFibGUgPiB0Ym9keSA+IHRyLmNvcmV1aS10YWJsZV9fcmVjb3JkID4gdGQuY29yZXVpLXRhYmxlX19zd2l0Y2hfY29udGFpbmVyJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDRjdC70LXQvNC10L3RgtC+0LIg0LLRi9Cx0L7RgNCwINGB0YLRgNC+0LpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgZ2V0Um93c1NlbGVjdHM6IGZ1bmN0aW9uICh0YWJsZUlkKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAkKCcjY29yZXVpLXRhYmxlLScgKyB0YWJsZUlkICsgJyA+IC5jb3JldWktdGFibGVfX2NvbnRhaW5lciA+IC5jb3JldWktdGFibGVfX3dyYXBwZXIgID4gdGFibGUgPiB0Ym9keSA+IHRyLmNvcmV1aS10YWJsZV9fcmVjb3JkID4gdGQuY29yZXVpLXRhYmxlX19zZWxlY3RfY29udGFpbmVyJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDRjdC70LXQvNC10L3RgtCwINC00LvRjyDQstGL0LHQvtGA0LAg0LLRgdC10YUg0YHRgtGA0L7QulxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqIEByZXR1cm4ge0FycmF5fVxyXG4gICAgICovXHJcbiAgICBnZXRSb3dzU2VsZWN0QWxsOiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlX193cmFwcGVyICA+IHRhYmxlID4gdGhlYWQgPiB0ciA+IHRkIC5jb3JldWktdGFibGVfX3NlbGVjdC1hbGwnKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INGN0LvQtdC80LXQvdGC0L7QsiDQtNC70Y8g0YDQsNGB0LrRgNGL0YLQuNGPINGP0YfQtdC10LpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgZ2V0Tm9XcmFwVG9nZ2xlczogZnVuY3Rpb24gKHRhYmxlSWQpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICQoJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlciAgPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZC5jb3JldWlfdGFibGVfX25vLXdyYXAgPiBpLnRvZ2dsZScpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktGL0LTQtdC70LXQvdC40LUg0YHRgtGA0L7QutC4INCyINGC0LDQsdC70LjRhtC1XHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gdHJcclxuICAgICAqL1xyXG4gICAgc2VsZWN0VHIodHIpIHtcclxuXHJcbiAgICAgICAgdHIuYWRkQ2xhc3MoJ3RhYmxlLXByaW1hcnknKTtcclxuICAgICAgICAkKCcuY29yZXVpLXRhYmxlX19zZWxlY3QnLCB0cikucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktGL0LTQtdC70LXQvdC40LUg0LLRgdC10YUg0YHRgtGA0L7QuiDQsiDRgtCw0LHQu9C40YbQtVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqL1xyXG4gICAgc2VsZWN0VHJBbGwodGFibGVJZCkge1xyXG5cclxuICAgICAgICBsZXQgdGFibGVDb250YWluZXIgPSAnI2NvcmV1aS10YWJsZS0nICsgdGFibGVJZCArICcgPiAuY29yZXVpLXRhYmxlX19jb250YWluZXIgPiAuY29yZXVpLXRhYmxlX193cmFwcGVyID4gdGFibGUnO1xyXG5cclxuICAgICAgICAkKHRhYmxlQ29udGFpbmVyICsgJyA+IHRoZWFkID4gdHIgPiB0ZCA+IC5jb3JldWktdGFibGVfX3NlbGVjdC1hbGwnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgJCh0YWJsZUNvbnRhaW5lciArICcgPiB0Ym9keSA+IHRyLmNvcmV1aS10YWJsZV9fcmVjb3JkJykuYWRkQ2xhc3MoJ3RhYmxlLXByaW1hcnknKTtcclxuICAgICAgICAkKHRhYmxlQ29udGFpbmVyICsgJyA+IHRib2R5ID4gdHIuY29yZXVpLXRhYmxlX19yZWNvcmQgPiB0ZCA+IC5jb3JldWktdGFibGVfX3NlbGVjdCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KHQvdGP0YLQuNC1INCy0YvQtNC10LvQtdC90LjQtSDRgdGC0YDQvtC60Lgg0LIg0YLQsNCx0LvQuNGG0LVcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB0clxyXG4gICAgICovXHJcbiAgICB1bnNlbGVjdFRyKHRyKSB7XHJcblxyXG4gICAgICAgICQodHIpLnJlbW92ZUNsYXNzKCd0YWJsZS1wcmltYXJ5Jyk7XHJcbiAgICAgICAgJCgnLmNvcmV1aS10YWJsZV9fc2VsZWN0JywgdHIpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCh0L3Rj9GC0LjQtSDQstGL0LTQtdC70LXQvdC40LUg0YHQviDQstGB0LXRhSDRgdGC0YDQvtC6INCyINGC0LDQsdC70LjRhtC1XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZFxyXG4gICAgICovXHJcbiAgICB1bnNlbGVjdFRyQWxsKHRhYmxlSWQpIHtcclxuXHJcbiAgICAgICAgbGV0IHRhYmxlQ29udGFpbmVyID0gJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlciA+IHRhYmxlJztcclxuXHJcbiAgICAgICAgJCh0YWJsZUNvbnRhaW5lciArICcgPiB0aGVhZCA+IHRyID4gdGQgPiAuY29yZXVpLXRhYmxlX19zZWxlY3QtYWxsJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAkKHRhYmxlQ29udGFpbmVyICsgJyA+IHRib2R5ID4gdHIuY29yZXVpLXRhYmxlX19yZWNvcmQnKS5yZW1vdmVDbGFzcygndGFibGUtcHJpbWFyeScpO1xyXG4gICAgICAgICQodGFibGVDb250YWluZXIgKyAnID4gdGJvZHkgPiB0ci5jb3JldWktdGFibGVfX3JlY29yZCA+IHRkLmNvcmV1aS10YWJsZV9fc2VsZWN0X2NvbnRhaW5lciA+IC5jb3JldWktdGFibGVfX3NlbGVjdCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0LjQutGB0LDRhtC40Y8g0LrQvtC70L7QvdC+0Log0YHQu9C10LLQsFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWRcclxuICAgICAqL1xyXG4gICAgZml4ZWRDb2xzTGVmdDogZnVuY3Rpb24gKHRhYmxlSWQpIHtcclxuXHJcbiAgICAgICAgbGV0IHRhYmxlV3JhcHBlciA9ICcjY29yZXVpLXRhYmxlLScgKyB0YWJsZUlkICsgJyA+IC5jb3JldWktdGFibGVfX2NvbnRhaW5lciA+IC5jb3JldWktdGFibGVfX3dyYXBwZXInO1xyXG4gICAgICAgIGxldCBjb2xPZmZzZXQgICAgPSAwO1xyXG5cclxuICAgICAgICAkKHRhYmxlV3JhcHBlciArICcgPiB0YWJsZSA+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRkLmNvcmV1aS10YWJsZV9fZml4ZWRfbGVmdCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAkKHRoaXMpLmluZGV4KCkgKyAxO1xyXG5cclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRhYmxlV3JhcHBlciArICcgPiB0YWJsZSA+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRkOm50aC1jaGlsZCgnICsgaW5kZXggKyAnKScpLmNzcygnbGVmdCcsIGNvbE9mZnNldCArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgJCh0YWJsZVdyYXBwZXIgKyAnID4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGQ6bnRoLWNoaWxkKCcgKyBpbmRleCArICcpJylcclxuICAgICAgICAgICAgICAgICAgICAvLy5hZGRDbGFzcygnY29yZXVpLXRhYmxlX19maXhlZF9sZWZ0JylcclxuICAgICAgICAgICAgICAgICAgICAuY3NzKCdsZWZ0JywgY29sT2Zmc2V0ICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbE9mZnNldCArPSAkKHRoaXMpLm91dGVyV2lkdGgoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQuNC60YHQsNGG0LjRjyDQutC+0LvQvtC90L7QuiDRgdC/0YDQsNCy0LBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZUlkXHJcbiAgICAgKi9cclxuICAgIGZpeGVkQ29sc1JpZ2h0OiBmdW5jdGlvbiAodGFibGVJZCkge1xyXG5cclxuICAgICAgICBsZXQgdGFibGVXcmFwcGVyID0gJyNjb3JldWktdGFibGUtJyArIHRhYmxlSWQgKyAnID4gLmNvcmV1aS10YWJsZV9fY29udGFpbmVyID4gLmNvcmV1aS10YWJsZV9fd3JhcHBlcic7XHJcbiAgICAgICAgbGV0IGNvbE9mZnNldCAgICA9IDA7XHJcblxyXG4gICAgICAgICQoJCh0YWJsZVdyYXBwZXIgKyAnID4gdGFibGUgPiB0aGVhZCA+IHRyOmxhc3QtY2hpbGQgPiB0ZC5jb3JldWktdGFibGVfX2ZpeGVkX3JpZ2h0JykuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ICA9ICQodGhpcykuaW5kZXgoKSArIDE7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICQodGFibGVXcmFwcGVyICsgJyA+IHRhYmxlID4gdGhlYWQgPiB0cjpsYXN0LWNoaWxkID4gdGQ6bnRoLWNoaWxkKCcgKyBpbmRleCArICcpJykuY3NzKCdyaWdodCcsIGNvbE9mZnNldCArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgJCh0YWJsZVdyYXBwZXIgKyAnID4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGQ6bnRoLWNoaWxkKCcgKyBpbmRleCArICcpJylcclxuICAgICAgICAgICAgICAgICAgICAvLy5hZGRDbGFzcygnY29yZXVpLXRhYmxlX19maXhlZF9sZWZ0JylcclxuICAgICAgICAgICAgICAgICAgICAuY3NzKCdyaWdodCcsIGNvbE9mZnNldCArICdweCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb2xPZmZzZXQgKz0gJCh0aGlzKS5vdXRlcldpZHRoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvcmV1aVRhYmxlRWxlbWVudHM7IiwiXHJcbmltcG9ydCAnLi4vLi4vbm9kZV9tb2R1bGVzL2Vqcy9lanMubWluJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgICAgZnJvbSAnLi9jb3JldWkudGFibGUudGVtcGxhdGVzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgICAgZnJvbSBcIi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVJlbmRlciAgIGZyb20gXCIuL2NvcmV1aS50YWJsZS5yZW5kZXJcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVByaXZhdGUgIGZyb20gXCIuL2NvcmV1aS50YWJsZS5wcml2YXRlXCI7XHJcblxyXG5cclxubGV0IGNvcmV1aVRhYmxlSW5zdGFuY2UgPSB7XHJcblxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICBjbGFzczogJycsXHJcbiAgICAgICAgcHJpbWFyeUtleTogJ2lkJyxcclxuICAgICAgICBsYW5nOiAnZW4nLFxyXG4gICAgICAgIGxhbmdMaXN0OiB7fSxcclxuICAgICAgICB3aWR0aDogbnVsbCxcclxuICAgICAgICBtaW5XaWR0aDogbnVsbCxcclxuICAgICAgICBtYXhXaWR0aDogbnVsbCxcclxuICAgICAgICBoZWlnaHQ6IG51bGwsXHJcbiAgICAgICAgbWluSGVpZ2h0OiBudWxsLFxyXG4gICAgICAgIG5heEhlaWdodDogbnVsbCxcclxuICAgICAgICBvdmVyZmxvdzogZmFsc2UsXHJcbiAgICAgICAgcGFnZTogMSxcclxuICAgICAgICByZWNvcmRzUGVyUGFnZTogMjUsXHJcbiAgICAgICAgdGhlYWRUb3A6IDAsXHJcbiAgICAgICAgc2F2ZVN0YXRlOiBmYWxzZSxcclxuICAgICAgICBub0JvcmRlcjogZmFsc2UsXHJcbiAgICAgICAgbm9XcmFwOiBmYWxzZSxcclxuICAgICAgICBub1dyYXBUb2dnbGU6IGZhbHNlLFxyXG4gICAgICAgIHNob3dIZWFkZXJzOiB0cnVlLFxyXG5cclxuICAgICAgICByZWNvcmRzUmVxdWVzdDoge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICB1cmw6IG51bGwsICAvLyAnL21vZC9pbmRleC9vcmRlcnMvP3BhZ2U9W3BhZ2VdJ1xyXG4gICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICdwYWdlJyxcclxuICAgICAgICAgICAgICAgIGNvdW50OiAnY291bnQnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnQ6ICdzdGFydCcsXHJcbiAgICAgICAgICAgICAgICBlbmQ6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgc29ydDogJ3NvcnQnLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoOiAnc2VhcmNoJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdyb3VwOiB7XHJcbiAgICAgICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgICAgICBhdHRyOiB7fSxcclxuICAgICAgICAgICAgcmVuZGVyOiBudWxsXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb25DbGljazogbnVsbCxcclxuICAgICAgICBvbkNsaWNrVXJsOiBudWxsLFxyXG4gICAgICAgIHNvcnQ6IFtdLFxyXG4gICAgICAgIGhlYWRlcjogW10sXHJcbiAgICAgICAgZm9vdGVyOiBbXSxcclxuICAgICAgICBjb2x1bW5zSGVhZGVyOiBbXSxcclxuICAgICAgICBzZWFyY2g6IHtcclxuICAgICAgICAgICAgbGFiZWxXaWR0aDogMjAwLFxyXG4gICAgICAgICAgICBjb250cm9sczogW10sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb2x1bW5zOiBbXSxcclxuICAgICAgICBjb2x1bW5zRm9vdGVyOiBbXSxcclxuICAgICAgICByZWNvcmRzOiBbXVxyXG4gICAgfSxcclxuXHJcbiAgICBfaWQ6ICcnLFxyXG4gICAgX3BhZ2U6IDEsXHJcbiAgICBfcmVjb3Jkc0luZGV4OiAxLFxyXG4gICAgX3JlY29yZHNQZXJQYWdlOiAyNSxcclxuICAgIF9yZWNvcmRzVG90YWw6IDAsXHJcbiAgICBfcmVjb3Jkc051bWJlcjogMSxcclxuICAgIF9zZXE6IDEsXHJcbiAgICBfaXNSZWNvcmRzUmVxdWVzdDogZmFsc2UsXHJcbiAgICBfY291bnRDb2x1bW5zU2hvdzogMCxcclxuXHJcbiAgICBfcmVjb3JkczogW10sXHJcbiAgICBfc29ydDogW10sXHJcbiAgICBfY29sdW1uczogW10sXHJcbiAgICBfc2VhcmNoOiBbXSxcclxuICAgIF9maWx0ZXJzOiBbXSxcclxuICAgIF9jb250cm9sczogW10sXHJcbiAgICBfY29udHJvbHNQb3NpdGlvbnM6IHtcclxuICAgICAgICBoZWFkZXI6IFtdLFxyXG4gICAgICAgIGZvb3RlcjogW10sXHJcbiAgICB9LFxyXG4gICAgX2V2ZW50czoge30sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBfaW5pdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl9ldmVudHMgID0ge307XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5wYWdlID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYWdlID0gdGhpcy5fb3B0aW9ucy5wYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5yZWNvcmRzUGVyUGFnZSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVjb3Jkc1BlclBhZ2UgPSB0aGlzLl9vcHRpb25zLnJlY29yZHNQZXJQYWdlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faXNSZWNvcmRzUmVxdWVzdCA9IChcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgncmVjb3Jkc1JlcXVlc3QnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QpICYmXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QuaGFzT3duUHJvcGVydHkoJ3VybCcpICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnVybCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC51cmwgIT09ICcnICYmXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QudXJsICE9PSAnIydcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faXNSZWNvcmRzUmVxdWVzdCkge1xyXG4gICAgICAgICAgICBpZiAoICEgdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5oYXNPd25Qcm9wZXJ0eSgnbWV0aG9kJykgfHxcclxuICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0Lm1ldGhvZCAhPT0gJ3N0cmluZydcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0Lm1ldGhvZCA9ICdHRVQnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9vcHRpb25zLnJlY29yZHMpKSB7XHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5zZXRSZWNvcmRzKHRoaXMsIHRoaXMuX29wdGlvbnMucmVjb3Jkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQutC+0LvQvtC90L7QulxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb3B0aW9ucy5jb2x1bW5zID09PSAnb2JqZWN0JyAmJlxyXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuX29wdGlvbnMuY29sdW1ucykgJiZcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jb2x1bW5zLmxlbmd0aCA+IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLmluaXRDb2x1bW5zKHRoaXMsIHRoaXMuX29wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/QvtC40YHQutC+0LLRi9GFINC/0L7Qu9C10LlcclxuICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLnNlYXJjaCkgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuX29wdGlvbnMuc2VhcmNoLmNvbnRyb2xzID09PSAnb2JqZWN0JyAmJlxyXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuX29wdGlvbnMuc2VhcmNoLmNvbnRyb2xzKSAmJlxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLnNlYXJjaC5jb250cm9scy5sZW5ndGggPiAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5pbml0U2VhcmNoKHRoaXMsIHRoaXMuX29wdGlvbnMuc2VhcmNoLmNvbnRyb2xzKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQutC+0L3RgtGA0L7Qu9C+0LIg0Lgg0YTQuNC70YzRgtGA0L7QslxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdoZWFkZXInKSAmJlxyXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuX29wdGlvbnMuaGVhZGVyKSAmJlxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmhlYWRlci5sZW5ndGggPiAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5pbml0Q29udHJvbHModGhpcywgdGhpcy5fb3B0aW9ucy5oZWFkZXIsICdoZWFkZXInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdmb290ZXInKSAmJlxyXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuX29wdGlvbnMuZm9vdGVyKSAmJlxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmZvb3Rlci5sZW5ndGggPiAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5pbml0Q29udHJvbHModGhpcywgdGhpcy5fb3B0aW9ucy5mb290ZXIsICdmb290ZXInKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyDQodC+0YDRgtC40YDQvtCy0LrQsFxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNhdmVTdGF0ZSAmJiB0aGlzLl9vcHRpb25zLmlkKSB7XHJcbiAgICAgICAgICAgIGxldCBzb3J0ID0gY29yZXVpVGFibGVQcml2YXRlLmdldFN0b3JhZ2VGaWVsZCh0aGlzLmdldElkKCksICdzb3J0Jyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3J0KSAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5pbml0U29ydCh0aGlzLCBzb3J0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVjb3Jkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjb3JkcyA9IGNvcmV1aVRhYmxlUHJpdmF0ZS5zb3J0UmVjb3Jkc0J5RmllbGRzKHRoaXMuX3JlY29yZHMsIHRoaXMuX3NvcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdzb3J0JykgJiZcclxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5fb3B0aW9ucy5zb3J0KSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5zb3J0Lmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuaW5pdFNvcnQodGhpcywgdGhpcy5fb3B0aW9ucy5zb3J0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40Lkg0YLQsNCx0LvQuNGG0YtcclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vINCf0L7QutCw0Lcg0YHRgtGA0L7QulxyXG4gICAgICAgIHRoaXMub24oJ3JlY29yZHNfc2hvdycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIC8vINCf0LXRgNC10YXQvtC0INC/0L4g0YHRgdGL0LvQutC1XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhhdC5fb3B0aW9ucy5vbkNsaWNrVXJsID09PSAnc3RyaW5nJyAmJiB0aGF0Ll9vcHRpb25zLm9uQ2xpY2tVcmwpIHtcclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0VHJSZWNvcmRzKHRoYXQuZ2V0SWQoKSkuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWNvcmRLZXkgPSAkKHRoaXMpLmRhdGEoJ3JlY29yZC1pbmRleCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWNvcmQgICAgPSB0aGF0LmdldFJlY29yZEJ5SW5kZXgocmVjb3JkS2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhIHJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhhdC5fb3B0aW9ucy5vbkNsaWNrVXJsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2gocmVjb3JkLmRhdGEsIGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkUXVvdGUgPSBmaWVsZC5yZXBsYWNlKC8oW15cXHdcXGRdKS9nLCAnXFxcXCQxJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cCgnXFxcXFsnICsgZmllbGRRdW90ZSArICdcXFxcXScsICdnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodXJsICYmIHVybCAhPT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vINCh0L7QsdGL0YLQuNC1INC90LDQttCw0YLQuNGPINC90LAg0YHRgtGA0L7QutGDXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhhdC5fb3B0aW9ucy5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFRyUmVjb3Jkcyh0aGF0LmdldElkKCkpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWNvcmRLZXkgPSAkKHRoaXMpLmRhdGEoJ3JlY29yZC1pbmRleCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWNvcmQgICAgPSB0aGF0LmdldFJlY29yZEJ5SW5kZXgocmVjb3JkS2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhIHJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9vcHRpb25zLm9uQ2xpY2soZXZlbnQsIHJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g0KDQsNGB0LrRgNGL0YLQuNC1INGB0YLRgNC+0LrQuFxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZUVsZW1lbnRzLmdldE5vV3JhcFRvZ2dsZXModGhhdC5nZXRJZCgpKS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Lmhhc0NsYXNzKCdzaG93bicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYmktY2FyZXQtdXAtZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2JpLWNhcmV0LWRvd24tZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDbGFzcygnc2hvd24nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYmktY2FyZXQtZG93bi1maWxsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYmktY2FyZXQtdXAtZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnc2hvd24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyDQpNC40LrRgdCw0YbQuNGPINC60L7Qu9C+0L3QvtC6XHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuZml4ZWRDb2xzTGVmdCh0aGF0LmdldElkKCkpXHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuZml4ZWRDb2xzUmlnaHQodGhhdC5nZXRJZCgpKVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8g0J/QvtC60LDQtyDRgtCw0LHQu9C40YbRi1xyXG4gICAgICAgIHRoaXMub24oJ3RhYmxlX3Nob3cnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgc29ydGFibGVDb2x1bW5zID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUYWJsZVNvcnRhYmxlKHRoYXQuZ2V0SWQoKSk7XHJcbiAgICAgICAgICAgIGlmIChzb3J0YWJsZUNvbHVtbnNbMF0pIHtcclxuICAgICAgICAgICAgICAgIHNvcnRhYmxlQ29sdW1ucy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkID0gJCh0aGlzKS5kYXRhKCdmaWVsZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNvcnRpbmcgICAgICA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE9yZGVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCh0aGF0Ll9zb3J0LCBmdW5jdGlvbiAoa2V5LCBzb3J0RmllbGQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQgPT09IHNvcnRGaWVsZC5maWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcmRlciA9IHNvcnRGaWVsZC5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50T3JkZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRpbmcucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiAnYXNjJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50T3JkZXIgPT09ICdhc2MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0aW5nLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBmaWVsZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogJ2Rlc2MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29ydGluZy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc29ydERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNvcnRGaWVsZHMoc29ydGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8g0KHQvtCx0YvRgtC40Y8g0YHQvNC10L3RiyDRgdC+0YHRgtC+0Y/QvdC40Y9cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5zYXZlU3RhdGUgJiYgdGhpcy5fb3B0aW9ucy5pZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uKCdyZWNvcmRzX3NvcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuc2V0U3RvcmFnZUZpZWxkKHRoYXQuZ2V0SWQoKSwgJ3NvcnQnLCB0aGF0Ll9zb3J0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKCdzZWFyY2hfY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLnNldFN0b3JhZ2VGaWVsZCh0aGF0LmdldElkKCksICdzZWFyY2gnLCB0aGF0LmdldFNlYXJjaERhdGEoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignZmlsdGVyc19jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuc2V0U3RvcmFnZUZpZWxkKHRoYXQuZ2V0SWQoKSwgJ2ZpbHRlcnMnLCB0aGF0LmdldEZpbHRlckRhdGEoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbignY29sdW1uc19jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sdW1ucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCh0aGF0Ll9jb2x1bW5zLCBmdW5jdGlvbiAoa2V5LCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29sdW1uT3B0aW9ucyA9IGNvbHVtbi5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBjb2x1bW5PcHRpb25zLmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Nob3c6IGNvbHVtbi5pc1Nob3coKSxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLnNldFN0b3JhZ2VGaWVsZCh0aGF0LmdldElkKCksICdjb2x1bW5zJywgY29sdW1ucyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0aGlzLCAndGFibGVfc2hvdycsIFsgdGhpcyBdKTtcclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ2NvbnRhaW5lcl9zaG93Jyk7XHJcblxyXG4gICAgICAgIC8vINCS0YvQt9C+0LIg0YHQvtCx0YvRgtC40Y8g0L/QvtC60LDQt9CwINGB0YLRgNC+0LpcclxuICAgICAgICBpZiAoICEgdGhpcy5faXNSZWNvcmRzUmVxdWVzdCkge1xyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3JlY29yZHNfc2hvdycsIFsgdGhpcyBdKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgNCwINGC0LDQsdC70LjRhtGLXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC+0L/RhtC40Lkg0YLQsNCx0LvQuNGG0YtcclxuICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxyXG4gICAgICogQHJldHVybnMgeyp9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cclxuICAgICAgICBsZXQgdGhhdCAgICAgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCB3aWR0aFNpemVzICA9IFtdO1xyXG4gICAgICAgIGxldCBoZWlnaHRTaXplcyA9IFtdO1xyXG4gICAgICAgIGxldCBvcHRpb25zICAgICA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGxldCByZW5kZXIgICAgICA9IHtcclxuICAgICAgICAgICAgaGVhZGVyc091dDogW10sXHJcbiAgICAgICAgICAgIGhlYWRlcnNJbjogW10sXHJcbiAgICAgICAgICAgIGZvb3RlcnNJbjogW10sXHJcbiAgICAgICAgICAgIGZvb3RlcnNPdXQ6IFtdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVjb3Jkc1RvdGFsID0gdGhpcy5fcmVjb3Jkcy5sZW5ndGg7XHJcblxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy53aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHVuaXQgPSB0eXBlb2Ygb3B0aW9ucy53aWR0aCA9PT0gJ251bWJlcicgPyAncHgnIDogJyc7XHJcbiAgICAgICAgICAgIHdpZHRoU2l6ZXMucHVzaCgnd2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyB1bml0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLm1pbldpZHRoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgdW5pdCA9IHR5cGVvZiBvcHRpb25zLm1pbldpZHRoID09PSAnbnVtYmVyJyA/ICdweCcgOiAnJztcclxuICAgICAgICAgICAgd2lkdGhTaXplcy5wdXNoKCdtaW4td2lkdGg6JyArIG9wdGlvbnMubWluV2lkdGggKyB1bml0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLm1heFdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgdW5pdCA9IHR5cGVvZiBvcHRpb25zLm1heFdpZHRoID09PSAnbnVtYmVyJyA/ICdweCcgOiAnJztcclxuICAgICAgICAgICAgd2lkdGhTaXplcy5wdXNoKCdtYXgtd2lkdGg6JyArIG9wdGlvbnMubWF4V2lkdGggKyB1bml0KTtcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMub3ZlcmZsb3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHVuaXQgPSB0eXBlb2Ygb3B0aW9ucy5oZWlnaHQgPT09ICdudW1iZXInID8gJ3B4JyA6ICcnO1xyXG4gICAgICAgICAgICBoZWlnaHRTaXplcy5wdXNoKCdoZWlnaHQ6JyArIG9wdGlvbnMuaGVpZ2h0ICsgdW5pdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5taW5IZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCB1bml0ID0gdHlwZW9mIG9wdGlvbnMubWluSGVpZ2h0ID09PSAnbnVtYmVyJyA/ICdweCcgOiAnJztcclxuICAgICAgICAgICAgaGVpZ2h0U2l6ZXMucHVzaCgnbWluLWhlaWdodDonICsgb3B0aW9ucy5taW5IZWlnaHQgKyB1bml0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLm1heEhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHVuaXQgPSB0eXBlb2Ygb3B0aW9ucy5tYXhIZWlnaHQgPT09ICdudW1iZXInID8gJ3B4JyA6ICcnO1xyXG4gICAgICAgICAgICBoZWlnaHRTaXplcy5wdXNoKCdtYXgtaGVpZ2h0OicgKyBvcHRpb25zLm1heEhlaWdodCArIHVuaXQpO1xyXG5cclxuICAgICAgICAgICAgb3B0aW9ucy5vdmVyZmxvdyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vINCS0LXRgNGF0L3QuNC1INGN0LvQtdC80LXQvdGC0Ysg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9jb250cm9sc1Bvc2l0aW9ucy5oZWFkZXIpICYmXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzUG9zaXRpb25zLmhlYWRlci5sZW5ndGggPiAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLl9jb250cm9sc1Bvc2l0aW9ucy5oZWFkZXIsIGZ1bmN0aW9uIChrZXksIGhlYWRlcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRyb2xzTGVmdCAgID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udHJvbHNDZW50ZXIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjb250cm9sc1JpZ2h0ICA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGhlYWRlci5sZWZ0KSAmJiBoZWFkZXIubGVmdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGhlYWRlci5sZWZ0LCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250cm9sUmVuZGVyID0gY29yZXVpVGFibGVSZW5kZXIucmVuZGVyQ29udHJvbCh0aGF0LCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc0xlZnQucHVzaChjb250cm9sUmVuZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGhlYWRlci5jZW50ZXIpICYmIGhlYWRlci5jZW50ZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChoZWFkZXIuY2VudGVyLCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250cm9sUmVuZGVyID0gY29yZXVpVGFibGVSZW5kZXIucmVuZGVyQ29udHJvbCh0aGF0LCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc0NlbnRlci5wdXNoKGNvbnRyb2xSZW5kZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVyLnJpZ2h0KSAmJiBoZWFkZXIucmlnaHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChoZWFkZXIucmlnaHQsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRyb2xSZW5kZXIgPSBjb3JldWlUYWJsZVJlbmRlci5yZW5kZXJDb250cm9sKHRoYXQsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzUmlnaHQucHVzaChjb250cm9sUmVuZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb250cm9sc0xlZnQubGVuZ3RoID4gMCB8fCBjb250cm9sc0NlbnRlci5sZW5ndGggPiAwIHx8IGNvbnRyb2xzUmlnaHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXIudHlwZSA9PT0gJ2luJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVhZGVyQ29udHJvbHMgPSAkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsndGFibGUtY29udHJvbHMtaGVhZGVyLmh0bWwnXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzTGVmdDogY29udHJvbHNMZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzQ2VudGVyOiBjb250cm9sc0NlbnRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1JpZ2h0OiBjb250cm9sc1JpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sc0xlZnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzTGVmdCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckNvbnRyb2xzLmZpbmQoJy5jb3JldWktdGFibGVfX2NvbnRyb2xzX2xlZnQnKS5hcHBlbmQoY29udHJvbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNDZW50ZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzQ2VudGVyLCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ29udHJvbHMuZmluZCgnLmNvcmV1aS10YWJsZV9fY29udHJvbHNfY2VudGVyJykuYXBwZW5kKGNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xzUmlnaHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzUmlnaHQsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJDb250cm9scy5maW5kKCcuY29yZXVpLXRhYmxlX19jb250cm9sc19yaWdodCcpLmFwcGVuZChjb250cm9sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlci5oZWFkZXJzSW4ucHVzaChoZWFkZXJDb250cm9scyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoZWFkZXJDb250cm9scyA9ICQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWyd0YWJsZS1jb250cm9scy1oZWFkZXItb3V0Lmh0bWwnXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzTGVmdDogY29udHJvbHNMZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzQ2VudGVyOiBjb250cm9sc0NlbnRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1JpZ2h0OiBjb250cm9sc1JpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sc0xlZnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzTGVmdCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckNvbnRyb2xzLmZpbmQoJy5jb3JldWktdGFibGVfX2NvbnRyb2xzX2xlZnQnKS5hcHBlbmQoY29udHJvbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNDZW50ZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzQ2VudGVyLCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ29udHJvbHMuZmluZCgnLmNvcmV1aS10YWJsZV9fY29udHJvbHNfY2VudGVyJykuYXBwZW5kKGNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xzUmlnaHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzUmlnaHQsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJDb250cm9scy5maW5kKCcuY29yZXVpLXRhYmxlX19jb250cm9sc19yaWdodCcpLmFwcGVuZChjb250cm9sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlci5oZWFkZXJzT3V0LnB1c2goaGVhZGVyQ29udHJvbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDQndC40LbQvdC40LUg0Y3Qu9C10LzQtdC90YLRiyDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX2NvbnRyb2xzUG9zaXRpb25zLmZvb3RlcikgJiZcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHNQb3NpdGlvbnMuZm9vdGVyLmxlbmd0aCA+IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX2NvbnRyb2xzUG9zaXRpb25zLmZvb3RlciwgZnVuY3Rpb24gKGtleSwgZm9vdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udHJvbHNMZWZ0ICAgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjb250cm9sc0NlbnRlciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRyb2xzUmlnaHQgID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZm9vdGVyLmxlZnQpICYmIGZvb3Rlci5sZWZ0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZm9vdGVyLmxlZnQsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRyb2xSZW5kZXIgPSBjb3JldWlUYWJsZVJlbmRlci5yZW5kZXJDb250cm9sKHRoYXQsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzTGVmdC5wdXNoKGNvbnRyb2xSZW5kZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZm9vdGVyLmNlbnRlcikgJiYgZm9vdGVyLmNlbnRlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZvb3Rlci5jZW50ZXIsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRyb2xSZW5kZXIgPSBjb3JldWlUYWJsZVJlbmRlci5yZW5kZXJDb250cm9sKHRoYXQsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzQ2VudGVyLnB1c2goY29udHJvbFJlbmRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmb290ZXIucmlnaHQpICYmIGZvb3Rlci5yaWdodC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZvb3Rlci5yaWdodCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udHJvbFJlbmRlciA9IGNvcmV1aVRhYmxlUmVuZGVyLnJlbmRlckNvbnRyb2wodGhhdCwgY29udHJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbFJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNSaWdodC5wdXNoKGNvbnRyb2xSZW5kZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xzTGVmdC5sZW5ndGggPiAwIHx8IGNvbnRyb2xzQ2VudGVyLmxlbmd0aCA+IDAgfHwgY29udHJvbHNSaWdodC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvb3Rlci50eXBlID09PSAnaW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb290ZXJDb250cm9scyA9ICQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWyd0YWJsZS1jb250cm9scy1mb290ZXIuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNMZWZ0OiBjb250cm9sc0xlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNDZW50ZXI6IGNvbnRyb2xzQ2VudGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzUmlnaHQ6IGNvbnRyb2xzUmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sc0xlZnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzTGVmdCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlckNvbnRyb2xzLmZpbmQoJy5jb3JldWktdGFibGVfX2NvbnRyb2xzX2xlZnQnKS5hcHBlbmQoY29udHJvbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNDZW50ZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzQ2VudGVyLCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udHJvbHMuZmluZCgnLmNvcmV1aS10YWJsZV9fY29udHJvbHNfY2VudGVyJykuYXBwZW5kKGNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xzUmlnaHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzUmlnaHQsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXJDb250cm9scy5maW5kKCcuY29yZXVpLXRhYmxlX19jb250cm9sc19yaWdodCcpLmFwcGVuZChjb250cm9sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlci5mb290ZXJzSW4ucHVzaChmb290ZXJDb250cm9scyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvb3RlckNvbnRyb2xzID0gJChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3RhYmxlLWNvbnRyb2xzLWZvb3Rlci1vdXQuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNMZWZ0OiBjb250cm9sc0xlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNDZW50ZXI6IGNvbnRyb2xzQ2VudGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzUmlnaHQ6IGNvbnRyb2xzUmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sc0xlZnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzTGVmdCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlckNvbnRyb2xzLmZpbmQoJy5jb3JldWktdGFibGVfX2NvbnRyb2xzX2xlZnQnKS5hcHBlbmQoY29udHJvbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNDZW50ZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzQ2VudGVyLCBmdW5jdGlvbiAoa2V5LCBjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udHJvbHMuZmluZCgnLmNvcmV1aS10YWJsZV9fY29udHJvbHNfY2VudGVyJykuYXBwZW5kKGNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xzUmlnaHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzUmlnaHQsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXJDb250cm9scy5maW5kKCcuY29yZXVpLXRhYmxlX19jb250cm9sc19yaWdodCcpLmFwcGVuZChjb250cm9sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlci5mb290ZXJzT3V0LnB1c2goZm9vdGVyQ29udHJvbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8g0JfQsNCz0YDRg9C30LrQsCDQt9Cw0L/QuNGB0LXQuVxyXG4gICAgICAgIGlmICh0aGlzLl9pc1JlY29yZHNSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub24oJ2NvbnRhaW5lcl9zaG93JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5sb2FkKG9wdGlvbnMucmVjb3Jkc1JlcXVlc3QudXJsLCBvcHRpb25zLnJlY29yZHNSZXF1ZXN0Lm1ldGhvZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBjbGFzc2VzID0gW107XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdub0JvcmRlcicpICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLm5vQm9yZGVyID09PSAnYm9vbGVhbicgJiZcclxuICAgICAgICAgICAgb3B0aW9ucy5ub0JvcmRlclxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goJ2NvcmV1aS10YWJsZV9fbm9fYm9yZGVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IHRhYmxlRWxlbWVudCAgICAgPSBjb3JldWlUYWJsZVJlbmRlci5yZW5kZXJUYWJsZSh0aGlzKTtcclxuICAgICAgICBsZXQgY29udGFpbmVyRWxlbWVudCA9ICQoXHJcbiAgICAgICAgICAgIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3RhYmxlLXdyYXBwZXIuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5faWQsXHJcbiAgICAgICAgICAgICAgICBsYW5nOiB0aGlzLmdldExhbmcoKSxcclxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IGNsYXNzZXMubGVuZ3RoID4gMCA/ICcgJyArIGNsYXNzZXMuam9pbignICcpIDogJycsXHJcbiAgICAgICAgICAgICAgICB3aWR0aFNpemVzOiB3aWR0aFNpemVzLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0U2l6ZXM6IGhlaWdodFNpemVzLFxyXG4gICAgICAgICAgICAgICAgcmVjb3Jkc1RvdGFsOiB0aGlzLl9yZWNvcmRzVG90YWwsXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogISEgb3B0aW9ucy5vdmVyZmxvdyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlbmRlci5oZWFkZXJzT3V0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudC5wcmVwZW5kKHJlbmRlci5oZWFkZXJzT3V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlbmRlci5oZWFkZXJzSW4ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb250YWluZXJFbGVtZW50LmZpbmQoJy5jb3JldWktdGFibGVfX2NvbnRhaW5lcicpLnByZXBlbmQocmVuZGVyLmhlYWRlcnNJbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZW5kZXIuZm9vdGVyc0luLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudC5maW5kKCcuY29yZXVpLXRhYmxlX19jb250YWluZXInKS5hcHBlbmQocmVuZGVyLmZvb3RlcnNJbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZW5kZXIuZm9vdGVyc091dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKHJlbmRlci5mb290ZXJzT3V0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuZmluZCgnLmNvcmV1aS10YWJsZV9fd3JhcHBlcicpLmh0bWwodGFibGVFbGVtZW50KTtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERvbSBlbGVtZW50XHJcbiAgICAgICAgbGV0IGRvbUVsZW1lbnQgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGRvbUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZG9tRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZG9tRWxlbWVudCkge1xyXG4gICAgICAgICAgICAkKGRvbUVsZW1lbnQpLmh0bWwoY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JHQu9C+0LrQuNGA0L7QstC60LAg0YLQsNCx0LvQuNGG0YtcclxuICAgICAqL1xyXG4gICAgbG9jazogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udGFpbmVyID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250YWluZXIodGhpcy5nZXRJZCgpKTtcclxuXHJcbiAgICAgICAgaWYgKGNvbnRhaW5lclswXSAmJiAhIGNvbnRhaW5lci5maW5kKCcuY29yZXVpLXRhYmxlLWxvY2snKVswXSkge1xyXG4gICAgICAgICAgICBsZXQgaHRtbCA9ICBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWyd0YWJsZS1sb2FkZXIuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBsYW5nOiB0aGlzLmdldExhbmcoKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5wcmVwZW5kKGh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KDQsNC30LHQu9C+0LrQuNGA0L7QstC60LAg0YLQsNCx0LvQuNGG0YtcclxuICAgICAqL1xyXG4gICAgdW5sb2NrOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0TG9jayh0aGlzLmdldElkKCkpLmhpZGUoNTAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQl9Cw0LPRgNGD0LfQutCwINGB0YLRgNC+0LpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcclxuICAgICAqL1xyXG4gICAgbG9hZDogZnVuY3Rpb24gKHVybCwgbWV0aG9kKSB7XHJcblxyXG4gICAgICAgIHRoaXMubG9jaygpO1xyXG5cclxuICAgICAgICBsZXQgdGhhdCAgID0gdGhpcztcclxuICAgICAgICBsZXQgcGFyYW1zID0ge307XHJcblxyXG4gICAgICAgIGlmICh1cmwubWF0Y2goL1xcW3BhZ2VcXF0vKSkge1xyXG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFxbcGFnZVxcXS9nLCB0aGlzLl9wYWdlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgcGFyYW1QYWdlID0gY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcykgJiYgdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5wYXJhbXMuaGFzT3duUHJvcGVydHkoJ3BhZ2UnKVxyXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcy5wYWdlXHJcbiAgICAgICAgICAgICAgICA6ICdwYWdlJztcclxuICAgICAgICAgICAgcGFyYW1zW3BhcmFtUGFnZV0gPSB0aGlzLl9wYWdlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHVybC5tYXRjaCgvXFxbY291bnRcXF0vKSkge1xyXG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFxbY291bnRcXF0vZywgdGhpcy5fcmVjb3Jkc1BlclBhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJhbUNvdW50ID0gY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcykgJiYgdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5wYXJhbXMuaGFzT3duUHJvcGVydHkoJ2NvdW50JylcclxuICAgICAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5wYXJhbXMuY291bnRcclxuICAgICAgICAgICAgICAgIDogJ2NvdW50JztcclxuICAgICAgICAgICAgcGFyYW1zW3BhcmFtQ291bnRdID0gdGhpcy5fcmVjb3Jkc1BlclBhZ2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodXJsLm1hdGNoKC9cXFtzdGFydFxcXS8pKSB7XHJcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXFtzdGFydFxcXS9nLCAoKHRoaXMuX3BhZ2UgLSAxKSAqIHRoaXMuX3JlY29yZHNQZXJQYWdlKSArIDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJhbVN0YXJ0ID0gY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcykgJiYgdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5wYXJhbXMuaGFzT3duUHJvcGVydHkoJ3N0YXJ0JylcclxuICAgICAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5wYXJhbXMuc3RhcnRcclxuICAgICAgICAgICAgICAgIDogJ3N0YXJ0JztcclxuICAgICAgICAgICAgcGFyYW1zW3BhcmFtU3RhcnRdID0gKCh0aGlzLl9wYWdlIC0gMSkgKiB0aGlzLl9yZWNvcmRzUGVyUGFnZSkgKyAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHVybC5tYXRjaCgvXFxbZW5kXFxdLykpIHtcclxuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL1xcW2VuZFxcXS9nLCAoKHRoaXMuX3BhZ2UgLSAxKSAqIHRoaXMuX3JlY29yZHNQZXJQYWdlKSArIE51bWJlcih0aGlzLl9yZWNvcmRzUGVyUGFnZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJhbUVuZCA9IGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5wYXJhbXMpICYmIHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QucGFyYW1zLmhhc093blByb3BlcnR5KCdlbmQnKVxyXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcy5lbmRcclxuICAgICAgICAgICAgICAgIDogJ2VuZCc7XHJcbiAgICAgICAgICAgIHBhcmFtc1twYXJhbUVuZF0gPSAoKHRoaXMuX3BhZ2UgLSAxKSAqIHRoaXMuX3JlY29yZHNQZXJQYWdlKSArIE51bWJlcih0aGlzLl9yZWNvcmRzUGVyUGFnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IHNlYXJjaERhdGEgPSB0aGlzLmdldFNlYXJjaERhdGEoKTtcclxuICAgICAgICBsZXQgZmlsdGVyRGF0YSA9IHRoaXMuZ2V0RmlsdGVyRGF0YSgpO1xyXG5cclxuICAgICAgICBpZiAoZmlsdGVyRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICQuZWFjaChmaWx0ZXJEYXRhLCBmdW5jdGlvbiAoa2V5LCBmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaERhdGEucHVzaChmaWx0ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWFyY2hEYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHBhcmFtU2VhcmNoID0gY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5wYXJhbXMuaGFzT3duUHJvcGVydHkoJ3NlYXJjaCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcy5zZWFyY2ggPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QucGFyYW1zLnNlYXJjaFxyXG4gICAgICAgICAgICAgICAgOiAnc2VhcmNoJztcclxuXHJcbiAgICAgICAgICAgIHBhcmFtc1twYXJhbVNlYXJjaF0gPSBzZWFyY2hEYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3NvcnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgcGFyYW1Tb3J0ID0gY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QucGFyYW1zLmhhc093blByb3BlcnR5KCdzb3J0JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcy5zb3J0ID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnBhcmFtcy5zb3J0XHJcbiAgICAgICAgICAgICAgICA6ICdzb3J0JztcclxuXHJcbiAgICAgICAgICAgIHBhcmFtc1twYXJhbVNvcnRdID0gdGhpcy5fc29ydDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QgfHwgJ0dFVCcsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0aGF0LCAncmVjb3Jkc19sb2FkX3N0YXJ0JywgWyB0aGF0LCB4aHIgXSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmhhc093blByb3BlcnR5KCdyZWNvcmRzJykgJiZcclxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcmVzdWx0LnJlY29yZHMgPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShyZXN1bHQucmVjb3JkcylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IHJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgndG90YWwnKSAmJiBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyhyZXN1bHQudG90YWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnRvdGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNldFJlY29yZHMocmVzdWx0LnJlY29yZHMsIHRvdGFsKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0UmVjb3JkcyhbXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnNldFJlY29yZHMoW10pO1xyXG4gICAgICAgICAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLl90cmlnZ2VyKHRoYXQsICdyZWNvcmRzX2xvYWRfZXJyb3InLCBbIHRoYXQsIHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gXSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQudW5sb2NrKCk7XHJcbiAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhhdCwgJ3JlY29yZHNfbG9hZF9lbmQnLCBbIHRoYXQsIHhociwgdGV4dFN0YXR1cyBdKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QtdGA0LXQt9Cw0LPRgNGD0LfQutCwINC30LDQv9C40YHQtdC5INCyINGC0LDQsdC70LjRhtC1XHJcbiAgICAgKi9cclxuICAgIHJlbG9hZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faXNSZWNvcmRzUmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQodGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC51cmwsIHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QubWV0aG9kKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0LXRgNC10YHQvtC30LTQsNC90LjQtSDRgtC10LvQsCDRgtCw0LHQu9C40YbRi1xyXG4gICAgICovXHJcbiAgICByZWZyZXNoOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCB0YWJsZSA9IGNvcmV1aVRhYmxlUmVuZGVyLnJlbmRlclRhYmxlKHRoaXMpO1xyXG5cclxuICAgICAgICBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFRhYmxlKHRoaXMuZ2V0SWQoKSkucmVwbGFjZVdpdGgodGFibGUpO1xyXG5cclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3RhYmxlX3Nob3cnLCBbIHRoaXMgXSk7XHJcbiAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLl90cmlnZ2VyKHRoaXMsICdyZWNvcmRzX3Nob3cnLCBbIHRoaXMgXSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQvtCx0YnQtdCz0L4g0LrQvtC70LjRh9C10YHRgtCy0LAg0LfQsNC/0LjRgdC10Lkg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKiBAcGFyYW0gcmVjb3Jkc1BlclBhZ2VcclxuICAgICAqL1xyXG4gICAgc2V0UGFnZVNpemU6IGZ1bmN0aW9uIChyZWNvcmRzUGVyUGFnZSkge1xyXG5cclxuICAgICAgICB0aGlzLl9yZWNvcmRzUGVyUGFnZSA9IHJlY29yZHNQZXJQYWdlO1xyXG5cclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3BhZ2Vfc2l6ZV91cGRhdGUnKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JLRi9Cx0L7RgCDQstGB0LXRhSDQt9Cw0L/QuNGB0LXQuSDQsiDRgtCw0LHQu9C40YbQtVxyXG4gICAgICovXHJcbiAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgY29yZXVpVGFibGVFbGVtZW50cy5zZWxlY3RUckFsbCh0aGlzLmdldElkKCkpXHJcblxyXG4gICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0aGlzLCAncmVjb3JkX3NlbGVjdF9hbGwnKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J7RgtC80LXQvdCwINCy0YvQsdC+0YAg0LLRgdC10YUg0LfQsNC/0LjRgdC10Lkg0LIg0YLQsNCx0LvQuNGG0LVcclxuICAgICAqL1xyXG4gICAgdW5zZWxlY3RBbGw6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgY29yZXVpVGFibGVFbGVtZW50cy51bnNlbGVjdFRyQWxsKHRoaXMuZ2V0SWQoKSlcclxuXHJcbiAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLl90cmlnZ2VyKHRoaXMsICdyZWNvcmRfdW5zZWxlY3RfYWxsJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCS0YvQsdC+0YAg0LfQsNC/0LjRgdC4INCyINGC0LDQsdC70LjRhtC1XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuICAgICAqL1xyXG4gICAgc2VsZWN0UmVjb3JkOiBmdW5jdGlvbiAoaWQpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlY29yZCA9IHRoaXMuZ2V0UmVjb3JkQnlJZChpZCk7XHJcblxyXG4gICAgICAgIGlmICggISByZWNvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRyID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUckJ5SW5kZXgodGhpcy5nZXRJZCgpLCByZWNvcmQuaW5kZXgpO1xyXG5cclxuICAgICAgICBpZiAodHIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuc2VsZWN0VHIodHIpXHJcblxyXG4gICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0aGlzLCAncmVjb3JkX3NlbGVjdCcsIFsgcmVjb3JkIF0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQntGC0LzQtdC90LAg0LLRi9Cx0L7RgNCwINC30LDQv9C40YHQuCDQsiDRgtCw0LHQu9C40YbQtVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICAgKi9cclxuICAgIHVuc2VsZWN0UmVjb3JkOiBmdW5jdGlvbiAoaWQpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlY29yZCA9IHRoaXMuZ2V0UmVjb3JkQnlJZChpZCk7XHJcblxyXG4gICAgICAgIGlmICggISByZWNvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRyID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUckJ5SW5kZXgodGhpcy5nZXRJZCgpLCByZWNvcmQuaW5kZXgpO1xyXG5cclxuICAgICAgICBpZiAoICEgdHIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29yZXVpVGFibGVFbGVtZW50cy51bnNlbGVjdFRyKHRyKVxyXG5cclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3JlY29yZF91bnNlbGVjdCcsIFsgcmVjb3JkLmRhdGEgXSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQstGL0LHRgNCw0L3QvdGL0YUgaWRcclxuICAgICAqIEByZXR1cm4ge2FycmF5fVxyXG4gICAgICovXHJcbiAgICBnZXRTZWxlY3RlZFJlY29yZHNJZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgcmVjb3JkcyA9IFtdO1xyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuICAgICAgICBsZXQgZmllbGQgICA9IHRoaXMuX29wdGlvbnMucHJpbWFyeUtleTtcclxuXHJcbiAgICAgICAgJC5lYWNoKGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VsZWN0ZWRJbmRleGVzKHRoaXMuZ2V0SWQoKSksIGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGxldCByZWNvcmQgPSB0aGF0LmdldFJlY29yZEJ5SW5kZXgoaW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhIHJlY29yZCB8fCAhIHJlY29yZC5kYXRhLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZWNvcmRzLnB1c2gocmVjb3JkLmRhdGFbZmllbGRdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlY29yZHM7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQstGL0LHRgNCw0L3QvdGL0YUg0LfQsNC/0LjRgdC10LlcclxuICAgICAqIEByZXR1cm4ge2FycmF5fVxyXG4gICAgICovXHJcbiAgICBnZXRTZWxlY3RlZFJlY29yZHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlY29yZHMgPSBbXTtcclxuICAgICAgICBsZXQgdGhhdCAgICA9IHRoaXM7XHJcblxyXG4gICAgICAgICQuZWFjaChjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlbGVjdGVkSW5kZXhlcyh0aGlzLmdldElkKCkpLCBmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xyXG4gICAgICAgICAgICBsZXQgcmVjb3JkID0gdGhhdC5nZXRSZWNvcmRCeUluZGV4KGluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICggISByZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKHJlY29yZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZWNvcmRzO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQsNC/0LjRgdC4INC/0L4gaWRcclxuICAgICAqIEBwYXJhbSBpZFxyXG4gICAgICogQHJldHVybiB7b2JqZWN0fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFJlY29yZDogZnVuY3Rpb24gKGlkKSB7XHJcblxyXG4gICAgICAgIGxldCByZWNvcmQgPSB0aGlzLmdldFJlY29yZEJ5SWQoaWQpO1xyXG5cclxuICAgICAgICBpZiAoICEgcmVjb3JkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlY29yZC5kYXRhO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQsNC/0LjRgdC10LlcclxuICAgICAqL1xyXG4gICAgZ2V0UmVjb3JkczogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgcmVjb3JkcyA9IFtdXHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9yZWNvcmRzLCBmdW5jdGlvbiAoa2V5LCByZWNvcmQpIHtcclxuICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKCQuZXh0ZW5kKHRydWUsIHt9LCByZWNvcmQpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlY29yZHM7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0LjQtyDRgdGD0YnQtdGB0YLQstGD0Y7RidC40YUg0LfQsNC/0LjRgdC10LlcclxuICAgICAqIEByZXR1cm4ge0FycmF5fVxyXG4gICAgICovXHJcbiAgICBnZXREYXRhOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBkYXRhID0gW11cclxuXHJcbiAgICAgICAgJC5lYWNoKHRoaXMuX3JlY29yZHMsIGZ1bmN0aW9uIChrZXksIHJlY29yZCkge1xyXG4gICAgICAgICAgICBkYXRhLnB1c2goJC5leHRlbmQodHJ1ZSwge30sIHJlY29yZC5kYXRhKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C10YDQtdGF0L7QtCDQuiDQv9GA0LXQtNGL0LTRg9GJ0LXQuSDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKi9cclxuICAgIHByZXZQYWdlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9wYWdlID4gMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYWdlLS07XHJcbiAgICAgICAgICAgIHRoaXMucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C10YDQtdGF0L7QtCDQuiDRgdC70LXQtNGD0Y7RidC10Lkg0YHRgtGA0LDQvdC40YbQtVxyXG4gICAgICogQHJldHVybiB7YXJyYXl9XHJcbiAgICAgKi9cclxuICAgIG5leHRQYWdlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCB0b3RhbFBhZ2VzID0gdGhpcy5fcmVjb3Jkc1RvdGFsID4gMCAmJiB0aGlzLl9yZWNvcmRzUGVyUGFnZSA+IDBcclxuICAgICAgICAgICAgPyBNYXRoLmNlaWwodGhpcy5fcmVjb3Jkc1RvdGFsIC8gdGhpcy5fcmVjb3Jkc1BlclBhZ2UpXHJcbiAgICAgICAgICAgIDogMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3BhZ2UgPCB0b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhZ2UrKztcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0LXRgNC10YXQvtC0INC6INGD0LrQsNC30LDQvdC90L7QuSDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKi9cclxuICAgIGdvUGFnZTogZnVuY3Rpb24gKHBhZ2UpIHtcclxuXHJcbiAgICAgICAgaWYgKHBhZ2UgPj0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYWdlID0gcGFnZTtcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCg0LXQs9C40YHRgtGA0LDRhtC40Y8g0YTRg9C90LrRhtC40Lgg0L3QsCDRgdC+0LHRi9GC0LjQtVxyXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGV2ZW50TmFtZVxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gICAgIGNhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0geyp9ICAgICAgICAgICAgY29udGV4dFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSAgICAgIHNpbmdsZUV4ZWNcclxuICAgICAqL1xyXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNpbmdsZUV4ZWMpIHtcclxuXHJcbiAgICAgICAgbGV0IGV2ZW50TmFtZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgICAkLmVhY2goZXZlbnROYW1lLCBmdW5jdGlvbiAoa2V5LCBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnICYmIG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWVzLnB1c2gobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudE5hbWUgPT09ICdzdHJpbmcnICYmIGV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICBldmVudE5hbWVzLnB1c2goZXZlbnROYW1lKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAkLmVhY2goZXZlbnROYW1lcywgZnVuY3Rpb24gKGtleSwgbmFtZSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhIEFycmF5LmlzQXJyYXkodGhhdC5fZXZlbnRzW25hbWVdKSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fZXZlbnRzW25hbWVdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuX2V2ZW50c1tuYW1lXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQgOiBjb250ZXh0ID8gY29udGV4dCA6IHRoYXQsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXHJcbiAgICAgICAgICAgICAgICBzaW5nbGVFeGVjOiAhISBzaW5nbGVFeGVjLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LXRgNC10LLQvtC00L7QsiDRgtC10LrRg9GJ0LXQs9C+INGP0LfRi9C60LBcclxuICAgICAqIEByZXR1cm4ge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0TGFuZzogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMubGFuZ0xpc3QpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LLQuNC00LjQvNGL0YUg0LrQvtC70L7QvdC+0LosINC90LUg0YPQutCw0LfQsNC90L3Ri9C1INC60L7Qu9C+0L3QutC4INCx0YPQtNGD0YIg0YHQutGA0YvRgtGLXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb2x1bW5zXHJcbiAgICAgKi9cclxuICAgIHNldENvbHVtbnNTaG93OiBmdW5jdGlvbiAoY29sdW1ucykge1xyXG5cclxuICAgICAgICBpZiAoICEgQXJyYXkuaXNBcnJheShjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fY29sdW1ucywgZnVuY3Rpb24gKGtleSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGxldCBvcHRpb25zID0gY29sdW1uLmdldE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdmaWVsZCcpICYmIHR5cGVvZiBvcHRpb25zLmZpZWxkID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgY29sdW1uLnNldFNob3coY29sdW1ucy5pbmRleE9mKG9wdGlvbnMuZmllbGQpID49IDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ2NvbHVtbnNfY2hhbmdlJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9C+0LjRgdC60L7QstGL0YUg0LTQsNC90L3Ri9GFXHJcbiAgICAgKiBAcmV0dXJuIHsqW119XHJcbiAgICAgKi9cclxuICAgIGdldFNlYXJjaERhdGE6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHNlYXJjaERhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgJC5lYWNoKHRoaXMuX3NlYXJjaCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IGNvbnRyb2wuZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2ZpZWxkJykgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmZpZWxkID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5maWVsZFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGNvbnRyb2wuZ2V0VmFsdWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hEYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogb3B0aW9ucy5maWVsZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGc6IGNvbnRyb2wuaGFzT3duUHJvcGVydHkoJ2dldEFsZ29yaXRobScpICYmIHR5cGVvZiBjb250cm9sLmdldEFsZ29yaXRobSA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRyb2wuZ2V0QWxnb3JpdGhtKCkgOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlYXJjaERhdGE7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0LjQtyDRhNC40LvRjNGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJuIHsqW119XHJcbiAgICAgKi9cclxuICAgIGdldEZpbHRlckRhdGE6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGZpbHRlckRhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgJC5lYWNoKHRoaXMuX2ZpbHRlcnMsIGZ1bmN0aW9uIChrZXksIGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBjb250cm9sLmdldE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdmaWVsZCcpICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZmllbGRcclxuICAgICAgICAgICAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gY29udHJvbC5nZXRWYWx1ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckRhdGEucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBvcHRpb25zLmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZzogY29udHJvbC5oYXNPd25Qcm9wZXJ0eSgnZ2V0QWxnb3JpdGhtJykgJiYgdHlwZW9mIGNvbnRyb2wuZ2V0QWxnb3JpdGhtID09PSAnZnVuY3Rpb24nID8gY29udHJvbC5nZXRBbGdvcml0aG0oKSA6IG51bGxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmlsdGVyRGF0YTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC40YHQuiDQv9C+INGC0LDQsdC70LjRhtC1INGBINC40YHQv9C+0LvRjNC30L7QstCw0L3QuNC10Lwg0LTQsNC90L3Ri9GFINC40Lcg0L/QvtC40YHQutCwINC4INGE0LjQu9GM0YLRgNC+0LJcclxuICAgICAqL1xyXG4gICAgc2VhcmNoUmVjb3JkczogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgc2VhcmNoRGF0YSA9IHRoaXMuZ2V0U2VhcmNoRGF0YSgpO1xyXG4gICAgICAgIGxldCBmaWx0ZXJEYXRhID0gdGhpcy5nZXRGaWx0ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pc1JlY29yZHNSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZCh0aGlzLl9vcHRpb25zLnJlY29yZHNSZXF1ZXN0LnVybCwgdGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC5tZXRob2QpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkLmVhY2godGhpcy5fcmVjb3JkcywgZnVuY3Rpb24gKGluZGV4LCByZWNvcmQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNTaG93ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VhcmNoRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTaG93ID0gY29yZXVpVGFibGVQcml2YXRlLmlzRmlsdGVyZWRSZWNvcmQoc2VhcmNoRGF0YSwgcmVjb3JkLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc1Nob3cgJiYgZmlsdGVyRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTaG93ID0gY29yZXVpVGFibGVQcml2YXRlLmlzRmlsdGVyZWRSZWNvcmQoZmlsdGVyRGF0YSwgcmVjb3JkLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJlY29yZC5zaG93ID0gaXNTaG93O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0aGlzLCAnZmlsdGVyc19jaGFuZ2UnLCBbIGZpbHRlckRhdGEgXSk7XHJcbiAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLl90cmlnZ2VyKHRoaXMsICdzZWFyY2hfY2hhbmdlJywgWyBzZWFyY2hEYXRhIF0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQntGH0LjRgdGC0LrQsCDQv9C+0LjRgdC60L7QstGL0YUg0LTQsNC90L3Ri9GFXHJcbiAgICAgKi9cclxuICAgIHNlYXJjaENsZWFyOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9zZWFyY2gsIGZ1bmN0aW9uIChrZXksIHNlYXJjaCkge1xyXG4gICAgICAgICAgICBzZWFyY2guc2V0VmFsdWUobnVsbCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQntGH0LjRgdGC0LrQsCDQv9C+0LjRgdC60L7QstGL0YUg0LTQsNC90L3Ri9GFINCyINGE0LjQu9GM0YLRgNCw0YVcclxuICAgICAqL1xyXG4gICAgZmlsdGVyc0NsZWFyOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9maWx0ZXJzLCBmdW5jdGlvbiAoa2V5LCBmaWx0ZXIpIHtcclxuICAgICAgICAgICAgZmlsdGVyLnNldFZhbHVlKG51bGwpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNlYXJjaFJlY29yZHMoKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30LDQv9C40YHQuCDQv9C+INC40L3QtNC10LrRgdGDXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGluZGV4XHJcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0UmVjb3JkQnlJbmRleDogZnVuY3Rpb24gKGluZGV4KSB7XHJcblxyXG4gICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBpbmRleCkgPCAwIHx8IGluZGV4ID09PSAnJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluZGV4ID0gTnVtYmVyKGluZGV4KTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4IDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVjb3JkID0gbnVsbDtcclxuXHJcbiAgICAgICAgJC5lYWNoKHRoaXMuX3JlY29yZHMsIGZ1bmN0aW9uIChrZXksIHJlY29yZEl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKHJlY29yZEl0ZW0uaW5kZXggPT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZWNvcmQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHJlY29yZEl0ZW0uaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJC5leHRlbmQodHJ1ZSwge30sIHJlY29yZEl0ZW0uZGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogcmVjb3JkSXRlbS5tZXRhID8gJC5leHRlbmQodHJ1ZSwge30sIHJlY29yZEl0ZW0ubWV0YSkgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVjb3JkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQsNC/0LjRgdC4INC/0L4gaWRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxyXG4gICAgICogQHJldHVybiB7b2JqZWN0fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFJlY29yZEJ5SWQ6IGZ1bmN0aW9uIChpZCkge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWNvcmRCeUZpZWxkKHRoaXMuX29wdGlvbnMucHJpbWFyeUtleSwgaWQpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQsNC/0LjRgdC4INC/0L4g0L/QvtC70Y5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgZmllbGRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gdmFsdWVcclxuICAgICAqIEByZXR1cm4ge29iamVjdHxudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRSZWNvcmRCeUZpZWxkOiBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBmaWVsZCkgPCAwIHx8IGZpZWxkID09PSAnJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZWNvcmQgPSBudWxsO1xyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fcmVjb3JkcywgZnVuY3Rpb24gKGtleSwgcmVjb3JkSXRlbSkge1xyXG4gICAgICAgICAgICBpZiAocmVjb3JkSXRlbS5kYXRhLmhhc093blByb3BlcnR5KGZpZWxkKSAmJiByZWNvcmRJdGVtLmRhdGFbZmllbGRdID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkID0gJC5leHRlbmQodHJ1ZSwge30sIHJlY29yZEl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVjb3JkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LrQvtC90YLRgNC+0LvQsCDQv9C+INC10LPQviBpZFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldENvbnRyb2xCeUlkOiBmdW5jdGlvbiAoaWQpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9jb250cm9scywgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICBpZiAoY29udHJvbC5oYXNPd25Qcm9wZXJ0eSgnZ2V0SWQnKSAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIGNvbnRyb2wuZ2V0SWQgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIGNvbnRyb2wuZ2V0SWQoKSA9PT0gaWRcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjb250cm9sO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQutC+0L3RgtGA0L7Qu9CwINC/0L7QuNGB0LrQsCDQv9C+INC10LPQviBpZFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldFNlYXJjaENvbnRyb2xCeUlkOiBmdW5jdGlvbiAoaWQpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9zZWFyY2gsIGZ1bmN0aW9uIChrZXksIHNlYXJjaCkge1xyXG4gICAgICAgICAgICBpZiAoc2VhcmNoLmhhc093blByb3BlcnR5KCdnZXRJZCcpICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygc2VhcmNoLmdldElkID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICBzZWFyY2guZ2V0SWQoKSA9PT0gaWRcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzZWFyY2g7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KHQvtGA0YLQuNGA0L7QstC60LAg0L/QviDQv9C+0LvRj9C8XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3J0aW5nXHJcbiAgICAgKi9cclxuICAgIHNvcnRGaWVsZHM6IGZ1bmN0aW9uIChzb3J0aW5nKSB7XHJcblxyXG4gICAgICAgIGlmICggISBBcnJheS5pc0FycmF5KHNvcnRpbmcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5fc29ydCA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2goc29ydGluZywgZnVuY3Rpb24gKGtleSwgc29ydCkge1xyXG4gICAgICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChzb3J0KSB8fFxyXG4gICAgICAgICAgICAgICAgICEgc29ydC5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSB8fFxyXG4gICAgICAgICAgICAgICAgICEgc29ydC5oYXNPd25Qcm9wZXJ0eSgnb3JkZXInKSB8fFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHNvcnQuZmllbGQgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygc29ydC5vcmRlciAhPT0gJ3N0cmluZycgfHxcclxuICAgICAgICAgICAgICAgICAhIHNvcnQuZmllbGQgfHxcclxuICAgICAgICAgICAgICAgICAhIHNvcnQub3JkZXJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgY29sdW1uU29ydGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICQuZWFjaCh0aGF0Ll9jb2x1bW5zLCBmdW5jdGlvbiAoa2V5LCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGxldCBvcHRpb25zID0gY29sdW1uLmdldE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3NvcnRhYmxlJykgJiZcclxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZpZWxkID09PSBzb3J0LmZpZWxkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zb3J0YWJsZVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uU29ydGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKGNvbHVtblNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll9zb3J0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzb3J0LmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBzb3J0Lm9yZGVyLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zb3J0Lmxlbmd0aCA+PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1JlY29yZHNSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQodGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC51cmwsIHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QubWV0aG9kKTtcclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5zZXRDb2x1bW5zU29ydCh0aGlzLCB0aGlzLl9zb3J0KTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHMgPSBjb3JldWlUYWJsZVByaXZhdGUuc29ydFJlY29yZHNCeUZpZWxkcyh0aGlzLl9yZWNvcmRzLCB0aGlzLl9zb3J0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3JlY29yZHNfc29ydCcsIFsgdGhpcyBdKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KHQvtGA0YLQuNGA0L7QstC60LAg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cclxuICAgICAqL1xyXG4gICAgc29ydERlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fc29ydCA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faXNSZWNvcmRzUmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQodGhpcy5fb3B0aW9ucy5yZWNvcmRzUmVxdWVzdC51cmwsIHRoaXMuX29wdGlvbnMucmVjb3Jkc1JlcXVlc3QubWV0aG9kKTtcclxuICAgICAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLnNldENvbHVtbnNTb3J0KHRoaXMpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlY29yZHMgPSBjb3JldWlUYWJsZVByaXZhdGUuc29ydFJlY29yZHNCeVNlcSh0aGlzLl9yZWNvcmRzKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3JlY29yZHNfc29ydCcsIFsgdGhpcyBdKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPQtNCw0LvQtdC90LjQtSDRgdGC0YDQvtC60Lgg0LjQtyDRgtCw0LHQu9C40YbRiyDQv9C+INC40L3QtNC10LrRgdGDXHJcbiAgICAgKiBAcGFyYW0gaW5kZXhcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlUmVjb3JkQnlJbmRleDogZnVuY3Rpb24gKGluZGV4KSB7XHJcblxyXG4gICAgICAgIGxldCByZWNvcmRLZXkgPSBudWxsO1xyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fcmVjb3JkcywgZnVuY3Rpb24gKGtleSwgcmVjb3JkSXRlbSkge1xyXG4gICAgICAgICAgICBpZiAocmVjb3JkSXRlbS5pbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJlY29yZEtleSA9IGtleTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAocmVjb3JkS2V5ICE9PSBudWxsICYmIHJlY29yZEtleSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlY29yZHMuc3BsaWNlKHJlY29yZEtleSwgMSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdHIgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFRyQnlJbmRleCh0aGlzLmdldElkKCksIGluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0ci5sZW5ndGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdHIuZmFkZU91dCgnZmFzdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9yZWNvcmRzTnVtYmVyLS07XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQlNC+0LHQsNCy0LvQtdC90LjQtSDRgdGC0YDQvtC60Lgg0LIg0YLQsNCx0LvQuNGG0YMg0L/QvtGB0LvQtSDRgdGC0YDQvtC60Lgg0YEg0LjQvdC00LXQutGB0L7QvFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlY29yZERhdGFcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxyXG4gICAgICovXHJcbiAgICBhZGRSZWNvcmRBZnRlckluZGV4OiBmdW5jdGlvbiAocmVjb3JkRGF0YSwgaW5kZXgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRyID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUckJ5SW5kZXgodGhpcy5nZXRJZCgpLCBpbmRleCk7XHJcblxyXG4gICAgICAgIGlmICh0ci5sZW5ndGggPj0gMCkge1xyXG4gICAgICAgICAgICBsZXQgcmVjb3JkID0gY29yZXVpVGFibGVQcml2YXRlLmFkZFJlY29yZCh0aGlzLCByZWNvcmREYXRhLCBpbmRleCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVjb3JkKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5hZnRlcihcclxuICAgICAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVJlbmRlci5yZW5kZXJSZWNvcmQodGhpcywgcmVjb3JkKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZHNOdW1iZXIrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JTQvtCx0LDQstC70LXQvdC40LUg0YHRgtGA0L7QutC4INCyINGC0LDQsdC70LjRhtGDINC/0LXRgNC10LQg0YHRgtGA0L7QutC+0Lkg0YEg0LjQvdC00LXQutGB0L7QvFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlY29yZERhdGFcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxyXG4gICAgICovXHJcbiAgICBhZGRSZWNvcmRCZWZvcmVJbmRleDogZnVuY3Rpb24gKHJlY29yZERhdGEsIGluZGV4KSB7XHJcblxyXG4gICAgICAgIGxldCB0ciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0VHJCeUluZGV4KHRoaXMuZ2V0SWQoKSwgaW5kZXgpO1xyXG5cclxuICAgICAgICBpZiAodHIubGVuZ3RoID49IDApIHtcclxuICAgICAgICAgICAgbGV0IHJlY29yZCA9IGNvcmV1aVRhYmxlUHJpdmF0ZS5hZGRSZWNvcmRCZWZvcmUodGhpcywgcmVjb3JkRGF0YSwgaW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgdHIuYmVmb3JlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlUmVuZGVyLnJlbmRlclJlY29yZCh0aGlzLCByZWNvcmQpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjb3Jkc051bWJlcisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQlNC+0LHQsNCy0LvQtdC90LjQtSDRgdGC0YDQvtC60Lgg0LIg0L3QsNGH0LDQu9C+INGC0LDQsdC70LjRhtGLXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVjb3JkRGF0YVxyXG4gICAgICovXHJcbiAgICBhZGRSZWNvcmRGaXJzdDogZnVuY3Rpb24gKHJlY29yZERhdGEpIHtcclxuXHJcbiAgICAgICAgbGV0IHRib2R5ID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUYWJsZVRib2R5KHRoaXMuZ2V0SWQoKSk7XHJcblxyXG4gICAgICAgIGlmICh0Ym9keS5sZW5ndGggPj0gMCkge1xyXG4gICAgICAgICAgICBsZXQgcmVjb3JkID0gY29yZXVpVGFibGVQcml2YXRlLmFkZFJlY29yZCh0aGlzLCByZWNvcmREYXRhLCAwKTtcclxuXHJcbiAgICAgICAgICAgIHRib2R5LnByZXBlbmQoXHJcbiAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVJlbmRlci5yZW5kZXJSZWNvcmQodGhpcywgcmVjb3JkKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLl9yZWNvcmRzTnVtYmVyKys7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQlNC+0LHQsNCy0LvQtdC90LjQtSDRgdGC0YDQvtC60Lgg0LIg0LrQvtC90LXRhiDRgtCw0LHQu9C40YbRi1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlY29yZERhdGFcclxuICAgICAqL1xyXG4gICAgYWRkUmVjb3JkTGFzdDogZnVuY3Rpb24gKHJlY29yZERhdGEpIHtcclxuXHJcbiAgICAgICAgbGV0IHRib2R5ID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUYWJsZVRib2R5KHRoaXMuZ2V0SWQoKSk7XHJcblxyXG4gICAgICAgIGlmICh0Ym9keS5sZW5ndGggPj0gMCkge1xyXG4gICAgICAgICAgICBsZXQgcmVjb3JkID0gY29yZXVpVGFibGVQcml2YXRlLmFkZFJlY29yZCh0aGlzLCByZWNvcmREYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZChcclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlUmVuZGVyLnJlbmRlclJlY29yZCh0aGlzLCByZWNvcmQpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlY29yZHNOdW1iZXIrKztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7QutCw0Lcg0YPQutCw0LfQsNC90L3Ri9GFINC30LDQv9C40YHQtdC5INCyINGC0LDQsdC70LjRhtC1XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSAgcmVjb3Jkc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvdGFsXHJcbiAgICAgKi9cclxuICAgIHNldFJlY29yZHM6IGZ1bmN0aW9uIChyZWNvcmRzLCB0b3RhbCkge1xyXG5cclxuICAgICAgICBpZiAoICEgQXJyYXkuaXNBcnJheShyZWNvcmRzKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9yZWNvcmRzVG90YWwgPSBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyh0b3RhbCkgPyBwYXJzZUludCh0b3RhbCkgOiByZWNvcmRzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgY29yZXVpVGFibGVQcml2YXRlLnNldFJlY29yZHModGhpcywgcmVjb3Jkcyk7XHJcblxyXG4gICAgICAgIGlmIChyZWNvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVjb3Jkc051bWJlciA9IHRoaXMuX3BhZ2UgPT09IDFcclxuICAgICAgICAgICAgICAgID8gMVxyXG4gICAgICAgICAgICAgICAgOiAoKHRoaXMuX3BhZ2UgLSAxKSAqIHRoaXMuX3JlY29yZHNQZXJQYWdlKSArIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVjb3Jkc0VsZW1lbnRzID0gY29yZXVpVGFibGVSZW5kZXIucmVuZGVyUmVjb3Jkcyh0aGlzLCB0aGlzLl9yZWNvcmRzKTtcclxuICAgICAgICBsZXQgdGFibGVCb2R5ICAgICAgID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUYWJsZVRib2R5KHRoaXMuZ2V0SWQoKSk7XHJcblxyXG4gICAgICAgIHRhYmxlQm9keS5odG1sKCcnKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKHJlY29yZHNFbGVtZW50cywgZnVuY3Rpb24gKGtleSwgcmVjb3JkRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJlY29yZEVsZW1lbnQpO1xyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3JlY29yZHNfc2hvdycsIFsgdGhpcyBdKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC60L7Qu9C40YfQtdGB0YLQstCwINGB0YLRgNC+0LpcclxuICAgICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0UmVjb3Jkc0NvdW50OiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pc1JlY29yZHNSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIGNvdW50ID0gdGhpcy5fcmVjb3Jkc1RvdGFsO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX3JlY29yZHMsIGZ1bmN0aW9uIChrZXksIHJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5zaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCg0LDRgdC60YDRi9GC0LjQtSAvINGB0LrRgNGL0YLQuNC1INC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0YUg0LTQsNC90L3Ri9GFINGB0YLRgNC+0LrQuFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRJbmRleFxyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxqUXVlcnl8c3RyaW5nfEFycmF5fGZ1bmN0aW9ufSBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVidWlsZCAtIHRydWUgZGVmYXVsdFxyXG4gICAgICovXHJcbiAgICBleHBhbmRSZWNvcmRDb250ZW50OiBmdW5jdGlvbiAocmVjb3JkSW5kZXgsIGNvbnRlbnQsIGlzUmVidWlsZCkge1xyXG5cclxuICAgICAgICBsZXQgcmVjb3JkRWxlbWVudCAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFRyQnlJbmRleCh0aGlzLmdldElkKCksIHJlY29yZEluZGV4KTtcclxuICAgICAgICBsZXQgcmVjb3JkRXhwYW5kZWQgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldEV4cGFuZFJvdyhyZWNvcmRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHJlY29yZEVsZW1lbnQuaGFzQ2xhc3MoJ3JlY29yZC1leHBhbmRlZCcpKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVjb3JkRXhwYW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JlYnVpbGQgPT09IHVuZGVmaW5lZCB8fCBpc1JlYnVpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3JldWlUYWJsZUVsZW1lbnRzLnJlbW92ZUV4cGFuZFJvdyhyZWNvcmRFeHBhbmRlZCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuaGlkZUV4cGFuZFJvdyhyZWNvcmRFeHBhbmRlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlY29yZEVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3JlY29yZC1leHBhbmRlZCcpO1xyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhpcywgJ3JlY29yZF9leHBhbmRfaGlkZScsIFtyZWNvcmRJbmRleF0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocmVjb3JkRXhwYW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuc2hvd0V4cGFuZFJvdyhyZWNvcmRFeHBhbmRlZCk7XHJcbiAgICAgICAgICAgICAgICByZWNvcmRFbGVtZW50LmFkZENsYXNzKCdyZWNvcmQtZXhwYW5kZWQnKTtcclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0aGlzLCAncmVjb3JkX2V4cGFuZF9zaG93JywgW3JlY29yZEluZGV4XSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGxiYWNrUmVzdWx0ID0gY29udGVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrUmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZXVpVGFibGVFbGVtZW50cy5hZGRFeHBhbmRSb3codGhhdCwgcmVjb3JkRWxlbWVudCwgcmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZXVpVGFibGVFbGVtZW50cy5hZGRFeHBhbmRSb3codGhhdCwgcmVjb3JkRWxlbWVudCwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29yZXVpVGFibGVFbGVtZW50cy5hZGRFeHBhbmRSb3codGhpcywgcmVjb3JkRWxlbWVudCwgY2FsbGJhY2tSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlRWxlbWVudHMuYWRkRXhwYW5kUm93KHRoaXMsIHJlY29yZEVsZW1lbnQsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQoNCw0YHQutGA0YvRgtC40LUgLyDRgdC60YDRi9GC0LjQtSDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9GFINC00LDQvdC90YvRhSDRgdGC0YDQvtC60LhcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSAgcmVjb3JkSW5kZXhcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgdXJsXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmVidWlsZFxyXG4gICAgICovXHJcbiAgICBleHBhbmRSZWNvcmRVcmw6IGZ1bmN0aW9uIChyZWNvcmRJbmRleCwgdXJsLCBpc1JlYnVpbGQpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmV4cGFuZFJlY29yZENvbnRlbnQocmVjb3JkSW5kZXgsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHRoYXQubG9jaygpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybCAgICA6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIHRleHRTdGF0dXMsIHhocikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFN0cmluZyh4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpKS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC51bmxvY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9LCBpc1JlYnVpbGQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29yZXVpVGFibGVJbnN0YW5jZTsiLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlSW5zdGFuY2UgZnJvbSAnLi9jb3JldWkudGFibGUuaW5zdGFuY2UnO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuXHJcbmxldCBjb3JldWlUYWJsZSA9IHtcclxuXHJcbiAgICBjb2x1bW5zOiB7fSxcclxuICAgIGNvbnRyb2xzOiB7fSxcclxuICAgIGZpbHRlcnM6IHt9LFxyXG4gICAgc2VhcmNoOiB7fSxcclxuICAgIGxhbmc6IHt9LFxyXG5cclxuICAgIF9pbnN0YW5jZXM6IHt9LFxyXG4gICAgX3NldHRpbmdzOiB7XHJcbiAgICAgICAgbGFuZzogJ2VuJyxcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG4gICAgICogQHJldHVybnMge0NvcmVVSS50YWJsZS5pbnN0YW5jZX1cclxuICAgICAqL1xyXG4gICAgY3JlYXRlOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuICAgICAgICBsZXQgaW5zdGFuY2UgPSAkLmV4dGVuZCh0cnVlLCB7fSwgY29yZXVpVGFibGVJbnN0YW5jZSk7XHJcblxyXG4gICAgICAgIGlmICggISBvcHRpb25zLmhhc093blByb3BlcnR5KCdsYW5nJykgfHwgdHlwZW9mIG9wdGlvbnMubGFuZyAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5sYW5nID0gdGhpcy5nZXRTZXR0aW5nKCdsYW5nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGFuZ0xpc3QgICAgID0gdGhpcy5sYW5nLmhhc093blByb3BlcnR5KG9wdGlvbnMubGFuZykgPyB0aGlzLmxhbmdbb3B0aW9ucy5sYW5nXSA6IHt9O1xyXG4gICAgICAgIG9wdGlvbnMubGFuZ0xpc3QgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdsYW5nTGlzdCcpICYmIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5sYW5nTGlzdClcclxuICAgICAgICAgICAgPyAkLmV4dGVuZCh0cnVlLCB7fSwgbGFuZ0xpc3QsIG9wdGlvbnMubGFuZ0xpc3QpXHJcbiAgICAgICAgICAgIDogbGFuZ0xpc3Q7XHJcblxyXG4gICAgICAgIGluc3RhbmNlLl9pbml0KG9wdGlvbnMgaW5zdGFuY2VvZiBPYmplY3QgPyBvcHRpb25zIDoge30pO1xyXG5cclxuICAgICAgICBsZXQgdGFibGVJZCA9IGluc3RhbmNlLmdldElkKCk7XHJcbiAgICAgICAgdGhpcy5faW5zdGFuY2VzW3RhYmxlSWRdID0gaW5zdGFuY2U7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICAgKiBAcmV0dXJucyB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldDogZnVuY3Rpb24gKGlkKSB7XHJcblxyXG4gICAgICAgIGlmICggISB0aGlzLl9pbnN0YW5jZXMuaGFzT3duUHJvcGVydHkoaWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCAhICQoJyNjb3JldWktdGFibGUtJyArIGlkKVswXSkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faW5zdGFuY2VzW2lkXTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VzW2lkXTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINC90LDRgdGC0YDQvtC10LpcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBzZXRTZXR0aW5nczogZnVuY3Rpb24oc2V0dGluZ3MpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fc2V0dGluZ3MsIHNldHRpbmdzKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y8g0L3QsNGB0YLRgNC+0LnQutC4XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG4gICAgICovXHJcbiAgICBnZXRTZXR0aW5nOiBmdW5jdGlvbihuYW1lKSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3NldHRpbmdzW25hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb3JldWlUYWJsZTsiLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmxhbmcucnUgPSB7XHJcbiAgICBcImVtcHR5UmVjb3Jkc1wiOiBcItCd0LXRgiDQt9Cw0L/QuNGB0LXQuVwiLFxyXG4gICAgXCJsb2FkaW5nXCI6IFwi0JfQsNCz0YDRg9C30LrQsC4uLlwiLFxyXG4gICAgXCJ0b3RhbFwiOiBcItCS0YHQtdCz0L5cIixcclxuICAgIFwiYWxsXCI6IFwi0JLRgdC1XCIsXHJcbiAgICBcImNvbXBsZXRlXCI6IFwi0J/RgNC40LzQtdC90LjRgtGMXCIsXHJcbiAgICBcInNlYXJjaFwiOiBcItCY0YHQutCw0YLRjFwiLFxyXG4gICAgXCJjbGVhclwiOiBcItCe0YfQuNGB0YLQuNGC0YxcIixcclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5cclxuY29yZXVpVGFibGUubGFuZy5lbiA9IHtcclxuICAgIFwiZW1wdHlSZWNvcmRzXCI6IFwiTm8gcmVjb3Jkc1wiLFxyXG4gICAgXCJsb2FkaW5nXCI6IFwiTG9hZGluZy4uLlwiLFxyXG4gICAgXCJ0b3RhbFwiOiBcIlRvdGFsXCIsXHJcbiAgICBcImFsbFwiOiBcIkFsbFwiLFxyXG4gICAgXCJjb21wbGV0ZVwiOiBcIkNvbXBsZXRlXCIsXHJcbiAgICBcInNlYXJjaFwiOiBcIlNlYXJjaFwiLFxyXG4gICAgXCJjbGVhclwiOiBcIkNsZWFyXCIsXHJcbn0iLCJcclxuaW1wb3J0ICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvZWpzL2Vqcy5taW4nO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tICcuLi9jb3JldWkudGFibGUudGVtcGxhdGVzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSAnLi4vY29yZXVpLnRhYmxlLnV0aWxzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5jb250cm9scy5saW5rID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ2xpbmsnLFxyXG4gICAgICAgIHVybDogbnVsbCxcclxuICAgICAgICBjb250ZW50OiBudWxsLFxyXG4gICAgICAgIG9uQ2xpY2s6IG51bGwsXHJcbiAgICAgICAgYXR0cjogbnVsbFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMub25DbGljayA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdGhpcy5fb3B0aW9ucy5vbkNsaWNrID09PSAnc3RyaW5nJykge1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5nZXRJZCgpKTtcclxuICAgICAgICAgICAgJCgnYScsIGNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGF0Ll9vcHRpb25zLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuX29wdGlvbnMub25DbGljayhldmVudCwgdGhhdC5fdGFibGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGF0Ll9vcHRpb25zLm9uQ2xpY2sgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmdW5jID0gbmV3IEZ1bmN0aW9uKCdldmVudCcsICd0YWJsZScsICdjb250cm9sJywgdGhhdC5fb3B0aW9ucy5vbkNsaWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyhldmVudCwgdGhhdC5fdGFibGUsIHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IElEINGN0LvQtdC80LXQvdGC0LAg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsCDQtNC70Y8g0YDQsNC30LzQtdGJ0LXQvdC40Y8g0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuYXR0ciA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX29wdGlvbnMuYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29udHJvbHMvbGluay5odG1sJ10sIHtcclxuICAgICAgICAgICAgdXJsOiB0aGlzLl9vcHRpb25zLnVybCxcclxuICAgICAgICAgICAgY29udGVudDogdGhpcy5fb3B0aW9ucy5jb250ZW50LFxyXG4gICAgICAgICAgICBhdHRyOiBhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0ICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvZWpzL2Vqcy5taW4nO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICAgICBmcm9tICcuLi9jb3JldWkudGFibGUudGVtcGxhdGVzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgICAgZnJvbSAnLi4vY29yZXVpLnRhYmxlLnV0aWxzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5jb250cm9scy5idXR0b24gPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICBjb250ZW50OiBudWxsLFxyXG4gICAgICAgIG9uQ2xpY2s6IG51bGwsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogJ2J0biBidG4tc2Vjb25kYXJ5J1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40Lkg0YHQstGP0LfQsNC90L3Ri9GFINGBINGN0LvQtdC80LXQvdGC0L7QvCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHRoaXMuX29wdGlvbnMub25DbGljayA9PT0gJ3N0cmluZycpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuZ2V0SWQoKSk7XHJcbiAgICAgICAgICAgICQoJ2J1dHRvbicsIGNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGF0Ll9vcHRpb25zLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5fb3B0aW9ucy5vbkNsaWNrKGV2ZW50LCB0aGF0Ll90YWJsZSwgdGhhdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoYXQuX29wdGlvbnMub25DbGljayA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ2V2ZW50JywgJ3RhYmxlJywgJ2NvbnRyb2wnLCB0aGF0Ll9vcHRpb25zLm9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jKGV2ZW50LCB0aGF0Ll90YWJsZSwgdGhhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgSUQg0Y3Qu9C10LzQtdC90YLQsCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwINC00LvRjyDRgNCw0LfQvNC10YnQtdC90LjRjyDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX29wdGlvbnMuYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ2NvbnRyb2xzL2J1dHRvbi5odG1sJ10sIHtcclxuICAgICAgICAgICAgY29udGVudDogdGhpcy5fb3B0aW9ucy5jb250ZW50LFxyXG4gICAgICAgICAgICBhdHRyOiBhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0ICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvZWpzL2Vqcy5taW4nO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tICcuLi9jb3JldWkudGFibGUudGVtcGxhdGVzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSAnLi4vY29yZXVpLnRhYmxlLnV0aWxzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgQ29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLmRyb3Bkb3duID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ2Ryb3Bkb3duJyxcclxuICAgICAgICBjb250ZW50OiBudWxsLFxyXG4gICAgICAgIGl0ZW1zOiBudWxsLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6ICdidG4gYnRuLXByaW1hcnknLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fb3B0aW9ucy5pdGVtcykpIHtcclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX29wdGlvbnMuaXRlbXMsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChDb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGl0ZW0pICYmIHR5cGVvZiBpdGVtLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uaWQgPSBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40Lkg0YHQstGP0LfQsNC90L3Ri9GFINGBINGN0LvQtdC80LXQvdGC0L7QvCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLml0ZW1zKSkge1xyXG4gICAgICAgICAgICAkLmVhY2gob3B0aW9ucy5pdGVtcywgZnVuY3Rpb24gKGtleSwgaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoaXRlbSkgJiYgdHlwZW9mIGl0ZW0udHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2J1dHRvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5oYXNPd25Qcm9wZXJ0eSgnb25DbGljaycpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdmdW5jdGlvbiddLmluZGV4T2YodHlwZW9mIGl0ZW0ub25DbGljaykgPj0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0uY29udGVudCA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhhdC5fdGFibGUuZ2V0SWQoKSwgdGhhdC5nZXRJZCgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdidXR0b24jYnRuLWRyb3Bkb3duLScgKyBpdGVtLmlkLCBjb250cm9sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub25DbGljayhldmVudCwgdGhhdC5fdGFibGUsIHRoYXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbS5vbkNsaWNrID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ2V2ZW50JywgJ3RhYmxlJywgJ2NvbnRyb2wnLCBpdGVtLm9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyhldmVudCwgdGhhdC5fdGFibGUsIHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IElEINGN0LvQtdC80LXQvdGC0LAg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsCDQtNC70Y8g0YDQsNC30LzQtdGJ0LXQvdC40Y8g0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBsZXQgb3B0aW9ucyAgICA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGxldCBpdGVtcyAgICAgID0gW107XHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuaXRlbXMpKSB7XHJcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLml0ZW1zLCBmdW5jdGlvbiAoa2V5LCBpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZXVpVGFibGVVdGlscy5pc09iamVjdChpdGVtKSAmJiB0eXBlb2YgaXRlbS50eXBlID09PSAnc3RyaW5nJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbGluaycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2xpbmsnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS51cmwgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS5jb250ZW50ID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5rJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGl0ZW0udXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnYnV0dG9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmhhc093blByb3BlcnR5KCdvbkNsaWNrJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLmNvbnRlbnQgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdmdW5jdGlvbiddLmluZGV4T2YodHlwZW9mIGl0ZW0ub25DbGljaykgPj0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2RpdmlkZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdmlkZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5hdHRyKSkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdjbGFzcycpICYmXHJcbiAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBvcHRpb25zLmF0dHIuY2xhc3MpID49IDBcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHIuY2xhc3MgKz0gJyBkcm9wZG93bi10b2dnbGUnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmF0dHIudHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdpZCcpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5hdHRyLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ2RhdGEtYnMtdG9nZ2xlJykpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmF0dHJbJ2RhdGEtYnMtdG9nZ2xlJ107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ2NvbnRyb2xzL2Ryb3Bkb3duLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb25zLmNvbnRlbnQsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zLmhhc093blByb3BlcnR5KCdwb3NpdGlvbicpICYmIHR5cGVvZiBvcHRpb25zLnBvc2l0aW9uID09PSAnc3RyaW5nJyA/IG9wdGlvbnMucG9zaXRpb24gOiAnZW5kJyxcclxuICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlcy5sZW5ndGggPiAwID8gKCcgJyArIGF0dHJpYnV0ZXMuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBpdGVtczogaXRlbXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0ICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvZWpzL2Vqcy5taW4nO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tICcuLi9jb3JldWkudGFibGUudGVtcGxhdGVzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSAnLi4vY29yZXVpLnRhYmxlLnV0aWxzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgQ29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLmJ1dHRvbl9ncm91cCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdidXR0b25fZ3JvdXAnLFxyXG4gICAgICAgIGJ1dHRvbnM6IG51bGxcclxuICAgIH0sXHJcbiAgICBfbGluazoge1xyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6ICdidG4gYnRuLXNlY29uZGFyeSdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgX2J1dHRvbjoge1xyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6ICdidG4gYnRuLXNlY29uZGFyeSdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgX2Ryb3Bkb3duOiB7XHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogJ2J0biBidG4tc2Vjb25kYXJ5J1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX29wdGlvbnMuYnV0dG9ucykpIHtcclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX29wdGlvbnMuYnV0dG9ucywgZnVuY3Rpb24gKGtleSwgYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZXVpVGFibGVVdGlscy5pc09iamVjdChidXR0b24pICYmIHR5cGVvZiBidXR0b24udHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlkID0gY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLnR5cGUgPT09ICdkcm9wZG93bicgJiYgQXJyYXkuaXNBcnJheShidXR0b24uaXRlbXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChidXR0b24uaXRlbXMsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGl0ZW0pICYmIHR5cGVvZiBpdGVtLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaWQgPSBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuYnV0dG9ucykpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLmJ1dHRvbnMsIGZ1bmN0aW9uIChrZXksIGJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoYnV0dG9uKSAmJiB0eXBlb2YgYnV0dG9uLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24udHlwZSA9PT0gJ2J1dHRvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaGFzT3duUHJvcGVydHkoJ29uQ2xpY2snKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnZnVuY3Rpb24nXS5pbmRleE9mKHR5cGVvZiBidXR0b24ub25DbGljaykgPj0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGJ1dHRvbi5jb250ZW50ID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdidXR0b24jYnRuLScgKyBidXR0b24uaWQsIGNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJ1dHRvbi5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24ub25DbGljayhldmVudCwgdGhhdC5fdGFibGUsIHRoYXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYnV0dG9uLm9uQ2xpY2sgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IG5ldyBGdW5jdGlvbignZXZlbnQnLCAndGFibGUnLCAnY29udHJvbCcsIGJ1dHRvbi5vbkNsaWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMoZXZlbnQsIHRoYXQuX3RhYmxlLCB0aGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uLnR5cGUgPT09ICdkcm9wZG93bicgJiYgQXJyYXkuaXNBcnJheShidXR0b24uaXRlbXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChidXR0b24uaXRlbXMsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGl0ZW0pICYmIHR5cGVvZiBpdGVtLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdjb250ZW50JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5oYXNPd25Qcm9wZXJ0eSgnb25DbGljaycpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnc3RyaW5nJywgJ2Z1bmN0aW9uJ10uaW5kZXhPZih0eXBlb2YgaXRlbS5vbkNsaWNrKSA+PSAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLmNvbnRlbnQgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdidXR0b24jYnRuLWRyb3Bkb3duLScgKyBpdGVtLmlkLCBjb250cm9sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub25DbGljayhldmVudCwgdGhhdC5fdGFibGUsIHRoYXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtLm9uQ2xpY2sgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmdW5jID0gbmV3IEZ1bmN0aW9uKCdldmVudCcsICd0YWJsZScsICdjb250cm9sJywgaXRlbS5vbkNsaWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyhldmVudCwgdGhhdC5fdGFibGUsIHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBJRCDRjdC70LXQvNC10L3RgtCwINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LAg0LTQu9GPINGA0LDQt9C80LXRidC10L3QuNGPINC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgYnV0dG9ucyA9IFtdO1xyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuXHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuYnV0dG9ucykpIHtcclxuICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMuYnV0dG9ucywgZnVuY3Rpb24gKGtleSwgYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZXVpVGFibGVVdGlscy5pc09iamVjdChidXR0b24pICYmIHR5cGVvZiBidXR0b24udHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi50eXBlID09PSAnbGluaycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5oYXNPd25Qcm9wZXJ0eSgnbGluaycpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGJ1dHRvbi5saW5rID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGJ1dHRvbi5jb250ZW50ID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoYnV0dG9uLmF0dHIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmF0dHIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmF0dHIuaGFzT3duUHJvcGVydHkoJ2hyZWYnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBidXR0b24uYXR0ci5ocmVmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISBidXR0b24uYXR0ci5oYXNPd25Qcm9wZXJ0eSgnY2xhc3MnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5hdHRyLmNsYXNzID0gdGhhdC5fbGluay5hdHRyLmNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChidXR0b24uYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5rJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGJ1dHRvbi51cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYnV0dG9uLmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChidXR0b24udHlwZSA9PT0gJ2J1dHRvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaGFzT3duUHJvcGVydHkoJ29uQ2xpY2snKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGJ1dHRvbi5jb250ZW50ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnZnVuY3Rpb24nXS5pbmRleE9mKHR5cGVvZiBidXR0b24ub25DbGljaykgPj0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoYnV0dG9uLmF0dHIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmF0dHIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmF0dHIuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBidXR0b24uYXR0ci50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uYXR0ci5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBidXR0b24uYXR0ci5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICEgYnV0dG9uLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYXR0ci5jbGFzcyA9IHRoYXQuX2J1dHRvbi5hdHRyLmNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChidXR0b24uYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBidXR0b24uaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYnV0dG9uLmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uLnR5cGUgPT09ICdkcm9wZG93bicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJ1dHRvbi5pdGVtcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbXMgICAgICA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChidXR0b24uaXRlbXMsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29yZXVpVGFibGVVdGlscy5pc09iamVjdChpdGVtKSAmJiB0eXBlb2YgaXRlbS50eXBlID09PSAnc3RyaW5nJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xpbmsnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnbGluaycpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0udXJsID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLmNvbnRlbnQgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmsnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGl0ZW0udXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2J1dHRvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdjb250ZW50JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmhhc093blByb3BlcnR5KCdvbkNsaWNrJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS5jb250ZW50ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnc3RyaW5nJywgJ2Z1bmN0aW9uJ10uaW5kZXhPZih0eXBlb2YgaXRlbS5vbkNsaWNrKSA+PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdkaXZpZGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdmlkZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoYnV0dG9uLmF0dHIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmF0dHIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmF0dHIuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBidXR0b24uYXR0ci50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uYXR0ci5oYXNPd25Qcm9wZXJ0eSgnaWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBidXR0b24uYXR0ci5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICEgYnV0dG9uLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYXR0ci5jbGFzcyA9IHRoYXQuX2Ryb3Bkb3duLmF0dHIuY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5hdHRyLmhhc093blByb3BlcnR5KCdjbGFzcycpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgYnV0dG9uLmF0dHIuY2xhc3MpID49IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5hdHRyLmNsYXNzICs9ICcgZHJvcGRvd24tdG9nZ2xlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGJ1dHRvbi5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Ryb3Bkb3duJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBidXR0b24uY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYnV0dG9uLmhhc093blByb3BlcnR5KCdwb3NpdGlvbicpICYmIHR5cGVvZiBidXR0b24ucG9zaXRpb24gPT09ICdzdHJpbmcnID8gYnV0dG9uLnBvc2l0aW9uIDogJ2VuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29udHJvbHMvYnV0dG9uX2dyb3VwLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBidXR0b25zOiBidXR0b25zLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gJy4uL2NvcmV1aS50YWJsZS51dGlscyc7XHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLmN1c3RvbSA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdjdXN0b20nLFxyXG4gICAgICAgIGNvbnRlbnQ6IG51bGxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40Lkg0YHQstGP0LfQsNC90L3Ri9GFINGBINGN0LvQtdC80LXQvdGC0L7QvCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgSUQg0Y3Qu9C10LzQtdC90YLQsCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwINC00LvRjyDRgNCw0LfQvNC10YnQtdC90LjRjyDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8SFRNTEVsZW1lbnR8alF1ZXJ5fVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuY29udGVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuY29udGVudDtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5fb3B0aW9ucy5jb250ZW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmNvbnRlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0ICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvZWpzL2Vqcy5taW4nO1xyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gJy4uL2NvcmV1aS50YWJsZS51dGlscyc7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLnBhZ2Vfc2l6ZSA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdwYWdlX3NpemUnLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6ICdmb3JtLXNlbGVjdCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxpc3Q6IFsgMjUsIDUwLCAxMDAsIDEwMDAgXVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2F0dHInKSAmJiBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0gY29yZXVpVGFibGVVdGlscy5tZXJnZUF0dHIodGhpcy5fb3B0aW9ucy5hdHRyLCBvcHRpb25zLmF0dHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICBpZiAoICEgQXJyYXkuaXNBcnJheSh0aGlzLl9vcHRpb25zLmxpc3QpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubGlzdCA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubGlzdC5pbmRleE9mKHRoaXMuX3RhYmxlLl9yZWNvcmRzUGVyUGFnZSkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubGlzdC51bnNoaWZ0KHRoaXMuX3RhYmxlLl9yZWNvcmRzUGVyUGFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgICAgICAgID0gdGhpcztcclxuICAgICAgICBsZXQgY29udHJvbCAgICAgICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5nZXRJZCgpKTtcclxuICAgICAgICBsZXQgc2VsZWN0UGFnZVNpemUgPSAkKCdzZWxlY3QnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgc2VsZWN0UGFnZVNpemUuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUuX3BhZ2UgPSAxO1xyXG4gICAgICAgICAgICB0aGF0Ll90YWJsZS5zZXRQYWdlU2l6ZShOdW1iZXIoc2VsZWN0UGFnZVNpemUudmFsKCkpKTtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3RhYmxlLm9uKCdwYWdlX3NpemVfdXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxlY3RQYWdlU2l6ZS52YWwodGhhdC5fdGFibGUuX3JlY29yZHNQZXJQYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IElEINGN0LvQtdC80LXQvdGC0LAg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsCDQtNC70Y8g0YDQsNC30LzQtdGJ0LXQvdC40Y8g0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmF0dHIpKSB7XHJcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLl9vcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ2NvbnRyb2xzL3BhZ2Utc2l6ZS5odG1sJ10sIHtcclxuICAgICAgICAgICAgcmVjb3Jkc1BlclBhZ2VMaXN0OiB0aGlzLl9vcHRpb25zLmxpc3QsXHJcbiAgICAgICAgICAgIHJlY29yZHNQZXJQYWdlOiB0aGlzLl90YWJsZS5fcmVjb3Jkc1BlclBhZ2UsXHJcbiAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgbGFuZzogdGhpcy5fdGFibGUuZ2V0TGFuZygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gJy4uL2NvcmV1aS50YWJsZS51dGlscyc7XHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLnBhZ2VfanVtcCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdwYWdlX2p1bXAnLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6ICdpbnB1dC1ncm91cCdcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2F0dHInKSAmJiBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0gY29yZXVpVGFibGVVdGlscy5tZXJnZUF0dHIodGhpcy5fb3B0aW9ucy5hdHRyLCBvcHRpb25zLmF0dHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuZ2V0SWQoKSk7XHJcbiAgICAgICAgbGV0IGlucHV0ICAgPSAkKCdpbnB1dCcsIGNvbnRyb2wpO1xyXG4gICAgICAgIGxldCBidXR0b24gID0gJCgnYnV0dG9uJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChidXR0b25bMF0pIHtcclxuICAgICAgICAgICAgYnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLmdvUGFnZShpbnB1dC52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpbnB1dC5rZXl1cChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll90YWJsZS5nb1BhZ2UoaW5wdXQudmFsKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBJRCDRjdC70LXQvNC10L3RgtCwINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LAg0LTQu9GPINGA0LDQt9C80LXRidC10L3QuNGPINC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5hdHRyKSkge1xyXG4gICAgICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb250cm9scy9wYWdlLWp1bXAuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gJy4uL2NvcmV1aS50YWJsZS51dGlscyc7XHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLnBhZ2VzID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgc2hvdzoge1xyXG4gICAgICAgICAgICBwcmV2OiB0cnVlLFxyXG4gICAgICAgICAgICBuZXh0OiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY291bnQ6IDMsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogJ3BhZ2luYXRpb24gbWItMCdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXR0cicpICYmIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5hdHRyKSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmF0dHIgPSBjb3JldWlUYWJsZVV0aWxzLm1lcmdlQXR0cih0aGlzLl9vcHRpb25zLmF0dHIsIG9wdGlvbnMuYXR0cik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuZ2V0SWQoKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXRFdmVudHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdGFibGUub24oJ3JlY29yZHNfc2hvdycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udHJvbC5odG1sKHRoYXQucmVuZGVyKCkpO1xyXG4gICAgICAgICAgICB0aGF0Ll9pbml0RXZlbnRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBJRCDRjdC70LXQvNC10L3RgtCwINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LAg0LTQu9GPINGA0LDQt9C80LXRidC10L3QuNGPINC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXMgICAgICAgPSBbXTtcclxuICAgICAgICBsZXQgc2hvd1ByZXYgICAgICAgICA9ICEhIHRoaXMuX29wdGlvbnMuc2hvdy5wcmV2O1xyXG4gICAgICAgIGxldCBzaG93TmV4dCAgICAgICAgID0gISEgdGhpcy5fb3B0aW9ucy5zaG93Lm5leHQ7XHJcbiAgICAgICAgbGV0IHNob3dEaXZpZGVyU3RhcnQgPSBmYWxzZTtcclxuICAgICAgICBsZXQgc2hvd0RpdmlkZXJFbmQgICA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzaG93UGFnZUZpcnN0ICAgID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHNob3dQYWdlTGFzdCAgICAgPSBmYWxzZTtcclxuICAgICAgICBsZXQgcGFnZXMgICAgICAgICAgICA9IFtdO1xyXG4gICAgICAgIGxldCBwYWdlc1RvdGFsICAgICAgID0gdGhpcy5fdGFibGUuX3JlY29yZHNUb3RhbCA+IDAgJiYgdGhpcy5fdGFibGUuX3JlY29yZHNQZXJQYWdlID4gMFxyXG4gICAgICAgICAgICA/IE1hdGguY2VpbCh0aGlzLl90YWJsZS5fcmVjb3Jkc1RvdGFsIC8gdGhpcy5fdGFibGUuX3JlY29yZHNQZXJQYWdlKVxyXG4gICAgICAgICAgICA6IDE7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl90YWJsZS5fcmVjb3Jkc1RvdGFsID4gMCAmJlxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNvdW50ID4gMCAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyh0aGlzLl9vcHRpb25zLmNvdW50KVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBsZXQgY291bnQgICAgID0gTWF0aC5taW4odGhpcy5fb3B0aW9ucy5jb3VudCwgcGFnZXNUb3RhbCk7XHJcbiAgICAgICAgICAgIGxldCBjb3VudEhhbGYgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGNvdW50IC8gMikpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvdW50ICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY291bnRIYWxmIC09IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMuX3RhYmxlLl9wYWdlID4gMVxyXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heCgxLCB0aGlzLl90YWJsZS5fcGFnZSAtIGNvdW50SGFsZilcclxuICAgICAgICAgICAgICAgIDogdGhpcy5fdGFibGUuX3BhZ2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhcnQgKyBjb3VudCA+IHBhZ2VzVG90YWwpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gcGFnZXNUb3RhbCAtIChjb3VudCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VzLnB1c2goc3RhcnQgKyBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmNvdW50ID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGFibGUuX3BhZ2UgPiAxXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcGFnZXMucHVzaCh0aGlzLl90YWJsZS5fcGFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChwYWdlc1swXSA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93UGFnZUZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGFnZXNbMF0gPj0gMykge1xyXG4gICAgICAgICAgICAgICAgc2hvd0RpdmlkZXJTdGFydCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwYWdlc1twYWdlcy5sZW5ndGggLSAxXSArIDEgPCBwYWdlc1RvdGFsKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93RGl2aWRlckVuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdIDwgcGFnZXNUb3RhbCkge1xyXG4gICAgICAgICAgICAgICAgc2hvd1BhZ2VMYXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5hdHRyKSkge1xyXG4gICAgICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb250cm9scy9wYWdlcy5odG1sJ10sIHtcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMuX3RhYmxlLl9wYWdlLFxyXG4gICAgICAgICAgICBpc0FjdGl2ZVByZXY6IHRoaXMuX3RhYmxlLl9wYWdlID4gMSxcclxuICAgICAgICAgICAgaXNBY3RpdmVOZXh0OiB0aGlzLl90YWJsZS5fcGFnZSA8IHBhZ2VzVG90YWwsXHJcbiAgICAgICAgICAgIHBhZ2VzVG90YWw6IHBhZ2VzVG90YWwsXHJcblxyXG4gICAgICAgICAgICBzaG93UHJldjogc2hvd1ByZXYsXHJcbiAgICAgICAgICAgIHNob3dQYWdlRmlyc3Q6IHNob3dQYWdlRmlyc3QsXHJcbiAgICAgICAgICAgIHNob3dEaXZpZGVyU3RhcnQ6IHNob3dEaXZpZGVyU3RhcnQsXHJcblxyXG4gICAgICAgICAgICBwYWdlczogcGFnZXMsXHJcblxyXG4gICAgICAgICAgICBzaG93RGl2aWRlckVuZDogc2hvd0RpdmlkZXJFbmQsXHJcbiAgICAgICAgICAgIHNob3dQYWdlTGFzdDogc2hvd1BhZ2VMYXN0LFxyXG4gICAgICAgICAgICBzaG93TmV4dDogc2hvd05leHQsXHJcblxyXG4gICAgICAgICAgICBhdHRyOiBhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIGxhbmc6IHRoaXMuX3RhYmxlLmdldExhbmcoKSxcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40Lkg0L3QsCDRjdC70LXQvNC10L3RgtCw0YVcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIF9pbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLmdldElkKCkpO1xyXG5cclxuICAgICAgICBsZXQgYnRuUHJldiA9ICQoJy5jb3JldWktdGFibGVfX3BhZ2VfcHJldicsIGNvbnRyb2wpXHJcbiAgICAgICAgaWYgKGJ0blByZXZbMF0pIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuX3RhYmxlLl9wYWdlIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgIGJ0blByZXYuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJ0blByZXYuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoYXQuX3RhYmxlLl9wYWdlID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLnByZXZQYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYnRuTmV4dCA9ICQoJy5jb3JldWktdGFibGVfX3BhZ2VfbmV4dCcsIGNvbnRyb2wpXHJcbiAgICAgICAgaWYgKGJ0bk5leHRbMF0pIHtcclxuICAgICAgICAgICAgYnRuTmV4dC5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll90YWJsZS5uZXh0UGFnZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBhZ2VzID0gJCgnLmNvcmV1aS10YWJsZV9fcGFnZScsIGNvbnRyb2wpXHJcbiAgICAgICAgaWYgKHBhZ2VzWzBdKSB7XHJcbiAgICAgICAgICAgIHBhZ2VzLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwYWdlID0gTnVtYmVyKCQudHJpbSgkKHRoaXMpLnRleHQoKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYWdlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLmdvUGFnZShwYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0ICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvZWpzL2Vqcy5taW4nO1xyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gJy4uL2NvcmV1aS50YWJsZS51dGlscyc7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLnRvdGFsID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvdGFsJyxcclxuICAgICAgICBhdHRyOiB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAncHgtMSdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXR0cicpICYmIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5hdHRyKSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmF0dHIgPSBjb3JldWlUYWJsZVV0aWxzLm1lcmdlQXR0cih0aGlzLl9vcHRpb25zLmF0dHIsIG9wdGlvbnMuYXR0cik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuZ2V0SWQoKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3RhYmxlLm9uKCdyZWNvcmRzX3Nob3cnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuaHRtbCh0aGF0LnJlbmRlcigpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IElEINGN0LvQtdC80LXQvdGC0LAg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsCDQtNC70Y8g0YDQsNC30LzQtdGJ0LXQvdC40Y8g0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmF0dHIpKSB7XHJcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLl9vcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29udHJvbHMvdG90YWwuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIHJlY29yZHNUb3RhbDogdGhpcy5fdGFibGUuX3JlY29yZHNUb3RhbCxcclxuICAgICAgICAgICAgYXR0cjogYXR0cmlidXRlcy5sZW5ndGggPiAwID8gKCcgJyArIGF0dHJpYnV0ZXMuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBsYW5nOiB0aGlzLl90YWJsZS5nZXRMYW5nKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSAnLi4vY29yZXVpLnRhYmxlLnV0aWxzJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgQ29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLnNlYXJjaCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGJ0bjoge1xyXG4gICAgICAgICAgICBhdHRyOiB7IGNsYXNzOiAnYnRuIGJ0bi1zZWNvbmRhcnknIH0sXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBidG5DbGVhcjoge1xyXG4gICAgICAgICAgICBjb250ZW50OiBcIjxpIGNsYXNzPVxcXCJiaSBiaS14XFxcIj48L2k+XCIsXHJcbiAgICAgICAgICAgIGF0dHI6IHsgY2xhc3M6ICdidG4gYnRuLXNlY29uZGFyeScgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYnRuQ29tcGxldGU6IHtcclxuICAgICAgICAgICAgYXR0cjogeyBjbGFzczogJ2J0biBidG4tcHJpbWFyeScgfSxcclxuICAgICAgICAgICAgY29udGVudDogbnVsbFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG5cclxuICAgICAgICBpZiAoICEgQ29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmJ0bikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG4gPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggISB0aGlzLl9vcHRpb25zLmJ0bi5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpIHx8XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9vcHRpb25zLmJ0bi5jb250ZW50ICE9PSAnc3RyaW5nJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmJ0bi5jb250ZW50ID0gJzxpIGNsYXNzPVwiYmkgYmktc2VhcmNoXCI+PC9pPiAnICsgdGFibGUuZ2V0TGFuZygpLnNlYXJjaFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICggISBDb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMuYnRuQ2xlYXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYnRuQ2xlYXIgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggISB0aGlzLl9vcHRpb25zLmJ0bkNsZWFyLmhhc093blByb3BlcnR5KCdjb250ZW50JykgfHxcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuX29wdGlvbnMuYnRuQ2xlYXIuY29udGVudCAhPT0gJ3N0cmluZydcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG5DbGVhci5jb250ZW50ID0gdGFibGUuZ2V0TGFuZygpLmNsZWFyXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKCAhIENvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5idG5Db21wbGV0ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG5Db21wbGV0ZSA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCAhIHRoaXMuX29wdGlvbnMuYnRuQ29tcGxldGUuaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSB8fFxyXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5fb3B0aW9ucy5idG5Db21wbGV0ZS5jb250ZW50ICE9PSAnc3RyaW5nJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmJ0bkNvbXBsZXRlLmNvbnRlbnQgPSB0YWJsZS5nZXRMYW5nKCkuc2VhcmNoXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgICAgICA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGNvbnRyb2wgICAgICA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLmdldElkKCkpO1xyXG4gICAgICAgIGxldCBidXR0b25Ub2dnbGUgPSAkKCdidXR0b24uYnRuLXNlYXJjaC10b2dnbGUnLCBjb250cm9sKTtcclxuICAgICAgICBsZXQgYnV0dG9uQ2xlYXIgID0gJCgnYnV0dG9uLmJ0bi1jbGVhcicsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICBidXR0b25Ub2dnbGUuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgY29udGFpbmVyICAgICAgICA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoYXQuX3RhYmxlLmdldElkKCkpO1xyXG4gICAgICAgICAgICBsZXQgY29sdW1uc0NvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29sdW1uc0NvbnRhaW5lcih0aGF0Ll90YWJsZS5nZXRJZCgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb2x1bW5zQ29udGFpbmVyWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zQ29udGFpbmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lclswXSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmZhZGVUb2dnbGUoJ2Zhc3QnKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udHJvbHMgICAgICAgICAgID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udHJvbHNFdmVudHMgICAgID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRuQ29tcGxldGVBdHRyICAgID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRuQ29tcGxldGVDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlciAgICAgICAgICAgID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRXcmFwcGVyKHRoYXQuX3RhYmxlLmdldElkKCkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhYmxlT3B0aW9ucyAgICAgICA9IHRoYXQuX3RhYmxlLmdldE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIGxldCBsYWJlbFdpZHRoICAgICAgICAgPSB0YWJsZU9wdGlvbnMuc2VhcmNoLmhhc093blByb3BlcnR5KCdsYWJlbFdpZHRoJykgJiYgdGFibGVPcHRpb25zLnNlYXJjaC5sYWJlbFdpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgPyB0YWJsZU9wdGlvbnMuc2VhcmNoLmxhYmVsV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICA6IDE2MDtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2godGhhdC5fdGFibGUuX3NlYXJjaCwgZnVuY3Rpb24gKGtleSwgY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvcHRpb25zID0gY29udHJvbC5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdmaWVsZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmZpZWxkID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICAgICAgIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2xhYmVsJykgJiYgdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09ICdzdHJpbmcnID8gb3B0aW9ucy5sYWJlbCA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2Rlc2NyaXB0aW9uJykgJiYgdHlwZW9mIG9wdGlvbnMuZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnID8gb3B0aW9ucy5kZXNjcmlwdGlvbiA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4OiAgICAgIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3ByZWZpeCcpICYmIHR5cGVvZiBvcHRpb25zLnByZWZpeCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLnByZWZpeCA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICAgICAgICAgIGNvbnRyb2wuZ2V0SWQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICAgICBjb250cm9sLnJlbmRlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sLmhhc093blByb3BlcnR5KCdpbml0RXZlbnRzJykgJiYgdHlwZW9mIGNvbnRyb2wuaW5pdEV2ZW50cyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNFdmVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGNvbnRyb2wuaW5pdEV2ZW50cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sOiBjb250cm9sLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoYXQuX29wdGlvbnMuYnRuQ29tcGxldGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fb3B0aW9ucy5idG5Db21wbGV0ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoYXQuX29wdGlvbnMuYnRuQ29tcGxldGUuYXR0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9vcHRpb25zLmJ0bkNvbXBsZXRlLmF0dHIgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5fb3B0aW9ucy5idG5Db21wbGV0ZS5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhhdC5fb3B0aW9ucy5idG5Db21wbGV0ZS5hdHRyLnR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhIHRoYXQuX29wdGlvbnMuYnRuQ29tcGxldGUuYXR0ci5oYXNPd25Qcm9wZXJ0eSgnY2xhc3MnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0aGF0Ll9vcHRpb25zLmJ0bkNvbXBsZXRlLmF0dHIuY2xhc3MgIT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9vcHRpb25zLmJ0bkNvbXBsZXRlLmF0dHIuY2xhc3MgPSAnYnRuLWNvbXBsZXRlJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fb3B0aW9ucy5idG5Db21wbGV0ZS5hdHRyLmNsYXNzICs9ICcgYnRuLWNvbXBsZXRlJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGF0Ll9vcHRpb25zLmJ0bkNvbXBsZXRlLmF0dHIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHRoYXQuX29wdGlvbnMuYnRuQ29tcGxldGUuYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkNvbXBsZXRlQXR0ci5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoYXQuX29wdGlvbnMuYnRuQ29tcGxldGUuY29udGVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBidG5Db21wbGV0ZUNvbnRlbnQgPSB0aGF0Ll9vcHRpb25zLmJ0bkNvbXBsZXRlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb250cm9scy9zZWFyY2gtY29udGFpbmVyLmh0bWwnXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsV2lkdGg6IGxhYmVsV2lkdGggKyAodHlwZW9mIGxhYmVsV2lkdGggPT09ICdudW1iZXInID8gJ3B4JyA6ICcnKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sczogY29udHJvbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgYnRuQ29tcGxldGVBdHRyOiAgICBidG5Db21wbGV0ZUF0dHIubGVuZ3RoID4gMCA/ICgnICcgKyBidG5Db21wbGV0ZUF0dHIuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ0bkNvbXBsZXRlQ29udGVudDogYnRuQ29tcGxldGVDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnByZXBlbmQoY29udGVudCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb250cm9sc0V2ZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRyb2xzRXZlbnRzLCBmdW5jdGlvbiAoa2V5LCBjb250cm9sc0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzRXZlbnQuZXZlbnQuYXBwbHkoY29udHJvbHNFdmVudC5jb250cm9sKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSAkKCc+IC5jb3JldWktdGFibGVfX3NlYXJjaCcsIHdyYXBwZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICQoJy5idG4tY29tcGxldGUnLCBjb250YWluZXIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll90YWJsZS5zZWFyY2hSZWNvcmRzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mYWRlT3V0KCdmYXN0Jyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgYnV0dG9uQ2xlYXIuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGF0Ll90YWJsZS5zZWFyY2hDbGVhcigpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoYXQuX3RhYmxlLmdldElkKCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lclswXSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmZhZGVPdXQoJ2Zhc3QnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5fdGFibGUub24oJ3NlYXJjaF9jaGFuZ2UnLCBmdW5jdGlvbiAoc2VhcmNoRGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgYnV0dG9uQ2xlYXIgPSAkKCdidXR0b24uYnRuLWNsZWFyJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VhcmNoRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoICEgYnV0dG9uQ2xlYXJbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoYXQuX3JlbmRlckJ0bkNsZWFyKCkpLmluc2VydEFmdGVyKGJ1dHRvblRvZ2dsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoJ2J1dHRvbi5idG4tY2xlYXInLCBjb250cm9sKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaENsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250YWluZXIodGhhdC5fdGFibGUuZ2V0SWQoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmFkZU91dCgnZmFzdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uQ2xlYXIucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoYXQuX3RhYmxlLmdldElkKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmFkZU91dCgnZmFzdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBJRCDRjdC70LXQvNC10L3RgtCwINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LAg0LTQu9GPINGA0LDQt9C80LXRidC10L3QuNGPINC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgbGV0IGJ0bkF0dHIgICAgPSBbXTtcclxuICAgICAgICBsZXQgYnRuQ29udGVudCA9ICcnO1xyXG4gICAgICAgIGxldCBidG5DbGVhciAgID0gJyc7XHJcblxyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmJ0bikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG4gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5idG4uYXR0cikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG4uYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCAhIHRoaXMuX29wdGlvbnMuYnRuLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgfHxcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuX29wdGlvbnMuYnRuLmF0dHIuY2xhc3MgIT09ICdzdHJpbmcnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYnRuLmF0dHIuY2xhc3MgPSAnYnRuLXNlYXJjaC10b2dnbGUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYnRuLmF0dHIuY2xhc3MgKz0gJyBidG4tc2VhcmNoLXRvZ2dsZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5idG4uYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGJ0bkF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuYnRuLmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGJ0bkNvbnRlbnQgPSB0aGlzLl9vcHRpb25zLmJ0bi5jb250ZW50O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fdGFibGUuZ2V0U2VhcmNoRGF0YSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgYnRuQ2xlYXIgPSB0aGlzLl9yZW5kZXJCdG5DbGVhcigpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb250cm9scy9zZWFyY2guaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGJ0bkNvbnRlbnQ6IGJ0bkNvbnRlbnQsXHJcbiAgICAgICAgICAgIGJ0bkF0dHI6IGJ0bkF0dHIubGVuZ3RoID4gMCA/ICgnICcgKyBidG5BdHRyLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgYnRuQ2xlYXI6IGJ0bkNsZWFyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCg0LXQvdC00LXRgCDQutC90L7Qv9C60Lgg0L7RgtC80LXQvdGLXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBfcmVuZGVyQnRuQ2xlYXI6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBbXTtcclxuICAgICAgICBsZXQgY29udGVudCAgICA9ICcnO1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmJ0bkNsZWFyKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmJ0bkNsZWFyID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMuYnRuQ2xlYXIuYXR0cikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG5DbGVhci5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoICEgdGhpcy5fb3B0aW9ucy5idG5DbGVhci5hdHRyLmhhc093blByb3BlcnR5KCdjbGFzcycpIHx8XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9vcHRpb25zLmJ0bkNsZWFyLmF0dHIuY2xhc3MgIT09ICdzdHJpbmcnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYnRuQ2xlYXIuYXR0ci5jbGFzcyA9ICdidG4tY2xlYXInO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYnRuQ2xlYXIuYXR0ci5jbGFzcyArPSAnIGJ0bi1jbGVhcic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5idG5DbGVhci5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb3B0aW9ucy5idG5DbGVhci5jb250ZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gdGhpcy5fb3B0aW9ucy5idG5DbGVhci5jb250ZW50O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb250cm9scy9zZWFyY2gtY2xlYXIuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tICcuLi9jb3JldWkudGFibGUudXRpbHMnO1xyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgQ29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbnRyb2xzLmNvbHVtbnMgPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnY29sdW1ucycsXHJcbiAgICAgICAgYnRuOiB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICc8aSBjbGFzcz1cImJpIGJpLWxheW91dC10aHJlZS1jb2x1bW5zXCI+PC9pPicsXHJcbiAgICAgICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAnYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYnRuQ29tcGxldGU6IHtcclxuICAgICAgICAgICAgY29udGVudDogbnVsbCxcclxuICAgICAgICAgICAgYXR0cjogeyBjbGFzczogJ2J0biBidG4tcHJpbWFyeScgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcblxyXG4gICAgICAgIGlmICggISBDb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMuYnRuKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmJ0biA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCAhIENvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5idG5Db21wbGV0ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG5Db21wbGV0ZSA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKENvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5idG5Db21wbGV0ZSkgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuX29wdGlvbnMuYnRuQ29tcGxldGUuY29udGVudCAhPT0gJ3N0cmluZydcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5idG5Db21wbGV0ZS5jb250ZW50ID0gdGFibGUuZ2V0TGFuZygpLmNvbXBsZXRlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuSDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0YEg0Y3Qu9C10LzQtdC90YLQvtC8INGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCBidXR0b24gID0gJCgnYnV0dG9uJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgICAgICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbHVtbnNDb250YWluZXIodGhhdC5fdGFibGUuZ2V0SWQoKSk7XHJcbiAgICAgICAgICAgIGxldCBjb250YWluZXJTZWFyY2ggPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRhaW5lcih0aGF0Ll90YWJsZS5nZXRJZCgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXJTZWFyY2hbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclNlYXJjaC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXJbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mYWRlVG9nZ2xlKCdmYXN0Jyk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtbnMgICAgICAgICAgICA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNob3dBbGwgICAgICAgICAgICA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRuQ29tcGxldGVBdHRyICAgID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRuQ29tcGxldGVDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlciAgICAgICAgICAgID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRXcmFwcGVyKHRoYXQuX3RhYmxlLmdldElkKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCh0aGF0Ll90YWJsZS5fY29sdW1ucywgZnVuY3Rpb24gKGtleSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBjb2x1bW4uZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZmllbGQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5maWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNTaG93ID0gY29sdW1uLmlzU2hvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBvcHRpb25zLmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2xhYmVsJykgJiYgdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09ICdzdHJpbmcnID8gb3B0aW9ucy5sYWJlbCA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogaXNTaG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISBpc1Nob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dBbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5idG5Db21wbGV0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmJ0bkNvbXBsZXRlID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5idG5Db21wbGV0ZS5hdHRyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYnRuQ29tcGxldGUuYXR0ciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmJ0bkNvbXBsZXRlLmF0dHIuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmJ0bkNvbXBsZXRlLmF0dHIudHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICEgb3B0aW9ucy5idG5Db21wbGV0ZS5hdHRyLmhhc093blByb3BlcnR5KCdjbGFzcycpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuYnRuQ29tcGxldGUuYXR0ci5jbGFzcyAhPT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYnRuQ29tcGxldGUuYXR0ci5jbGFzcyA9ICdidG4tY29tcGxldGUnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmJ0bkNvbXBsZXRlLmF0dHIuY2xhc3MgKz0gJyBidG4tY29tcGxldGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYnRuQ29tcGxldGUuYXR0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2gob3B0aW9ucy5idG5Db21wbGV0ZS5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuQ29tcGxldGVBdHRyLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYnRuQ29tcGxldGUuY29udGVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBidG5Db21wbGV0ZUNvbnRlbnQgPSBvcHRpb25zLmJ0bkNvbXBsZXRlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29udHJvbHMvY29sdW1ucy1jb250YWluZXIuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0FsbDogICAgICAgICAgICBzaG93QWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6ICAgICAgICAgICAgY29sdW1ucyxcclxuICAgICAgICAgICAgICAgICAgICBidG5Db21wbGV0ZUF0dHI6ICAgIGJ0bkNvbXBsZXRlQXR0ci5sZW5ndGggPiAwID8gKCcgJyArIGJ0bkNvbXBsZXRlQXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgYnRuQ29tcGxldGVDb250ZW50OiBidG5Db21wbGV0ZUNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogICAgICAgICAgICAgICB0aGF0Ll90YWJsZS5nZXRMYW5nKCksXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucHJlcGVuZChjb250ZW50KTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9ICQoJz4gLmNvcmV1aS10YWJsZV9fY29sdW1ucycsIHdyYXBwZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICQoJy5jb3JldWktdGFibGVfX2NoZWNrX2FsbCBpbnB1dCcsIGNvbnRhaW5lcikuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuY29yZXVpLXRhYmxlX2NoZWNrLWNvbHVtbiBpbnB1dCcsIGNvbnRhaW5lcikucHJvcCgnY2hlY2tlZCcsICQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLmJ0bi1jb21wbGV0ZScsIGNvbnRhaW5lcikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5jb3JldWktdGFibGVfY2hlY2stY29sdW1uIGlucHV0OmNoZWNrZWQnLCBjb250YWluZXIpLmVhY2goZnVuY3Rpb24gKGtleSwgaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKCQoaW5wdXQpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fdGFibGUuc2V0Q29sdW1uc1Nob3coY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fdGFibGUucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmFkZU91dCgnZmFzdCcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IElEINGN0LvQtdC80LXQvdGC0LAg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsCDQtNC70Y8g0YDQsNC30LzQtdGJ0LXQvdC40Y8g0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmJ0bi5hdHRyKSkge1xyXG4gICAgICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5idG4uYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29udHJvbHMvY29sdW1ucy5odG1sJ10sIHtcclxuICAgICAgICAgICAgYnRuQ29udGVudDogdGhpcy5fb3B0aW9ucy5idG4uY29udGVudCxcclxuICAgICAgICAgICAgYnRuQXR0cjogYXR0cmlidXRlcy5sZW5ndGggPiAwID8gKCcgJyArIGF0dHJpYnV0ZXMuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCAnLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Vqcy9lanMubWluJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgICAgZnJvbSAnLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlcyc7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzICAgIGZyb20gJy4uL2NvcmV1aS50YWJsZS51dGlscyc7XHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS5lbGVtZW50c1wiO1xyXG5cclxuY29yZXVpVGFibGUuY29udHJvbHMuY2FwdGlvbiA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdjYXB0aW9uJyxcclxuICAgICAgICB0aXRsZTogbnVsbCxcclxuICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCxcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40Lkg0YHQstGP0LfQsNC90L3Ri9GFINGBINGN0LvQtdC80LXQvdGC0L7QvCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgSUQg0Y3Qu9C10LzQtdC90YLQsCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwINC00LvRjyDRgNCw0LfQvNC10YnQtdC90LjRjyDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb250cm9scy9jYXB0aW9uLmh0bWwnXSwge1xyXG4gICAgICAgICAgICB0aXRsZTogdGhpcy5fb3B0aW9ucy50aXRsZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX29wdGlvbnMuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9vcHRpb25zLnZhbHVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5jb250cm9scy5maWx0ZXJfY2xlYXIgPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnZmlsdGVyX2NsZWFyJyxcclxuICAgICAgICBjb250ZW50OiBudWxsLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6ICdidG4gYnRuLXNlY29uZGFyeSdcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKCAhIHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSB8fFxyXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5fb3B0aW9ucy5jb250ZW50ICE9PSAnc3RyaW5nJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNvbnRlbnQgPSAnPGkgY2xhc3M9XCJiaSBiaS14XCI+PC9pPiAnICsgdGFibGUuZ2V0TGFuZygpLmNsZWFyXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdidXR0b24nLCBjb250cm9sKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoYXQuX3RhYmxlLmZpbHRlcnNDbGVhcigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZS5vbignZmlsdGVyc19jaGFuZ2UnLCBmdW5jdGlvbiAoZmlsdGVyRGF0YSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpbHRlckRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJCgnYnV0dG9uJywgY29udHJvbCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnYnV0dG9uJywgY29udHJvbCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChvcHRpb25zLmF0dHIpKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmF0dHIudHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmaWx0ZXJEYXRhID0gdGhpcy5fdGFibGUuZ2V0RmlsdGVyRGF0YSgpO1xyXG5cclxuICAgICAgICBpZiAoZmlsdGVyRGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSAmJiB0eXBlb2Ygb3B0aW9ucy5hdHRyLnN0eWxlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hdHRyLnN0eWxlICs9ICc7ZGlzcGxheTpub25lOydcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYXR0ci5zdHlsZSA9IFwiZGlzcGxheTpub25lXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGF0dHIgPSBbXTtcclxuXHJcbiAgICAgICAgJC5lYWNoKG9wdGlvbnMuYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29udHJvbHMvZmlsdGVyX2NsZWFyLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBhdHRyOiBhdHRyLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IG9wdGlvbnMuY29udGVudCA/IG9wdGlvbnMuY29udGVudCA6ICcnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCAnLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Vqcy9lanMubWluJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmZpbHRlcnMudGV4dCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHdpZHRoOiAyMDAsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogXCJmb3JtLWNvbnRyb2xcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJ0bjoge1xyXG4gICAgICAgICAgICBhdHRyOiB7IGNsYXNzOiBcImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYm9yZGVyLXNlY29uZGFyeS1zdWJ0bGVcIiB9LFxyXG4gICAgICAgICAgICBjb250ZW50OiAnPGkgY2xhc3M9XCJiaSBiaS1zZWFyY2hcIj48L2k+J1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ8bnVsbH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWVcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRyb2xbMF0pIHtcclxuICAgICAgICAgICAgICAgICQoJ2lucHV0JywgY29udHJvbCkudmFsKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID09PSBudWxsID8gJycgOiB0aGlzLl92YWx1ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCBpbnB1dCAgID0gJCgnaW5wdXQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0WzBdKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGlucHV0LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLmtleXVwKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCdidXR0b24nLCBjb250cm9sKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgbGV0IGxhYmVsICAgPSB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5sYWJlbFxyXG4gICAgICAgICAgICA6ICcnO1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChvcHRpb25zLmF0dHIpKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykgJiZcclxuICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc051bWVyaWMob3B0aW9ucy53aWR0aClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hdHRyWydzdHlsZSddICs9ICc7d2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hdHRyWydzdHlsZSddID0gJ3dpZHRoOicgKyBvcHRpb25zLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucy5hdHRyWyduYW1lJ10gID0gdHlwZW9mIG9wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnID8gb3B0aW9ucy5maWVsZCA6ICcnO1xyXG4gICAgICAgIG9wdGlvbnMuYXR0clsndmFsdWUnXSA9IHR5cGVvZiB0aGlzLl92YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHRoaXMuX3ZhbHVlID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICA/IHRoaXMuX3ZhbHVlXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5hdHRyLnR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYnRuKSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmJ0biA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChvcHRpb25zLmJ0bi5hdHRyKSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmJ0bi5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5idG4uYXR0ci5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmJ0bi5hdHRyLnR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IGF0dHIgICAgPSBbXTtcclxuICAgICAgICBsZXQgYXR0ckJ0biA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2gob3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0ci5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJC5lYWNoKG9wdGlvbnMuYnRuLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBhdHRyQnRuLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ2ZpbHRlcnMvdGV4dC5odG1sJ10sIHtcclxuICAgICAgICAgICAgYXR0cjogYXR0ci5sZW5ndGggPiAwID8gKCcgJyArIGF0dHIuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBsYWJlbDogbGFiZWwsXHJcbiAgICAgICAgICAgIGJ0bkF0dHI6IGF0dHJCdG4ubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyQnRuLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgYnRuQ29udGVudDogb3B0aW9ucy5idG4uY29udGVudCA/IG9wdGlvbnMuYnRuLmNvbnRlbnQgOiAnJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgJy4uLy4uLy4uL25vZGVfbW9kdWxlcy9lanMvZWpzLm1pbic7XHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5maWx0ZXJzLm51bWJlciA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgd2lkdGg6IDkwLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6IFwiZm9ybS1jb250cm9sXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBidG46IHtcclxuICAgICAgICAgICAgYXR0cjogeyBjbGFzczogXCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJvcmRlci1zZWNvbmRhcnktc3VidGxlXCIgfSxcclxuICAgICAgICAgICAgY29udGVudDogJzxpIGNsYXNzPVwiYmkgYmktc2VhcmNoXCI+PC9pPidcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R8bnVsbH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBudW1iZXJTdGFydCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBudW1iZXJFbmQgICA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ3N0YXJ0JykgJiZcclxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWUuc3RhcnQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zdGFydCAhPT0gJ251bWJlcicpICYmXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5zdGFydCAhPT0gJydcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBudW1iZXJTdGFydCA9IHZhbHVlLnN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ2VuZCcpICYmXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlLmVuZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLmVuZCAhPT0gJ251bWJlcicpICYmXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5lbmQgIT09ICcnXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyRW5kID0gdmFsdWUuZW5kO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobnVtYmVyU3RhcnQgPT09IG51bGwgJiYgbnVtYmVyRW5kID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG51bWJlclN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogICBudW1iZXJFbmRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRyb2xbMF0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dFN0YXJ0ID0gJCgnaW5wdXQubnVtYmVyLXN0YXJ0JywgY29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRFbmQgICA9ICQoJ2lucHV0Lm51bWJlci1lbmQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN0YXJ0LnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTdGFydC52YWwodHlwZW9mIHRoaXMuX3ZhbHVlLnN0YXJ0ICE9PSBudWxsID8gdGhpcy5fdmFsdWUuc3RhcnQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKHR5cGVvZiB0aGlzLl92YWx1ZS5lbmQgIT09IG51bGwgPyB0aGlzLl92YWx1ZS5lbmQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCAgICA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IGlucHV0U3RhcnQgPSAkKCdpbnB1dC5udW1iZXItc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICBsZXQgaW5wdXRFbmQgICA9ICQoJ2lucHV0Lm51bWJlci1lbmQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0U3RhcnRbMF0gJiYgaW5wdXRFbmRbMF0pIHtcclxuXHJcbiAgICAgICAgICAgIGxldCB2YWx1ZVN0YXJ0ID0gaW5wdXRTdGFydC52YWwoKTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlRW5kICAgPSBpbnB1dEVuZC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWVTdGFydCA9PT0gJ3N0cmluZycgJiYgdmFsdWVTdGFydCAhPT0gJycpIHx8XHJcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlRW5kID09PSAnc3RyaW5nJyAmJiB2YWx1ZUVuZCAhPT0gJycpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogdmFsdWVTdGFydCAhPT0gJycgPyB2YWx1ZVN0YXJ0IDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IHZhbHVlRW5kICE9PSAnJyA/IHZhbHVlRW5kIDogbnVsbCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuXHJcbiAgICAgICAgJCgnaW5wdXQubnVtYmVyLXN0YXJ0LCBpbnB1dC5udW1iZXItZW5kJywgY29udHJvbCkua2V5dXAoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJ2J1dHRvbicsIGNvbnRyb2wpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgbGFiZWwgICA9IHR5cGVvZiBvcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyBvcHRpb25zLmxhYmVsXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyhvcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5hdHRyLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBmaWVsZCAgICAgPSB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgbGV0IHN0YXJ0QXR0ciA9IFtdO1xyXG4gICAgICAgIGxldCBlbmRBdHRyICAgPSBbXTtcclxuICAgICAgICBsZXQgYXR0ckJ0biAgID0gW107XHJcblxyXG5cclxuICAgICAgICAkLmVhY2gob3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKFsnbmFtZScsICd2YWx1ZScsICdjbGFzcyddLmluZGV4T2YobmFtZSkgPj0gMCB8fFxyXG4gICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgdmFsdWUpIDwgMFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3RhcnRBdHRyLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgZW5kQXR0ci5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiZcclxuICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2Ygb3B0aW9ucy5hdHRyLmNsYXNzKSA+PSAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCdjbGFzcz1cIicgKyBvcHRpb25zLmF0dHIuY2xhc3MgKyAnIG51bWJlci1zdGFydFwiJyk7XHJcbiAgICAgICAgICAgIGVuZEF0dHIucHVzaCgnY2xhc3M9XCInICsgb3B0aW9ucy5hdHRyLmNsYXNzICsgJyBudW1iZXItZW5kXCInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaCgnY2xhc3M9XCJudW1iZXItc3RhcnRcIicpO1xyXG4gICAgICAgICAgICBlbmRBdHRyLnB1c2goJ2NsYXNzPVwibnVtYmVyLWVuZFwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tzdGFydF1cIicpO1xyXG4gICAgICAgICAgICBlbmRBdHRyLnB1c2goJ25hbWU9XCInICsgZmllbGQgKyAnW2VuZF1cIicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhcnRBdHRyLnB1c2goJ3ZhbHVlPVwiJyArICh0aGlzLl92YWx1ZSA/IHRoaXMuX3ZhbHVlLnN0YXJ0IDogJycpICsgJ1wiJyk7XHJcbiAgICAgICAgZW5kQXR0ci5wdXNoKCd2YWx1ZT1cIicgKyAodGhpcy5fdmFsdWUgPyB0aGlzLl92YWx1ZS5lbmQgOiAnJykgKyAnXCInKTtcclxuXHJcblxyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChvcHRpb25zLmJ0bikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5idG4gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5idG4uYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5idG4uYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYnRuLmF0dHIuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5idG4uYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICQuZWFjaChvcHRpb25zLmJ0bi5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0ckJ0bi5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydmaWx0ZXJzL251bWJlci5odG1sJ10sIHtcclxuICAgICAgICAgICAgYXR0clN0YXJ0OiBzdGFydEF0dHIubGVuZ3RoID4gMCA/ICgnICcgKyBzdGFydEF0dHIuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBhdHRyRW5kOiBlbmRBdHRyLmxlbmd0aCA+IDAgPyAoJyAnICsgZW5kQXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIGxhYmVsOiBsYWJlbCxcclxuICAgICAgICAgICAgYnRuQXR0cjogYXR0ckJ0bi5sZW5ndGggPiAwID8gKCcgJyArIGF0dHJCdG4uam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBidG5Db250ZW50OiBvcHRpb25zLmJ0bi5jb250ZW50ID8gb3B0aW9ucy5idG4uY29udGVudCA6ICcnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCAnLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Vqcy9lanMubWluJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmZpbHRlcnMuZGF0ZSA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ2RhdGUnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHdpZHRoOiAyMDAsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogXCJmb3JtLWNvbnRyb2xcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgdmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZhbHVlICYmXHJcbiAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgIHZhbHVlLm1hdGNoKC9eXFxkezR9XFwtXFxkezJ9XFwtXFxkezJ9JC8pID09PSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICBpc05hTihuZXcgRGF0ZSh2YWx1ZSkpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLnZhbChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9PT0gbnVsbCA/ICcnIDogdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IGlucHV0ICAgPSAkKCdpbnB1dCcsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICBpZiAoaW5wdXRbMF0pIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gaW5wdXQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLmNoYW5nZShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgbGV0IGxhYmVsICAgPSB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5sYWJlbFxyXG4gICAgICAgICAgICA6ICcnO1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChvcHRpb25zLmF0dHIpKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykgJiZcclxuICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc051bWVyaWMob3B0aW9ucy53aWR0aClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hdHRyWydzdHlsZSddICs9ICc7d2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hdHRyWydzdHlsZSddID0gJ3dpZHRoOicgKyBvcHRpb25zLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucy5hdHRyWyduYW1lJ10gID0gdHlwZW9mIG9wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnID8gb3B0aW9ucy5maWVsZCA6ICcnO1xyXG4gICAgICAgIG9wdGlvbnMuYXR0clsndmFsdWUnXSA9IHR5cGVvZiB0aGlzLl92YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHRoaXMuX3ZhbHVlID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICA/IHRoaXMuX3ZhbHVlXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5hdHRyLnR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IGF0dHIgPSBbXTtcclxuXHJcbiAgICAgICAgJC5lYWNoKG9wdGlvbnMuYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnZmlsdGVycy9kYXRlLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBhdHRyOiBhdHRyLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIGxhYmVsOiBsYWJlbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCAnLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Vqcy9lanMubWluJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmZpbHRlcnMuZGF0ZXRpbWUgPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX3ZhbHVlOiBudWxsLFxyXG4gICAgX3JlbmRlcjogZmFsc2UsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICBhdHRyOiB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImZvcm0tY29udHJvbFwiLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmIHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAmJlxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5tYXRjaCgvXlxcZHs0fVxcLVxcZHsyfVxcLVxcZHsyfSBcXGR7Mn06XFxkezJ9OlxcZHsyfSQvKSA9PT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgaXNOYU4obmV3IERhdGUodmFsdWUpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLnZhbChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9PT0gbnVsbCA/ICcnIDogdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgaW5wdXQgICA9ICQoJ2lucHV0JywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFswXSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0L7QsdGL0YLQuNC5XHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgdGhhdCAgICA9IHRoaXM7XHJcblxyXG4gICAgICAgICQoJ2lucHV0JywgY29udHJvbCkuY2hhbmdlKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgbGFiZWwgICA9IHR5cGVvZiBvcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyBvcHRpb25zLmxhYmVsXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyhvcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zLmF0dHJbJ25hbWUnXSAgPSB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgb3B0aW9ucy5hdHRyWyd2YWx1ZSddID0gdHlwZW9mIHRoaXMuX3ZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdGhpcy5fdmFsdWUgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgOiAnJztcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmF0dHIudHlwZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgYXR0ciA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2gob3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0ci5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydmaWx0ZXJzL2RhdGV0aW1lLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBhdHRyOiBhdHRyLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIGxhYmVsOiBsYWJlbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCAnLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Vqcy9lanMubWluJztcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmZpbHRlcnMuZGF0ZV9tb250aCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ2RhdGVfbW9udGgnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHdpZHRoOiAyMDAsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogXCJmb3JtLWNvbnRyb2xcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmFsdWUgJiZcclxuICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgdmFsdWUubWF0Y2goL15cXGR7NH1cXC1cXGR7Mn0kLykgPT09IG51bGwgfHxcclxuICAgICAgICAgICAgICAgIGlzTmFOKG5ldyBEYXRlKHZhbHVlKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcikge1xyXG4gICAgICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICAgICAgJCgnaW5wdXQnLCBjb250cm9sKS52YWwoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPT09IG51bGwgPyAnJyA6IHRoaXMuX3ZhbHVlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCBpbnB1dCAgID0gJCgnaW5wdXQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0WzBdKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGlucHV0LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuXHJcbiAgICAgICAgJCgnaW5wdXQnLCBjb250cm9sKS5jaGFuZ2UoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB0aGF0Ll90YWJsZS5zZWFyY2hSZWNvcmRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGxldCBsYWJlbCAgID0gdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvcHRpb25zLmxhYmVsID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICA/IG9wdGlvbnMubGFiZWxcclxuICAgICAgICAgICAgOiAnJztcclxuXHJcbiAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9ucy5hdHRyKSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmF0dHIgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCd3aWR0aCcpICYmXHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlVXRpbHMuaXNOdW1lcmljKG9wdGlvbnMud2lkdGgpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ3N0eWxlJykpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYXR0clsnc3R5bGUnXSArPSAnO3dpZHRoOicgKyBvcHRpb25zLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYXR0clsnc3R5bGUnXSA9ICd3aWR0aDonICsgb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbnMuYXR0clsnbmFtZSddICA9IHR5cGVvZiBvcHRpb25zLmZpZWxkID09PSAnc3RyaW5nJyA/IG9wdGlvbnMuZmllbGQgOiAnJztcclxuICAgICAgICBvcHRpb25zLmF0dHJbJ3ZhbHVlJ10gPSB0eXBlb2YgdGhpcy5fdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0aGlzLl92YWx1ZSA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyB0aGlzLl92YWx1ZVxyXG4gICAgICAgICAgICA6ICcnO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBhdHRyID0gW107XHJcblxyXG4gICAgICAgICQuZWFjaChvcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBhdHRyLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ2ZpbHRlcnMvZGF0ZV9tb250aC5odG1sJ10sIHtcclxuICAgICAgICAgICAgYXR0cjogYXR0ci5sZW5ndGggPiAwID8gKCcgJyArIGF0dHIuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBsYWJlbDogbGFiZWxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS5lbGVtZW50c1wiO1xyXG5cclxuY29yZXVpVGFibGUuZmlsdGVycy5kYXRlX3JhbmdlID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF92YWx1ZTogbnVsbCxcclxuICAgIF9yZW5kZXI6IGZhbHNlLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnZGF0ZV9yYW5nZScsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICBhdHRyOiB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImZvcm0tY29udHJvbCBkLWlubGluZS1ibG9ja1wiLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdHxudWxsfSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRhdGVTdGFydCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBkYXRlRW5kICAgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCdzdGFydCcpICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUuc3RhcnQgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5zdGFydC5tYXRjaCgvXlxcZHs0fVxcLVxcZHsyfVxcLVxcZHsyfSQvKSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgaXNOYU4obmV3IERhdGUodmFsdWUuc3RhcnQpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGRhdGVTdGFydCA9IHZhbHVlLnN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ2VuZCcpICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUuZW5kID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdmFsdWUuZW5kLm1hdGNoKC9eXFxkezR9XFwtXFxkezJ9XFwtXFxkezJ9JC8pID09PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICBpc05hTihuZXcgRGF0ZSh2YWx1ZS5lbmQpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGRhdGVFbmQgPSB2YWx1ZS5lbmQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRlU3RhcnQgPT09IG51bGwgJiYgZGF0ZUVuZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBkYXRlU3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBkYXRlRW5kXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRTdGFydCA9ICQoJ2lucHV0LmRhdGUtc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dEVuZCAgID0gJCgnaW5wdXQuZGF0ZS1lbmQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN0YXJ0LnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTdGFydC52YWwodHlwZW9mIHRoaXMuX3ZhbHVlLnN0YXJ0ICE9PSBudWxsID8gdGhpcy5fdmFsdWUuc3RhcnQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKHR5cGVvZiB0aGlzLl92YWx1ZS5lbmQgIT09IG51bGwgPyB0aGlzLl92YWx1ZS5lbmQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sICAgID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgaW5wdXRTdGFydCA9ICQoJ2lucHV0LmRhdGUtc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICBsZXQgaW5wdXRFbmQgICA9ICQoJ2lucHV0LmRhdGUtZW5kJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFN0YXJ0WzBdICYmIGlucHV0RW5kWzBdKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFsdWVTdGFydCA9IGlucHV0U3RhcnQudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZUVuZCAgID0gaW5wdXRFbmQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlU3RhcnQgPT09ICdzdHJpbmcnICYmIHZhbHVlU3RhcnQgIT09ICcnKSB8fFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZUVuZCA9PT0gJ3N0cmluZycgJiYgdmFsdWVFbmQgIT09ICcnKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHZhbHVlU3RhcnQgIT09ICcnID8gdmFsdWVTdGFydCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiB2YWx1ZUVuZCAhPT0gJycgPyB2YWx1ZUVuZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0L7QsdGL0YLQuNC5XHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgdGhhdCAgICA9IHRoaXM7XHJcblxyXG4gICAgICAgICQoJ2lucHV0JywgY29udHJvbCkuY2hhbmdlKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgbGFiZWwgICA9IHR5cGVvZiBvcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyBvcHRpb25zLmxhYmVsXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyhvcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5hdHRyLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBmaWVsZCAgICAgPSB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgbGV0IHN0YXJ0QXR0ciA9IFtdO1xyXG4gICAgICAgIGxldCBzdGFydEVuZCAgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICQuZWFjaChvcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoWyduYW1lJywgJ3ZhbHVlJywgJ2NsYXNzJ10uaW5kZXhPZihuYW1lKSA+PSAwIHx8XHJcbiAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkgPCAwXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiZcclxuICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2Ygb3B0aW9ucy5hdHRyLmNsYXNzKSA+PSAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCdjbGFzcz1cIicgKyBvcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtc3RhcnRcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCdjbGFzcz1cIicgKyBvcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtZW5kXCInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaCgnY2xhc3M9XCJkYXRlLXN0YXJ0XCInKTtcclxuICAgICAgICAgICAgc3RhcnRFbmQucHVzaCgnY2xhc3M9XCJkYXRlLWVuZFwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tzdGFydF1cIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tlbmRdXCInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXJ0QXR0ci5wdXNoKCd2YWx1ZT1cIicgKyAodGhpcy5fdmFsdWUgPyB0aGlzLl92YWx1ZS5zdGFydCA6ICcnKSArICdcIicpO1xyXG4gICAgICAgIHN0YXJ0RW5kLnB1c2goJ3ZhbHVlPVwiJyArICh0aGlzLl92YWx1ZSA/IHRoaXMuX3ZhbHVlLmVuZCA6ICcnKSArICdcIicpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ2ZpbHRlcnMvZGF0ZV9yYW5nZS5odG1sJ10sIHtcclxuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICAgICAgICBzdGFydEF0dHI6IHN0YXJ0QXR0ci5sZW5ndGggPiAwID8gKCcgJyArIHN0YXJ0QXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIGVuZEF0dHI6IHN0YXJ0RW5kLmxlbmd0aCA+IDAgPyAoJyAnICsgc3RhcnRFbmQuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5maWx0ZXJzLmRhdGV0aW1lX3JhbmdlID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF92YWx1ZTogbnVsbCxcclxuICAgIF9yZW5kZXI6IGZhbHNlLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnZGF0ZXRpbWVfcmFuZ2UnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHdpZHRoOiAyMDAsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogXCJmb3JtLWNvbnRyb2wgZC1pbmxpbmUtYmxvY2tcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R8bnVsbH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkYXRlU3RhcnQgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgZGF0ZUVuZCAgID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnc3RhcnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlLnN0YXJ0ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdmFsdWUuc3RhcnQubWF0Y2goL15cXGR7NH1cXC1cXGR7Mn1cXC1cXGR7Mn0gXFxkezJ9OlxcZHsyfTpcXGR7Mn0kLykgPT09IG51bGwgJiZcclxuICAgICAgICAgICAgICAgIGlzTmFOKG5ldyBEYXRlKHZhbHVlLnN0YXJ0KSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlU3RhcnQgPSB2YWx1ZS5zdGFydDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCdlbmQnKSAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlLmVuZCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgIHZhbHVlLmVuZC5tYXRjaCgvXlxcZHs0fVxcLVxcZHsyfVxcLVxcZHsyfSBcXGR7Mn06XFxkezJ9OlxcZHsyfSQvKSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgaXNOYU4obmV3IERhdGUodmFsdWUuZW5kKSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlRW5kID0gdmFsdWUuZW5kO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0ZVN0YXJ0ID09PSBudWxsICYmIGRhdGVFbmQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogZGF0ZVN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogICBkYXRlRW5kXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRTdGFydCA9ICQoJ2lucHV0LmRhdGUtc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dEVuZCAgID0gJCgnaW5wdXQuZGF0ZS1lbmQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN0YXJ0LnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTdGFydC52YWwodHlwZW9mIHRoaXMuX3ZhbHVlLnN0YXJ0ICE9PSBudWxsID8gdGhpcy5fdmFsdWUuc3RhcnQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKHR5cGVvZiB0aGlzLl92YWx1ZS5lbmQgIT09IG51bGwgPyB0aGlzLl92YWx1ZS5lbmQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sICAgID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgaW5wdXRTdGFydCA9ICQoJ2lucHV0LmRhdGUtc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICBsZXQgaW5wdXRFbmQgICA9ICQoJ2lucHV0LmRhdGUtZW5kJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFN0YXJ0WzBdICYmIGlucHV0RW5kWzBdKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFsdWVTdGFydCA9IGlucHV0U3RhcnQudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZUVuZCAgID0gaW5wdXRFbmQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlU3RhcnQgPT09ICdzdHJpbmcnICYmIHZhbHVlU3RhcnQgIT09ICcnKSB8fFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZUVuZCA9PT0gJ3N0cmluZycgJiYgdmFsdWVFbmQgIT09ICcnKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHZhbHVlU3RhcnQgIT09ICcnID8gdmFsdWVTdGFydCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiB2YWx1ZUVuZCAhPT0gJycgPyB2YWx1ZUVuZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0L7QsdGL0YLQuNC5XHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgdGhhdCAgICA9IHRoaXM7XHJcblxyXG4gICAgICAgICQoJ2lucHV0JywgY29udHJvbCkuY2hhbmdlKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgbGFiZWwgICA9IHR5cGVvZiBvcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyBvcHRpb25zLmxhYmVsXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyhvcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5hdHRyLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBmaWVsZCAgICAgPSB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgbGV0IHN0YXJ0QXR0ciA9IFtdO1xyXG4gICAgICAgIGxldCBzdGFydEVuZCAgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICQuZWFjaChvcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoWyduYW1lJywgJ3ZhbHVlJywgJ2NsYXNzJ10uaW5kZXhPZihuYW1lKSA+PSAwIHx8XHJcbiAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkgPCAwXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiZcclxuICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2Ygb3B0aW9ucy5hdHRyLmNsYXNzKSA+PSAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCdjbGFzcz1cIicgKyBvcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtc3RhcnRcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCdjbGFzcz1cIicgKyBvcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtZW5kXCInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaCgnY2xhc3M9XCJkYXRlLXN0YXJ0XCInKTtcclxuICAgICAgICAgICAgc3RhcnRFbmQucHVzaCgnY2xhc3M9XCJkYXRlLWVuZFwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tzdGFydF1cIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tlbmRdXCInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXJ0QXR0ci5wdXNoKCd2YWx1ZT1cIicgKyAodGhpcy5fdmFsdWUgPyB0aGlzLl92YWx1ZS5zdGFydCA6ICcnKSArICdcIicpO1xyXG4gICAgICAgIHN0YXJ0RW5kLnB1c2goJ3ZhbHVlPVwiJyArICh0aGlzLl92YWx1ZSA/IHRoaXMuX3ZhbHVlLmVuZCA6ICcnKSArICdcIicpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ2ZpbHRlcnMvZGF0ZXRpbWVfcmFuZ2UuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBsYWJlbCxcclxuICAgICAgICAgICAgc3RhcnRBdHRyOiBzdGFydEF0dHIubGVuZ3RoID4gMCA/ICgnICcgKyBzdGFydEF0dHIuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBlbmRBdHRyOiBzdGFydEVuZC5sZW5ndGggPiAwID8gKCcgJyArIHN0YXJ0RW5kLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS5lbGVtZW50c1wiO1xyXG5cclxuY29yZXVpVGFibGUuZmlsdGVycy5jaGVja2JveCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfY2xhc3M6ICdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5JyxcclxuICAgIF9yZW5kZXI6IGZhbHNlLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIG9wdGlvbnM6IFtdLFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuX29wdGlvbnMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IGlkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfG51bWJlcnxudWxsfSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInLCAnb2JqZWN0J10uaW5kZXhPZih0eXBlb2YgdmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCh2YWx1ZSwgZnVuY3Rpb24gKGtleSwgaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gaXRlbXM7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gWyB2YWx1ZSBdO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRyb2xbMF0pIHtcclxuICAgICAgICAgICAgICAgICQoJ2lucHV0OmNoZWNrZWQnLCBjb250cm9sKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh0aGlzLl92YWx1ZSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbdmFsdWU9XCInICsgdmFsdWUgKyAnXCJdJywgY29udHJvbCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXRzID0gJCgnaW5wdXQ6Y2hlY2tlZCcsIGNvbnRyb2wpO1xyXG4gICAgICAgICAgICBsZXQgaXRlbXMgID0gW107XHJcblxyXG4gICAgICAgICAgICAkLmVhY2goaW5wdXRzLCBmdW5jdGlvbiAoa2V5LCBpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gJChpbnB1dCkuYXR0cigndmFsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgdmFsdWUpID49IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gJydcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5sZW5ndGggPiAwID8gaXRlbXMgOiBudWxsO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgdGhhdCAgICA9IHRoaXM7XHJcblxyXG4gICAgICAgICQoJ2lucHV0JywgY29udHJvbCkuY2hhbmdlKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgbGV0IGZpZWxkICAgPSB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgbGV0IGl0ZW1zICAgPSBbXTtcclxuICAgICAgICBsZXQgbGFiZWwgICA9IHR5cGVvZiBvcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyBvcHRpb25zLmxhYmVsXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgICQuZWFjaChvcHRpb25zLm9wdGlvbnMsIGZ1bmN0aW9uIChrZXksIG9wdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChvcHRpb24pIHx8XHJcbiAgICAgICAgICAgICAgICAhIG9wdGlvbi5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSB8fFxyXG4gICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtZXJpYyddLmluZGV4T2YodHlwZW9mIG9wdGlvbi52YWx1ZSkgPT09IC0xXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY2hlY2tlZCA9IEFycmF5LmlzQXJyYXkodGhhdC5fdmFsdWUpID8gdGhhdC5fdmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpID49IDAgOiBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IHRleHQgICAgPSBvcHRpb24uaGFzT3duUHJvcGVydHkoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgPyBvcHRpb24udGV4dFxyXG4gICAgICAgICAgICAgICAgOiBvcHRpb24udmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRleHQ6ICAgIHRleHQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogICBvcHRpb24udmFsdWUsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogICBvcHRpb24uaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiYgdHlwZW9mIG9wdGlvbi5jbGFzcyA9PT0gJ3N0cmluZycgPyBvcHRpb24uY2xhc3MgOiB0aGF0Ll9jbGFzcyxcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnZmlsdGVycy9jaGVja2JveC5odG1sJ10sIHtcclxuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICAgICAgICBpdGVtczogaXRlbXMsXHJcbiAgICAgICAgICAgIGZpZWxkOiBmaWVsZCArIHRoaXMuZ2V0SWQoKSxcclxuICAgICAgICAgICAgbGFuZzogdGhpcy5fdGFibGUuZ2V0TGFuZygpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmZpbHRlcnMucmFkaW8gPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX3ZhbHVlOiBudWxsLFxyXG4gICAgX2NsYXNzOiAnYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeScsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ3JhZGlvJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICBvcHRpb25zOiBbXSxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ8bnVsbH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbdmFsdWU9XCInICsgdGhpcy5fdmFsdWUgKyAnXCJdJywgY29udHJvbCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IGlucHV0ICAgPSAkKCdpbnB1dDpjaGVja2VkJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFswXSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJydcclxuICAgICAgICAgICAgICAgID8gbnVsbFxyXG4gICAgICAgICAgICAgICAgOiB2YWx1ZVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0YLQuNC/0LAg0L/QvtC40YHQutC+0LLQvtCz0L4g0LDQu9Cz0L7RgNC40YLQvNCwXHJcbiAgICAgKi9cclxuICAgIGdldEFsZ29yaXRobTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAnc3RyaWN0JztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLmNoYW5nZShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGxldCBmaWVsZCAgID0gdHlwZW9mIG9wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnID8gb3B0aW9ucy5maWVsZCA6ICcnO1xyXG4gICAgICAgIGxldCBpdGVtcyAgID0gW107XHJcbiAgICAgICAgbGV0IGxhYmVsICAgPSB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5sYWJlbFxyXG4gICAgICAgICAgICA6ICcnO1xyXG5cclxuICAgICAgICAkLmVhY2gob3B0aW9ucy5vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCBvcHRpb24pIHtcclxuICAgICAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgISBvcHRpb24uaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgfHxcclxuICAgICAgICAgICAgICAgIFsnc3RyaW5nJywgJ251bWVyaWMnXS5pbmRleE9mKHR5cGVvZiBvcHRpb24udmFsdWUpID09PSAtMVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHRleHQgPSBvcHRpb24uaGFzT3duUHJvcGVydHkoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgPyBvcHRpb24udGV4dFxyXG4gICAgICAgICAgICAgICAgOiBvcHRpb24udmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRleHQ6ICAgIHRleHQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogICBvcHRpb24udmFsdWUsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogICBvcHRpb24uaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiYgdHlwZW9mIG9wdGlvbi5jbGFzcyA9PT0gJ3N0cmluZycgPyBvcHRpb24uY2xhc3MgOiB0aGF0Ll9jbGFzcyxcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IG9wdGlvbi52YWx1ZSA9PSB0aGF0Ll92YWx1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydmaWx0ZXJzL3JhZGlvLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBsYWJlbDogbGFiZWwsXHJcbiAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgICAgICAgZmllbGQ6IGZpZWxkICsgdGhpcy5nZXRJZCgpLFxyXG4gICAgICAgICAgICBsYW5nOiB0aGlzLl90YWJsZS5nZXRMYW5nKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IENvcmV1aVRhYmxlVXRpbHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5maWx0ZXJzLnNlbGVjdCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ3NlbGVjdCcsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgd2lkdGg6IG51bGwsXHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogJ2Zvcm0tc2VsZWN0IGQtaW5saW5lLWJsb2NrJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uczogW11cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ3xudW1iZXJ8bnVsbH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAoWydzdHJpbmcnLCAnbnVtYmVyJywgJ29iamVjdCddLmluZGV4T2YodHlwZW9mIHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2godmFsdWUsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGl0ZW1zO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IFsgdmFsdWUgXTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdzZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJywgY29udHJvbCkucHJvcCgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHRoaXMuX3ZhbHVlLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdzZWxlY3Qgb3B0aW9uW3ZhbHVlPVwiJyArIHZhbHVlICsgJ1wiXScsIGNvbnRyb2wpLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtBcnJheXxzdHJpbmd8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICBsZXQgaXNNdWx0aXBsZSA9ICEhICQoJ3NlbGVjdCcsIGNvbnRyb2wpLmF0dHIoJ211bHRpcGxlJyk7XHJcbiAgICAgICAgICAgIGxldCBvcHRpb25zICAgID0gJCgnc2VsZWN0IG9wdGlvbjpjaGVja2VkJywgY29udHJvbCk7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyAgICAgID0gW107XHJcblxyXG4gICAgICAgICAgICAkLmVhY2gob3B0aW9ucywgZnVuY3Rpb24gKGtleSwgb3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSAkKG9wdGlvbikuYXR0cigndmFsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgdmFsdWUpID49IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gJydcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICA/IChpc011bHRpcGxlID8gaXRlbXMgOiBpdGVtc1swXSlcclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IHRoYXQgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdzZWxlY3QnLCBjb250cm9sKS5jaGFuZ2UoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB0aGF0Ll90YWJsZS5zZWFyY2hSZWNvcmRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICBsZXQgdGhhdCAgICAgICAgICA9IHRoaXM7XHJcbiAgICAgICAgbGV0IG9wdGlvbnMgICAgICAgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgc2VsZWN0T3B0aW9ucyA9IFtdO1xyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzICAgID0gW107XHJcbiAgICAgICAgbGV0IGxhYmVsICAgICAgICAgPSB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9wdGlvbnMubGFiZWwgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5sYWJlbFxyXG4gICAgICAgICAgICA6ICcnO1xyXG5cclxuICAgICAgICBpZiAoICEgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXR0cicpIHx8XHJcbiAgICAgICAgICAgICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChvcHRpb25zLmF0dHIpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZmllbGQpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyLm5hbWUgPSB0aGlzLl9vcHRpb25zLmZpZWxkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMud2lkdGgpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0gY29yZXVpVGFibGVVdGlscy5tZXJnZUF0dHIoXHJcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiAnd2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnIH0sXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdvcHRpb25zJykgJiZcclxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMub3B0aW9ucyA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICAgICAgb3B0aW9ucy5vcHRpb25zICE9PSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLm9wdGlvbnMsIGZ1bmN0aW9uIChrZXksIG9wdGlvbikge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9uID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMucHVzaCh0aGF0Ll9idWlsZE9wdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvcHRpb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25cclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChDb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IG9wdGlvbi5oYXNPd25Qcm9wZXJ0eSgndHlwZScpICYmIHR5cGVvZiBvcHRpb24udHlwZSA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcHRpb24udHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdvcHRpb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVuZGVyQXR0ciAgID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncm91cEF0dHIgICAgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyb3VwT3B0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5oYXNPd25Qcm9wZXJ0eSgnYXR0cicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbi5hdHRyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwQXR0ciA9IG9wdGlvbi5hdHRyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmhhc093blByb3BlcnR5KCdsYWJlbCcpICYmIFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mKG9wdGlvbi5sYWJlbCkpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwQXR0ci5sYWJlbCA9IG9wdGlvbi5sYWJlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGdyb3VwQXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJBdHRyLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb24ub3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChvcHRpb24ub3B0aW9ucywgZnVuY3Rpb24gKGtleSwgZ3JvdXBPcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cE9wdGlvbnMucHVzaCh0aGF0Ll9idWlsZE9wdGlvbihncm91cE9wdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogcmVuZGVyQXR0ci5sZW5ndGggPiAwID8gKCcgJyArIHJlbmRlckF0dHIuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogZ3JvdXBPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5wdXNoKHRoYXQuX2J1aWxkT3B0aW9uKG9wdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmVhY2gob3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydmaWx0ZXJzL3NlbGVjdC5odG1sJ10sIHtcclxuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICAgICAgICBhdHRyOiBhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHNlbGVjdE9wdGlvbnNcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KHQsdC+0YDQutCwINC+0L/RhtC40LhcclxuICAgICAqIEBwYXJhbSBvcHRpb25cclxuICAgICAqIEByZXR1cm4ge29iamVjdH1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIF9idWlsZE9wdGlvbjogZnVuY3Rpb24gKG9wdGlvbikge1xyXG5cclxuICAgICAgICBsZXQgb3B0aW9uQXR0ciA9IFtdO1xyXG4gICAgICAgIGxldCBvcHRpb25UZXh0ID0gb3B0aW9uLmhhc093blByb3BlcnR5KCd0ZXh0JykgJiYgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2Yob3B0aW9uLnRleHQpKSA+PSAwXHJcbiAgICAgICAgICAgID8gb3B0aW9uLnRleHRcclxuICAgICAgICAgICAgOiAnJztcclxuXHJcbiAgICAgICAgJC5lYWNoKG9wdGlvbiwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChuYW1lICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbkF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl92YWx1ZSkpIHtcclxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuX3ZhbHVlLCBmdW5jdGlvbiAoa2V5LCBpdGVtVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtVmFsdWUgPT0gb3B0aW9uLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uQXR0ci5wdXNoKCdzZWxlY3RlZD1cInNlbGVjdGVkXCInKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3ZhbHVlID09IG9wdGlvbi52YWx1ZSkge1xyXG4gICAgICAgICAgICBvcHRpb25BdHRyLnB1c2goJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ29wdGlvbicsXHJcbiAgICAgICAgICAgIHRleHQ6IG9wdGlvblRleHQsXHJcbiAgICAgICAgICAgIGF0dHI6IG9wdGlvbkF0dHIubGVuZ3RoID4gMCA/ICgnICcgKyBvcHRpb25BdHRyLmpvaW4oJyAnKSkgOiAnJ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmZpbHRlcnMuc3dpdGNoID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF92YWx1ZTogbnVsbCxcclxuICAgIF9yZW5kZXI6IGZhbHNlLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnc3dpdGNoJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICB2YWx1ZVk6ICdZJ1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuX29wdGlvbnMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IGlkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcnxudWxsfSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcidcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcikge1xyXG4gICAgICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0Q29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlWSA9IHR5cGVvZiB0aGlzLl9vcHRpb25zLnZhbHVlWSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHRoaXMuX29wdGlvbnMudmFsdWVZID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy52YWx1ZVlcclxuICAgICAgICAgICAgICAgICAgICA6ICcnXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXQnLCBjb250cm9sKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fdmFsdWUgPT09IHZhbHVlWSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2lucHV0JywgY29udHJvbCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXQnLCBjb250cm9sKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCBpbnB1dCAgID0gJCgnaW5wdXQ6Y2hlY2tlZCcsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5wdXRbMF0gPyBpbnB1dC52YWwoKSA6IG51bGw7XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgdGhhdCAgICA9IHRoaXM7XHJcblxyXG4gICAgICAgICQoJ2lucHV0JywgY29udHJvbCkuY2hhbmdlKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgdmFsdWVZICA9IHR5cGVvZiBvcHRpb25zLnZhbHVlWSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9wdGlvbnMudmFsdWVZID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICA/IG9wdGlvbnMudmFsdWVZXHJcbiAgICAgICAgICAgIDogJydcclxuICAgICAgICBsZXQgbGFiZWwgICA9IHR5cGVvZiBvcHRpb25zLmxhYmVsID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9ucy5sYWJlbCA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyBvcHRpb25zLmxhYmVsXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnZmlsdGVycy9zd2l0Y2guaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGlkOiB0aGlzLl9pZCxcclxuICAgICAgICAgICAgdmFsdWVZOiB2YWx1ZVksXHJcbiAgICAgICAgICAgIGZpZWxkOiB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJycsXHJcbiAgICAgICAgICAgIGNoZWNrZWQ6IHRoaXMuX3ZhbHVlID09IHZhbHVlWSxcclxuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5zZWFyY2gudGV4dCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHdpZHRoOiAyMDAsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogXCJmb3JtLWNvbnRyb2wgZC1pbmxpbmUtYmxvY2tcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlXHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLnZhbChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9PT0gbnVsbCA/ICcnIDogdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgaW5wdXQgICA9ICQoJ2lucHV0JywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFswXSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoaXMuX3RhYmxlLmdldElkKCkpO1xyXG4gICAgICAgIGxldCBjb250cm9sICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCB0aGF0ICAgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLmtleXVwKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mYWRlT3V0KCdmYXN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyh0aGlzLl9vcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgdGhpcy5fb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIHRoaXMuX29wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ25hbWUnXSAgPSB0eXBlb2YgdGhpcy5fb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyB0aGlzLl9vcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyWyd2YWx1ZSddID0gdHlwZW9mIHRoaXMuX3ZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdGhpcy5fdmFsdWUgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgOiAnJztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vcHRpb25zLmF0dHIudHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9vcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3NlYXJjaC90ZXh0Lmh0bWwnXSwge1xyXG4gICAgICAgICAgICBhdHRyOiBhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLnNlYXJjaC5udW1iZXIgPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX3ZhbHVlOiBudWxsLFxyXG4gICAgX3JlbmRlcjogZmFsc2UsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHdpZHRoOiAyMDAsXHJcbiAgICAgICAgYXR0cjoge1xyXG4gICAgICAgICAgICBjbGFzczogXCJmb3JtLWNvbnRyb2wgZC1pbmxpbmUtYmxvY2tcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgbnVtYmVyU3RhcnQgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgbnVtYmVyRW5kICAgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCdzdGFydCcpICYmXHJcbiAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiB2YWx1ZS5zdGFydCkgPj0gMFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIG51bWJlclN0YXJ0ID0gdmFsdWUuc3RhcnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnZW5kJykgJiZcclxuICAgICAgICAgICAgICAgIFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIHZhbHVlLmVuZCkgPj0gMFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIG51bWJlckVuZCA9IHZhbHVlLmVuZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG51bWJlclN0YXJ0ID09PSBudWxsICYmIG51bWJlckVuZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBudW1iZXJTdGFydCxcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IG51bWJlckVuZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcikge1xyXG4gICAgICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0U3RhcnQgPSAkKCdpbnB1dC5udW1iZXItc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dEVuZCAgID0gJCgnaW5wdXQubnVtYmVyLWVuZCcsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0U3RhcnQudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEVuZC52YWwoJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl92YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN0YXJ0LnZhbCh0eXBlb2YgdGhpcy5fdmFsdWUuc3RhcnQgIT09IG51bGwgPyB0aGlzLl92YWx1ZS5zdGFydCA6ICcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEVuZC52YWwodHlwZW9mIHRoaXMuX3ZhbHVlLmVuZCAhPT0gbnVsbCA/IHRoaXMuX3ZhbHVlLmVuZCA6ICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCBpbnB1dFN0YXJ0ID0gJCgnaW5wdXQubnVtYmVyLXN0YXJ0JywgY29udHJvbCk7XHJcbiAgICAgICAgbGV0IGlucHV0RW5kICAgPSAkKCdpbnB1dC5udW1iZXItZW5kJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFN0YXJ0WzBdICYmIGlucHV0RW5kWzBdKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFsdWVTdGFydCA9IGlucHV0U3RhcnQudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZUVuZCAgID0gaW5wdXRFbmQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlU3RhcnQgPT09ICdzdHJpbmcnICYmIHZhbHVlU3RhcnQgIT09ICcnKSB8fFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZUVuZCA9PT0gJ3N0cmluZycgJiYgdmFsdWVFbmQgIT09ICcnKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHZhbHVlU3RhcnQgIT09ICcnID8gdmFsdWVTdGFydCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiB2YWx1ZUVuZCAhPT0gJycgPyB2YWx1ZUVuZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoaXMuX3RhYmxlLmdldElkKCkpO1xyXG4gICAgICAgIGxldCBjb250cm9sICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCB0aGF0ICAgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dC5udW1iZXItc3RhcnQsIGlucHV0Lm51bWJlci1lbmQnLCBjb250cm9sKS5rZXl1cChmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll90YWJsZS5zZWFyY2hSZWNvcmRzKCk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuZmFkZU91dCgnZmFzdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmF0dHIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykgJiZcclxuICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc051bWVyaWModGhpcy5fb3B0aW9ucy53aWR0aClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyWydzdHlsZSddICs9ICc7d2lkdGg6JyArIHRoaXMuX29wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyWydzdHlsZSddID0gJ3dpZHRoOicgKyB0aGlzLl9vcHRpb25zLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vcHRpb25zLmF0dHIudHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29wdGlvbnMuYXR0ci52YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgZmllbGQgICAgID0gdHlwZW9mIHRoaXMuX29wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnID8gdGhpcy5fb3B0aW9ucy5maWVsZCA6ICcnO1xyXG4gICAgICAgIGxldCBzdGFydEF0dHIgPSBbXTtcclxuICAgICAgICBsZXQgc3RhcnRFbmQgID0gW107XHJcblxyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKFsnbmFtZScsICd2YWx1ZScsICdjbGFzcyddLmluZGV4T2YobmFtZSkgPj0gMCB8fFxyXG4gICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgdmFsdWUpIDwgMFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3RhcnRBdHRyLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgc3RhcnRFbmQucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdjbGFzcycpICYmXHJcbiAgICAgICAgICAgIFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIHRoaXMuX29wdGlvbnMuYXR0ci5jbGFzcykgPj0gMFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaCgnY2xhc3M9XCInICsgdGhpcy5fb3B0aW9ucy5hdHRyLmNsYXNzICsgJyBudW1iZXItc3RhcnRcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCdjbGFzcz1cIicgKyB0aGlzLl9vcHRpb25zLmF0dHIuY2xhc3MgKyAnIG51bWJlci1lbmRcIicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCdjbGFzcz1cIm51bWJlci1zdGFydFwiJyk7XHJcbiAgICAgICAgICAgIHN0YXJ0RW5kLnB1c2goJ2NsYXNzPVwibnVtYmVyLWVuZFwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tzdGFydF1cIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tlbmRdXCInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXJ0QXR0ci5wdXNoKCd2YWx1ZT1cIicgKyAodGhpcy5fdmFsdWUgPyB0aGlzLl92YWx1ZS5zdGFydCA6ICcnKSArICdcIicpO1xyXG4gICAgICAgIHN0YXJ0RW5kLnB1c2goJ3ZhbHVlPVwiJyArICh0aGlzLl92YWx1ZSA/IHRoaXMuX3ZhbHVlLmVuZCA6ICcnKSArICdcIicpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3NlYXJjaC9udW1iZXIuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0cjogc3RhcnRBdHRyLmxlbmd0aCA+IDAgPyAoJyAnICsgc3RhcnRBdHRyLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgZW5kQXR0cjogc3RhcnRFbmQubGVuZ3RoID4gMCA/ICgnICcgKyBzdGFydEVuZC5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLnNlYXJjaC5kYXRlID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF92YWx1ZTogbnVsbCxcclxuICAgIF9yZW5kZXI6IGZhbHNlLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnZGF0ZScsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICBhdHRyOiB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImZvcm0tY29udHJvbCBkLWlubGluZS1ibG9ja1wiLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmFsdWUgJiZcclxuICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgdmFsdWUubWF0Y2goL15cXGR7NH1cXC1cXGR7Mn1cXC1cXGR7Mn0kLykgPT09IG51bGwgfHxcclxuICAgICAgICAgICAgICAgIGlzTmFOKG5ldyBEYXRlKHZhbHVlKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRyb2xbMF0pIHtcclxuICAgICAgICAgICAgICAgICQoJ2lucHV0JywgY29udHJvbCkudmFsKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID09PSBudWxsID8gJycgOiB0aGlzLl92YWx1ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCBpbnB1dCAgID0gJCgnaW5wdXQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0WzBdKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGlucHV0LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udGFpbmVyID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250YWluZXIodGhpcy5fdGFibGUuZ2V0SWQoKSk7XHJcbiAgICAgICAgbGV0IGNvbnRyb2wgICA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IHRoYXQgICAgICA9IHRoaXM7XHJcblxyXG4gICAgICAgICQoJ2lucHV0JywgY29udHJvbCkua2V5dXAoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fdGFibGUuc2VhcmNoUmVjb3JkcygpO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmZhZGVPdXQoJ2Zhc3QnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fb3B0aW9ucy5hdHRyKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHIgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCd3aWR0aCcpICYmXHJcbiAgICAgICAgICAgIGNvcmV1aVRhYmxlVXRpbHMuaXNOdW1lcmljKHRoaXMuX29wdGlvbnMud2lkdGgpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ3N0eWxlJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0clsnc3R5bGUnXSArPSAnO3dpZHRoOicgKyB0aGlzLl9vcHRpb25zLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0clsnc3R5bGUnXSA9ICd3aWR0aDonICsgdGhpcy5fb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMuYXR0clsnbmFtZSddICA9IHR5cGVvZiB0aGlzLl9vcHRpb25zLmZpZWxkID09PSAnc3RyaW5nJyA/IHRoaXMuX29wdGlvbnMuZmllbGQgOiAnJztcclxuICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ3ZhbHVlJ10gPSB0eXBlb2YgdGhpcy5fdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0aGlzLl92YWx1ZSA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgPyB0aGlzLl92YWx1ZVxyXG4gICAgICAgICAgICA6ICcnO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29wdGlvbnMuYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgJC5lYWNoKHRoaXMuX29wdGlvbnMuYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnc2VhcmNoL2RhdGUuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS5lbGVtZW50c1wiO1xyXG5cclxuY29yZXVpVGFibGUuc2VhcmNoLmRhdGVfbW9udGggPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX3ZhbHVlOiBudWxsLFxyXG4gICAgX3JlbmRlcjogZmFsc2UsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdkYXRlX21vbnRoJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6IFwiZm9ybS1jb250cm9sIGQtaW5saW5lLWJsb2NrXCIsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuX29wdGlvbnMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IGlkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgdmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZhbHVlICYmXHJcbiAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgIHZhbHVlLm1hdGNoKC9eXFxkezR9XFwtXFxkezJ9JC8pID09PSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICBpc05hTihuZXcgRGF0ZSh2YWx1ZSkpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRyb2xbMF0pIHtcclxuICAgICAgICAgICAgICAgICQoJ2lucHV0JywgY29udHJvbCkudmFsKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID09PSBudWxsID8gJycgOiB0aGlzLl92YWx1ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCBpbnB1dCAgID0gJCgnaW5wdXQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0WzBdKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGlucHV0LnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoaXMuX3RhYmxlLmdldElkKCkpO1xyXG4gICAgICAgIGxldCBjb250cm9sICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCB0aGF0ICAgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLmtleXVwKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mYWRlT3V0KCdmYXN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyh0aGlzLl9vcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgdGhpcy5fb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIHRoaXMuX29wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ25hbWUnXSAgPSB0eXBlb2YgdGhpcy5fb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyB0aGlzLl9vcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyWyd2YWx1ZSddID0gdHlwZW9mIHRoaXMuX3ZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdGhpcy5fdmFsdWUgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgOiAnJztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vcHRpb25zLmF0dHIudHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9vcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3NlYXJjaC9kYXRlX21vbnRoLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBhdHRyOiBhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLnNlYXJjaC5kYXRldGltZSA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6IFwiZm9ybS1jb250cm9sIGQtaW5saW5lLWJsb2NrXCIsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuX29wdGlvbnMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IGlkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmIHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAmJlxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5tYXRjaCgvXlxcZHs0fVxcLVxcZHsyfVxcLVxcZHsyfSBcXGR7Mn06XFxkezJ9OlxcZHsyfSQvKSA9PT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgaXNOYU4obmV3IERhdGUodmFsdWUpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLnZhbChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9PT0gbnVsbCA/ICcnIDogdGhpcy5fdmFsdWVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IGlucHV0ICAgPSAkKCdpbnB1dCcsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICBpZiAoaW5wdXRbMF0pIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gaW5wdXQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0L7QsdGL0YLQuNC5XHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250YWluZXIgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRhaW5lcih0aGlzLl90YWJsZS5nZXRJZCgpKTtcclxuICAgICAgICBsZXQgY29udHJvbCAgID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgdGhhdCAgICAgID0gdGhpcztcclxuXHJcbiAgICAgICAgJCgnaW5wdXQnLCBjb250cm9sKS5rZXl1cChmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll90YWJsZS5zZWFyY2hSZWNvcmRzKCk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuZmFkZU91dCgnZmFzdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh0aGlzLl9vcHRpb25zLmF0dHIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3dpZHRoJykgJiZcclxuICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc051bWVyaWModGhpcy5fb3B0aW9ucy53aWR0aClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyWydzdHlsZSddICs9ICc7d2lkdGg6JyArIHRoaXMuX29wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyWydzdHlsZSddID0gJ3dpZHRoOicgKyB0aGlzLl9vcHRpb25zLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyWyduYW1lJ10gID0gdHlwZW9mIHRoaXMuX29wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnID8gdGhpcy5fb3B0aW9ucy5maWVsZCA6ICcnO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMuYXR0clsndmFsdWUnXSA9IHR5cGVvZiB0aGlzLl92YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHRoaXMuX3ZhbHVlID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICA/IHRoaXMuX3ZhbHVlXHJcbiAgICAgICAgICAgIDogJyc7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fb3B0aW9ucy5hdHRyLnR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydzZWFyY2gvZGF0ZXRpbWUuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzICAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS5lbGVtZW50c1wiO1xyXG5cclxuY29yZXVpVGFibGUuc2VhcmNoLmRhdGVfcmFuZ2UgPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX3ZhbHVlOiBudWxsLFxyXG4gICAgX3JlbmRlcjogZmFsc2UsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdkYXRlX3JhbmdlJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6IFwiZm9ybS1jb250cm9sIGQtaW5saW5lLWJsb2NrXCIsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5faWQgICAgICA9IHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIHRoaXMuX29wdGlvbnMuaWQgPT09ICdzdHJpbmcnICYmIHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgIDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuX29wdGlvbnMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1IGlkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRhdGVTdGFydCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBkYXRlRW5kICAgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCdzdGFydCcpICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUuc3RhcnQgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5zdGFydC5tYXRjaCgvXlxcZHs0fVxcLVxcZHsyfVxcLVxcZHsyfSQvKSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgaXNOYU4obmV3IERhdGUodmFsdWUuc3RhcnQpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGRhdGVTdGFydCA9IHZhbHVlLnN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoJ2VuZCcpICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUuZW5kID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdmFsdWUuZW5kLm1hdGNoKC9eXFxkezR9XFwtXFxkezJ9XFwtXFxkezJ9JC8pID09PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICBpc05hTihuZXcgRGF0ZSh2YWx1ZS5lbmQpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGRhdGVFbmQgPSB2YWx1ZS5lbmQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRlU3RhcnQgPT09IG51bGwgJiYgZGF0ZUVuZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBkYXRlU3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBkYXRlRW5kXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRTdGFydCA9ICQoJ2lucHV0LmRhdGUtc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dEVuZCAgID0gJCgnaW5wdXQuZGF0ZS1lbmQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN0YXJ0LnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodGhpcy5fdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTdGFydC52YWwodHlwZW9mIHRoaXMuX3ZhbHVlLnN0YXJ0ICE9PSBudWxsID8gdGhpcy5fdmFsdWUuc3RhcnQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbmQudmFsKHR5cGVvZiB0aGlzLl92YWx1ZS5lbmQgIT09IG51bGwgPyB0aGlzLl92YWx1ZS5lbmQgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sICAgID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgaW5wdXRTdGFydCA9ICQoJ2lucHV0LmRhdGUtc3RhcnQnLCBjb250cm9sKTtcclxuICAgICAgICBsZXQgaW5wdXRFbmQgICA9ICQoJ2lucHV0LmRhdGUtZW5kJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFN0YXJ0WzBdICYmIGlucHV0RW5kWzBdKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFsdWVTdGFydCA9IGlucHV0U3RhcnQudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZUVuZCAgID0gaW5wdXRFbmQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlU3RhcnQgPT09ICdzdHJpbmcnICYmIHZhbHVlU3RhcnQgIT09ICcnKSB8fFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZUVuZCA9PT0gJ3N0cmluZycgJiYgdmFsdWVFbmQgIT09ICcnKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHZhbHVlU3RhcnQgIT09ICcnID8gdmFsdWVTdGFydCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiB2YWx1ZUVuZCAhPT0gJycgPyB2YWx1ZUVuZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoaXMuX3RhYmxlLmdldElkKCkpO1xyXG4gICAgICAgIGxldCBjb250cm9sICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCB0aGF0ICAgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dC5kYXRlLXN0YXJ0LCBpbnB1dC5kYXRlLWVuZCcsIGNvbnRyb2wpLmtleXVwKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mYWRlT3V0KCdmYXN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyhvcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIG9wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5hdHRyLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBmaWVsZCAgICAgPSB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgbGV0IHN0YXJ0QXR0ciA9IFtdO1xyXG4gICAgICAgIGxldCBzdGFydEVuZCAgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICQuZWFjaChvcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoWyduYW1lJywgJ3ZhbHVlJywgJ2NsYXNzJ10uaW5kZXhPZihuYW1lKSA+PSAwIHx8XHJcbiAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkgPCAwXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiZcclxuICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2Ygb3B0aW9ucy5hdHRyLmNsYXNzKSA+PSAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCdjbGFzcz1cIicgKyBvcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtc3RhcnRcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCdjbGFzcz1cIicgKyBvcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtZW5kXCInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaCgnY2xhc3M9XCJkYXRlLXN0YXJ0XCInKTtcclxuICAgICAgICAgICAgc3RhcnRFbmQucHVzaCgnY2xhc3M9XCJkYXRlLWVuZFwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tzdGFydF1cIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tlbmRdXCInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXJ0QXR0ci5wdXNoKCd2YWx1ZT1cIicgKyAodGhpcy5fdmFsdWUgPyB0aGlzLl92YWx1ZS5zdGFydCA6ICcnKSArICdcIicpO1xyXG4gICAgICAgIHN0YXJ0RW5kLnB1c2goJ3ZhbHVlPVwiJyArICh0aGlzLl92YWx1ZSA/IHRoaXMuX3ZhbHVlLmVuZCA6ICcnKSArICdcIicpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3NlYXJjaC9kYXRlX3JhbmdlLmh0bWwnXSwge1xyXG4gICAgICAgICAgICBzdGFydEF0dHI6IHN0YXJ0QXR0ci5sZW5ndGggPiAwID8gKCcgJyArIHN0YXJ0QXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIGVuZEF0dHI6IHN0YXJ0RW5kLmxlbmd0aCA+IDAgPyAoJyAnICsgc3RhcnRFbmQuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcblxyXG5jb3JldWlUYWJsZS5zZWFyY2guZGF0ZXRpbWVfcmFuZ2UgPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX3ZhbHVlOiBudWxsLFxyXG4gICAgX3JlbmRlcjogZmFsc2UsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdkYXRldGltZV9yYW5nZScsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICBhdHRyOiB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImZvcm0tY29udHJvbCBkLWlubGluZS1ibG9ja1wiLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkYXRlU3RhcnQgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgZGF0ZUVuZCAgID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnc3RhcnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlLnN0YXJ0ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdmFsdWUuc3RhcnQubWF0Y2goL15cXGR7NH1cXC1cXGR7Mn1cXC1cXGR7Mn0gXFxkezJ9OlxcZHsyfTpcXGR7Mn0kLykgPT09IG51bGwgJiZcclxuICAgICAgICAgICAgICAgIGlzTmFOKG5ldyBEYXRlKHZhbHVlLnN0YXJ0KSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlU3RhcnQgPSB2YWx1ZS5zdGFydDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KCdlbmQnKSAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlLmVuZCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgIHZhbHVlLmVuZC5tYXRjaCgvXlxcZHs0fVxcLVxcZHsyfVxcLVxcZHsyfSBcXGR7Mn06XFxkezJ9OlxcZHsyfSQvKSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgaXNOYU4obmV3IERhdGUodmFsdWUuZW5kKSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlRW5kID0gdmFsdWUuZW5kO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0ZVN0YXJ0ID09PSBudWxsICYmIGRhdGVFbmQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogZGF0ZVN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogZGF0ZUVuZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcikge1xyXG4gICAgICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0U3RhcnQgPSAkKCdpbnB1dC5kYXRlLXN0YXJ0JywgY29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRFbmQgICA9ICQoJ2lucHV0LmRhdGUtZW5kJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTdGFydC52YWwoJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0RW5kLnZhbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX3ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0U3RhcnQudmFsKHR5cGVvZiB0aGlzLl92YWx1ZS5zdGFydCAhPT0gbnVsbCA/IHRoaXMuX3ZhbHVlLnN0YXJ0IDogJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0RW5kLnZhbCh0eXBlb2YgdGhpcy5fdmFsdWUuZW5kICE9PSBudWxsID8gdGhpcy5fdmFsdWUuZW5kIDogJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge09iamVjdHxudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCAgICA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IGlucHV0U3RhcnQgPSAkKCdpbnB1dC5kYXRlLXN0YXJ0JywgY29udHJvbCk7XHJcbiAgICAgICAgbGV0IGlucHV0RW5kICAgPSAkKCdpbnB1dC5kYXRlLWVuZCcsIGNvbnRyb2wpO1xyXG5cclxuICAgICAgICBpZiAoaW5wdXRTdGFydFswXSAmJiBpbnB1dEVuZFswXSkge1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhbHVlU3RhcnQgPSBpbnB1dFN0YXJ0LnZhbCgpO1xyXG4gICAgICAgICAgICBsZXQgdmFsdWVFbmQgICA9IGlucHV0RW5kLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZVN0YXJ0ID09PSAnc3RyaW5nJyAmJiB2YWx1ZVN0YXJ0ICE9PSAnJykgfHxcclxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWVFbmQgPT09ICdzdHJpbmcnICYmIHZhbHVlRW5kICE9PSAnJylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB2YWx1ZVN0YXJ0ICE9PSAnJyA/IHZhbHVlU3RhcnQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogdmFsdWVFbmQgIT09ICcnID8gdmFsdWVFbmQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udGFpbmVyKHRoaXMuX3RhYmxlLmdldElkKCkpO1xyXG4gICAgICAgIGxldCBjb250cm9sICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG4gICAgICAgIGxldCB0aGF0ICAgICAgPSB0aGlzO1xyXG5cclxuICAgICAgICAkKCdpbnB1dC5kYXRlLXN0YXJ0LCBpbnB1dC5kYXRlLWVuZCcsIGNvbnRyb2wpLmtleXVwKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX3RhYmxlLnNlYXJjaFJlY29yZHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mYWRlT3V0KCdmYXN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdGlvbnMuYXR0cikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSAmJlxyXG4gICAgICAgICAgICBjb3JldWlUYWJsZVV0aWxzLmlzTnVtZXJpYyh0aGlzLl9vcHRpb25zLndpZHRoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ3N0eWxlJ10gKz0gJzt3aWR0aDonICsgdGhpcy5fb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmF0dHJbJ3N0eWxlJ10gPSAnd2lkdGg6JyArIHRoaXMuX29wdGlvbnMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29wdGlvbnMuYXR0ci50eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fb3B0aW9ucy5hdHRyLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBmaWVsZCAgICAgPSB0eXBlb2YgdGhpcy5fb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyB0aGlzLl9vcHRpb25zLmZpZWxkIDogJyc7XHJcbiAgICAgICAgbGV0IHN0YXJ0QXR0ciA9IFtdO1xyXG4gICAgICAgIGxldCBzdGFydEVuZCAgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9vcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoWyduYW1lJywgJ3ZhbHVlJywgJ2NsYXNzJ10uaW5kZXhPZihuYW1lKSA+PSAwIHx8XHJcbiAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkgPCAwXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmF0dHIuaGFzT3duUHJvcGVydHkoJ2NsYXNzJykgJiZcclxuICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgdGhpcy5fb3B0aW9ucy5hdHRyLmNsYXNzKSA+PSAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCdjbGFzcz1cIicgKyB0aGlzLl9vcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtc3RhcnRcIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCdjbGFzcz1cIicgKyB0aGlzLl9vcHRpb25zLmF0dHIuY2xhc3MgKyAnIGRhdGUtZW5kXCInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFydEF0dHIucHVzaCgnY2xhc3M9XCJkYXRlLXN0YXJ0XCInKTtcclxuICAgICAgICAgICAgc3RhcnRFbmQucHVzaCgnY2xhc3M9XCJkYXRlLWVuZFwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0QXR0ci5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tzdGFydF1cIicpO1xyXG4gICAgICAgICAgICBzdGFydEVuZC5wdXNoKCduYW1lPVwiJyArIGZpZWxkICsgJ1tlbmRdXCInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXJ0QXR0ci5wdXNoKCd2YWx1ZT1cIicgKyAodGhpcy5fdmFsdWUgPyB0aGlzLl92YWx1ZS5zdGFydCA6ICcnKSArICdcIicpO1xyXG4gICAgICAgIHN0YXJ0RW5kLnB1c2goJ3ZhbHVlPVwiJyArICh0aGlzLl92YWx1ZSA/IHRoaXMuX3ZhbHVlLmVuZCA6ICcnKSArICdcIicpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3NlYXJjaC9kYXRldGltZV9yYW5nZS5odG1sJ10sIHtcclxuICAgICAgICAgICAgc3RhcnRBdHRyOiBzdGFydEF0dHIubGVuZ3RoID4gMCA/ICgnICcgKyBzdGFydEF0dHIuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICBlbmRBdHRyOiBzdGFydEVuZC5sZW5ndGggPiAwID8gKCcgJyArIHN0YXJ0RW5kLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzICAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS5lbGVtZW50c1wiO1xyXG5cclxuY29yZXVpVGFibGUuc2VhcmNoLmNoZWNrYm94ID0ge1xyXG5cclxuICAgIF9pZDogbnVsbCxcclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF92YWx1ZTogbnVsbCxcclxuICAgIF9yZW5kZXI6IGZhbHNlLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIG9wdGlvbnM6IFtdXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtBcnJheXxudWxsfSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInLCAnb2JqZWN0J10uaW5kZXhPZih0eXBlb2YgdmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCh2YWx1ZSwgZnVuY3Rpb24gKGtleSwgaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gaXRlbXM7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gWyB2YWx1ZSBdO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRyb2xbMF0pIHtcclxuICAgICAgICAgICAgICAgICQoJ2lucHV0OmNoZWNrZWQnLCBjb250cm9sKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh0aGlzLl92YWx1ZSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbdmFsdWU9XCInICsgdmFsdWUgKyAnXCJdJywgY29udHJvbCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXRzID0gJCgnaW5wdXQ6Y2hlY2tlZCcsIGNvbnRyb2wpO1xyXG4gICAgICAgICAgICBsZXQgaXRlbXMgID0gW107XHJcblxyXG4gICAgICAgICAgICAkLmVhY2goaW5wdXRzLCBmdW5jdGlvbiAoa2V5LCBpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gJChpbnB1dCkuYXR0cigndmFsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgdmFsdWUpID49IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gJydcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5sZW5ndGggPiAwID8gaXRlbXMgOiBudWxsO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ICAgID0gdGhpcztcclxuICAgICAgICBsZXQgb3B0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2godGhpcy5fb3B0aW9ucy5vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCBvcHRpb24pIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChbJ3N0cmluZycsICdudW1lcmljJ10uaW5kZXhPZih0eXBlb2Ygb3B0aW9uKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hlY2tlZCA9IEFycmF5LmlzQXJyYXkodGhhdC5fdmFsdWUpID8gdGhhdC5fdmFsdWUuaW5kZXhPZihrZXkpID49IDAgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICAgIG9wdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbikgfHxcclxuICAgICAgICAgICAgICAgICAgICAhIG9wdGlvbi5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3RyaW5nJywgJ251bWVyaWMnXS5pbmRleE9mKHR5cGVvZiBvcHRpb24udmFsdWUpID09PSAtMVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjaGVja2VkID0gQXJyYXkuaXNBcnJheSh0aGF0Ll92YWx1ZSkgPyB0aGF0Ll92YWx1ZS5pbmRleE9mKG9wdGlvbi52YWx1ZSkgPj0gMCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHQgICAgPSBvcHRpb24uaGFzT3duUHJvcGVydHkoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9uLnRleHRcclxuICAgICAgICAgICAgICAgICAgICA6IG9wdGlvbi52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICAgIHRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICAgb3B0aW9uLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnc2VhcmNoL2NoZWNrYm94Lmh0bWwnXSwge1xyXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxyXG4gICAgICAgICAgICBmaWVsZDogdHlwZW9mIHRoaXMuX29wdGlvbnMuZmllbGQgPT09ICdzdHJpbmcnID8gdGhpcy5fb3B0aW9ucy5maWVsZCA6ICcnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVVdGlscyAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLnNlYXJjaC5yYWRpbyA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ3JhZGlvJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICBvcHRpb25zOiBbXSxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbdmFsdWU9XCInICsgdGhpcy5fdmFsdWUgKyAnXCJdJywgY29udHJvbCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgY29udHJvbCA9IGNvcmV1aVRhYmxlRWxlbWVudHMuZ2V0U2VhcmNoQ29udHJvbCh0aGlzLl90YWJsZS5nZXRJZCgpLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgbGV0IGlucHV0ICAgPSAkKCdpbnB1dDpjaGVja2VkJywgY29udHJvbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFswXSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJydcclxuICAgICAgICAgICAgICAgID8gbnVsbFxyXG4gICAgICAgICAgICAgICAgOiB2YWx1ZVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0YLQuNC/0LAg0L/QvtC40YHQutC+0LLQvtCz0L4g0LDQu9Cz0L7RgNC40YLQvNCwXHJcbiAgICAgKi9cclxuICAgIGdldEFsZ29yaXRobTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAnc3RyaWN0JztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtCx0YvRgtC40LlcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICBsZXQgdGhhdCAgICAgICA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGNoZWNrZWRBbGwgPSB0cnVlO1xyXG4gICAgICAgIGxldCBvcHRpb25zICAgID0gW107XHJcblxyXG4gICAgICAgICQuZWFjaCh0aGlzLl9vcHRpb25zLm9wdGlvbnMsIGZ1bmN0aW9uIChrZXksIG9wdGlvbikge1xyXG5cclxuICAgICAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWVyaWMnXS5pbmRleE9mKHR5cGVvZiBvcHRpb24pID49IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBjaGVja2VkID0ga2V5ID09IHRoYXQuX3ZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEFsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogICAgb3B0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICEgb3B0aW9uLmhhc093blByb3BlcnR5KCd2YWx1ZScpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgWydzdHJpbmcnLCAnbnVtZXJpYyddLmluZGV4T2YodHlwZW9mIG9wdGlvbi52YWx1ZSkgPT09IC0xXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNoZWNrZWQgPSBvcHRpb24udmFsdWUgPT0gdGhhdC5fdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCAgICA9IG9wdGlvbi5oYXNPd25Qcm9wZXJ0eSgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBvcHRpb24udGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIDogb3B0aW9uLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEFsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dCxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogICBvcHRpb24udmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydzZWFyY2gvcmFkaW8uaHRtbCddLCB7XHJcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXHJcbiAgICAgICAgICAgIGNoZWNrZWRBbGw6IGNoZWNrZWRBbGwsXHJcbiAgICAgICAgICAgIGZpZWxkOiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyB0aGlzLl9vcHRpb25zLmZpZWxkIDogJycsXHJcbiAgICAgICAgICAgIGxhbmc6IHRoaXMuX3RhYmxlLmdldExhbmcoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBjb3JldWlUYWJsZSAgICAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgQ29yZXVpVGFibGVVdGlscyAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnV0aWxzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZUVsZW1lbnRzIGZyb20gXCIuLi9jb3JldWkudGFibGUuZWxlbWVudHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLnNlYXJjaC5zZWxlY3QgPSB7XHJcblxyXG4gICAgX2lkOiBudWxsLFxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX3ZhbHVlOiBudWxsLFxyXG4gICAgX3JlbmRlcjogZmFsc2UsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdzZWxlY3QnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHdpZHRoOiBudWxsLFxyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIGF0dHI6IHtcclxuICAgICAgICAgICAgY2xhc3M6ICdmb3JtLXNlbGVjdCBkLWlubGluZS1ibG9jaydcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wdGlvbnM6IFtdXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9pZCAgICAgID0gdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuaWRcclxuICAgICAgICAgICAgOiBjb3JldWlUYWJsZVV0aWxzLmhhc2hDb2RlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUgaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldElkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjRj1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAoWydzdHJpbmcnLCAnbnVtYmVyJywgJ29iamVjdCddLmluZGV4T2YodHlwZW9mIHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2godmFsdWUsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGl0ZW1zO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IFsgdmFsdWUgXTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250cm9sWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdzZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJywgY29udHJvbCkucHJvcCgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHRoaXMuX3ZhbHVlLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdzZWxlY3Qgb3B0aW9uW3ZhbHVlPVwiJyArIHZhbHVlICsgJ1wiXScsIGNvbnRyb2wpLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtBcnJheXxzdHJpbmd8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICBpZiAoY29udHJvbFswXSkge1xyXG4gICAgICAgICAgICBsZXQgaXNNdWx0aXBsZSA9ICEhICQoJ3NlbGVjdCcsIGNvbnRyb2wpLmF0dHIoJ211bHRpcGxlJyk7XHJcbiAgICAgICAgICAgIGxldCBvcHRpb25zICAgID0gJCgnc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcsIGNvbnRyb2wpO1xyXG4gICAgICAgICAgICBsZXQgaXRlbXMgICAgICA9IFtdO1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uIChrZXksIG9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gJChvcHRpb24pLmF0dHIoJ3ZhbHVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIHZhbHVlKSA+PSAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgIT09ICcnXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXRlbXMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAgICAgPyAoaXNNdWx0aXBsZSA/IGl0ZW1zIDogaXRlbXNbMF0pXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgaW5pdEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ICAgICAgICAgID0gdGhpcztcclxuICAgICAgICBsZXQgb3B0aW9ucyAgICAgICA9IHRoaXMuZ2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGxldCBzZWxlY3RPcHRpb25zID0gW107XHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXMgICAgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKCAhIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2F0dHInKSB8fFxyXG4gICAgICAgICAgICAgISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KG9wdGlvbnMuYXR0cilcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5maWVsZCkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmF0dHIubmFtZSA9IHRoaXMuX29wdGlvbnMuZmllbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy53aWR0aCkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmF0dHIgPSBjb3JldWlUYWJsZVV0aWxzLm1lcmdlQXR0cihcclxuICAgICAgICAgICAgICAgIHsgc3R5bGU6ICd3aWR0aDonICsgb3B0aW9ucy53aWR0aCArICdweCcgfSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYXR0clxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ29wdGlvbnMnKSAmJlxyXG4gICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5vcHRpb25zID09PSAnb2JqZWN0JyAmJlxyXG4gICAgICAgICAgICBvcHRpb25zLm9wdGlvbnMgIT09IG51bGxcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMub3B0aW9ucywgZnVuY3Rpb24gKGtleSwgb3B0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvcHRpb24gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5wdXNoKHRoYXQuX2J1aWxkT3B0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ29wdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKENvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gb3B0aW9uLmhhc093blByb3BlcnR5KCd0eXBlJykgJiYgdHlwZW9mIG9wdGlvbi50eXBlID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbi50eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ29wdGlvbic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZ3JvdXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW5kZXJBdHRyICAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyb3VwQXR0ciAgICA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JvdXBPcHRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmhhc093blByb3BlcnR5KCdhdHRyJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3Qob3B0aW9uLmF0dHIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBBdHRyID0gb3B0aW9uLmF0dHI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb24uaGFzT3duUHJvcGVydHkoJ2xhYmVsJykgJiYgWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2Yob3B0aW9uLmxhYmVsKSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBBdHRyLmxhYmVsID0gb3B0aW9uLmxhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZ3JvdXBBdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckF0dHIucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbi5vcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKG9wdGlvbi5vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCBncm91cE9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwT3B0aW9ucy5wdXNoKHRoYXQuX2J1aWxkT3B0aW9uKGdyb3VwT3B0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyOiByZW5kZXJBdHRyLmxlbmd0aCA+IDAgPyAoJyAnICsgcmVuZGVyQXR0ci5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBncm91cE9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RPcHRpb25zLnB1c2godGhhdC5fYnVpbGRPcHRpb24ob3B0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZWFjaChvcHRpb25zLmF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3NlYXJjaC9zZWxlY3QuaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGZpZWxkOiBvcHRpb25zLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fdmFsdWUsXHJcbiAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgb3B0aW9uczogc2VsZWN0T3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQodCx0L7RgNC60LAg0L7Qv9GG0LjQuFxyXG4gICAgICogQHBhcmFtIG9wdGlvblxyXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgX2J1aWxkT3B0aW9uOiBmdW5jdGlvbiAob3B0aW9uKSB7XHJcblxyXG4gICAgICAgIGxldCBvcHRpb25BdHRyID0gW107XHJcbiAgICAgICAgbGV0IG9wdGlvblRleHQgPSBvcHRpb24uaGFzT3duUHJvcGVydHkoJ3RleHQnKSAmJiBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZihvcHRpb24udGV4dCkpID49IDBcclxuICAgICAgICAgICAgPyBvcHRpb24udGV4dFxyXG4gICAgICAgICAgICA6ICcnO1xyXG5cclxuICAgICAgICAkLmVhY2gob3B0aW9uLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKG5hbWUgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uQXR0ci5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSkge1xyXG4gICAgICAgICAgICAkLmVhY2godGhpcy5fdmFsdWUsIGZ1bmN0aW9uIChrZXksIGl0ZW1WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1WYWx1ZSA9PSBvcHRpb24udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25BdHRyLnB1c2goJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fdmFsdWUgPT0gb3B0aW9uLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbkF0dHIucHVzaCgnc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiAnb3B0aW9uJyxcclxuICAgICAgICAgICAgdGV4dDogb3B0aW9uVGV4dCxcclxuICAgICAgICAgICAgYXR0cjogb3B0aW9uQXR0ci5sZW5ndGggPiAwID8gKCcgJyArIG9wdGlvbkF0dHIuam9pbignICcpKSA6ICcnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCAgIGZyb20gXCIuLi9jb3JldWkudGFibGUudGVtcGxhdGVzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlRWxlbWVudHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS5lbGVtZW50c1wiO1xyXG5cclxuY29yZXVpVGFibGUuc2VhcmNoLnN3aXRjaCA9IHtcclxuXHJcbiAgICBfaWQ6IG51bGwsXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfdmFsdWU6IG51bGwsXHJcbiAgICBfcmVuZGVyOiBmYWxzZSxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgdHlwZTogJ3N3aXRjaCcsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgdmFsdWVZOiAnWSdcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2lkICAgICAgPSB0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCdpZCcpICYmIHR5cGVvZiB0aGlzLl9vcHRpb25zLmlkID09PSAnc3RyaW5nJyAmJiB0aGlzLl9vcHRpb25zLmlkXHJcbiAgICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5pZFxyXG4gICAgICAgICAgICA6IGNvcmV1aVRhYmxlVXRpbHMuaGFzaENvZGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9vcHRpb25zLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSBpZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQt9C90LDRh9C10L3QuNGPXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ8bnVsbH0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiZcclxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWVcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyb2wgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFNlYXJjaENvbnRyb2wodGhpcy5fdGFibGUuZ2V0SWQoKSwgdGhpcy5faWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRyb2xbMF0pIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZVkgPSB0eXBlb2YgdGhpcy5fb3B0aW9ucy52YWx1ZVkgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0aGlzLl9vcHRpb25zLnZhbHVlWSA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuX29wdGlvbnMudmFsdWVZXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnJ1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2lucHV0JywgY29udHJvbCkucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3ZhbHVlID09PSB2YWx1ZVkpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dCcsIGNvbnRyb2wpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2lucHV0JywgY29udHJvbCkucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Y9cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb250cm9sID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRTZWFyY2hDb250cm9sKHRoaXMuX3RhYmxlLmdldElkKCksIHRoaXMuX2lkKTtcclxuICAgICAgICBsZXQgaW5wdXQgICA9ICQoJ2lucHV0OmNoZWNrZWQnLCBjb250cm9sKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0WzBdID8gaW5wdXQudmFsKCkgOiBudWxsO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgICovXHJcbiAgICBpbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBsZXQgdmFsdWVZICA9IHR5cGVvZiBvcHRpb25zLnZhbHVlWSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9wdGlvbnMudmFsdWVZID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICA/IG9wdGlvbnMudmFsdWVZXHJcbiAgICAgICAgICAgIDogJydcclxuXHJcbiAgICAgICAgcmV0dXJuIGVqcy5yZW5kZXIoY29yZXVpVGFibGVUcGxbJ3NlYXJjaC9zd2l0Y2guaHRtbCddLCB7XHJcbiAgICAgICAgICAgIGlkOiB0aGlzLl9pZCxcclxuICAgICAgICAgICAgdmFsdWVZOiB2YWx1ZVksXHJcbiAgICAgICAgICAgIGZpZWxkOiB0eXBlb2Ygb3B0aW9ucy5maWVsZCA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmZpZWxkIDogJycsXHJcbiAgICAgICAgICAgIGNoZWNrZWQ6IHRoaXMuX3ZhbHVlID09IHZhbHVlWSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgY29yZXVpVGFibGUgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5cclxuY29yZXVpVGFibGUuY29sdW1ucy5kYXRlID0ge1xyXG5cclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ2RhdGUnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgd2lkdGg6IG51bGwsXHJcbiAgICAgICAgZm9ybWF0OiAnREQuTU0uWVlZWScsXHJcbiAgICAgICAgYXR0cjoge30sXHJcbiAgICAgICAgYXR0ckhlYWRlcjoge30sXHJcbiAgICAgICAgcmVuZGVyOiBudWxsXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINCy0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1Nob3dcclxuICAgICAqL1xyXG4gICAgc2V0U2hvdzogZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMuc2hvdyA9ICEhIGlzU2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKi9cclxuICAgIGlzU2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhISB0aGlzLl9vcHRpb25zLnNob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlY29yZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjb250ZW50LCByZWNvcmQpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLl9vcHRpb25zLmZvcm1hdFxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9ZWVlZL2csIHRoaXMuX3N0clBhZExlZnQoZGF0ZS5nZXRGdWxsWWVhcigpLCA0KSlcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvTU0vZywgdGhpcy5fc3RyUGFkTGVmdChkYXRlLmdldE1vbnRoKCkgKyAxLCAyKSlcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvTS9nLCBkYXRlLmdldE1vbnRoKCkgKyAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9ERC9nLCB0aGlzLl9zdHJQYWRMZWZ0KGRhdGUuZ2V0RGF0ZSgpLCAyKSlcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvRC9nLCBkYXRlLmdldERhdGUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCg0LDQt9C80LXRgNC90L7RgdGC0Ywg0YHRgtGA0L7QutC4XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAgICAgKiBAcGFyYW0ge2ludH0gICAgY291bnRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXBlYXRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIF9zdHJQYWRMZWZ0OiBmdW5jdGlvbiAoc3RyLCBjb3VudCwgcmVwZWF0KSB7XHJcblxyXG4gICAgICAgIHN0ciA9IFN0cmluZyhzdHIpO1xyXG5cclxuICAgICAgICBpZiAoc3RyLmxlbmd0aCA+PSBjb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVwZWF0ID0gcmVwZWF0ID8gcmVwZWF0IDogJzAnO1xyXG5cclxuICAgICAgICByZXR1cm4gKHJlcGVhdC5yZXBlYXQoY291bnQpICsgc3RyKS5zbGljZSgtKGNvdW50KSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgY29yZXVpVGFibGUgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5cclxuY29yZXVpVGFibGUuY29sdW1ucy5kYXRldGltZSA9IHtcclxuXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICB3aWR0aDogbnVsbCxcclxuICAgICAgICBmb3JtYXQ6ICdERC5NTS5ZWVlZIGhoOm1tOnNzJyxcclxuICAgICAgICBhdHRyOiB7fSxcclxuICAgICAgICBhdHRySGVhZGVyOiB7fSxcclxuICAgICAgICByZW5kZXI6IG51bGxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2hvd1xyXG4gICAgICovXHJcbiAgICBzZXRTaG93OiBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5zaG93ID0gISEgaXNTaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqL1xyXG4gICAgaXNTaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhIHRoaXMuX29wdGlvbnMuc2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGNvbnRlbnQsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50ICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gdGhpcy5fb3B0aW9ucy5mb3JtYXRcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvWVlZWS9nLCB0aGlzLl9zdHJQYWRMZWZ0KGRhdGUuZ2V0RnVsbFllYXIoKSwgNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL01NL2csIHRoaXMuX3N0clBhZExlZnQoZGF0ZS5nZXRNb250aCgpICsgMSwgMikpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL00vZywgZGF0ZS5nZXRNb250aCgpICsgMSlcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvREQvZywgdGhpcy5fc3RyUGFkTGVmdChkYXRlLmdldERhdGUoKSwgMikpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL0QvZywgZGF0ZS5nZXREYXRlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL2hoL2csIHRoaXMuX3N0clBhZExlZnQoZGF0ZS5nZXRIb3VycygpLCAyKSlcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvbW0vZywgdGhpcy5fc3RyUGFkTGVmdChkYXRlLmdldE1pbnV0ZXMoKSwgMikpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL20vZywgZGF0ZS5nZXRNaW51dGVzKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL3NzL2csIHRoaXMuX3N0clBhZExlZnQoZGF0ZS5nZXRTZWNvbmRzKCksIDIpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9zL2csIGRhdGUuZ2V0U2Vjb25kcygpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAnJztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KDQsNC30LzQtdGA0L3QvtGB0YLRjCDRgdGC0YDQvtC60LhcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICAgICAqIEBwYXJhbSB7aW50fSAgICBjb3VudFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcGVhdFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgX3N0clBhZExlZnQ6IGZ1bmN0aW9uIChzdHIsIGNvdW50LCByZXBlYXQpIHtcclxuXHJcbiAgICAgICAgc3RyID0gU3RyaW5nKHN0cik7XHJcblxyXG4gICAgICAgIGlmIChzdHIubGVuZ3RoID49IGNvdW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXBlYXQgPSByZXBlYXQgPyByZXBlYXQgOiAnMCc7XHJcblxyXG4gICAgICAgIHJldHVybiAocmVwZWF0LnJlcGVhdChjb3VudCkgKyBzdHIpLnNsaWNlKC0oY291bnQpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBjb3JldWlUYWJsZSAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5cclxuY29yZXVpVGFibGUuY29sdW1ucy5odG1sID0ge1xyXG5cclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ2h0bWwnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgd2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWluV2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWF4V2lkdGg6IG51bGwsXHJcbiAgICAgICAgbm9XcmFwOiBudWxsLFxyXG4gICAgICAgIG5vV3JhcFRvZ2dsZTogbnVsbCxcclxuICAgICAgICBhdHRyOiB7fSxcclxuICAgICAgICBhdHRySGVhZGVyOiB7fSxcclxuICAgICAgICByZW5kZXI6IG51bGxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBsZXQgdGFibGVPcHRpb25zID0gdGhpcy5fdGFibGUuZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5ub1dyYXAgfHxcclxuICAgICAgICAgICAgKHRoaXMuX29wdGlvbnMubm9XcmFwID09PSBudWxsICYmIHRhYmxlT3B0aW9ucy5ub1dyYXApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICggISB0aGlzLl9vcHRpb25zLmF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IHsgY2xhc3MgOiAnY29yZXVpX3RhYmxlX19uby13cmFwJyB9O1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IGNvcmV1aVRhYmxlVXRpbHMubWVyZ2VBdHRyKHRoaXMuX29wdGlvbnMuYXR0ciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnY29yZXVpX3RhYmxlX19uby13cmFwJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubm9XcmFwID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5vV3JhcFRvZ2dsZSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuX29wdGlvbnMubm9XcmFwVG9nZ2xlID09PSBudWxsICYmIHRhYmxlT3B0aW9ucy5ub1dyYXBUb2dnbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5ub1dyYXBUb2dnbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2hvd1xyXG4gICAgICovXHJcbiAgICBzZXRTaG93OiBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5zaG93ID0gISEgaXNTaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqL1xyXG4gICAgaXNTaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhIHRoaXMuX29wdGlvbnMuc2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fGpRdWVyeX0gY29udGVudFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICByZWNvcmRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oY29udGVudCwgcmVjb3JkKSB7XHJcblxyXG4gICAgICAgIGlmIChbJ3N0cmluZycsICdiaWdpbnQnLCAnc3ltYm9sJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIGNvbnRlbnQpIDwgMCAmJlxyXG4gICAgICAgICAgICAhIChjb250ZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpICYmXHJcbiAgICAgICAgICAgICEgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnalF1ZXJ5JykgJiYgY29udGVudCBpbnN0YW5jZW9mIGpRdWVyeSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubm9XcmFwKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAkKCc8ZGl2PjwvZGl2PicpLmFwcGVuZChjb250ZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5vV3JhcFRvZ2dsZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGVudCA9ICQoY29udGVudCkuYWZ0ZXIoJzxpIGNsYXNzPVwiYmkgYmktY2FyZXQtZG93bi1maWxsIHRvZ2dsZVwiPjwvaT4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxufSIsImltcG9ydCBjb3JldWlUYWJsZSBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbHVtbnMubnVtYmVyID0ge1xyXG5cclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgbGFiZWw6IG51bGwsXHJcbiAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICB3aWR0aDogbnVsbCxcclxuICAgICAgICBtaW5XaWR0aDogbnVsbCxcclxuICAgICAgICBtYXhXaWR0aDogbnVsbCxcclxuICAgICAgICBub1dyYXA6IG51bGwsXHJcbiAgICAgICAgbm9XcmFwVG9nZ2xlOiBudWxsLFxyXG4gICAgICAgIGF0dHI6IHt9LFxyXG4gICAgICAgIGF0dHJIZWFkZXI6IHt9LFxyXG4gICAgICAgIHJlbmRlcjogbnVsbFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGxldCB0YWJsZU9wdGlvbnMgPSB0aGlzLl90YWJsZS5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5vV3JhcCB8fFxyXG4gICAgICAgICAgICAodGhpcy5fb3B0aW9ucy5ub1dyYXAgPT09IG51bGwgJiYgdGFibGVPcHRpb25zLm5vV3JhcClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKCAhIHRoaXMuX29wdGlvbnMuYXR0cikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyID0geyBjbGFzcyA6ICdjb3JldWlfdGFibGVfX25vLXdyYXAnIH07XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5hdHRyID0gY29yZXVpVGFibGVVdGlscy5tZXJnZUF0dHIodGhpcy5fb3B0aW9ucy5hdHRyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdjb3JldWlfdGFibGVfX25vLXdyYXAnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5ub1dyYXAgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubm9XcmFwVG9nZ2xlIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5fb3B0aW9ucy5ub1dyYXBUb2dnbGUgPT09IG51bGwgJiYgdGFibGVPcHRpb25zLm5vV3JhcFRvZ2dsZSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLm5vV3JhcFRvZ2dsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQstC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTaG93XHJcbiAgICAgKi9cclxuICAgIHNldFNob3c6IGZ1bmN0aW9uIChpc1Nob3cpIHtcclxuICAgICAgICB0aGlzLl9vcHRpb25zLnNob3cgPSAhISBpc1Nob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCS0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICovXHJcbiAgICBpc1Nob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gISEgdGhpcy5fb3B0aW9ucy5zaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZWNvcmRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oY29udGVudCwgcmVjb3JkKSB7XHJcblxyXG4gICAgICAgIGlmIChbJ3N0cmluZycsICdiaWdpbnQnLCAnc3ltYm9sJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIGNvbnRlbnQpIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb250ZW50ID0gU3RyaW5nKGNvbnRlbnQpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8sL2csICcuJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1teMC05XFwtXFwuXS9nLCAnJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHNdezIsfS9nLCAnICcpO1xyXG5cclxuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8oPzwhKFxcLlxcZCp8Xi57MH0pKSg/PShcXGR7M30pKyg/IVxcZCkpL2csICckMSAnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwtIC9nLCAnLScpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5ub1dyYXApIHtcclxuICAgICAgICAgICAgY29udGVudCA9ICc8ZGl2PicgKyBjb250ZW50ICsgJzwvZGl2PidcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5vV3JhcFRvZ2dsZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGVudCArPSAnPGkgY2xhc3M9XCJiaSBiaS1jYXJldC1kb3duLWZpbGwgdG9nZ2xlXCI+PC9pPidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbHVtbnMubW9uZXkgPSB7XHJcblxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbW9uZXknLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgd2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWluV2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWF4V2lkdGg6IG51bGwsXHJcbiAgICAgICAgbm9XcmFwOiBudWxsLFxyXG4gICAgICAgIG5vV3JhcFRvZ2dsZTogbnVsbCxcclxuICAgICAgICBjdXJyZW5jeTogbnVsbCxcclxuICAgICAgICBhdHRyOiB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAndGV4dC1lbmQnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhdHRySGVhZGVyOiB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAndGV4dC1lbmQnXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW5kZXI6IG51bGxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBsZXQgdGFibGVPcHRpb25zID0gdGhpcy5fdGFibGUuZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5ub1dyYXAgfHxcclxuICAgICAgICAgICAgKHRoaXMuX29wdGlvbnMubm9XcmFwID09PSBudWxsICYmIHRhYmxlT3B0aW9ucy5ub1dyYXApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICggISB0aGlzLl9vcHRpb25zLmF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IHsgY2xhc3MgOiAnY29yZXVpX3RhYmxlX19uby13cmFwJyB9O1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IGNvcmV1aVRhYmxlVXRpbHMubWVyZ2VBdHRyKHRoaXMuX29wdGlvbnMuYXR0ciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnY29yZXVpX3RhYmxlX19uby13cmFwJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubm9XcmFwID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5vV3JhcFRvZ2dsZSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuX29wdGlvbnMubm9XcmFwVG9nZ2xlID09PSBudWxsICYmIHRhYmxlT3B0aW9ucy5ub1dyYXBUb2dnbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5ub1dyYXBUb2dnbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2hvd1xyXG4gICAgICovXHJcbiAgICBzZXRTaG93OiBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5zaG93ID0gISEgaXNTaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqL1xyXG4gICAgaXNTaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhIHRoaXMuX29wdGlvbnMuc2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGNvbnRlbnQsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBpZiAoWydzdHJpbmcnLCAnYmlnaW50JywgJ3N5bWJvbCcsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBjb250ZW50KSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmIChpc05hTihjb250ZW50KSkge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFxcZCkoPz0oXFxkXFxkXFxkKSsoW15cXGRdfCQpKS9nLCAnJDEgJyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSBOdW1iZXIoY29udGVudCkudG9GaXhlZCgyKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8oXFxkKSg/PShcXGRcXGRcXGQpKyhbXlxcZF18JCkpL2csICckMSAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmN1cnJlbmN5ICYmXHJcbiAgICAgICAgICAgIFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIHRoaXMuX29wdGlvbnMuY3VycmVuY3kpID49IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY29udGVudCArPSAnIDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj4nICsgdGhpcy5fb3B0aW9ucy5jdXJyZW5jeSArICc8L3NtYWxsPic7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubm9XcmFwKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAnPGRpdj4nICsgY29udGVudCArICc8L2Rpdj4nXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5ub1dyYXBUb2dnbGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gJzxpIGNsYXNzPVwiYmkgYmktY2FyZXQtZG93bi1maWxsIHRvZ2dsZVwiPjwvaT4nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IGNvcmV1aVRhYmxlIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbHVtbnMubnVtYmVycyA9IHtcclxuXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXJzJyxcclxuICAgICAgICBsYWJlbDogJ+KElicsXHJcbiAgICAgICAgd2lkdGg6IDIwLFxyXG4gICAgICAgIGF0dHI6IHsgY2xhc3M6ICd0ZXh0LWVuZCcgfSxcclxuICAgICAgICBhdHRySGVhZGVyOiBudWxsXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZSAgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqL1xyXG4gICAgaXNTaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlY29yZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjb250ZW50LCByZWNvcmQpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhYmxlLl9yZWNvcmRzTnVtYmVyO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IGNvcmV1aVRhYmxlICAgICAgICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVByaXZhdGUgIGZyb20gXCIuLi9jb3JldWkudGFibGUucHJpdmF0ZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5cclxuY29yZXVpVGFibGUuY29sdW1ucy5zZWxlY3QgPSB7XHJcblxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnc2VsZWN0JyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogJycsXHJcbiAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICB3aWR0aDogMzUsXHJcbiAgICAgICAgYXR0cjogeyBjbGFzczogJ2NvcmV1aS10YWJsZV9fc2VsZWN0X2NvbnRhaW5lciB0ZXh0LWNlbnRlcicgfSxcclxuICAgICAgICBhdHRySGVhZGVyOiB7IGNsYXNzOiAndGV4dC1jZW50ZXInIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7Q29yZVVJLnRhYmxlLmluc3RhbmNlfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdhdHRyJykpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyID0gQ29yZVVJLnRhYmxlLl9tZXJnZUF0dHIodGhpcy5fb3B0aW9ucy5hdHRyLCBvcHRpb25zLmF0dHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXR0ckhlYWRlcicpKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYXR0ckhlYWRlciA9IENvcmVVSS50YWJsZS5fbWVyZ2VBdHRyKHRoaXMuX29wdGlvbnMuYXR0ckhlYWRlciwgb3B0aW9ucy5hdHRySGVhZGVyKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLl90YWJsZSAgICAgICAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zLmxhYmVsID0gY29yZXVpVGFibGVUcGxbJ2NvbHVtbnMvc2VsZWN0X2xhYmVsLmh0bWwnXTtcclxuXHJcbiAgICAgICAgLy8g0J/QvtC60LDQtyDRgdGC0YDQvtC6XHJcbiAgICAgICAgdGhpcy5fdGFibGUub24oJ3JlY29yZHNfc2hvdycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RzICAgPSBjb3JldWlUYWJsZUVsZW1lbnRzLmdldFJvd3NTZWxlY3RzKHRhYmxlLmdldElkKCkpO1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0QWxsID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRSb3dzU2VsZWN0QWxsKHRhYmxlLmdldElkKCkpO1xyXG5cclxuICAgICAgICAgICAgLy8g0J7RgtC80LXQvdCwINC+0LHRgNCw0LHQvtGC0LrQuCDQvdCw0LbQsNGC0LjRjyDQsiBzZWxlY3Qg0LrQvtC70L7QvdC60LDRhVxyXG4gICAgICAgICAgICAkKHNlbGVjdHMpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g0JLRi9Cx0L7RgCDQstGB0LXRhSDRgdGC0YDQvtC6XHJcbiAgICAgICAgICAgIHNlbGVjdEFsbC5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGUuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLnVuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2hvd1xyXG4gICAgICovXHJcbiAgICBzZXRTaG93OiBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5zaG93ID0gISEgaXNTaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqL1xyXG4gICAgaXNTaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhIHRoaXMuX29wdGlvbnMuc2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGNvbnRlbnQsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBsZXQgc2VsZWN0ID0gJChcclxuICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29sdW1ucy9zZWxlY3QuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogcmVjb3JkLmluZGV4XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyDQktGL0LHQvtGAINGB0YLRgNC+0LrQuFxyXG4gICAgICAgIHNlbGVjdC5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgbGV0IHRyID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRUckJ5SW5kZXgodGhhdC5fdGFibGUuZ2V0SWQoKSwgcmVjb3JkLmluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICggISB0cikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgJCh0cikuYWRkQ2xhc3MoJ3RhYmxlLXByaW1hcnknKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb3JldWlUYWJsZVByaXZhdGUuX3RyaWdnZXIodGhhdC5fdGFibGUsICdyZWNvcmRfc2VsZWN0JywgWyByZWNvcmQgXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRyKS5yZW1vdmVDbGFzcygndGFibGUtcHJpbWFyeScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvcmV1aVRhYmxlUHJpdmF0ZS5fdHJpZ2dlcih0aGF0Ll90YWJsZSwgJ3JlY29yZF91bnNlbGVjdCcsIFsgcmVjb3JkIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxlY3Q7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgY29yZXVpVGFibGUgZnJvbSBcIi4uL2NvcmV1aS50YWJsZVwiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVFbGVtZW50cyBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLmVsZW1lbnRzXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVRwbCBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5cclxuY29yZXVpVGFibGUuY29sdW1ucy5zd2l0Y2ggPSB7XHJcblxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnc3dpdGNoJyxcclxuICAgICAgICBsYWJlbDogJycsXHJcbiAgICAgICAgZmllbGQ6ICcnLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIHdpZHRoOiA1LFxyXG4gICAgICAgIHZhbHVlWTogJ1knLFxyXG4gICAgICAgIGF0dHI6IHsgY2xhc3M6ICdjb3JldWktdGFibGVfX3N3aXRjaF9jb250YWluZXInIH0sXHJcbiAgICAgICAgYXR0ckhlYWRlcjogeyB9LFxyXG4gICAgICAgIG9uQ2hhbmdlOiBudWxsXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8g0J/QvtC60LDQtyDRgdGC0YDQvtC6XHJcbiAgICAgICAgdGhpcy5fdGFibGUub24oJ3JlY29yZHNfc2hvdycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb250YWluZXJzID0gY29yZXVpVGFibGVFbGVtZW50cy5nZXRSb3dzU3dpdGNoZXModGFibGUuZ2V0SWQoKSk7XHJcblxyXG4gICAgICAgICAgICAvLyDQntGC0LzQtdC90LAg0L7QsdGA0LDQsdC+0YLQutC4INC90LDQttCw0YLQuNGPINCyIHN3aXRjaCDQutC+0LvQvtC90LrQsNGFXHJcbiAgICAgICAgICAgIGNvbnRhaW5lcnMuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQstC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTaG93XHJcbiAgICAgKi9cclxuICAgIHNldFNob3c6IGZ1bmN0aW9uIChpc1Nob3cpIHtcclxuICAgICAgICB0aGlzLl9vcHRpb25zLnNob3cgPSAhISBpc1Nob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCS0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICovXHJcbiAgICBpc1Nob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gISEgdGhpcy5fb3B0aW9ucy5zaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZWNvcmRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oY29udGVudCwgcmVjb3JkKSB7XHJcblxyXG4gICAgICAgIGxldCBpc0NoZWNrZWQgPSByZWNvcmQuZGF0YS5oYXNPd25Qcm9wZXJ0eSh0aGlzLl9vcHRpb25zLmZpZWxkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuZGF0YVt0aGlzLl9vcHRpb25zLmZpZWxkXSA9PT0gdGhpcy5fb3B0aW9ucy52YWx1ZVk7XHJcblxyXG4gICAgICAgIGxldCBmb3JtU3dpdGNoID0gJChcclxuICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29sdW1ucy9zd2l0Y2guaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogcmVjb3JkLmluZGV4LFxyXG4gICAgICAgICAgICAgICAgZmllbGQ6IHRoaXMuX29wdGlvbnMuZmllbGQsXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5fb3B0aW9ucy5kaXNhYmxlZCxcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGlzQ2hlY2tlZFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vINCh0L7QsdGL0YLQuNGPINC90LDQttCw0YLQuNGPINC90LAg0L/QtdGA0LXQutC70Y7Rh9Cw0YLQtdC70YxcclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnb25DaGFuZ2UnKSAmJlxyXG4gICAgICAgICAgICAodHlwZW9mIHRoaXMuX29wdGlvbnMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHRoaXMuX29wdGlvbnMub25DaGFuZ2UgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAkKCcuY29yZXVpLXRhYmxlX19zd2l0Y2gnLCBmb3JtU3dpdGNoKS5jaGFuZ2UoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNDaGVja2VkID0gJCh0aGlzKS5pcygnOmNoZWNrZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoYXQuX29wdGlvbnMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9vcHRpb25zLm9uQ2hhbmdlKHJlY29yZCwgaXNDaGVja2VkLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGF0Ll9vcHRpb25zLm9uQ2hhbmdlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuaGFzT3duUHJvcGVydHkodGhhdC5fdGFibGUuX29wdGlvbnMucHJpbWFyeUtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSByZWNvcmRbdGhhdC5fdGFibGUuX29wdGlvbnMucHJpbWFyeUtleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IG5ldyBGdW5jdGlvbigncmVjb3JkJywgJ2NoZWNrZWQnLCAnaWQnLCB0aGF0Ll9vcHRpb25zLm9uQ2hhbmdlKTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jKHJlY29yZCwgdGhpcywgaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZm9ybVN3aXRjaDtcclxuICAgIH1cclxufSIsImltcG9ydCBjb3JldWlUYWJsZSBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbHVtbnMudGV4dCA9IHtcclxuXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgIHNob3dMYWJlbDogdHJ1ZSxcclxuICAgICAgICB3aWR0aDogbnVsbCxcclxuICAgICAgICBtaW5XaWR0aDogbnVsbCxcclxuICAgICAgICBtYXhXaWR0aDogbnVsbCxcclxuICAgICAgICBhdHRyOiBudWxsLFxyXG4gICAgICAgIG5vV3JhcDogbnVsbCxcclxuICAgICAgICBub1dyYXBUb2dnbGU6IG51bGwsXHJcbiAgICAgICAgYXR0ckhlYWRlcjogbnVsbCxcclxuICAgICAgICByZW5kZXI6IG51bGxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3RhYmxlICAgPSB0YWJsZTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBsZXQgdGFibGVPcHRpb25zID0gdGhpcy5fdGFibGUuZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5ub1dyYXAgfHxcclxuICAgICAgICAgICAgKHRoaXMuX29wdGlvbnMubm9XcmFwID09PSBudWxsICYmIHRhYmxlT3B0aW9ucy5ub1dyYXApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICggISB0aGlzLl9vcHRpb25zLmF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IHsgY2xhc3MgOiAnY29yZXVpX3RhYmxlX19uby13cmFwJyB9O1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuYXR0ciA9IGNvcmV1aVRhYmxlVXRpbHMubWVyZ2VBdHRyKHRoaXMuX29wdGlvbnMuYXR0ciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnY29yZXVpX3RhYmxlX19uby13cmFwJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMubm9XcmFwID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5vV3JhcFRvZ2dsZSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuX29wdGlvbnMubm9XcmFwVG9nZ2xlID09PSBudWxsICYmIHRhYmxlT3B0aW9ucy5ub1dyYXBUb2dnbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5ub1dyYXBUb2dnbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2hvd1xyXG4gICAgICovXHJcbiAgICBzZXRTaG93OiBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5zaG93ID0gISEgaXNTaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqL1xyXG4gICAgaXNTaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhIHRoaXMuX29wdGlvbnMuc2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9C10L3QuNC1INC/0LDRgNCw0LzQtdGC0YDQvtCyXHJcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGNvbnRlbnQsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBpZiAoWydzdHJpbmcnLCAnYmlnaW50JywgJ3N5bWJvbCcsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBjb250ZW50KSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudCA9IFN0cmluZyhjb250ZW50KVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5vV3JhcCkge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gJzxkaXY+JyArIGNvbnRlbnQgKyAnPC9kaXY+J1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubm9XcmFwVG9nZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9ICc8aSBjbGFzcz1cImJpIGJpLWNhcmV0LWRvd24tZmlsbCB0b2dnbGVcIj48L2k+J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxufSIsImltcG9ydCBjb3JldWlUYWJsZSAgICAgIGZyb20gXCIuLi9jb3JldWkudGFibGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVXRpbHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5pbXBvcnQgY29yZXVpVGFibGVUcGwgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnRlbXBsYXRlc1wiO1xyXG5cclxuY29yZXVpVGFibGUuY29sdW1ucy5idXR0b24gPSB7XHJcblxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgIHdpZHRoOiBudWxsLFxyXG4gICAgICAgIG1pbldpZHRoOiBudWxsLFxyXG4gICAgICAgIG1heFdpZHRoOiBudWxsLFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQstC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTaG93XHJcbiAgICAgKi9cclxuICAgIHNldFNob3c6IGZ1bmN0aW9uIChpc1Nob3cpIHtcclxuICAgICAgICB0aGlzLl9vcHRpb25zLnNob3cgPSAhISBpc1Nob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCS0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICovXHJcbiAgICBpc1Nob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gISEgdGhpcy5fb3B0aW9ucy5zaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZWNvcmRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHJlbmRlcjogZnVuY3Rpb24oY29udGVudCwgcmVjb3JkKSB7XHJcblxyXG4gICAgICAgIGlmICggISBjb3JldWlUYWJsZVV0aWxzLmlzT2JqZWN0KGNvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChjb250ZW50LmF0dHIpKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXR0ciA9IHt9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoICEgY29udGVudC5hdHRyLmhhc093blByb3BlcnR5KCdjbGFzcycpKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXR0ci5jbGFzcyA9ICdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5J1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbnRlbnQuYXR0ci5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBjb250ZW50LmF0dHIudHlwZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2goY29udGVudC5hdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIHZhbHVlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgYnRuID0gJChcclxuICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29sdW1ucy9idXR0b24uaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50LmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBhdHRyOiBhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyAoJyAnICsgYXR0cmlidXRlcy5qb2luKCcgJykpIDogJycsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChjb250ZW50Lmhhc093blByb3BlcnR5KCdvbkNsaWNrJykpIHtcclxuICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50Lm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQub25DbGljayhyZWNvcmQsIHRoYXQuX3RhYmxlKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZW50Lm9uQ2xpY2sgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IG5ldyBGdW5jdGlvbigncmVjb3JkJywgJ3RhYmxlJywgY29udGVudC5vbkNsaWNrKTtcclxuXHJcbiAgICAgICAgICAgICAgICBidG4uY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jKHJlY29yZCwgdGhhdC5fdGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBidG47XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbHVtbnMubGluayA9IHtcclxuXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdsaW5rJyxcclxuICAgICAgICBmaWVsZDogbnVsbCxcclxuICAgICAgICBsYWJlbDogbnVsbCxcclxuICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgIHdpZHRoOiBudWxsLFxyXG4gICAgICAgIG1pbldpZHRoOiBudWxsLFxyXG4gICAgICAgIG1heFdpZHRoOiBudWxsLFxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICogQHBhcmFtIHtDb3JlVUkudGFibGUuaW5zdGFuY2V9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fdGFibGUgICA9IHRhYmxlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QvtCy0LrQsCDQstC40LTQuNC80L7RgdGC0Lgg0LrQvtC70L7QvdC60LhcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTaG93XHJcbiAgICAgKi9cclxuICAgIHNldFNob3c6IGZ1bmN0aW9uIChpc1Nob3cpIHtcclxuICAgICAgICB0aGlzLl9vcHRpb25zLnNob3cgPSAhISBpc1Nob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCS0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICovXHJcbiAgICBpc1Nob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gISEgdGhpcy5fb3B0aW9ucy5zaG93O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNC+0LJcclxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R8c3RyaW5nfSBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICAgIHJlY29yZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjb250ZW50LCByZWNvcmQpIHtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAodHlwZW9mIGNvbnRlbnQgIT09ICdzdHJpbmcnIHx8ICEgY29udGVudClcclxuICAgICAgICAgICAgJiZcclxuICAgICAgICAgICAgKCAhIGNvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoY29udGVudCkgfHxcclxuICAgICAgICAgICAgICAhIGNvbnRlbnQuaGFzT3duUHJvcGVydHkoJ3VybCcpIHx8XHJcbiAgICAgICAgICAgICAgdHlwZW9mIGNvbnRlbnQudXJsICE9PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgICAgICAgICEgY29udGVudC51cmxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGlua0NvbnRlbnQgPSAnJztcclxuICAgICAgICBsZXQgYXR0ciAgICAgICAgPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBhdHRyLmhyZWYgICA9IGNvbnRlbnQ7XHJcbiAgICAgICAgICAgIGxpbmtDb250ZW50ID0gY29udGVudDtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQuaGFzT3duUHJvcGVydHkoJ2F0dHInKSAmJlxyXG4gICAgICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChjb250ZW50LmF0dHIpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgYXR0ciA9IGNvbnRlbnQuYXR0cjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGF0dHIuaGFzT3duUHJvcGVydHkoJ2hyZWYnKSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGF0dHIuaHJlZjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXR0ci5ocmVmID0gY29udGVudC51cmw7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQuaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIGNvbnRlbnQuY29udGVudCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuY29udGVudFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGxpbmtDb250ZW50ID0gY29udGVudC5jb250ZW50O1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpbmtDb250ZW50ID0gY29udGVudC51cmw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAkLmVhY2goYXR0ciwgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGxpbmsgPSAkKFxyXG4gICAgICAgICAgICBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb2x1bW5zL2xpbmsuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBsaW5rQ29udGVudCxcclxuICAgICAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgbGluay5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpbms7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IENvcmV1aVRhYmxlVXRpbHMgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS51dGlsc1wiO1xyXG5cclxuY29yZXVpVGFibGUuY29sdW1ucy5tZW51ID0ge1xyXG5cclxuICAgIF90YWJsZTogbnVsbCxcclxuICAgIF9vcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ21lbnUnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgd2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWluV2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWF4V2lkdGg6IG51bGwsXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINCy0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1Nob3dcclxuICAgICAqL1xyXG4gICAgc2V0U2hvdzogZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMuc2hvdyA9ICEhIGlzU2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKi9cclxuICAgIGlzU2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhISB0aGlzLl9vcHRpb25zLnNob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGNvbnRlbnQsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChjb250ZW50KSB8fFxyXG4gICAgICAgICAgICAgISBjb250ZW50Lmhhc093blByb3BlcnR5KCdpdGVtcycpIHx8XHJcbiAgICAgICAgICAgICAhIEFycmF5LmlzQXJyYXkoY29udGVudC5pdGVtcykgfHxcclxuICAgICAgICAgICAgY29udGVudC5pdGVtcy5sZW5ndGggPT09IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGl0ZW1zID0gW107XHJcbiAgICAgICAgbGV0IGF0dHIgID0ge307XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQuaXRlbXMpKSB7XHJcbiAgICAgICAgICAgICQuZWFjaChjb250ZW50Lml0ZW1zLCBmdW5jdGlvbiAoa2V5LCBpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ29yZXVpVGFibGVVdGlscy5pc09iamVjdChpdGVtKSAmJiB0eXBlb2YgaXRlbS50eXBlID09PSAnc3RyaW5nJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbGluaycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2xpbmsnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS5saW5rID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0uY29udGVudCA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGlua0F0dHIgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnYXR0cicpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChpdGVtLmF0dHIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rQXR0ciA9IGl0ZW0uYXR0cjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5rQXR0ci5oYXNPd25Qcm9wZXJ0eSgnaHJlZicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxpbmtBdHRyLmhyZWY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhIGxpbmtBdHRyLmhhc093blByb3BlcnR5KCdjbGFzcycpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGxpbmtBdHRyLmNsYXNzICE9PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua0F0dHIuY2xhc3MgPSAnZHJvcGRvd24taXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtBdHRyLmNsYXNzICs9ICcgZHJvcGRvd24taXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmtBdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGxpbmtBdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoWydzdHJpbmcnLCAnbnVtYmVyJ10uaW5kZXhPZih0eXBlb2YgdmFsdWUpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua0F0dHJpYnV0ZXMucHVzaChuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5rJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rOiBpdGVtLmxpbmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHI6IGxpbmtBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdidXR0b24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdjb250ZW50JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGFzT3duUHJvcGVydHkoJ29uQ2xpY2snKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0uY29udGVudCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnc3RyaW5nJywgJ2Z1bmN0aW9uJ10uaW5kZXhPZih0eXBlb2YgaXRlbS5vbkNsaWNrKSA+PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ0bkF0dHIgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnYXR0cicpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChpdGVtLmF0dHIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG5BdHRyID0gaXRlbS5hdHRyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidG5BdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYnRuQXR0ci50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ0bkF0dHIuaGFzT3duUHJvcGVydHkoJ2lkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYnRuQXR0clsnaWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICEgYnRuQXR0ci5oYXNPd25Qcm9wZXJ0eSgnY2xhc3MnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBidG5BdHRyLmNsYXNzICE9PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuQXR0ci5jbGFzcyA9ICdkcm9wZG93bi1pdGVtJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuQXR0ci5jbGFzcyArPSAnIGRyb3Bkb3duLWl0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidG5BdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGJ0bkF0dHIsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG5BdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY29yZXVpVGFibGVVdGlscy5oYXNoQ29kZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBpdGVtLm9uQ2xpY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogYnRuQXR0cmlidXRlcy5sZW5ndGggPiAwID8gKCcgJyArIGJ0bkF0dHJpYnV0ZXMuam9pbignICcpKSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnZGl2aWRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2aWRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2hlYWRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSAmJiB0eXBlb2YgaXRlbS5jb250ZW50ID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdoZWFkZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjb250ZW50Lmhhc093blByb3BlcnR5KCdhdHRyJykgfHxcclxuICAgICAgICAgICAgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChjb250ZW50LmF0dHIpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGF0dHIgPSBjb250ZW50LmF0dHI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoICEgYXR0ci5oYXNPd25Qcm9wZXJ0eSgnY2xhc3MnKSB8fFxyXG4gICAgICAgICAgICBbJ3N0cmluZycsICdudW1iZXInXS5pbmRleE9mKHR5cGVvZiBhdHRyLmNsYXNzKSA8IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgYXR0ci5jbGFzcyA9ICdidG4gcm91bmRlZC0xJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhdHRyLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGF0dHIudHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhdHRyLmhhc093blByb3BlcnR5KCdkYXRhLWJzLXRvZ2dsZScpKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBhdHRyWydkYXRhLWJzLXRvZ2dsZSddO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAgICQuZWFjaChhdHRyLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIHZhbHVlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmFtZSArICc9XCInICsgdmFsdWUgKyAnXCInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IG1lbnVDb250ZW50ID0gY29udGVudC5oYXNPd25Qcm9wZXJ0eSgnY29udGVudCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGNvbnRlbnQuY29udGVudCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNvbnRlbnRcclxuICAgICAgICAgICAgPyBjb250ZW50LmNvbnRlbnRcclxuICAgICAgICAgICAgOiAnPGkgY2xhc3M9XCJiaSBiaS10aHJlZS1kb3RzLXZlcnRpY2FsXCI+PC9pPic7XHJcblxyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IGNvbnRlbnQuaGFzT3duUHJvcGVydHkoJ3Bvc2l0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgY29udGVudC5wb3NpdGlvbiA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnBvc2l0aW9uXHJcbiAgICAgICAgICAgID8gY29udGVudC5wb3NpdGlvblxyXG4gICAgICAgICAgICA6ICdlbmQnO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IG1lbnUgPSAkKFxyXG4gICAgICAgICAgICBlanMucmVuZGVyKGNvcmV1aVRhYmxlVHBsWydjb2x1bW5zL21lbnUuaHRtbCddLCB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBtZW51Q29udGVudCxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIGF0dHI6IGF0dHJpYnV0ZXMubGVuZ3RoID4gMCA/ICgnICcgKyBhdHRyaWJ1dGVzLmpvaW4oJyAnKSkgOiAnJyxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBtZW51LmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XHJcbiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICQuZWFjaChpdGVtcywgZnVuY3Rpb24gKGtleSwgaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKENvcmV1aVRhYmxlVXRpbHMuaXNPYmplY3QoaXRlbSkgJiYgdHlwZW9mIGl0ZW0udHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2J1dHRvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2NvbnRlbnQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5oYXNPd25Qcm9wZXJ0eSgnb25DbGljaycpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ3N0cmluZycsICdmdW5jdGlvbiddLmluZGV4T2YodHlwZW9mIGl0ZW0ub25DbGljaykgPj0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0uY29udGVudCA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnYnV0dG9uI2J0bi1kcm9wZG93bi0nICsgaXRlbS5pZCwgbWVudSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9uQ2xpY2socmVjb3JkLCB0aGF0Ll90YWJsZSwgZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbS5vbkNsaWNrID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5ldyBGdW5jdGlvbigncmVjb3JkJywgJ3RhYmxlJywgJ2V2ZW50JywgaXRlbS5vbkNsaWNrKSkocmVjb3JkLCB0aGF0Ll90YWJsZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1lbnU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuXHJcbmNvcmV1aVRhYmxlLmNvbHVtbnMuYmFkZ2UgPSB7XHJcblxyXG4gICAgX3RhYmxlOiBudWxsLFxyXG4gICAgX29wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnYmFkZ2UnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgd2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWluV2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWF4V2lkdGg6IG51bGwsXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINCy0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1Nob3dcclxuICAgICAqL1xyXG4gICAgc2V0U2hvdzogZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMuc2hvdyA9ICEhIGlzU2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKi9cclxuICAgIGlzU2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhISB0aGlzLl9vcHRpb25zLnNob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGNvbnRlbnQsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChjb250ZW50KSB8fFxyXG4gICAgICAgICAgICAgISBjb250ZW50Lmhhc093blByb3BlcnR5KCd0eXBlJykgfHxcclxuICAgICAgICAgICAgICEgY29udGVudC5oYXNPd25Qcm9wZXJ0eSgndGV4dCcpIHx8XHJcbiAgICAgICAgICAgICB0eXBlb2YgY29udGVudC50eXBlICE9PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgICAgICAgdHlwZW9mIGNvbnRlbnQudGV4dCAhPT0gJ3N0cmluZycgfHxcclxuICAgICAgICAgICAgICEgY29udGVudC50eXBlIHx8XHJcbiAgICAgICAgICAgICAhIGNvbnRlbnQudGV4dFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJChcclxuICAgICAgICAgICAgZWpzLnJlbmRlcihjb3JldWlUYWJsZVRwbFsnY29sdW1ucy9iYWRnZS5odG1sJ10sIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IGNvbnRlbnQudHlwZSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IGNvbnRlbnQudGV4dFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgY29yZXVpVGFibGUgICAgICBmcm9tIFwiLi4vY29yZXVpLnRhYmxlXCI7XHJcbmltcG9ydCBjb3JldWlUYWJsZVV0aWxzIGZyb20gXCIuLi9jb3JldWkudGFibGUudXRpbHNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlVHBsICAgZnJvbSBcIi4uL2NvcmV1aS50YWJsZS50ZW1wbGF0ZXNcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlUHJpdmF0ZSBmcm9tIFwiLi4vY29yZXVpLnRhYmxlLnByaXZhdGVcIjtcclxuaW1wb3J0IGNvcmV1aVRhYmxlUmVuZGVyIGZyb20gXCIuLi9jb3JldWkudGFibGUucmVuZGVyXCI7XHJcblxyXG5jb3JldWlUYWJsZS5jb2x1bW5zLmNvbXBvbmVudCA9IHtcclxuXHJcbiAgICBfdGFibGU6IG51bGwsXHJcbiAgICBfb3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdjb21wb25lbnQnLFxyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIGxhYmVsOiBudWxsLFxyXG4gICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgd2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWluV2lkdGg6IG51bGwsXHJcbiAgICAgICAgbWF4V2lkdGg6IG51bGwsXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgKiBAcGFyYW0ge0NvcmVVSS50YWJsZS5pbnN0YW5jZX0gdGFibGVcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl90YWJsZSAgID0gdGFibGU7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KPRgdGC0LDQvdC+0LLQutCwINCy0LjQtNC40LzQvtGB0YLQuCDQutC+0LvQvtC90LrQuFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1Nob3dcclxuICAgICAqL1xyXG4gICAgc2V0U2hvdzogZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMuc2hvdyA9ICEhIGlzU2hvdztcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JLQuNC00LjQvNC+0YHRgtC4INC60L7Qu9C+0L3QutC4XHJcbiAgICAgKi9cclxuICAgIGlzU2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhISB0aGlzLl9vcHRpb25zLnNob3c7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQtdC90LjQtSDQv9Cw0YDQsNC80LXRgtGA0L7QslxyXG4gICAgICogQHJldHVybnMge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQutC+0L3RgtC10L3RgtCwXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgcmVjb3JkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKGNvbnRlbnQsIHJlY29yZCkge1xyXG5cclxuICAgICAgICBpZiAoICEgY29yZXVpVGFibGVVdGlscy5pc09iamVjdChjb250ZW50KSB8fFxyXG4gICAgICAgICAgICAgISBjb250ZW50Lmhhc093blByb3BlcnR5KCdjb21wb25lbnQnKSB8fFxyXG4gICAgICAgICAgICAgdHlwZW9mIGNvbnRlbnQuY29tcG9uZW50ICE9PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgICAgICAgISBjb250ZW50LmNvbXBvbmVudFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29yZXVpVGFibGVSZW5kZXIucmVuZGVyQ29tcG9uZW50cyh0aGlzLl90YWJsZSwgY29udGVudCwgJ3JlY29yZHNfc2hvdycpO1xyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbImYiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiZyIsIndpbmRvdyIsImdsb2JhbCIsInNlbGYiLCJlanMiLCJyIiwiZSIsIm4iLCJ0IiwibyIsImkiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImNhbGwiLCJsZW5ndGgiLCJmcyIsInBhdGgiLCJ1dGlscyIsInNjb3BlT3B0aW9uV2FybmVkIiwiX1ZFUlNJT05fU1RSSU5HIiwidmVyc2lvbiIsIl9ERUZBVUxUX09QRU5fREVMSU1JVEVSIiwiX0RFRkFVTFRfQ0xPU0VfREVMSU1JVEVSIiwiX0RFRkFVTFRfREVMSU1JVEVSIiwiX0RFRkFVTFRfTE9DQUxTX05BTUUiLCJfTkFNRSIsIl9SRUdFWF9TVFJJTkciLCJfT1BUU19QQVNTQUJMRV9XSVRIX0RBVEEiLCJfT1BUU19QQVNTQUJMRV9XSVRIX0RBVEFfRVhQUkVTUyIsImNvbmNhdCIsIl9CT00iLCJfSlNfSURFTlRJRklFUiIsImNhY2hlIiwiZmlsZUxvYWRlciIsInJlYWRGaWxlU3luYyIsImxvY2Fsc05hbWUiLCJwcm9taXNlSW1wbCIsIkZ1bmN0aW9uIiwiUHJvbWlzZSIsInJlc29sdmVJbmNsdWRlIiwibmFtZSIsImZpbGVuYW1lIiwiaXNEaXIiLCJkaXJuYW1lIiwiZXh0bmFtZSIsInJlc29sdmUiLCJpbmNsdWRlUGF0aCIsImV4dCIsInJlc29sdmVQYXRocyIsInBhdGhzIiwiZmlsZVBhdGgiLCJzb21lIiwidiIsImV4aXN0c1N5bmMiLCJnZXRJbmNsdWRlUGF0aCIsIm9wdGlvbnMiLCJ2aWV3cyIsIm1hdGNoIiwiZXhlYyIsInJlcGxhY2UiLCJBcnJheSIsImlzQXJyYXkiLCJyb290IiwiaW5jbHVkZXIiLCJlc2NhcGVGdW5jdGlvbiIsImhhbmRsZUNhY2hlIiwidGVtcGxhdGUiLCJmdW5jIiwiaGFzVGVtcGxhdGUiLCJhcmd1bWVudHMiLCJnZXQiLCJ0b1N0cmluZyIsImNvbXBpbGUiLCJzZXQiLCJ0cnlIYW5kbGVDYWNoZSIsImRhdGEiLCJjYiIsInJlc3VsdCIsInJlamVjdCIsImVyciIsImluY2x1ZGVGaWxlIiwib3B0cyIsInNoYWxsb3dDb3B5IiwiY3JlYXRlTnVsbFByb3RvT2JqV2hlcmVQb3NzaWJsZSIsImluY2x1ZGVyUmVzdWx0IiwicmV0aHJvdyIsInN0ciIsImZsbm0iLCJsaW5lbm8iLCJlc2MiLCJsaW5lcyIsInNwbGl0Iiwic3RhcnQiLCJNYXRoIiwibWF4IiwiZW5kIiwibWluIiwiY29udGV4dCIsInNsaWNlIiwibWFwIiwibGluZSIsImN1cnIiLCJqb2luIiwibWVzc2FnZSIsInN0cmlwU2VtaSIsInRlbXBsIiwic2NvcGUiLCJjb25zb2xlIiwid2FybiIsIlRlbXBsYXRlIiwicmVuZGVyIiwiZCIsInNoYWxsb3dDb3B5RnJvbUxpc3QiLCJyZW5kZXJGaWxlIiwiYXJncyIsInByb3RvdHlwZSIsInNoaWZ0Iiwidmlld09wdHMiLCJwb3AiLCJzZXR0aW5ncyIsImNsZWFyQ2FjaGUiLCJyZXNldCIsInRleHQiLCJ0ZW1wbGF0ZVRleHQiLCJtb2RlIiwidHJ1bmNhdGUiLCJjdXJyZW50TGluZSIsInNvdXJjZSIsImNsaWVudCIsImVzY2FwZSIsImVzY2FwZVhNTCIsImNvbXBpbGVEZWJ1ZyIsImRlYnVnIiwib3BlbkRlbGltaXRlciIsImNsb3NlRGVsaW1pdGVyIiwiZGVsaW1pdGVyIiwic3RyaWN0Iiwicm1XaGl0ZXNwYWNlIiwib3V0cHV0RnVuY3Rpb25OYW1lIiwiYXN5bmMiLCJkZXN0cnVjdHVyZWRMb2NhbHMiLCJsZWdhY3lJbmNsdWRlIiwiX3dpdGgiLCJyZWdleCIsImNyZWF0ZVJlZ2V4IiwibW9kZXMiLCJFVkFMIiwiRVNDQVBFRCIsIlJBVyIsIkNPTU1FTlQiLCJMSVRFUkFMIiwiZGVsaW0iLCJlc2NhcGVSZWdFeHBDaGFycyIsIm9wZW4iLCJjbG9zZSIsIlJlZ0V4cCIsInNyYyIsImZuIiwicHJlcGVuZGVkIiwiYXBwZW5kZWQiLCJlc2NhcGVGbiIsImN0b3IiLCJzYW5pdGl6ZWRGaWxlbmFtZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZW5lcmF0ZVNvdXJjZSIsInRlc3QiLCJkZXN0cnVjdHVyaW5nIiwibG9nIiwiU3ludGF4RXJyb3IiLCJyZXR1cm5lZEZuIiwiYW5vbnltb3VzIiwiaW5jbHVkZSIsImluY2x1ZGVEYXRhIiwiYXBwbHkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImJhc2VuYW1lIiwidmFsdWUiLCJ3cml0YWJsZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJtYXRjaGVzIiwicGFyc2VUZW1wbGF0ZVRleHQiLCJmb3JFYWNoIiwiaW5kZXgiLCJjbG9zaW5nIiwiaW5kZXhPZiIsInNjYW5MaW5lIiwicGF0IiwiYXJyIiwiZmlyc3RQb3MiLCJwdXNoIiwic3Vic3RyaW5nIiwiX2FkZE91dHB1dCIsIm5ld0xpbmVDb3VudCIsImxhc3RJbmRleE9mIiwiX19leHByZXNzIiwiVkVSU0lPTiIsInJlZ0V4cENoYXJzIiwiaGFzT3duUHJvcGVydHkiLCJoYXNPd24iLCJvYmoiLCJrZXkiLCJzdHJpbmciLCJTdHJpbmciLCJfRU5DT0RFX0hUTUxfUlVMRVMiLCJfTUFUQ0hfSFRNTCIsImVuY29kZV9jaGFyIiwiZXNjYXBlRnVuY1N0ciIsIm1hcmt1cCIsInVuZGVmaW5lZCIsImVzY2FwZVhNTFRvU3RyaW5nIiwidG8iLCJmcm9tIiwibGlzdCIsIl9kYXRhIiwidmFsIiwicmVtb3ZlIiwiaHlwaGVuVG9DYW1lbCIsInRvVXBwZXJDYXNlIiwiY3JlYXRlIiwiX19wcm90b19fIiwicHJvY2VzcyIsIm5vcm1hbGl6ZUFycmF5IiwicGFydHMiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwibGFzdCIsInNwbGljZSIsInVuc2hpZnQiLCJyZXNvbHZlZFBhdGgiLCJyZXNvbHZlZEFic29sdXRlIiwiY3dkIiwiVHlwZUVycm9yIiwiY2hhckF0IiwiZmlsdGVyIiwibm9ybWFsaXplIiwiaXNBYnNvbHV0ZSIsInRyYWlsaW5nU2xhc2giLCJzdWJzdHIiLCJyZWxhdGl2ZSIsInRyaW0iLCJmcm9tUGFydHMiLCJ0b1BhcnRzIiwic2FtZVBhcnRzTGVuZ3RoIiwib3V0cHV0UGFydHMiLCJzZXAiLCJjaGFyQ29kZUF0IiwiaGFzUm9vdCIsIm1hdGNoZWRTbGFzaCIsInN0YXJ0RG90Iiwic3RhcnRQYXJ0IiwicHJlRG90U3RhdGUiLCJ4cyIsInJlcyIsImxlbiIsIl9wcm9jZXNzIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJxdWV1ZSIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwibmV4dFRpY2siLCJJdGVtIiwiYXJyYXkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJub29wIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJkZXNjcmlwdGlvbiIsImtleXdvcmRzIiwiYXV0aG9yIiwibGljZW5zZSIsImJpbiIsIm1haW4iLCJqc2RlbGl2ciIsInVucGtnIiwicmVwb3NpdG9yeSIsInR5cGUiLCJ1cmwiLCJidWdzIiwiaG9tZXBhZ2UiLCJkZXBlbmRlbmNpZXMiLCJqYWtlIiwiZGV2RGVwZW5kZW5jaWVzIiwiYnJvd3NlcmlmeSIsImVzbGludCIsImpzZG9jIiwibW9jaGEiLCJlbmdpbmVzIiwibm9kZSIsInNjcmlwdHMiLCJ0cGwiLCJjb3JldWlUYWJsZVV0aWxzIiwibWVyZ2VBdHRyIiwiYXR0cjEiLCJhdHRyMiIsImFzc2lnbiIsIl90eXBlb2YiLCIkIiwiZWFjaCIsImlzTnVtZXJpYyIsIm51bSIsImlzTmFOIiwiaGFzaENvZGUiLCJjcmMzMiIsIkRhdGUiLCJnZXRUaW1lIiwicmFuZG9tIiwiaXNPYmplY3QiLCJjb3JldWlUYWJsZVJlbmRlciIsInJlbmRlclRhYmxlIiwidGFibGUiLCJnZXRPcHRpb25zIiwicmVjb3Jkc0VsZW1lbnRzIiwiY29sdW1uc0hlYWRlciIsImNvbHVtbnNGb290ZXIiLCJjb2xHcm91cHMiLCJjb2x1bW5zIiwiX2NvbHVtbnMiLCJjb2x1bW4iLCJpc1Nob3ciLCJjb2x1bW5PcHRpb25zIiwiYXR0cmlidXRlcyIsInNvcnRhYmxlIiwiZmllbGQiLCJhdHRySGVhZGVyIiwiZml4ZWQiLCJhdHRyIiwiX3NvcnQiLCJzb3J0RmllbGQiLCJvcmRlciIsInN0eWxlIiwid2lkdGgiLCJ1bml0IiwibWluV2lkdGgiLCJtYXhXaWR0aCIsImxhYmVsIiwic2hvd0xhYmVsIiwiX3JlY29yZHMiLCJfcmVjb3Jkc1RvdGFsIiwiZ2V0UmVjb3Jkc0NvdW50IiwiX3JlY29yZHNOdW1iZXIiLCJfcGFnZSIsIl9yZWNvcmRzUGVyUGFnZSIsInJlbmRlclJlY29yZHMiLCJyb3dzIiwiaGVhZGVyUm93IiwiY2VsbHMiLCJoZWFkZXJDb2x1bW4iLCJjb250ZW50IiwiY29yZXVpVGFibGVUcGwiLCJmb290ZXJSb3ciLCJmb290ZXJDb2x1bW4iLCJjbGFzc2VzIiwiaHRtbENvbHVtbnMiLCJ0aGVhZEF0dHIiLCJ0aGVhZFRvcCIsInRhYmxlRWxlbWVudCIsInNob3dIZWFkZXJzIiwidGJvZHkiLCJmaW5kIiwicmVjb3JkRWxlbWVudCIsImFwcGVuZCIsInJlY29yZHMiLCJ0aGF0IiwiZ3JvdXAiLCJncm91cFZhbHVlIiwicmVjb3JkIiwic2hvdyIsInJlbmRlckdyb3VwIiwicmVuZGVyUmVjb3JkIiwiY29sdW1uc0NvdW50IiwiX2NvdW50Q29sdW1uc1Nob3ciLCJsYW5nIiwiZ2V0TGFuZyIsImZpZWxkcyIsInJlY29yZEF0dHIiLCJleHRlbmQiLCJyZW5kZXJGaWVsZCIsIm9uQ2xpY2tVcmwiLCJtZXRhIiwiaHRtbCIsImNvbHVtbkZpZWxkIiwiZmllbGRQcm9wcyIsImZpZWxkQXR0ciIsImZpZWxkQXR0clJlc3VsdCIsImNvbHNwYW4iLCJyZW5kZXJDb250ZW50IiwicmVuZGVyRXhwYW5kIiwicmVuZGVyQ29tcG9uZW50cyIsImV4cGFuZFJlY29yZCIsIml0ZW0iLCJIVE1MRWxlbWVudCIsImpRdWVyeSIsInJlbmRlckNvbnRyb2wiLCJjb250cm9sIiwiY29udHJvbEVsZW1lbnQiLCJpZCIsImdldElkIiwiaW5pdEV2ZW50cyIsImNvbXBvbmVudHMiLCJldmVudE5hbWUiLCJjb21wb25lbnQiLCJDb3JlVUkiLCJpbnN0YW5jZSIsImNvcmV1aVRhYmxlUHJpdmF0ZSIsImluaXRDb2x1bW5zIiwiY29yZXVpVGFibGUiLCJfb3B0aW9ucyIsIm92ZXJmbG93IiwiY29sdW1uSW5zdGFuY2UiLCJpbml0IiwiaW5pdFNlYXJjaCIsInNlYXJjaENvbnRyb2xzIiwic2VhcmNoVmFsdWVzIiwic2F2ZVN0YXRlIiwiZ2V0U3RvcmFnZUZpZWxkIiwic2VhcmNoIiwiY29udHJvbEluc3RhbmNlIiwiX3NlYXJjaCIsImluaXRDb250cm9scyIsInBvc2l0aW9uIiwicm93IiwiY29udHJvbHNMZWZ0IiwiY29udHJvbHNDZW50ZXIiLCJjb250cm9sc1JpZ2h0IiwidG9Mb3dlckNhc2UiLCJsZWZ0IiwiaW5pdENvbnRyb2wiLCJjZW50ZXIiLCJyaWdodCIsIl9jb250cm9sc1Bvc2l0aW9ucyIsImNvbnRyb2xzIiwiX2NvbnRyb2xzIiwiZmlsdGVyTmFtZSIsImZpbHRlcnMiLCJmaWx0ZXJWYWx1ZXMiLCJfZmlsdGVycyIsImluaXRTb3J0Iiwic29ydCIsInNldFJlY29yZHMiLCJfcmVjb3Jkc0luZGV4IiwiYWRkUmVjb3JkIiwiYWZ0ZXJJbmRleCIsIl9tZXRhIiwic2VxIiwiX3NlcSIsImFkZFJlY29yZEJlZm9yZSIsImlzc2V0S2V5Iiwia2V5QmVmb3JlIiwiaXNGaWx0ZXJlZFJlY29yZCIsInJlY29yZERhdGEiLCJhbGciLCJpc3NldFN0YXJ0IiwiaXNzZXRFbmQiLCJfdHJpZ2dlciIsInBhcmFtcyIsIl9ldmVudHMiLCJjYWxsYmFjayIsInNpbmdsZUV4ZWMiLCJzb3J0UmVjb3Jkc0J5U2VxIiwiYiIsInNvcnRSZWNvcmRzQnlGaWVsZHMiLCJpc3NldEFGaWVsZCIsImlzc2V0QkZpZWxkIiwiYVZhbCIsImJWYWwiLCJzZXRDb2x1bW5zU29ydCIsInRoZWFkIiwiY29yZXVpVGFibGVFbGVtZW50cyIsImdldFRhYmxlVGhlYWQiLCJzb3J0Q29sdW1uIiwic29ydEl0ZW0iLCJjb2x1bW5FbGVtZW50IiwiZ2V0U3RvcmFnZSIsInRhYmxlSWQiLCJzdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlIiwic2V0U3RvcmFnZSIsInN0b3JhZ2VBbGwiLCJzZXRJdGVtIiwic2V0U3RvcmFnZUZpZWxkIiwiZ2V0Q29udGFpbmVyIiwiZ2V0TG9jayIsImdldFdyYXBwZXIiLCJnZXRTZWFyY2hDb250YWluZXIiLCJnZXRDb2x1bW5zQ29udGFpbmVyIiwiZ2V0U2VhcmNoQ29udHJvbCIsImNvbnRyb2xJZCIsImdldENvbnRyb2wiLCJnZXRUYWJsZSIsImdldFRhYmxlVGJvZHkiLCJnZXRUYWJsZVNvcnRhYmxlIiwiZ2V0VHJSZWNvcmRzIiwiZ2V0VHJCeUluZGV4IiwiZ2V0RXhwYW5kUm93IiwibmV4dCIsImhhc0NsYXNzIiwiYWRkRXhwYW5kUm93IiwiYWZ0ZXIiLCJhZGRDbGFzcyIsInJlY29yZEluZGV4IiwiaGlkZUV4cGFuZFJvdyIsInJlY29yZEV4cGFuZGVkIiwiaGlkZSIsInNob3dFeHBhbmRSb3ciLCJyZW1vdmVFeHBhbmRSb3ciLCJnZXRTZWxlY3RlZEluZGV4ZXMiLCJpbmRleGVzIiwiZWxlbWVudCIsImdldFJvd3NTd2l0Y2hlcyIsImdldFJvd3NTZWxlY3RzIiwiZ2V0Um93c1NlbGVjdEFsbCIsImdldE5vV3JhcFRvZ2dsZXMiLCJzZWxlY3RUciIsInRyIiwicHJvcCIsInNlbGVjdFRyQWxsIiwidGFibGVDb250YWluZXIiLCJ1bnNlbGVjdFRyIiwicmVtb3ZlQ2xhc3MiLCJ1bnNlbGVjdFRyQWxsIiwiZml4ZWRDb2xzTGVmdCIsInRhYmxlV3JhcHBlciIsImNvbE9mZnNldCIsImNzcyIsIm91dGVyV2lkdGgiLCJmaXhlZENvbHNSaWdodCIsInJldmVyc2UiLCJjb3JldWlUYWJsZUluc3RhbmNlIiwicHJpbWFyeUtleSIsImxhbmdMaXN0IiwiaGVpZ2h0IiwibWluSGVpZ2h0IiwibmF4SGVpZ2h0IiwicGFnZSIsInJlY29yZHNQZXJQYWdlIiwibm9Cb3JkZXIiLCJub1dyYXAiLCJub1dyYXBUb2dnbGUiLCJyZWNvcmRzUmVxdWVzdCIsIm1ldGhvZCIsImNvdW50Iiwib25DbGljayIsImhlYWRlciIsImZvb3RlciIsImxhYmVsV2lkdGgiLCJfaWQiLCJfaXNSZWNvcmRzUmVxdWVzdCIsIl9pbml0IiwiY2xpY2siLCJyZWNvcmRLZXkiLCJnZXRSZWNvcmRCeUluZGV4IiwiZmllbGRRdW90ZSIsImxvY2F0aW9uIiwiaHJlZiIsImV2ZW50IiwiY2FuY2VsQnViYmxlIiwicHJldmVudERlZmF1bHQiLCJwYXJlbnQiLCJzb3J0YWJsZUNvbHVtbnMiLCJzb3J0aW5nIiwiY3VycmVudE9yZGVyIiwic29ydERlZmF1bHQiLCJzb3J0RmllbGRzIiwiZ2V0U2VhcmNoRGF0YSIsImdldEZpbHRlckRhdGEiLCJ3aWR0aFNpemVzIiwiaGVpZ2h0U2l6ZXMiLCJoZWFkZXJzT3V0IiwiaGVhZGVyc0luIiwiZm9vdGVyc0luIiwiZm9vdGVyc091dCIsIm1heEhlaWdodCIsImNvbnRyb2xSZW5kZXIiLCJoZWFkZXJDb250cm9scyIsImZvb3RlckNvbnRyb2xzIiwibG9hZCIsImNvbnRhaW5lckVsZW1lbnQiLCJyZWNvcmRzVG90YWwiLCJwcmVwZW5kIiwiZG9tRWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJsb2NrIiwiY29udGFpbmVyIiwidW5sb2NrIiwicGFyYW1QYWdlIiwicGFyYW1Db3VudCIsInBhcmFtU3RhcnQiLCJOdW1iZXIiLCJwYXJhbUVuZCIsInNlYXJjaERhdGEiLCJmaWx0ZXJEYXRhIiwicGFyYW1TZWFyY2giLCJwYXJhbVNvcnQiLCJhamF4IiwiZGF0YVR5cGUiLCJiZWZvcmVTZW5kIiwieGhyIiwic3VjY2VzcyIsInRvdGFsIiwiZXJyb3IiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJjb21wbGV0ZSIsInJlbG9hZCIsInJlZnJlc2giLCJyZXBsYWNlV2l0aCIsInNldFBhZ2VTaXplIiwic2VsZWN0QWxsIiwidW5zZWxlY3RBbGwiLCJzZWxlY3RSZWNvcmQiLCJnZXRSZWNvcmRCeUlkIiwidW5zZWxlY3RSZWNvcmQiLCJnZXRTZWxlY3RlZFJlY29yZHNJZCIsImdldFNlbGVjdGVkUmVjb3JkcyIsImdldFJlY29yZCIsImdldFJlY29yZHMiLCJnZXREYXRhIiwicHJldlBhZ2UiLCJuZXh0UGFnZSIsInRvdGFsUGFnZXMiLCJjZWlsIiwiZ29QYWdlIiwiZXZlbnROYW1lcyIsInNldENvbHVtbnNTaG93Iiwic2V0U2hvdyIsImdldFZhbHVlIiwiZ2V0QWxnb3JpdGhtIiwic2VhcmNoUmVjb3JkcyIsInNlYXJjaENsZWFyIiwic2V0VmFsdWUiLCJmaWx0ZXJzQ2xlYXIiLCJyZWNvcmRJdGVtIiwiZ2V0UmVjb3JkQnlGaWVsZCIsImdldENvbnRyb2xCeUlkIiwiZ2V0U2VhcmNoQ29udHJvbEJ5SWQiLCJjb2x1bW5Tb3J0YWJsZSIsInJlbW92ZVJlY29yZEJ5SW5kZXgiLCJmYWRlT3V0IiwiYWRkUmVjb3JkQWZ0ZXJJbmRleCIsImFkZFJlY29yZEJlZm9yZUluZGV4IiwiYmVmb3JlIiwiYWRkUmVjb3JkRmlyc3QiLCJhZGRSZWNvcmRMYXN0IiwicGFyc2VJbnQiLCJ0YWJsZUJvZHkiLCJleHBhbmRSZWNvcmRDb250ZW50IiwiaXNSZWJ1aWxkIiwiY2FsbGJhY2tSZXN1bHQiLCJ0aGVuIiwiZXhwYW5kUmVjb3JkVXJsIiwicmVzcG9uc2UiLCJnZXRSZXNwb25zZUhlYWRlciIsIl9pbnN0YW5jZXMiLCJfc2V0dGluZ3MiLCJnZXRTZXR0aW5nIiwic2V0U2V0dGluZ3MiLCJydSIsImVuIiwibGluayIsIl90YWJsZSIsImJ1dHRvbiIsImRyb3Bkb3duIiwiaXRlbXMiLCJDb3JldWlUYWJsZVV0aWxzIiwiYnV0dG9uX2dyb3VwIiwiYnV0dG9ucyIsIl9saW5rIiwiX2J1dHRvbiIsIl9kcm9wZG93biIsImN1c3RvbSIsInBhZ2Vfc2l6ZSIsInNlbGVjdFBhZ2VTaXplIiwiY2hhbmdlIiwicmVjb3Jkc1BlclBhZ2VMaXN0IiwicGFnZV9qdW1wIiwiaW5wdXQiLCJrZXl1cCIsImtleUNvZGUiLCJwYWdlcyIsInByZXYiLCJfaW5pdEV2ZW50cyIsInNob3dQcmV2Iiwic2hvd05leHQiLCJzaG93RGl2aWRlclN0YXJ0Iiwic2hvd0RpdmlkZXJFbmQiLCJzaG93UGFnZUZpcnN0Iiwic2hvd1BhZ2VMYXN0IiwicGFnZXNUb3RhbCIsImNvdW50SGFsZiIsImZsb29yIiwiY3VycmVudFBhZ2UiLCJpc0FjdGl2ZVByZXYiLCJpc0FjdGl2ZU5leHQiLCJidG5QcmV2IiwiYnRuTmV4dCIsImJ0biIsImJ0bkNsZWFyIiwiYnRuQ29tcGxldGUiLCJjbGVhciIsImJ1dHRvblRvZ2dsZSIsImJ1dHRvbkNsZWFyIiwiY29sdW1uc0NvbnRhaW5lciIsImZhZGVUb2dnbGUiLCJjb250cm9sc0V2ZW50cyIsImJ0bkNvbXBsZXRlQXR0ciIsImJ0bkNvbXBsZXRlQ29udGVudCIsIndyYXBwZXIiLCJ0YWJsZU9wdGlvbnMiLCJwcmVmaXgiLCJjb250cm9sc0V2ZW50IiwiX3JlbmRlckJ0bkNsZWFyIiwiaW5zZXJ0QWZ0ZXIiLCJidG5BdHRyIiwiYnRuQ29udGVudCIsImNvbnRhaW5lclNlYXJjaCIsInNob3dBbGwiLCJpcyIsImNhcHRpb24iLCJmaWx0ZXJfY2xlYXIiLCJfdmFsdWUiLCJfcmVuZGVyIiwiYXR0ckJ0biIsIm51bWJlciIsIm51bWJlclN0YXJ0IiwibnVtYmVyRW5kIiwiaW5wdXRTdGFydCIsImlucHV0RW5kIiwidmFsdWVTdGFydCIsInZhbHVlRW5kIiwic3RhcnRBdHRyIiwiZW5kQXR0ciIsImF0dHJTdGFydCIsImF0dHJFbmQiLCJkYXRlIiwiZGF0ZXRpbWUiLCJkYXRlX21vbnRoIiwiZGF0ZV9yYW5nZSIsImRhdGVTdGFydCIsImRhdGVFbmQiLCJzdGFydEVuZCIsImRhdGV0aW1lX3JhbmdlIiwiY2hlY2tib3giLCJfY2xhc3MiLCJpbnB1dHMiLCJvcHRpb24iLCJjaGVja2VkIiwicmFkaW8iLCJzZWxlY3QiLCJpc011bHRpcGxlIiwic2VsZWN0T3B0aW9ucyIsIl9idWlsZE9wdGlvbiIsInJlbmRlckF0dHIiLCJncm91cEF0dHIiLCJncm91cE9wdGlvbnMiLCJncm91cE9wdGlvbiIsIm9wdGlvbkF0dHIiLCJvcHRpb25UZXh0IiwiaXRlbVZhbHVlIiwidmFsdWVZIiwiY2hlY2tlZEFsbCIsImZvcm1hdCIsIl9zdHJQYWRMZWZ0IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJyZXBlYXQiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwibW9uZXkiLCJjdXJyZW5jeSIsInRvRml4ZWQiLCJudW1iZXJzIiwiX21lcmdlQXR0ciIsInNlbGVjdHMiLCJzdG9wUHJvcGFnYXRpb24iLCJkaXNhYmxlZCIsIm9uQ2hhbmdlIiwiY29udGFpbmVycyIsImlzQ2hlY2tlZCIsImZvcm1Td2l0Y2giLCJsaW5rQ29udGVudCIsIm1lbnUiLCJsaW5rQXR0ciIsImxpbmtBdHRyaWJ1dGVzIiwiYnRuQXR0cmlidXRlcyIsIm1lbnVDb250ZW50IiwiYmFkZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLENBQUMsVUFBU0EsQ0FBQyxFQUFDO0VBQUMsSUFBRyxPQUFPQyxPQUFPLEtBQUcsUUFBUSxJQUFFLE9BQU9DLE1BQU0sS0FBRyxXQUFXLEVBQUM7SUFBQ0EsTUFBTSxDQUFDRCxPQUFPLEdBQUNELENBQUMsRUFBRTtHQUFDLE1BQUssSUFBRyxPQUFPRyxNQUFNLEtBQUcsVUFBVSxJQUFFQSxNQUFNLENBQUNDLEdBQUcsRUFBQztJQUFDRCxNQUFNLENBQUMsRUFBRSxFQUFDSCxDQUFDLENBQUM7R0FBQyxNQUFJO0lBQUMsSUFBSUssQ0FBQztJQUFDLElBQUcsT0FBT0MsTUFBTSxLQUFHLFdBQVcsRUFBQztNQUFDRCxDQUFDLEdBQUNDLE1BQU07S0FBQyxNQUFLLElBQUcsT0FBT0MsTUFBTSxLQUFHLFdBQVcsRUFBQztNQUFDRixDQUFDLEdBQUNFLE1BQU07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;
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.CoreUI = global.CoreUI || {}, global.CoreUI.form = factory());
}(this, (function () { 'use strict';

function _AsyncGenerator(e) {
  var r, t;
  function resume(r, t) {
    try {
      var n = e[r](t),
        o = n.value,
        u = o instanceof _OverloadYield;
      Promise.resolve(u ? o.v : o).then(function (t) {
        if (u) {
          var i = "return" === r ? "return" : "next";
          if (!o.k || t.done) return resume(i, t);
          t = e[i](t).value;
        }
        settle(n.done ? "return" : "normal", t);
      }, function (e) {
        resume("throw", e);
      });
    } catch (e) {
      settle("throw", e);
    }
  }
  function settle(e, n) {
    switch (e) {
      case "return":
        r.resolve({
          value: n,
          done: !0
        });
        break;
      case "throw":
        r.reject(n);
        break;
      default:
        r.resolve({
          value: n,
          done: !1
        });
    }
    (r = r.next) ? resume(r.key, r.arg) : t = null;
  }
  this._invoke = function (e, n) {
    return new Promise(function (o, u) {
      var i = {
        key: e,
        arg: n,
        resolve: o,
        reject: u,
        next: null
      };
      t ? t = t.next = i : (r = t = i, resume(e, n));
    });
  }, "function" != typeof e.return && (this.return = void 0);
}
_AsyncGenerator.prototype["function" == typeof Symbol && Symbol.asyncIterator || "@@asyncIterator"] = function () {
  return this;
}, _AsyncGenerator.prototype.next = function (e) {
  return this._invoke("next", e);
}, _AsyncGenerator.prototype.throw = function (e) {
  return this._invoke("throw", e);
}, _AsyncGenerator.prototype.return = function (e) {
  return this._invoke("return", e);
};
function _OverloadYield(t, e) {
  this.v = t, this.k = e;
}
function _typeof(o) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, _typeof(o);
}

(function (f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define([], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    g.ejs = f();
  }
})(function () {
  return function () {
    function r(e, n, t) {
      function o(i, f) {
        if (!n[i]) {
          if (!e[i]) {
            var c = "function" == typeof require && require;
            if (!f && c) return c(i, !0);
            if (u) return u(i, !0);
            var a = new Error("Cannot find module '" + i + "'");
            throw a.code = "MODULE_NOT_FOUND", a;
          }
          var p = n[i] = {
            exports: {}
          };
          e[i][0].call(p.exports, function (r) {
            var n = e[i][1][r];
            return o(n || r);
          }, p, p.exports, r, e, n, t);
        }
        return n[i].exports;
      }
      for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
      return o;
    }
    return r;
  }()({
    1: [function (require, module, exports) {
      "use strict";

      var fs = require("fs");
      var path = require("path");
      var utils = require("./utils");
      var scopeOptionWarned = false;
      var _VERSION_STRING = require("../package.json").version;
      var _DEFAULT_OPEN_DELIMITER = "<";
      var _DEFAULT_CLOSE_DELIMITER = ">";
      var _DEFAULT_DELIMITER = "%";
      var _DEFAULT_LOCALS_NAME = "locals";
      var _NAME = "ejs";
      var _REGEX_STRING = "(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";
      var _OPTS_PASSABLE_WITH_DATA = ["delimiter", "scope", "context", "debug", "compileDebug", "client", "_with", "rmWhitespace", "strict", "filename", "async"];
      var _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat("cache");
      var _BOM = /^\uFEFF/;
      var _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;
      exports.cache = utils.cache;
      exports.fileLoader = fs.readFileSync;
      exports.localsName = _DEFAULT_LOCALS_NAME;
      exports.promiseImpl = new Function("return this;")().Promise;
      exports.resolveInclude = function (name, filename, isDir) {
        var dirname = path.dirname;
        var extname = path.extname;
        var resolve = path.resolve;
        var includePath = resolve(isDir ? filename : dirname(filename), name);
        var ext = extname(name);
        if (!ext) {
          includePath += ".ejs";
        }
        return includePath;
      };
      function resolvePaths(name, paths) {
        var filePath;
        if (paths.some(function (v) {
          filePath = exports.resolveInclude(name, v, true);
          return fs.existsSync(filePath);
        })) {
          return filePath;
        }
      }
      function getIncludePath(path, options) {
        var includePath;
        var filePath;
        var views = options.views;
        var match = /^[A-Za-z]+:\\|^\//.exec(path);
        if (match && match.length) {
          path = path.replace(/^\/*/, "");
          if (Array.isArray(options.root)) {
            includePath = resolvePaths(path, options.root);
          } else {
            includePath = exports.resolveInclude(path, options.root || "/", true);
          }
        } else {
          if (options.filename) {
            filePath = exports.resolveInclude(path, options.filename);
            if (fs.existsSync(filePath)) {
              includePath = filePath;
            }
          }
          if (!includePath && Array.isArray(views)) {
            includePath = resolvePaths(path, views);
          }
          if (!includePath && typeof options.includer !== "function") {
            throw new Error('Could not find the include file "' + options.escapeFunction(path) + '"');
          }
        }
        return includePath;
      }
      function handleCache(options, template) {
        var func;
        var filename = options.filename;
        var hasTemplate = arguments.length > 1;
        if (options.cache) {
          if (!filename) {
            throw new Error("cache option requires a filename");
          }
          func = exports.cache.get(filename);
          if (func) {
            return func;
          }
          if (!hasTemplate) {
            template = fileLoader(filename).toString().replace(_BOM, "");
          }
        } else if (!hasTemplate) {
          if (!filename) {
            throw new Error("Internal EJS error: no file name or template " + "provided");
          }
          template = fileLoader(filename).toString().replace(_BOM, "");
        }
        func = exports.compile(template, options);
        if (options.cache) {
          exports.cache.set(filename, func);
        }
        return func;
      }
      function tryHandleCache(options, data, cb) {
        var result;
        if (!cb) {
          if (typeof exports.promiseImpl == "function") {
            return new exports.promiseImpl(function (resolve, reject) {
              try {
                result = handleCache(options)(data);
                resolve(result);
              } catch (err) {
                reject(err);
              }
            });
          } else {
            throw new Error("Please provide a callback function");
          }
        } else {
          try {
            result = handleCache(options)(data);
          } catch (err) {
            return cb(err);
          }
          cb(null, result);
        }
      }
      function fileLoader(filePath) {
        return exports.fileLoader(filePath);
      }
      function includeFile(path, options) {
        var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);
        opts.filename = getIncludePath(path, opts);
        if (typeof options.includer === "function") {
          var includerResult = options.includer(path, opts.filename);
          if (includerResult) {
            if (includerResult.filename) {
              opts.filename = includerResult.filename;
            }
            if (includerResult.template) {
              return handleCache(opts, includerResult.template);
            }
          }
        }
        return handleCache(opts);
      }
      function rethrow(err, str, flnm, lineno, esc) {
        var lines = str.split("\n");
        var start = Math.max(lineno - 3, 0);
        var end = Math.min(lines.length, lineno + 3);
        var filename = esc(flnm);
        var context = lines.slice(start, end).map(function (line, i) {
          var curr = i + start + 1;
          return (curr == lineno ? " >> " : "    ") + curr + "| " + line;
        }).join("\n");
        err.path = filename;
        err.message = (filename || "ejs") + ":" + lineno + "\n" + context + "\n\n" + err.message;
        throw err;
      }
      function stripSemi(str) {
        return str.replace(/;(\s*$)/, "$1");
      }
      exports.compile = function compile(template, opts) {
        var templ;
        if (opts && opts.scope) {
          if (!scopeOptionWarned) {
            console.warn("`scope` option is deprecated and will be removed in EJS 3");
            scopeOptionWarned = true;
          }
          if (!opts.context) {
            opts.context = opts.scope;
          }
          delete opts.scope;
        }
        templ = new Template(template, opts);
        return templ.compile();
      };
      exports.render = function (template, d, o) {
        var data = d || utils.createNullProtoObjWherePossible();
        var opts = o || utils.createNullProtoObjWherePossible();
        if (arguments.length == 2) {
          utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);
        }
        return handleCache(opts, template)(data);
      };
      exports.renderFile = function () {
        var args = Array.prototype.slice.call(arguments);
        var filename = args.shift();
        var cb;
        var opts = {
          filename: filename
        };
        var data;
        var viewOpts;
        if (typeof arguments[arguments.length - 1] == "function") {
          cb = args.pop();
        }
        if (args.length) {
          data = args.shift();
          if (args.length) {
            utils.shallowCopy(opts, args.pop());
          } else {
            if (data.settings) {
              if (data.settings.views) {
                opts.views = data.settings.views;
              }
              if (data.settings["view cache"]) {
                opts.cache = true;
              }
              viewOpts = data.settings["view options"];
              if (viewOpts) {
                utils.shallowCopy(opts, viewOpts);
              }
            }
            utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);
          }
          opts.filename = filename;
        } else {
          data = utils.createNullProtoObjWherePossible();
        }
        return tryHandleCache(opts, data, cb);
      };
      exports.Template = Template;
      exports.clearCache = function () {
        exports.cache.reset();
      };
      function Template(text, opts) {
        opts = opts || utils.createNullProtoObjWherePossible();
        var options = utils.createNullProtoObjWherePossible();
        this.templateText = text;
        this.mode = null;
        this.truncate = false;
        this.currentLine = 1;
        this.source = "";
        options.client = opts.client || false;
        options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;
        options.compileDebug = opts.compileDebug !== false;
        options.debug = !!opts.debug;
        options.filename = opts.filename;
        options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;
        options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;
        options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;
        options.strict = opts.strict || false;
        options.context = opts.context;
        options.cache = opts.cache || false;
        options.rmWhitespace = opts.rmWhitespace;
        options.root = opts.root;
        options.includer = opts.includer;
        options.outputFunctionName = opts.outputFunctionName;
        options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;
        options.views = opts.views;
        options.async = opts.async;
        options.destructuredLocals = opts.destructuredLocals;
        options.legacyInclude = typeof opts.legacyInclude != "undefined" ? !!opts.legacyInclude : true;
        if (options.strict) {
          options._with = false;
        } else {
          options._with = typeof opts._with != "undefined" ? opts._with : true;
        }
        this.opts = options;
        this.regex = this.createRegex();
      }
      Template.modes = {
        EVAL: "eval",
        ESCAPED: "escaped",
        RAW: "raw",
        COMMENT: "comment",
        LITERAL: "literal"
      };
      Template.prototype = {
        createRegex: function () {
          var str = _REGEX_STRING;
          var delim = utils.escapeRegExpChars(this.opts.delimiter);
          var open = utils.escapeRegExpChars(this.opts.openDelimiter);
          var close = utils.escapeRegExpChars(this.opts.closeDelimiter);
          str = str.replace(/%/g, delim).replace(/</g, open).replace(/>/g, close);
          return new RegExp(str);
        },
        compile: function () {
          var src;
          var fn;
          var opts = this.opts;
          var prepended = "";
          var appended = "";
          var escapeFn = opts.escapeFunction;
          var ctor;
          var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : "undefined";
          if (!this.source) {
            this.generateSource();
            prepended += '  var __output = "";\n' + "  function __append(s) { if (s !== undefined && s !== null) __output += s }\n";
            if (opts.outputFunctionName) {
              if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {
                throw new Error("outputFunctionName is not a valid JS identifier.");
              }
              prepended += "  var " + opts.outputFunctionName + " = __append;" + "\n";
            }
            if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {
              throw new Error("localsName is not a valid JS identifier.");
            }
            if (opts.destructuredLocals && opts.destructuredLocals.length) {
              var destructuring = "  var __locals = (" + opts.localsName + " || {}),\n";
              for (var i = 0; i < opts.destructuredLocals.length; i++) {
                var name = opts.destructuredLocals[i];
                if (!_JS_IDENTIFIER.test(name)) {
                  throw new Error("destructuredLocals[" + i + "] is not a valid JS identifier.");
                }
                if (i > 0) {
                  destructuring += ",\n  ";
                }
                destructuring += name + " = __locals." + name;
              }
              prepended += destructuring + ";\n";
            }
            if (opts._with !== false) {
              prepended += "  with (" + opts.localsName + " || {}) {" + "\n";
              appended += "  }" + "\n";
            }
            appended += "  return __output;" + "\n";
            this.source = prepended + this.source + appended;
          }
          if (opts.compileDebug) {
            src = "var __line = 1" + "\n" + "  , __lines = " + JSON.stringify(this.templateText) + "\n" + "  , __filename = " + sanitizedFilename + ";" + "\n" + "try {" + "\n" + this.source + "} catch (e) {" + "\n" + "  rethrow(e, __lines, __filename, __line, escapeFn);" + "\n" + "}" + "\n";
          } else {
            src = this.source;
          }
          if (opts.client) {
            src = "escapeFn = escapeFn || " + escapeFn.toString() + ";" + "\n" + src;
            if (opts.compileDebug) {
              src = "rethrow = rethrow || " + rethrow.toString() + ";" + "\n" + src;
            }
          }
          if (opts.strict) {
            src = '"use strict";\n' + src;
          }
          if (opts.debug) {
            console.log(src);
          }
          if (opts.compileDebug && opts.filename) {
            src = src + "\n" + "//# sourceURL=" + sanitizedFilename + "\n";
          }
          try {
            if (opts.async) {
              try {
                ctor = new Function("return (async function(){}).constructor;")();
              } catch (e) {
                if (e instanceof SyntaxError) {
                  throw new Error("This environment does not support async/await");
                } else {
                  throw e;
                }
              }
            } else {
              ctor = Function;
            }
            fn = new ctor(opts.localsName + ", escapeFn, include, rethrow", src);
          } catch (e) {
            if (e instanceof SyntaxError) {
              if (opts.filename) {
                e.message += " in " + opts.filename;
              }
              e.message += " while compiling ejs\n\n";
              e.message += "If the above error is not helpful, you may want to try EJS-Lint:\n";
              e.message += "https://github.com/RyanZim/EJS-Lint";
              if (!opts.async) {
                e.message += "\n";
                e.message += "Or, if you meant to create an async function, pass `async: true` as an option.";
              }
            }
            throw e;
          }
          var returnedFn = opts.client ? fn : function anonymous(data) {
            var include = function (path, includeData) {
              var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);
              if (includeData) {
                d = utils.shallowCopy(d, includeData);
              }
              return includeFile(path, opts)(d);
            };
            return fn.apply(opts.context, [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);
          };
          if (opts.filename && typeof Object.defineProperty === "function") {
            var filename = opts.filename;
            var basename = path.basename(filename, path.extname(filename));
            try {
              Object.defineProperty(returnedFn, "name", {
                value: basename,
                writable: false,
                enumerable: false,
                configurable: true
              });
            } catch (e) {}
          }
          return returnedFn;
        },
        generateSource: function () {
          var opts = this.opts;
          if (opts.rmWhitespace) {
            this.templateText = this.templateText.replace(/[\r\n]+/g, "\n").replace(/^\s+|\s+$/gm, "");
          }
          this.templateText = this.templateText.replace(/[ \t]*<%_/gm, "<%_").replace(/_%>[ \t]*/gm, "_%>");
          var self = this;
          var matches = this.parseTemplateText();
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          if (matches && matches.length) {
            matches.forEach(function (line, index) {
              var closing;
              if (line.indexOf(o + d) === 0 && line.indexOf(o + d + d) !== 0) {
                closing = matches[index + 2];
                if (!(closing == d + c || closing == "-" + d + c || closing == "_" + d + c)) {
                  throw new Error('Could not find matching close tag for "' + line + '".');
                }
              }
              self.scanLine(line);
            });
          }
        },
        parseTemplateText: function () {
          var str = this.templateText;
          var pat = this.regex;
          var result = pat.exec(str);
          var arr = [];
          var firstPos;
          while (result) {
            firstPos = result.index;
            if (firstPos !== 0) {
              arr.push(str.substring(0, firstPos));
              str = str.slice(firstPos);
            }
            arr.push(result[0]);
            str = str.slice(result[0].length);
            result = pat.exec(str);
          }
          if (str) {
            arr.push(str);
          }
          return arr;
        },
        _addOutput: function (line) {
          if (this.truncate) {
            line = line.replace(/^(?:\r\n|\r|\n)/, "");
            this.truncate = false;
          }
          if (!line) {
            return line;
          }
          line = line.replace(/\\/g, "\\\\");
          line = line.replace(/\n/g, "\\n");
          line = line.replace(/\r/g, "\\r");
          line = line.replace(/"/g, '\\"');
          this.source += '    ; __append("' + line + '")' + "\n";
        },
        scanLine: function (line) {
          var self = this;
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          var newLineCount = 0;
          newLineCount = line.split("\n").length - 1;
          switch (line) {
            case o + d:
            case o + d + "_":
              this.mode = Template.modes.EVAL;
              break;
            case o + d + "=":
              this.mode = Template.modes.ESCAPED;
              break;
            case o + d + "-":
              this.mode = Template.modes.RAW;
              break;
            case o + d + "#":
              this.mode = Template.modes.COMMENT;
              break;
            case o + d + d:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(o + d + d, o + d) + '")' + "\n";
              break;
            case d + d + c:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(d + d + c, d + c) + '")' + "\n";
              break;
            case d + c:
            case "-" + d + c:
            case "_" + d + c:
              if (this.mode == Template.modes.LITERAL) {
                this._addOutput(line);
              }
              this.mode = null;
              this.truncate = line.indexOf("-") === 0 || line.indexOf("_") === 0;
              break;
            default:
              if (this.mode) {
                switch (this.mode) {
                  case Template.modes.EVAL:
                  case Template.modes.ESCAPED:
                  case Template.modes.RAW:
                    if (line.lastIndexOf("//") > line.lastIndexOf("\n")) {
                      line += "\n";
                    }
                }
                switch (this.mode) {
                  case Template.modes.EVAL:
                    this.source += "    ; " + line + "\n";
                    break;
                  case Template.modes.ESCAPED:
                    this.source += "    ; __append(escapeFn(" + stripSemi(line) + "))" + "\n";
                    break;
                  case Template.modes.RAW:
                    this.source += "    ; __append(" + stripSemi(line) + ")" + "\n";
                    break;
                  case Template.modes.COMMENT:
                    break;
                  case Template.modes.LITERAL:
                    this._addOutput(line);
                    break;
                }
              } else {
                this._addOutput(line);
              }
          }
          if (self.opts.compileDebug && newLineCount) {
            this.currentLine += newLineCount;
            this.source += "    ; __line = " + this.currentLine + "\n";
          }
        }
      };
      exports.escapeXML = utils.escapeXML;
      exports.__express = exports.renderFile;
      exports.VERSION = _VERSION_STRING;
      exports.name = _NAME;
      if (typeof window != "undefined") {
        window.ejs = exports;
      }
    }, {
      "../package.json": 6,
      "./utils": 2,
      fs: 3,
      path: 4
    }],
    2: [function (require, module, exports) {
      "use strict";

      var regExpChars = /[|\\{}()[\]^$+*?.]/g;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var hasOwn = function (obj, key) {
        return hasOwnProperty.apply(obj, [key]);
      };
      exports.escapeRegExpChars = function (string) {
        if (!string) {
          return "";
        }
        return String(string).replace(regExpChars, "\\$&");
      };
      var _ENCODE_HTML_RULES = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&#34;",
        "'": "&#39;"
      };
      var _MATCH_HTML = /[&<>'"]/g;
      function encode_char(c) {
        return _ENCODE_HTML_RULES[c] || c;
      }
      var escapeFuncStr = "var _ENCODE_HTML_RULES = {\n" + '      "&": "&amp;"\n' + '    , "<": "&lt;"\n' + '    , ">": "&gt;"\n' + '    , \'"\': "&#34;"\n' + '    , "\'": "&#39;"\n' + "    }\n" + "  , _MATCH_HTML = /[&<>'\"]/g;\n" + "function encode_char(c) {\n" + "  return _ENCODE_HTML_RULES[c] || c;\n" + "};\n";
      exports.escapeXML = function (markup) {
        return markup == undefined ? "" : String(markup).replace(_MATCH_HTML, encode_char);
      };
      function escapeXMLToString() {
        return Function.prototype.toString.call(this) + ";\n" + escapeFuncStr;
      }
      try {
        if (typeof Object.defineProperty === "function") {
          Object.defineProperty(exports.escapeXML, "toString", {
            value: escapeXMLToString
          });
        } else {
          exports.escapeXML.toString = escapeXMLToString;
        }
      } catch (err) {
        console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)");
      }
      exports.shallowCopy = function (to, from) {
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var p in from) {
            if (!hasOwn(from, p)) {
              continue;
            }
            if (p === "__proto__" || p === "constructor") {
              continue;
            }
            to[p] = from[p];
          }
        }
        return to;
      };
      exports.shallowCopyFromList = function (to, from, list) {
        list = list || [];
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var i = 0; i < list.length; i++) {
            var p = list[i];
            if (typeof from[p] != "undefined") {
              if (!hasOwn(from, p)) {
                continue;
              }
              if (p === "__proto__" || p === "constructor") {
                continue;
              }
              to[p] = from[p];
            }
          }
        }
        return to;
      };
      exports.cache = {
        _data: {},
        set: function (key, val) {
          this._data[key] = val;
        },
        get: function (key) {
          return this._data[key];
        },
        remove: function (key) {
          delete this._data[key];
        },
        reset: function () {
          this._data = {};
        }
      };
      exports.hyphenToCamel = function (str) {
        return str.replace(/-[a-z]/g, function (match) {
          return match[1].toUpperCase();
        });
      };
      exports.createNullProtoObjWherePossible = function () {
        if (typeof Object.create == "function") {
          return function () {
            return Object.create(null);
          };
        }
        if (!({
          __proto__: null
        } instanceof Object)) {
          return function () {
            return {
              __proto__: null
            };
          };
        }
        return function () {
          return {};
        };
      }();
    }, {}],
    3: [function (require, module, exports) {}, {}],
    4: [function (require, module, exports) {
      (function (process) {
        function normalizeArray(parts, allowAboveRoot) {
          var up = 0;
          for (var i = parts.length - 1; i >= 0; i--) {
            var last = parts[i];
            if (last === ".") {
              parts.splice(i, 1);
            } else if (last === "..") {
              parts.splice(i, 1);
              up++;
            } else if (up) {
              parts.splice(i, 1);
              up--;
            }
          }
          if (allowAboveRoot) {
            for (; up--; up) {
              parts.unshift("..");
            }
          }
          return parts;
        }
        exports.resolve = function () {
          var resolvedPath = "",
            resolvedAbsolute = false;
          for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
            var path = i >= 0 ? arguments[i] : process.cwd();
            if (typeof path !== "string") {
              throw new TypeError("Arguments to path.resolve must be strings");
            } else if (!path) {
              continue;
            }
            resolvedPath = path + "/" + resolvedPath;
            resolvedAbsolute = path.charAt(0) === "/";
          }
          resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function (p) {
            return !!p;
          }), !resolvedAbsolute).join("/");
          return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
        };
        exports.normalize = function (path) {
          var isAbsolute = exports.isAbsolute(path),
            trailingSlash = substr(path, -1) === "/";
          path = normalizeArray(filter(path.split("/"), function (p) {
            return !!p;
          }), !isAbsolute).join("/");
          if (!path && !isAbsolute) {
            path = ".";
          }
          if (path && trailingSlash) {
            path += "/";
          }
          return (isAbsolute ? "/" : "") + path;
        };
        exports.isAbsolute = function (path) {
          return path.charAt(0) === "/";
        };
        exports.join = function () {
          var paths = Array.prototype.slice.call(arguments, 0);
          return exports.normalize(filter(paths, function (p, index) {
            if (typeof p !== "string") {
              throw new TypeError("Arguments to path.join must be strings");
            }
            return p;
          }).join("/"));
        };
        exports.relative = function (from, to) {
          from = exports.resolve(from).substr(1);
          to = exports.resolve(to).substr(1);
          function trim(arr) {
            var start = 0;
            for (; start < arr.length; start++) {
              if (arr[start] !== "") break;
            }
            var end = arr.length - 1;
            for (; end >= 0; end--) {
              if (arr[end] !== "") break;
            }
            if (start > end) return [];
            return arr.slice(start, end - start + 1);
          }
          var fromParts = trim(from.split("/"));
          var toParts = trim(to.split("/"));
          var length = Math.min(fromParts.length, toParts.length);
          var samePartsLength = length;
          for (var i = 0; i < length; i++) {
            if (fromParts[i] !== toParts[i]) {
              samePartsLength = i;
              break;
            }
          }
          var outputParts = [];
          for (var i = samePartsLength; i < fromParts.length; i++) {
            outputParts.push("..");
          }
          outputParts = outputParts.concat(toParts.slice(samePartsLength));
          return outputParts.join("/");
        };
        exports.sep = "/";
        exports.delimiter = ":";
        exports.dirname = function (path) {
          if (typeof path !== "string") path = path + "";
          if (path.length === 0) return ".";
          var code = path.charCodeAt(0);
          var hasRoot = code === 47;
          var end = -1;
          var matchedSlash = true;
          for (var i = path.length - 1; i >= 1; --i) {
            code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                end = i;
                break;
              }
            } else {
              matchedSlash = false;
            }
          }
          if (end === -1) return hasRoot ? "/" : ".";
          if (hasRoot && end === 1) {
            return "/";
          }
          return path.slice(0, end);
        };
        function basename(path) {
          if (typeof path !== "string") path = path + "";
          var start = 0;
          var end = -1;
          var matchedSlash = true;
          var i;
          for (i = path.length - 1; i >= 0; --i) {
            if (path.charCodeAt(i) === 47) {
              if (!matchedSlash) {
                start = i + 1;
                break;
              }
            } else if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
          }
          if (end === -1) return "";
          return path.slice(start, end);
        }
        exports.basename = function (path, ext) {
          var f = basename(path);
          if (ext && f.substr(-1 * ext.length) === ext) {
            f = f.substr(0, f.length - ext.length);
          }
          return f;
        };
        exports.extname = function (path) {
          if (typeof path !== "string") path = path + "";
          var startDot = -1;
          var startPart = 0;
          var end = -1;
          var matchedSlash = true;
          var preDotState = 0;
          for (var i = path.length - 1; i >= 0; --i) {
            var code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                startPart = i + 1;
                break;
              }
              continue;
            }
            if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
            if (code === 46) {
              if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
            } else if (startDot !== -1) {
              preDotState = -1;
            }
          }
          if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
            return "";
          }
          return path.slice(startDot, end);
        };
        function filter(xs, f) {
          if (xs.filter) return xs.filter(f);
          var res = [];
          for (var i = 0; i < xs.length; i++) {
            if (f(xs[i], i, xs)) res.push(xs[i]);
          }
          return res;
        }
        var substr = "ab".substr(-1) === "b" ? function (str, start, len) {
          return str.substr(start, len);
        } : function (str, start, len) {
          if (start < 0) start = str.length + start;
          return str.substr(start, len);
        };
      }).call(this, require("_process"));
    }, {
      _process: 5
    }],
    5: [function (require, module, exports) {
      var process = module.exports = {};
      var cachedSetTimeout;
      var cachedClearTimeout;
      function defaultSetTimout() {
        throw new Error("setTimeout has not been defined");
      }
      function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined");
      }
      (function () {
        try {
          if (typeof setTimeout === "function") {
            cachedSetTimeout = setTimeout;
          } else {
            cachedSetTimeout = defaultSetTimout;
          }
        } catch (e) {
          cachedSetTimeout = defaultSetTimout;
        }
        try {
          if (typeof clearTimeout === "function") {
            cachedClearTimeout = clearTimeout;
          } else {
            cachedClearTimeout = defaultClearTimeout;
          }
        } catch (e) {
          cachedClearTimeout = defaultClearTimeout;
        }
      })();
      function runTimeout(fun) {
        if (cachedSetTimeout === setTimeout) {
          return setTimeout(fun, 0);
        }
        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
          cachedSetTimeout = setTimeout;
          return setTimeout(fun, 0);
        }
        try {
          return cachedSetTimeout(fun, 0);
        } catch (e) {
          try {
            return cachedSetTimeout.call(null, fun, 0);
          } catch (e) {
            return cachedSetTimeout.call(this, fun, 0);
          }
        }
      }
      function runClearTimeout(marker) {
        if (cachedClearTimeout === clearTimeout) {
          return clearTimeout(marker);
        }
        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
          cachedClearTimeout = clearTimeout;
          return clearTimeout(marker);
        }
        try {
          return cachedClearTimeout(marker);
        } catch (e) {
          try {
            return cachedClearTimeout.call(null, marker);
          } catch (e) {
            return cachedClearTimeout.call(this, marker);
          }
        }
      }
      var queue = [];
      var draining = false;
      var currentQueue;
      var queueIndex = -1;
      function cleanUpNextTick() {
        if (!draining || !currentQueue) {
          return;
        }
        draining = false;
        if (currentQueue.length) {
          queue = currentQueue.concat(queue);
        } else {
          queueIndex = -1;
        }
        if (queue.length) {
          drainQueue();
        }
      }
      function drainQueue() {
        if (draining) {
          return;
        }
        var timeout = runTimeout(cleanUpNextTick);
        draining = true;
        var len = queue.length;
        while (len) {
          currentQueue = queue;
          queue = [];
          while (++queueIndex < len) {
            if (currentQueue) {
              currentQueue[queueIndex].run();
            }
          }
          queueIndex = -1;
          len = queue.length;
        }
        currentQueue = null;
        draining = false;
        runClearTimeout(timeout);
      }
      process.nextTick = function (fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
          for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
          }
        }
        queue.push(new Item(fun, args));
        if (queue.length === 1 && !draining) {
          runTimeout(drainQueue);
        }
      };
      function Item(fun, array) {
        this.fun = fun;
        this.array = array;
      }
      Item.prototype.run = function () {
        this.fun.apply(null, this.array);
      };
      process.title = "browser";
      process.browser = true;
      process.env = {};
      process.argv = [];
      process.version = "";
      process.versions = {};
      function noop() {}
      process.on = noop;
      process.addListener = noop;
      process.once = noop;
      process.off = noop;
      process.removeListener = noop;
      process.removeAllListeners = noop;
      process.emit = noop;
      process.prependListener = noop;
      process.prependOnceListener = noop;
      process.listeners = function (name) {
        return [];
      };
      process.binding = function (name) {
        throw new Error("process.binding is not supported");
      };
      process.cwd = function () {
        return "/";
      };
      process.chdir = function (dir) {
        throw new Error("process.chdir is not supported");
      };
      process.umask = function () {
        return 0;
      };
    }, {}],
    6: [function (require, module, exports) {
      module.exports = {
        name: "ejs",
        description: "Embedded JavaScript templates",
        keywords: ["template", "engine", "ejs"],
        version: "3.1.8",
        author: "Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",
        license: "Apache-2.0",
        bin: {
          ejs: "./bin/cli.js"
        },
        main: "./lib/ejs.js",
        jsdelivr: "ejs.min.js",
        unpkg: "ejs.min.js",
        repository: {
          type: "git",
          url: "git://github.com/mde/ejs.git"
        },
        bugs: "https://github.com/mde/ejs/issues",
        homepage: "https://github.com/mde/ejs",
        dependencies: {
          jake: "^10.8.5"
        },
        devDependencies: {
          browserify: "^16.5.1",
          eslint: "^6.8.0",
          "git-directory-deploy": "^1.5.1",
          jsdoc: "^4.0.2",
          "lru-cache": "^4.0.1",
          mocha: "^10.2.0",
          "uglify-js": "^3.3.16"
        },
        engines: {
          node: ">=0.10.0"
        },
        scripts: {
          test: "mocha -u tdd"
        }
      };
    }, {}]
  }, {}, [1])(1);
});

var tpl = Object.create(null);
tpl['form-error.html'] = '<div class="coreui-form__error alert alert-danger alert-dismissible fade show mb-3 <%= options.class %>"> <%- message %> <% if (options.dismiss) { %> <button type="button" class="btn-close" data-bs-dismiss="alert"></button> <% } %> </div>';
tpl['form-field-content.html'] = '<%- content %>';
tpl['form-field-group.html'] = '<div id="coreui-form-<%= id %>" class="coreui-form__group_container mb-3"> <div class="coreui-form__group_label pe-2"> <h6 class="coreui-form__field_label_text col-form-label"> <%- group.label %> <% if (group.showCollapsible) { %> <button type="button" class="btn btn-link btn-collapsible text-dark"> <% if ( ! group.show) { %> <i class="bi bi-chevron-right"></i> <% } else { %> <i class="bi bi-chevron-down"></i> <% } %> </button> <% } %> </h6> </div> <div class="coreui-form__group_content"<% if ( ! group.show) { %> style="display:none"<% } %>> <%- content %> </div> </div>';
tpl['form-field-label.html'] = '<div id="coreui-form-<%= id %>" class="coreui-form__field_container d-flex flex-column flex-md-row mb-3" <% if ( ! field.show) { %> style="display:none"<% } %>> <% if (field.labelWidth !== 0 && field.labelWidth !== \'0px\') { %> <div class="coreui-form__field_label text-md-end text-sm-start pe-2"<% if (field.labelWidth) { %> style="min-width:<%= field.labelWidth %>;width:<%= field.labelWidth %>"<% } %>> <div class="coreui-form__field_label_content col-form-label"> <% if (field.required) { %> <span class="coreui-form__field_label_req text-danger">*</span> <% } %> <span class="coreui-form__field_label_text fw-medium"><%- field.label %></span> </div> <% if (field.description) { %> <div class="coreui-form__field_label_description text-muted"> <small><%- field.description %></small> </div> <% } %> </div> <% } %> <div class="coreui-form__field_content flex-fill"> <div class="d-inline-block content-<%= hash %>"> <%- content %> </div> <% if (field.outContent) { %> <span class="coreui-form__field-content-out d-inline-block align-top ps-1"> <%- field.outContent %> </span> <% } %> <% if (attachFields && attachFields.length > 0) { %> <% $.each(attachFields, function(key, attachField) { %> <div class="<% if (attachField.hasOwnProperty(\'direction\') && attachField.direction === \'column\') { %>d-block mt-2<% } else { %>d-inline-block<% } %> content-<%= attachField.hash %>"> <%- attachField.content %> </div> <% }); %> <% } %> </div> </div>';
tpl['form.html'] = '<div id="coreui-form-<%= form.id %>" class="coreui-form mb-2" <% if (widthSizes) { %>style="<%= widthSizes.join(\';\') %>"<% } %>> <% if (form.title) { %> <h5 class="mb-4"><%- form.title %></h5> <% } %> <form action="<%= form.send.url %>" method="<%= form.send.method %>"<%- formAttr %>> <div class="coreui-form__fields d-flex justify-content-start flex-column flex-wrap"> <%- layout %> </div> <% if (controls) { %> <div class="coreui-form__controls d-flex justify-content-start flex-sm-wrap flex-md-nowrap"> <% if (form.controlsOffset !== 0 && form.controlsOffset !== \'0px\') { %> <div class="d-none d-md-block" style="width:<%= form.controlsOffset %>;min-width:<%= form.controlsOffset %>"></div> <% } %> <div class="d-flex justify-content-start flex-wrap gap-2"> <% $.each(controls, function(key, control) { %> <div id="coreui-form-<%= form.id %>-control-<%= control.index %>" class="coreui-form__control_container" <% if ( ! control.show) { %>style="display:none"<% } %>> <%- control.content %> </div> <% }); %> </div> </div> <% } %> </form> </div>';
tpl['fields/checkbox.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- render.selectedItems.join(\', \') %></div> <% } else { %> <div class="pt-2"> <% $.each(render.options, function(key, option) { %> <div class="form-check<% if (field.inline) { %> form-check-inline<% } %>"> <input <%- option.attr %>/> <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label> </div> <% }); %> </div> <% } %>';
tpl['fields/color.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label rounded-1" style="width: 14px;height: 14px;background-color: <%= value %>"></div> <% } else { %> <input <%- render.attr %>/> <% if (render.datalist.length > 0) { %> <datalist id="<%= datalistId %>"> <% $.each(render.datalist, function(key, item) { %> <option <%- item.attr %>/> <% }); %> </datalist> <% } %> <% } %>';
tpl['fields/custom.html'] = '<%- content %>';
tpl['fields/dataset-row-readonly.html'] = '<tr class="coreui-form__field-dataset-item"> <% $.each(options, function(key, option) { %> <td class="pe-2 pb-1"> <%- option.value %> </td> <% }); %> </tr>';
tpl['fields/dataset-row.html'] = '<tr class="coreui-form__field-dataset-item" id="dataset-item-<%= hashItem %>"> <% $.each(options, function(key, option) { %> <td class="pe-1 pb-1"> <% if (option.type === \'select\') { %> <select <%- option.attr %>> <% $.each(option.items, function(key, item) { %> <option <%- item.attr %>><%- item.title %></option> <% }); %> </select> <% } else if (option.type === \'switch\') { %> <div class="form-check form-switch"> <input <%- option.attr %>/> </div> <% } else { %> <input <%- option.attr %>> <% } %> </td> <% }); %> <td class="pb-1"> <button type="button" class="btn btn-link btn-dataset-remove" data-item-id="dataset-item-<%= hashItem %>"> <i class="bi bi-x text-muted"></i> </button> </td> </tr>';
tpl['fields/dataset.html'] = '<% if (field.readonly) { %> <table class="coreui-form__field-dataset-container" <% if (render.rows.length == 0) { %> style="display:none"<% } %>> <thead> <tr> <% $.each(render.headers, function(key, item) { %> <td class="text-muted pe-2"><small><%= item.title %></small></td> <% }); %> </tr> </thead> <tbody class="coreui-form__field-dataset-list"> <% $.each(render.rows, function(key, row) { %> <%- row %> <% }); %> </tbody> </table> <% } else { %> <table class="coreui-form__field-dataset-container" <% if (render.rows.length == 0) { %> style="display:none"<% } %>> <thead> <tr> <% $.each(render.headers, function(key, item) { %> <td class="text-muted"><small><%= item.title %></small></td> <% }); %> <td></td> </tr> </thead> <tbody class="coreui-form__field-dataset-list"> <% $.each(render.rows, function(key, row) { %> <%- row %> <% }); %> </tbody> </table> <button type="button" class="btn btn-link btn-dataset-add"><%= lang.dataset_add %></button> <% } %>';
tpl['fields/hidden.html'] = '<% if ( ! field.readonly) { %> <input <%- render.attr %>/> <% } %>';
tpl['fields/input.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <input <%- render.attr %>/> <% if (render.datalist.length > 0) { %> <datalist id="<%= datalistId %>"> <% $.each(render.datalist, function(key, item) { %> <option <%- item.attr %>/> <% }); %> </datalist> <% } %> <% } %>';
tpl['fields/modal-loading.html'] = '<div class="py-4 d-flex justify-content-center align-items-center gap-2"> <div class="spinner-border mr-2"></div> <%= lang.modal_loading %> </div> ';
tpl['fields/modal.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%= text %></div> <% } else { %> <div class="input-group"<% if (render.width) { %> style="width:<%= render.width %>"<% } %>> <input <%- render.attr %>/> <input type="hidden" name="<%= field.name %>" value="<%= value %>" class="coreui-form-modal-value"/> <% if ( ! field.required) { %> <button class="btn btn-outline-secondary btn-modal-clear border-secondary-subtle" type="button"> <i class="bi bi-x"></i> </button> <% } %> <button class="btn btn-outline-secondary btn-modal-select border-secondary-subtle" type="button"><%= lang.modal_select %></button> </div> <% } %>';
tpl['fields/passwordRepeat.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <div class="d-flex gap-1 align-items-center"> <input <%- render.attr %>/> <% if (field.showBtn) { %> <div class="input-group flex-nowrap"> <input <%- render.attr2 %>/> <button class="btn btn-outline-secondary border-secondary-subtle btn-password-change" type="button" data-change="<%- lang.change %>" data-cancel="<%- lang.cancel %>"><%= btn_text %></button> </div> <% } else { %> <input <%- render.attr2 %>/> <% } %> </div> <% } %>';
tpl['fields/radio.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- render.selectedItem %></div> <% } else { %> <div class="pt-2"> <% $.each(render.options, function(key, option) { %> <div class="form-check<% if (field.inline) { %> form-check-inline<% } %>"> <input <%- option.attr %>/> <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label> </div> <% }); %> </div> <% } %>';
tpl['fields/select.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%= render.selectedOptions.join(\', \') %></div> <% } else { %> <select <%- render.attr %>> <% $.each(render.options, function(key, option) { %> <% if (option.type === \'group\') { %> <optgroup<%- option.attr %>/> <% $.each(option.options, function(key, groupOption) { %> <option <%- groupOption.attr %>/><%= groupOption.text %></option> <% }); %> </optgroup> <% } else { %> <option <%- option.attr %>/><%= option.text %></option> <% } %> <% }); %> </select> <% } %>';
tpl['fields/switch.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%= field.valueY == value ? lang.switch_yes : lang.switch_no %></div> <% } else { %> <div class="form-check form-switch pt-2"> <input <%- render.attr %>/> </div> <% } %>';
tpl['fields/textarea.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <textarea <%- render.attr %>><%- value %></textarea> <% } %>';
tpl['fields/wysiwyg.html'] = '<% if (field.readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <textarea name="<%= field.name %>" id="editor-<%= editorHash %>"><%- value %></textarea> <% } %>';
tpl['controls/button.html'] = '<button <%- render.attr %>><%- control.content %></button>';
tpl['controls/link.html'] = '<a href="<%- control.href %>"<%- render.attr %>><%- control.content %></a>';

var coreuiFormUtils = {
  /**
   * Получение значения поля
   * @param {coreuiFormInstance} form
   * @param {object}               fieldOptions
   * @returns {string|number|null}
   */
  getFieldValue: function getFieldValue(form, fieldOptions) {
    var formRecord = form.getRecord();
    if (fieldOptions && formRecord && typeof fieldOptions.name === 'string' && _typeof(formRecord) === 'object' && formRecord.hasOwnProperty(fieldOptions.name) && ['string', 'number', 'object'].indexOf(_typeof(formRecord[fieldOptions.name])) >= 0) {
      return formRecord[fieldOptions.name];
    }
    return '';
  },
  /**
   * Получение функции из указанного текста
   * @param functionName
   * @param context
   * @returns {null|Window}
   * @private
   */
  getFunctionByName: function getFunctionByName(functionName, context) {
    var namespaces = functionName.split(".");
    var func = namespaces.pop();
    context = context || window;
    for (var i = 0; i < namespaces.length; i++) {
      if (context.hasOwnProperty(namespaces[i])) {
        context = context[namespaces[i]];
      } else {
        return null;
      }
    }
    if (typeof context[func] === 'function') {
      return context[func];
    }
    return null;
  },
  /**
   * Обработка полей в полях
   * @param form
   * @param defaultOptions
   * @param fieldOptions
   */
  mergeFieldOptions: function mergeFieldOptions(form, defaultOptions, fieldOptions) {
    var options = $.extend(true, {}, defaultOptions);
    if (fieldOptions) {
      if (options.hasOwnProperty('attr') && _typeof(options.attr) === 'object' && fieldOptions.hasOwnProperty('attr') && _typeof(fieldOptions.attr) === 'object') {
        fieldOptions.attr = this.mergeAttr(options.attr, fieldOptions.attr);
      }
      options = $.extend(true, {}, options, fieldOptions);
    }
    if (options.hasOwnProperty('width')) {
      if (options.width) {
        var unit = typeof options.width === 'number' ? 'px' : '';
        options.width = options.width + unit;
      } else if (form._options.fieldWidth && options.type !== 'color') {
        var _unit = typeof form._options.fieldWidth === 'number' ? 'px' : '';
        options.width = form._options.fieldWidth + _unit;
      }
    }
    if (options.hasOwnProperty('labelWidth')) {
      if (options.labelWidth >= 0 && options.labelWidth !== null) {
        var _unit2 = typeof options.labelWidth === 'number' ? 'px' : '';
        options.labelWidth = options.labelWidth + _unit2;
      } else if (form._options.labelWidth) {
        var _unit3 = typeof form._options.labelWidth === 'number' ? 'px' : '';
        options.labelWidth = form._options.labelWidth + _unit3;
      }
    }
    return options;
  },
  /**
   * Объединение атрибутов
   * @param attr1
   * @param attr2
   * @returns {object}
   */
  mergeAttr: function mergeAttr(attr1, attr2) {
    var mergeAttr = Object.assign({}, attr1);
    if (_typeof(attr2) === 'object') {
      $.each(attr2, function (name, value) {
        if (mergeAttr.hasOwnProperty(name)) {
          if (name === 'class') {
            mergeAttr[name] += ' ' + value;
          } else if (name === 'style') {
            mergeAttr[name] += ';' + value;
          } else {
            mergeAttr[name] = value;
          }
        } else {
          mergeAttr[name] = value;
        }
      });
    }
    return mergeAttr;
  },
  /**
   * Инициализация и рендер дополнительных полей
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @returns {object}
   * @private
   */
  getAttacheFields: function getAttacheFields(form, options) {
    var fields = [];
    if (_typeof(options) === 'object' && _typeof(options.fields) === 'object' && Array.isArray(options.fields)) {
      $.each(options.fields, function (key, field) {
        var instance = form.initField(field);
        if (_typeof(instance) !== 'object') {
          return;
        }
        fields.push({
          hash: instance._hash,
          direction: options.hasOwnProperty('fieldsDirection') ? options.fieldsDirection : 'row',
          content: instance.renderContent()
        });
      });
    }
    return fields;
  },
  /**
   * Форматирование даты
   * @param {string} value
   * @return {string}
   */
  formatDate: function formatDate(value) {
    if (value && value.length === 10) {
      var date = new Date(value);
      var year = date.getFullYear();
      var month = date.getMonth() + 1;
      var day = date.getDate();
      day = day < 10 ? '0' + day : day;
      month = month < 10 ? '0' + month : month;
      value = day + '.' + month + '.' + year;
    }
    return value;
  },
  /**
   * Форматирование даты со временем
   * @param {string} value
   * @return {string}
   */
  formatDateTime: function formatDateTime(value) {
    if (value && value.length >= 10) {
      var date = new Date(value);
      var year = date.getFullYear();
      var month = date.getMonth() + 1;
      var day = date.getDate();
      var hour = ("00" + date.getHours()).slice(-2);
      var min = ("00" + date.getMinutes()).slice(-2);
      var sec = ("00" + date.getSeconds()).slice(-2);
      day = day < 10 ? '0' + day : day;
      month = month < 10 ? '0' + month : month;
      value = day + '.' + month + '.' + year + ' ' + hour + ':' + min + ':' + sec;
    }
    return value;
  },
  /**
   * Форматирование даты со временем
   * @param {string} value
   * @param {object} lang
   * @return {string}
   */
  formatDateMonth: function formatDateMonth(value, lang) {
    if (value && value.length === 7) {
      var date = new Date(value);
      var year = date.getFullYear();
      var month = date.getMonth();
      var monthLang = lang.date_months.hasOwnProperty(month) ? lang.date_months[month] : '';
      value = monthLang + ' ' + year;
    }
    return value;
  },
  /**
   * Форматирование даты со временем
   * @param {string} value
   * @param {object} lang
   * @return {string}
   */
  formatDateWeek: function formatDateWeek(value, lang) {
    if (value && value.length >= 7) {
      var year = value.substring(0, 4);
      var week = value.substring(6);
      value = year + ' ' + lang.date_week + ' ' + week;
    }
    return value;
  },
  /**
   * Получение значения из объекта по указанному пути
   * @param {object} obj
   * @param {string} path
   * @return {*}
   */
  getObjValue: function getObjValue(obj, path) {
    path = path.split('.');
    for (var i = 0, len = path.length; i < len; i++) {
      obj = obj[path[i]];
    }
    return obj;
  },
  /**
   * Проверка текста на содержимое JSON
   * @param text
   * @return {boolean}
   */
  isJson: function isJson(text) {
    if (typeof text !== "string") {
      return false;
    }
    try {
      var json = JSON.parse(text);
      return _typeof(json) === 'object' || Array.isArray(json);
    } catch (error) {
      return false;
    }
  },
  /**
   * Проверка на число
   * @param num
   * @returns {boolean}
   * @private
   */
  isNumeric: function isNumeric(num) {
    return (typeof num === 'number' || typeof num === "string" && num.trim() !== '') && !isNaN(num);
  },
  /**
   * @returns {string}
   * @private
   */
  hashCode: function hashCode() {
    return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);
  },
  /**
   * Hash crc32
   * @param str
   * @returns {number}
   * @private
   */
  crc32: function crc32(str) {
    for (var a, o = [], c = 0; c < 256; c++) {
      a = c;
      for (var f = 0; f < 8; f++) {
        a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
      }
      o[c] = a;
    }
    for (var n = -1, t = 0; t < str.length; t++) {
      n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))];
    }
    return (-1 ^ n) >>> 0;
  },
  /**
   * Округление
   * @param number
   * @param precision
   * @returns {number}
   */
  round: function round(number, precision) {
    precision = typeof precision !== 'undefined' ? parseInt(precision) : 0;
    if (precision === 0) {
      return Math.round(number);
    } else if (precision > 0) {
      var pow = Math.pow(10, precision);
      return Math.round(number * pow) / pow;
    } else {
      var _pow = Math.pow(10, precision);
      return Math.round(number / _pow) * _pow;
    }
  }
};

var coreuiFormInstance = {
  _options: {
    id: null,
    title: '',
    lang: 'en',
    send: {
      url: '',
      method: 'POST',
      format: 'form'
    },
    width: null,
    validResponse: {
      headers: null,
      dataType: null
    },
    minWidth: null,
    maxWidth: null,
    labelWidth: 200,
    controlsOffset: null,
    readonly: false,
    validate: false,
    successLoadUrl: '',
    errorClass: '',
    layout: '[column_default]',
    onSubmit: null,
    onSubmitSuccess: null,
    record: {},
    fields: [],
    controls: []
  },
  _lock: false,
  _fieldsIndex: 0,
  _groupsIndex: 0,
  _controlsIndex: 0,
  _groups: [],
  _fields: [],
  _controls: [],
  _events: {},
  /**
   * Инициализация
   * @param {object} options
   * @private
   */
  _init: function _init(options) {
    this._options.labelWidth = coreuiForm$1.getSetting('labelWidth');
    this._options.lang = coreuiForm$1.getSetting('lang');
    this._options.errorClass = coreuiForm$1.getSetting('errorClass');
    this._options.send.format = coreuiForm$1.getSetting('sendDataFormat');
    this._options = $.extend(true, {}, this._options, options);
    if (!this._options.id) {
      this._options.id = coreuiFormUtils.hashCode();
    }
    if (this._options.hasOwnProperty('labelWidth')) {
      if (this._options.labelWidth >= 0 && this._options.labelWidth !== null) {
        var unit = typeof this._options.labelWidth === 'number' ? 'px' : '';
        this._options.labelWidth = this._options.labelWidth + unit;
      }
    }
    if (!this._options.hasOwnProperty('controlsOffset') || this._options.controlsOffset === null) {
      this._options.controlsOffset = this._options.labelWidth;
    } else {
      if (this._options.controlsOffset >= 0) {
        var _unit = typeof this._options.controlsOffset === 'number' ? 'px' : '';
        this._options.controlsOffset = this._options.controlsOffset + _unit;
      }
    }
  },
  /**
   *
   */
  initEvents: function initEvents() {
    var that = this;
    var formContainer = '#coreui-form-' + this._options.id + ' > form';
    $(formContainer).on('submit', function () {
      setTimeout(function () {
        that.send.apply(that);
      }, 0);
      return false;
    });
    this._trigger('shown.coreui.form');
  },
  /**
   * Получение id формы
   * @return {string|null}
   */
  getId: function getId() {
    return this._options.hasOwnProperty('id') ? this._options.id : null;
  },
  /**
   *
   * @param element
   * @returns {*}
   */
  render: function render(element) {
    var that = this;
    var widthSizes = [];
    var layout = this._options.layout;
    var controls = [];
    var formAttr = [];
    if (this._options.width) {
      var unit = typeof this._options.width === 'number' ? 'px' : '';
      widthSizes.push('width:' + this._options.width + unit);
    }
    if (this._options.minWidth) {
      var _unit2 = typeof this._options.minWidth === 'number' ? 'px' : '';
      widthSizes.push('min-width:' + this._options.minWidth + _unit2);
    }
    if (this._options.maxWidth) {
      var _unit3 = typeof this._options.maxWidth === 'number' ? 'px' : '';
      widthSizes.push('max-width:' + this._options.maxWidth + _unit3);
    }

    // Поля
    if (_typeof(this._options.fields) === 'object' && Array.isArray(this._options.fields) && this._options.fields.length > 0 && layout && typeof layout === 'string') {
      var matches = Array.from(layout.matchAll(/\[column_([\w_\d]+)\]/g));
      var columns = [];
      var columnsContent = {};
      if (matches.length > 0) {
        $.each(matches, function (key, match) {
          columns.push(match[1]);
        });
      }
      if (columns.length > 0) {
        $.each(this._options.fields, function (key, field) {
          var column = field.hasOwnProperty('column') && (typeof field.column === 'string' || typeof field.column === 'number') ? columns.indexOf(field.column) >= 0 ? field.column : null : 'default';
          if (typeof column !== 'string') {
            return;
          }
          var type = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : '';
          var instance = null;
          if (type === 'group') {
            instance = that.initGroup(field);
          } else {
            instance = that.initField(field);
          }
          if (!instance || _typeof(instance) !== 'object') {
            return;
          }
          if (!columnsContent.hasOwnProperty(column)) {
            columnsContent[column] = [];
          }
          columnsContent[column].push(instance.render());
        });
      }
      if (Object.keys(columnsContent).length >= 0) {
        $.each(columnsContent, function (name, fieldContents) {
          layout = layout.replace('[column_' + name + ']', fieldContents.join(''));
        });
      }
    }

    // Элементы управления
    if (_typeof(this._options.controls) === 'object' && Array.isArray(this._options.controls) && this._options.controls.length > 0) {
      $.each(this._options.controls, function (key, control) {
        var instance = that.initControl(control);
        if (!instance || _typeof(instance) !== 'object') {
          return;
        }
        controls.push({
          show: !control.hasOwnProperty('show') || control.show,
          index: that._controlsIndex - 1,
          content: instance.render()
        });
      });
    }
    if (typeof this._options.validate === 'boolean' && this._options.validate) {
      formAttr.push('novalidate');
    }
    var html = ejs.render(tpl['form.html'], {
      form: this._options,
      formAttr: formAttr ? ' ' + formAttr.join(' ') : '',
      widthSizes: widthSizes,
      layout: layout,
      controls: controls
    });
    if (element === undefined) {
      return html;
    }

    // Dom element
    var domElement = {};
    if (typeof element === 'string') {
      domElement = document.getElementById(element);
      if (!domElement) {
        return '';
      }
    } else if (element instanceof HTMLElement) {
      domElement = element;
    }
    domElement.innerHTML = html;
    this.initEvents();
  },
  /**
   *
   */
  lock: function lock() {
    this._lock = true;
    $.each(this._controls, function (key, control) {
      var controlOptions = control.getOptions();
      if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {
        control.lock();
      }
    });
  },
  /**
   * Разблокировка
   */
  unlock: function unlock() {
    this._lock = false;
    $.each(this._controls, function (key, control) {
      var controlOptions = control.getOptions();
      if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {
        control.unlock();
      }
    });
  },
  /**
   * Отправка данных формы
   */
  send: function send() {
    if (this._lock) {
      return;
    }
    if (typeof this._options.validate === 'boolean' && this._options.validate) {
      var isValid = this.validate();
      if (!isValid) {
        return;
      }
    }
    var onsubmit = null;
    var data = this.getData();
    if (typeof this._options.onSubmit === 'function') {
      onsubmit = this._options.onSubmit;
    } else if (typeof this._options.onSubmit === 'string' && this._options.onSubmit) {
      var func = coreuiFormUtils.getFunctionByName(this._options.onSubmit);
      if (typeof func === 'function') {
        onsubmit = func;
      } else if (typeof this._options.onSubmit === 'string') {
        onsubmit = new Function('form', 'data', this._options.onSubmit);
      }
    }
    if (typeof onsubmit === 'function') {
      var onSubmitResult = onsubmit(this, data);
      if (onSubmitResult === false) {
        return;
      }
    }
    var results = this._trigger('send.coreui.form', this, [this, data]);
    var isStopSend = false;
    $.each(results, function (key, result) {
      if (result === false) {
        isStopSend = true;
        return false;
      }
    });
    if (isStopSend) {
      return;
    }
    this.lock();
    var that = this;
    var sendFormat = ['form', 'json'].indexOf(this._options.send.format) >= 0 ? this._options.send.format : 'form';
    var dataFormat = null;
    var contentType = null;
    if (sendFormat === 'json') {
      contentType = "application/json; charset=utf-8";
      dataFormat = JSON.stringify(data);
    } else {
      contentType = false;
      dataFormat = new FormData();
      $.each(data, function (name, value) {
        if (value instanceof File) {
          dataFormat.append(name, value, value.name);
        } else if (value instanceof FileList) {
          $.each(value, function (key, file) {
            dataFormat.append(name, file, file.name);
          });
        } else {
          dataFormat.append(name, value);
        }
      });
    }

    /**
     * Запрос выполнился успешно
     * @param result
     */
    var successSend = function successSend(result) {
      that.hideError();
      that._trigger('success-send.coreui.form', that, [that, result]);
      var jsonResponse = null;
      if (typeof result === 'string') {
        try {
          var parsedResponse = JSON.parse(result);
          if (_typeof(parsedResponse) === 'object' && parsedResponse !== null && !Array.isArray(parsedResponse)) {
            jsonResponse = parsedResponse;
          }
        } catch (e) {
          // ignore
        }
      } else {
        jsonResponse = result;
      }
      if (jsonResponse !== null && _typeof(jsonResponse) === 'object') {
        if (jsonResponse.hasOwnProperty('scripts') && Array.isArray(jsonResponse.scripts)) {
          $.each(jsonResponse.scripts, function (key, script) {
            if (typeof script === 'string') {
              new Function(script)();
            }
          });
        }
        if (jsonResponse.hasOwnProperty('loadUrl') && typeof jsonResponse.loadUrl === 'string') {
          location.href = jsonResponse.loadUrl;
        }
      }
      if (that._options.hasOwnProperty('onSubmitSuccess')) {
        if (typeof that._options.onSubmitSuccess === 'function') {
          that._options.onSubmitSuccess();
        } else if (typeof that._options.onSubmitSuccess === 'string') {
          new Function(that._options.onSubmitSuccess)();
        }
      }
      if (that._options.hasOwnProperty('successLoadUrl') && typeof that._options.successLoadUrl === 'string' && that._options.successLoadUrl !== '') {
        var successLoadUrl = that._options.successLoadUrl;

        // Замена параметров
        if (jsonResponse !== null && _typeof(jsonResponse) === 'object') {
          var regx = new RegExp('\\[response\\.([\\d\\w\\.]+)\\]', 'uig');
          var urlParams = {};
          while (result = regx.exec(successLoadUrl)) {
            urlParams[result[0]] = result[1];
          }
          if (Object.keys(urlParams).length > 0) {
            $.each(urlParams, function (param, path) {
              var value = coreuiFormUtils.getObjValue(jsonResponse, path);
              value = typeof value !== 'undefined' ? value : '';
              successLoadUrl = successLoadUrl.replace(new RegExp(param.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g'), value);
            });
          }
        }
        var equalHash = location.hash === successLoadUrl;
        location.href = successLoadUrl;
        if (equalHash) {
          window.onhashchange();
        }
      }
    };

    /**
     * Запрос с ошибкой
     * @param xhr
     * @param textStatus
     * @param errorThrown
     */
    var errorSend = function errorSend(xhr, textStatus, errorThrown) {
      var errorMessage = that.getLang().send_error || '';
      var data = {};
      try {
        var parsedResponse = JSON.parse(xhr.responseText);
        if (_typeof(parsedResponse) === 'object' && parsedResponse !== null && !Array.isArray(parsedResponse)) {
          data = parsedResponse;
        }
      } catch (e) {
        // ignore
      }
      if (data.hasOwnProperty('error_message') && typeof data.error_message === 'string' && data.error_message !== '') {
        errorMessage = data.error_message;
      }
      that.showError(errorMessage);
      that._trigger('error-send.coreui.form', that, [that, xhr, textStatus, errorThrown]);
    };
    $.ajax({
      url: this._options.send.url,
      method: this._options.send.method,
      data: dataFormat,
      contentType: contentType,
      processData: false,
      beforeSend: function beforeSend(xhr) {
        that._trigger('start-send.coreui.form', that, [that, xhr]);
      },
      success: function success(result, textStatus, xhr) {
        var isValidResponse = true;
        if (_typeof(that._options.validResponse) === 'object') {
          if (Array.isArray(that._options.validResponse.headers)) {
            $.each(that._options.validResponse.headers, function (header, headerValues) {
              if (typeof headerValues === 'string') {
                if (xhr.getResponseHeader(header) != headerValues) {
                  isValidResponse = false;
                  return false;
                }
              } else if (Array.isArray(headerValues)) {
                if (headerValues.indexOf(xhr.getResponseHeader(header)) < 0) {
                  isValidResponse = false;
                  return false;
                }
              }
            });
          }
          if (isValidResponse) {
            if (typeof that._options.validResponse.dataType === 'string') {
              if (that._options.validResponse.dataType === 'json') {
                if (_typeof(result) !== 'object' && !Array.isArray(result) && !coreuiFormUtils.isJson(result)) {
                  isValidResponse = false;
                }
              }
            } else if (Array.isArray(that._options.validResponse.dataType)) {
              $.each(that._options.validResponse.dataType, function (key, dataType) {
                if (dataType === 'json') {
                  if (_typeof(result) !== 'object' && !Array.isArray(result) && !coreuiFormUtils.isJson(result)) {
                    isValidResponse = false;
                    return false;
                  }
                }
              });
            }
          }
        }
        if (isValidResponse) {
          successSend(result);
        } else {
          errorSend(xhr, textStatus);
        }
      },
      error: errorSend,
      complete: function complete(xhr, textStatus) {
        that.unlock();
        that._trigger('end-send.coreui.form', that, [that, xhr, textStatus]);
      }
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return this._options;
  },
  /**
   * Получение записи
   * @returns {object}
   */
  getRecord: function getRecord() {
    if (this._options.hasOwnProperty('record') && _typeof(this._options.record) === 'object') {
      return this._options.record;
    }
    return {};
  },
  /**
   * Получение данных с формы
   * @returns {object}
   */
  getData: function getData() {
    var data = {};
    $.each(this._fields, function (key, field) {
      var fieldOptions = field.getOptions();
      if (fieldOptions.hasOwnProperty('name') && fieldOptions.name) {
        var value = field.getValue();
        if (value !== null) {
          data[fieldOptions.name] = value;
        }
      }
    });
    return data;
  },
  /**
   * Получение полей
   * @returns {object}
   */
  getFields: function getFields() {
    return this._fields;
  },
  /**
   * Получение элементов управления
   * @returns {object}
   */
  getControls: function getControls() {
    return this._controls;
  },
  /**
   * Получение групп полей
   * @returns {object}
   */
  getGroups: function getGroups() {
    return this._groups;
  },
  /**
   * Получение поля
   * @param {string} name
   * @returns {object}
   */
  getField: function getField(name) {
    var field = {};
    $.each(this._fields, function (key, fieldInstance) {
      var fieldOptions = fieldInstance.getOptions();
      if (fieldOptions.hasOwnProperty('name') && fieldOptions.name === name) {
        field = fieldInstance;
      }
    });
    return field;
  },
  /**
   * Смена состояний полей формы
   */
  readonly: function readonly(isReadonly) {
    $.each(this._fields, function (key, fieldInstance) {
      fieldInstance.readonly(isReadonly);
    });
    $.each(this._controls, function (key, control) {
      var controlOptions = control.getOptions();
      if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {
        if (isReadonly) {
          control.hide();
        } else {
          control.show();
        }
      }
    });
  },
  /**
   * Показ всех элементов управления
   */
  showControls: function showControls() {
    $.each(this._controls, function (key, control) {
      control.show();
    });
  },
  /**
   * Скрытие всех элементов управления
   */
  hideControls: function hideControls() {
    $.each(this._controls, function (key, control) {
      control.hide();
    });
  },
  /**
   * Валидация полей
   * @return {boolean}
   */
  validate: function validate() {
    var isValid = true;
    $.each(this._fields, function (key, field) {
      if (field.isValid() === false) {
        field.validate(false);
        isValid = false;
      } else {
        field.validate(null);
      }
    });
    return isValid;
  },
  /**
   * Показ сообщения с ошибкой
   * @param {string} message
   * @param {object} options
   */
  showError: function showError(message, options) {
    var formContainer = $('#coreui-form-' + this._options.id + ' > form');
    var formError = formContainer.find('> .coreui-form__error');
    if (formError[0]) {
      formError.remove();
    }
    options = _typeof(options) === 'object' && !Array.isArray(options) && options !== null ? options : {};
    if (typeof this._options.errorClass === 'string' && this._options.errorClass !== '') {
      options["class"] = options.hasOwnProperty('class') ? options["class"] : '';
      options["class"] += ' ' + this._options.errorClass;
    }
    var errorOptions = {
      "class": options.hasOwnProperty('class') && typeof options["class"] === 'string' ? options["class"] : '',
      dismiss: options.hasOwnProperty('dismiss') ? !!options.dismiss : true
    };
    formContainer.prepend(ejs.render(tpl['form-error.html'], {
      message: message,
      options: errorOptions
    }));
    if (!options.hasOwnProperty('scroll') || options.scroll) {
      var scrollOffset = coreuiForm$1.getSetting('errorMessageScrollOffset');
      $('html,body').animate({
        scrollTop: formContainer.offset().top - scrollOffset
      }, 'fast');
    }
  },
  /**
   * Скрытие сообщения с ошибкой
   */
  hideError: function hideError() {
    $('#coreui-form-' + this._options.id + ' > form > .coreui-form__error').remove();
  },
  /**
   * @param eventName
   * @param callback
   * @param context
   * @param singleExec
   */
  on: function on(eventName, callback, context, singleExec) {
    if (_typeof(this._events[eventName]) !== 'object') {
      this._events[eventName] = [];
    }
    this._events[eventName].push({
      context: context || this,
      callback: callback,
      singleExec: !!singleExec
    });
  },
  /**
   * Удаление формы
   */
  destruct: function destruct() {
    $('#coreui-form-' + this._options.id).remove();
    delete coreuiForm$1._instances[this.getId()];
  },
  /**
   * Инициализация поля
   * @param field
   * @return {object|null}
   * @private
   */
  initField: function initField(field) {
    if (_typeof(field) !== 'object') {
      return null;
    }
    var type = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : 'input';
    if (type === 'group') {
      return null;
    }
    if (!coreuiForm$1.fields.hasOwnProperty(type)) {
      type = 'input';
    }
    if (this._options.readonly) {
      field.readonly = true;
    }
    var fieldInstance = $.extend(true, {
      render: function render() {},
      renderContent: function renderContent() {},
      init: function init() {},
      getValue: function getValue() {},
      setValue: function setValue() {},
      getOptions: function getOptions() {},
      show: function show() {},
      hide: function hide() {},
      readonly: function readonly() {},
      validate: function validate() {},
      isValid: function isValid() {}
    }, coreuiForm$1.fields[type]);
    fieldInstance.init(this, field, this._fieldsIndex++);
    this._fields.push(fieldInstance);
    return fieldInstance;
  },
  /**
   * Инициализация группы
   * @param group
   * @return {object|null}
   * @private
   */
  initGroup: function initGroup(group) {
    if (_typeof(group) !== 'object') {
      return null;
    }
    var type = group.hasOwnProperty('type') && typeof group.type === 'string' ? group.type : '';
    if (type !== 'group') {
      return null;
    }
    var groupInstance = $.extend(true, {
      render: function render() {},
      init: function init() {},
      getOptions: function getOptions() {},
      expand: function expand() {},
      collapse: function collapse() {}
    }, coreuiForm$1.fields[type]);
    groupInstance.init(this, group, this._groupsIndex++);
    this._groups.push(groupInstance);
    return groupInstance;
  },
  /**
   * Инициализация контролов
   * @param control
   * @return {object|null}
   * @private
   */
  initControl: function initControl(control) {
    if (_typeof(control) !== 'object') {
      return null;
    }
    var type = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : null;
    if (!type || !coreuiForm$1.controls.hasOwnProperty(type)) {
      return null;
    }
    if (type === 'submit' && this._options.readonly) {
      control.show = false;
    }
    var controlInstance = $.extend(true, {
      render: function render() {},
      init: function init() {},
      getOptions: function getOptions() {},
      show: function show() {},
      hide: function hide() {}
    }, coreuiForm$1.controls[type]);
    controlInstance.init(this, control, this._controlsIndex++);
    this._controls.push(controlInstance);
    return controlInstance;
  },
  /**
   * Получение настроек языка
   * @private
   */
  getLang: function getLang() {
    return coreuiForm$1.lang.hasOwnProperty(this._options.lang) ? coreuiForm$1.lang[this._options.lang] : coreuiForm$1.lang['ru'];
  },
  /**
   * @param name
   * @param context
   * @param params
   * @return {object}
   * @private
   */
  _trigger: function _trigger(name, context, params) {
    params = params || [];
    var results = [];
    if (this._events[name] instanceof Object && this._events[name].length > 0) {
      for (var i = 0; i < this._events[name].length; i++) {
        var callback = this._events[name][i].callback;
        context = context || this._events[name][i].context;
        results.push(callback.apply(context, params));
        if (this._events[name][i].singleExec) {
          this._events[name].splice(i, 1);
        }
      }
    }
    return results;
  },
  /**
   * @param {object} control
   * @return {string}
   * @private
   */
  _renderControl: function _renderControl(control) {
    var content = '';
    var type = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : 'text';
    if (coreuiForm$1.control.hasOwnProperty(type)) {
      content = coreuiForm$1.control[type].render(control);
    }
    return content;
  }
};

var coreuiForm$1 = {
  lang: {},
  fields: {},
  controls: {},
  _instances: {},
  _settings: {
    labelWidth: 200,
    lang: 'en',
    "class": '',
    sendDataFormat: 'form',
    errorMessageScrollOffset: 70
  },
  /**
   * Создание экземпляра формы
   * @param {object} options
   * @returns {coreuiFormInstance}
   */
  create: function create(options) {
    var instance = $.extend(true, {}, coreuiFormInstance);
    instance._init(options instanceof Object ? options : {});
    var formId = instance.getId();
    this._instances[formId] = instance;
    return instance;
  },
  /**
   * Получение экземпляра формы по id
   * @param {string} id
   * @returns {coreuiFormInstance|null}
   */
  get: function get(id) {
    if (!this._instances.hasOwnProperty(id)) {
      return null;
    }
    if ($('#coreui-form-' + this._instances[id])[0]) {
      delete this._instances[id];
      return null;
    }
    return this._instances[id];
  },
  /**
   * Установка настроек
   * @param {object} settings
   */
  setSettings: function setSettings(settings) {
    this._settings = $.extend({}, this._settings, settings);
  },
  /**
   * Получение значения настройки
   * @param {string} name
   */
  getSetting: function getSetting(name) {
    var value = null;
    if (this._settings.hasOwnProperty(name)) {
      value = this._settings[name];
    }
    return value;
  }
};

coreuiForm$1.lang.ru = {
  "modal_select": "Выбрать",
  "modal_loading": "Загрузка...",
  "switch_yes": "Да",
  "switch_no": "Нет",
  "dataset_add": "Добавить",
  "date_months": ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
  "date_week": "неделя",
  "send_error": "Произошла ошибка. Попробуйте снова или обратитесь к администратору",
  "required_field": "Обязательное поле",
  "change": "изменить",
  "cancel": "отмена"
};

coreuiForm$1.lang.en = {
  "modal_select": "Select",
  "modal_loading": "Loading...",
  "switch_yes": "Yes",
  "switch_no": "No",
  "dataset_add": "Add",
  "date_months": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
  "date_week": "week",
  "send_error": "An error has occurred. Please try again or contact your administrator",
  "required_field": "Required field",
  "change": "change",
  "cancel": "cancel"
};

coreuiForm$1.controls.button = {
  _form: null,
  _index: null,
  _options: {
    type: 'button',
    href: null,
    content: null,
    onClick: null,
    attr: {
      "class": 'btn btn-secondary'
    }
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object} options
   * @param {int} index
   */
  init: function init(form, options, index) {
    this._options = $.extend({}, this._options, options);
    this._form = form;
    this._index = index;
    var that = this;
    form.on('shown.coreui.form', function () {
      that._initEvents();
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    var options = this.getOptions();
    options.attr.type = 'button';
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['controls/button.html'], {
      control: this._options,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
      }
    });
  },
  /**
   * Показ контрола
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0);
  },
  /**
   * Скрытие контрола
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0);
  },
  /**
   *
   */
  lock: function lock() {
    var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');
    if (!button.find('.spinner-border')[0]) {
      button.prepend('<span class="spinner-border spinner-border-sm"></span> ');
    }
    if (!button.attr('disabled')) {
      button.attr('disabled', 'disabled');
    }
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  _initEvents: function _initEvents() {
    var that = this;
    if (['function', 'string'].indexOf(_typeof(this._options.onClick)) >= 0) {
      $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button').click(function (event) {
        if (typeof that._options.onClick === 'function') {
          that._options.onClick(that._form, event);
        } else {
          new Function('form', 'event', that._options.onClick)(that._form, event);
        }
      });
    }
  }
};

coreuiForm$1.controls.custom = {
  _form: null,
  _index: null,
  _options: {
    type: 'custom',
    content: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object} options
   * @param {int} index
   */
  init: function init(form, options, index) {
    this._options = $.extend({}, this._options, options);
    this._form = form;
    this._index = index;
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Показ контрола
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + form.getId() + '-control-' + this._index).show(duration || 0);
  },
  /**
   * Скрытие контрола
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + form.getId() + '-control-' + this._index).hide(duration || 0);
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    return this._options.content;
  }
};

coreuiForm$1.controls.link = {
  _form: null,
  _index: null,
  _options: {
    type: 'link',
    href: null,
    content: null,
    onClick: null,
    attr: {
      "class": 'btn btn-link'
    }
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object} options
   * @param {int} index
   */
  init: function init(form, options, index) {
    this._options = $.extend({}, this._options, options);
    this._form = form;
    this._index = index;
    var that = this;
    form.on('shown.coreui.form', function () {
      that._initEvents();
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Показ контрола
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0);
  },
  /**
   * Скрытие контрола
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0);
  },
  /**
   *
   */
  lock: function lock() {
    var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');
    if (!button.find('.spinner-border')[0]) {
      button.prepend('<span class="spinner-border spinner-border-sm"></span> ');
    }
    if (!button.attr('disabled')) {
      button.attr('disabled', 'disabled');
    }
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    var options = this.getOptions();
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['controls/link.html'], {
      control: this._options,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
      }
    });
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  _initEvents: function _initEvents() {
    var that = this;
    if (['function', 'string'].indexOf(_typeof(this._options.onClick)) >= 0) {
      $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > a').click(function (event) {
        if (typeof that._options.onClick === 'function') {
          that._options.onClick(that._form, event);
        } else {
          new Function('form', 'event', that._options.onClick)(that._form, event);
        }
      });
    }
  }
};

coreuiForm$1.controls.submit = {
  _form: null,
  _index: null,
  _options: {
    type: 'submit',
    href: null,
    content: null,
    onClick: null,
    show: true,
    attr: {
      "class": 'btn btn-primary'
    }
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object} options
   * @param {int} index
   */
  init: function init(form, options, index) {
    this._options = $.extend({}, this._options, options);
    this._form = form;
    this._index = index;
    var that = this;
    form.on('shown.coreui.form', function () {
      that._initEvents();
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Показ контрола
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0);
  },
  /**
   * Скрытие контрола
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0);
  },
  /**
   *
   */
  lock: function lock() {
    var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');
    if (!button.find('.spinner-border')[0]) {
      button.prepend('<span class="spinner-border spinner-border-sm"></span> ');
    }
    if (!button.attr('disabled')) {
      button.attr('disabled', 'disabled');
    }
  },
  /**
   *
   */
  unlock: function unlock() {
    var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');
    button.find('.spinner-border').remove();
    button.removeAttr('disabled');
  },
  /**
   * Формирование контента для размещения на странице
   * @returns {string}
   */
  render: function render() {
    var attributes = [];
    var options = this.getOptions();
    options.attr.type = 'submit';
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['controls/button.html'], {
      control: this._options,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
      }
    });
  },
  /**
   * Инициализация событий связанных с элементом управления
   */
  _initEvents: function _initEvents() {
    var that = this;
    if (['function', 'string'].indexOf(_typeof(this._options.onClick)) >= 0) {
      $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button').click(function (event) {
        if (typeof that._options.onClick === 'function') {
          that._options.onClick(that._form, event);
        } else {
          new Function('form', 'event', that._options.onClick)(that._form, event);
        }
      });
    }
  }
};

coreuiForm$1.fields.checkbox = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: [],
  _options: {
    type: 'checkbox',
    name: null,
    label: null,
    labelWidth: null,
    inline: false,
    outContent: null,
    description: null,
    errorText: null,
    options: [],
    fields: null,
    required: null,
    readonly: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {object}
   */
  getValue: function getValue() {
    if (this._options.readonly) {
      return this._value;
    } else {
      var values = [];
      $('.content-' + this._hash + ' input[type=checkbox]:checked').each(function () {
        values.push($(this).val());
      });
      return values;
    }
  },
  /**
   * Установка значений в поле
   * @param {object|null|string|number} value
   */
  setValue: function setValue(value) {
    if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {
      return;
    }
    if (_typeof(value) === 'object') {
      if (value !== null && !Array.isArray(value)) {
        return;
      }
    } else {
      value = [value];
    }
    var that = this;
    this._value = [];
    if (this._options.readonly) {
      $('.content-' + that._hash).empty();
      var fieldOptions = this.getOptions();
      if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options) && Array.isArray(value)) {
        var selectedItems = [];
        $.each(fieldOptions.options, function (key, option) {
          if (option.hasOwnProperty('value')) {
            $.each(value, function (key, val) {
              if (option.value == val) {
                if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0) {
                  selectedItems.push(option.text);
                }
                that._value.push(val);
                return false;
              }
            });
          }
        });
        $('.content-' + that._hash).text(selectedItems.join(', '));
      }
    } else {
      $('.content-' + this._hash + ' input[type=radio]').prop('checked', false);
      if (Array.isArray(value)) {
        $('.content-' + this._hash + ' input[type=radio]').each(function (key, itemValue) {
          $.each(value, function (key, val) {
            if (val == $(itemValue).val()) {
              $(itemValue).prop('checked', true);
              that._value.push(val);
              return false;
            }
          });
        });
      }
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var lastInput = $('.form-check:last-child', container);
    var inputs = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      inputs.removeClass('is-invalid');
      inputs.removeClass('is-valid');
    } else if (isValid) {
      inputs.removeClass('is-invalid');
      inputs.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        lastInput.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      inputs.removeClass('is-valid');
      inputs.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        lastInput.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    if (this._options.required && !this._options.readonly) {
      return this.getValue().length > 0;
    }
    return true;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: this._options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var that = this;
    var checkboxOptions = [];
    var fieldOptions = this.getOptions();
    var selectedItems = [];
    if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options)) {
      $.each(fieldOptions.options, function (key, option) {
        var attributes = [];
        var itemAttr = {
          type: 'checkbox',
          "class": 'form-check-input'
        };
        var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';
        if (fieldOptions.name) {
          itemAttr.name = that._options.name;
        }
        if (fieldOptions.required) {
          itemAttr.required = 'required';
        }
        $.each(option, function (name, value) {
          if (name !== 'text') {
            if (name === 'class') {
              itemAttr[name] = itemAttr[name] + ' ' + value;
            } else {
              itemAttr[name] = value;
            }
          }
        });
        itemAttr.id = coreuiFormUtils.hashCode();
        if (_typeof(that._value) === 'object' && Array.isArray(that._value)) {
          $.each(that._value, function (key, itemValue) {
            if (itemValue == option.value) {
              itemAttr.checked = 'checked';
              if (option.hasOwnProperty('text') && option.text) {
                selectedItems.push(option.text);
              }
              return false;
            }
          });
        } else if (that._value == option.value) {
          if (option.hasOwnProperty('text') && option.text) {
            selectedItems.push(option.text);
          }
          itemAttr.checked = 'checked';
        }
        $.each(itemAttr, function (name, value) {
          attributes.push(name + '="' + value + '"');
        });
        checkboxOptions.push({
          id: itemAttr.id,
          text: optionText,
          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
        });
      });
    }
    var value = _typeof(this._value) === 'object' && Array.isArray(this._value) ? this._value.join(', ') : this._value;
    return ejs.render(tpl['fields/checkbox.html'], {
      field: fieldOptions,
      value: value,
      render: {
        options: checkboxOptions,
        selectedItems: selectedItems
      }
    });
  }
};

coreuiForm$1.fields.color = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'color',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-control form-control-color d-inline-block'
    },
    required: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      $('.content-' + this._hash + ' input').val(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var input = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      input.removeClass('is-invalid');
      input.removeClass('is-valid');
    } else if (isValid) {
      input.removeClass('is-invalid');
      input.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    var input = $('.content-' + this._hash + ' input');
    if (input[0]) {
      return input.is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    return this._options.readonly ? this._renderContentReadonly() : this._renderContent();
  },
  /**
   *
   * @return {*}
   * @private
   */
  _renderContent: function _renderContent() {
    var attributes = [];
    var datalist = [];
    var options = this.getOptions();
    var datalistId = coreuiFormUtils.hashCode();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    options.attr.type = options.type;
    options.attr.value = this._value;
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {
      options.attr.list = datalistId;
      $.each(options.datalist, function (key, itemAttributes) {
        var datalistAttr = [];
        $.each(itemAttributes, function (name, value) {
          datalistAttr.push(name + '="' + value + '"');
        });
        datalist.push({
          attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''
        });
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/color.html'], {
      field: options,
      datalistId: datalistId,
      value: this._value,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        datalist: datalist
      }
    });
  },
  /**
   *
   * @return {*}
   * @private
   */
  _renderContentReadonly: function _renderContentReadonly() {
    var options = this.getOptions();
    return ejs.render(tpl['fields/color.html'], {
      field: options,
      value: this._value
    });
  }
};

coreuiForm$1.fields.custom = {
  _id: '',
  _hash: '',
  _form: null,
  _value: null,
  _options: {
    type: 'custom',
    label: null,
    labelWidth: null,
    width: null,
    content: '',
    outContent: null,
    description: null,
    required: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
    this._hash = coreuiFormUtils.hashCode();
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {},
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения из поля
   */
  getValue: function getValue() {},
  /**
   * Установка значения в поле
   * @param {object} value
   */
  setValue: function setValue(value) {},
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var options = this.getOptions();
    var content = '';
    var alloyComponents = ['coreui.table', 'coreui.layout', 'coreui.panel', 'coreui.tabs', 'coreui.info', 'coreui.chart'];
    if (typeof options.content === 'string') {
      content = options.content;
    } else if (options.content instanceof Object) {
      if (!Array.isArray(options.content)) {
        options.content = [options.content];
      }
      var components = [];
      for (var i = 0; i < options.content.length; i++) {
        if (typeof options.content[i] === 'string') {
          components.push(options.content[i]);
        } else if (!Array.isArray(options.content[i]) && options.content[i].hasOwnProperty('component') && alloyComponents.indexOf(options.content[i].component) >= 0) {
          var name = options.content[i].component.split('.')[1];
          if (CoreUI.hasOwnProperty(name) && _typeof(CoreUI[name]) === "object" && CoreUI[name] !== null && !Array.isArray(CoreUI[name])) {
            var instance = CoreUI[name].create(options.content[i]);
            components.push(instance.render());
            this._form.on('shown.coreui.form', instance.initEvents, instance, true);
          }
        }
      }
      content = components.join('');
    }
    return ejs.render(tpl['fields/custom.html'], {
      content: content
    });
  }
};

coreuiForm$1.fields.dataset = {
  _id: '',
  _hash: '',
  _form: null,
  _value: [],
  _renderOptions: [],
  _options: {
    type: 'dataset',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-select d-inline-block'
    },
    required: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
    this._hash = coreuiFormUtils.hashCode();
    var that = this;
    form.on('shown.coreui.form', function () {
      if (!that._options.readonly) {
        that._initEvents();
      }
    });
    if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {
      $.each(options.options, function (key, option) {
        var name = option.hasOwnProperty('name') && ['string', 'number'].indexOf(_typeof(option.name)) >= 0 ? option.name : '';
        var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'text';
        var attributes = option.hasOwnProperty('attr') && _typeof(option.attr) === 'object' && !Array.isArray(option.attr) ? option.attr : {};
        var items = option.hasOwnProperty('items') && _typeof(option.items) === 'object' && Array.isArray(option.items) ? option.items : [];
        var valueY = option.hasOwnProperty('valueY') && ['string', 'numeric'].indexOf(_typeof(option.valueY)) >= 0 ? option.valueY : 'Y';
        var valueN = option.hasOwnProperty('valueN') && ['string', 'numeric'].indexOf(_typeof(option.valueN)) >= 0 ? option.valueN : 'N';
        if (name) {
          attributes.name = name;
        }
        if (options.required) {
          attributes.required = 'required';
        }
        if (type === 'select') {
          attributes["class"] = attributes.hasOwnProperty('class') ? 'form-select ' + attributes["class"] : 'form-select';
        } else if (type === 'switch') {
          attributes["class"] = attributes.hasOwnProperty('class') ? 'form-check-input ' + attributes["class"] : 'form-check-input';
          attributes.type = 'checkbox';
          attributes.value = valueY;
        } else {
          attributes["class"] = attributes.hasOwnProperty('class') ? 'form-control ' + attributes["class"] : 'form-control';
          attributes.type = type;
        }
        that._renderOptions.push({
          type: type,
          name: name,
          attr: attributes,
          items: items,
          valueY: valueY,
          valueN: valueN
        });
      });
    }
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
    if (!this._options.readonly) {
      this._initEvents();
    }
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {array}
   */
  getValue: function getValue() {
    if (this._options.readonly) {
      return this._value;
    } else {
      var container = $('.content-' + this._hash);
      var data = [];
      $('.coreui-form__field-dataset-list .coreui-form__field-dataset-item', container).each(function () {
        var items = {};
        $.each($(this).find('input, select').serializeArray(), function (key, item) {
          if (item.name) {
            items[item.name] = item.value;
          }
        });
        data.push(items);
      });
      return data;
    }
  },
  /**
   * Установка значения в поле
   * @param {object} value
   */
  setValue: function setValue(value) {
    if (_typeof(value) !== 'object' || Array.isArray(value) || value === null) {
      return;
    }
    this._value.push(value);
    if (this._options.readonly) {
      $('.content-' + this._hash + ' .coreui-form__field-dataset-list').append(this._renderRowReadonly(value));
    } else {
      this._eventAdd(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    container.find('.text-success').remove();
    container.find('.text-danger').remove();
    if (isValid === null) {
      return;
    }
    if (isValid) {
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="ps-2 text-success">' + text + '</div>');
      }
    } else {
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="ps-2 text-danger">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    if (this._options.required && !this._options.readonly) {
      return this.getValue().length > 0;
    }
    return true;
  },
  /**
   * Удаление всех строк
   */
  removeItems: function removeItems() {
    $('#coreui-form-' + this._id + ' .content-' + this._hash + ' .coreui-form__field-dataset-list').empty();
  },
  /**
   * Удаление строки по id
   * @param {int} itemId
   */
  removeItem: function removeItem(itemId) {
    var element = '#coreui-form-' + this._id + ' .content-' + this._hash;
    $('#' + itemId).hide('fast', function () {
      $('#' + itemId).remove();
      if ($(element + ' .coreui-form__field-dataset-item').length === 0) {
        $(element + ' .coreui-form__field-dataset-container').hide();
      }
    });
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    return this._options.readonly ? this._renderContentReadonly() : this._renderContent();
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  _renderContent: function _renderContent() {
    var options = this.getOptions();
    var rows = [];
    var headers = [];
    var that = this;
    if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {
      // Заголовок
      $.each(options.options, function (key, option) {
        var title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(option.title)) >= 0 ? option.title : '';
        headers.push({
          title: title
        });
      });

      // Строки
      if (_typeof(this._value) === 'object' && Array.isArray(this._value)) {
        $.each(this._value, function (key, row) {
          if (_typeof(row) !== 'object' || Array.isArray(row)) {
            return;
          }
          rows.push(that._renderRow(row));
        });
      }
    }
    return ejs.render(tpl['fields/dataset.html'], {
      field: options,
      value: this._value !== null ? this._value : '',
      lang: this._form.getLang(),
      render: {
        headers: headers,
        rows: rows
      }
    });
  },
  /**
   *
   * @private
   */
  _renderContentReadonly: function _renderContentReadonly() {
    var options = this.getOptions();
    var rows = [];
    var headers = [];
    var that = this;
    if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {
      // Заголовок
      $.each(options.options, function (key, option) {
        var title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(option.title)) >= 0 ? option.title : '';
        headers.push({
          title: title
        });
      });

      // Строки
      if (_typeof(this._value) === 'object' && Array.isArray(this._value)) {
        $.each(this._value, function (key, row) {
          if (_typeof(row) !== 'object' || Array.isArray(row)) {
            return;
          }
          rows.push(that._renderRowReadonly(row));
        });
      }
    }
    return ejs.render(tpl['fields/dataset.html'], {
      field: options,
      value: this._value !== null ? this._value : '',
      lang: this._form.getLang(),
      render: {
        headers: headers,
        rows: rows
      }
    });
  },
  /**
   * Инициализация событий
   * @private
   */
  _initEvents: function _initEvents() {
    var that = this;
    var element = '#coreui-form-' + this._id + ' .content-' + this._hash;

    // Кнопка удаления
    $(element + ' .btn-dataset-remove').click(function () {
      that.removeItem($(this).data('item-id'));
    });

    // Кнопка добавления
    $(element + ' .btn-dataset-add').click(function () {
      that._eventAdd();
    });
  },
  /**
   * Событие добавления
   */
  _eventAdd: function _eventAdd(row) {
    var that = this;
    var element = '#coreui-form-' + this._id + ' .content-' + this._hash;
    row = row || {};
    if ($(element + ' .coreui-form__field-dataset-item').length === 0) {
      $(element + ' .coreui-form__field-dataset-container').show();
    }
    $(element + ' .coreui-form__field-dataset-list').append(this._renderRow(row));
    $(element + ' .coreui-form__field-dataset-item:last-child .btn-dataset-remove').click(function () {
      that.removeItem($(this).data('item-id'));
    });
  },
  /**
   * Формирование строки
   * @param {object} row
   * @private
   */
  _renderRow: function _renderRow(row) {
    var rowOptions = [];
    var itemOptions = [];
    $.each(this._renderOptions, function (key, option) {
      var cellValue = row.hasOwnProperty(option.name) ? row[option.name] : '';
      if (option.type === 'select') {
        $.each(option.items, function (key, item) {
          var title = item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(item.title)) >= 0 ? item.title : '';
          var itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(_typeof(item.value)) >= 0 ? item.value : '';
          var itemAttr = {};
          $.each(item, function (name, value) {
            if (name !== 'title') {
              itemAttr[name] = value;
            }
          });
          if (_typeof(cellValue) === 'object' && Array.isArray(cellValue)) {
            $.each(cellValue, function (key, cellItemValue) {
              if (cellItemValue == itemValue) {
                itemAttr.selected = 'selected';
                return false;
              }
            });
          } else if (cellValue == item.value) {
            itemAttr.selected = 'selected';
          }
          var attributes = [];
          $.each(itemAttr, function (name, value) {
            attributes.push(name + '="' + value + '"');
          });
          itemOptions.push({
            attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
            title: title
          });
        });
      } else if (option.type === 'switch') {
        if (cellValue == option.valueY) {
          option.attr.checked = 'checked';
        }
      } else {
        if (['string', 'number'].indexOf(_typeof(cellValue)) >= 0) {
          option.attr.value = cellValue !== null ? cellValue : '';
        }
      }
      var attributes = [];
      $.each(option.attr, function (name, value) {
        attributes.push(name + '="' + value + '"');
      });
      rowOptions.push({
        type: option.type,
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        items: itemOptions
      });
    });
    return ejs.render(tpl['fields/dataset-row.html'], {
      hashItem: coreuiFormUtils.hashCode(),
      options: rowOptions
    });
  },
  /**
   * Формирование строки
   * @param {object} row
   * @private
   */
  _renderRowReadonly: function _renderRowReadonly(row) {
    var rowOptions = [];
    var lang = this._form.getLang();
    $.each(this._renderOptions, function (key, option) {
      var optionValue = '';
      var cellValue = row.hasOwnProperty(option.name) ? row[option.name] : '';
      if (option.type === 'select') {
        var itemOptions = [];
        $.each(option.items, function (key, item) {
          var title = item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(item.title)) >= 0 ? item.title : '';
          var itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(_typeof(item.value)) >= 0 ? item.value : '';
          if (_typeof(cellValue) === 'object' && Array.isArray(cellValue)) {
            $.each(cellValue, function (key, cellItemValue) {
              if (cellItemValue == itemValue) {
                itemOptions.push(itemValue);
                return false;
              }
            });
          } else if (cellValue == item.value) {
            itemOptions.push(cellValue);
          }
        });
      } else if (option.type === 'switch') {
        var valueY = 'Y';
        if (option.hasOwnProperty('valueY')) {
          valueY = option.valueY;
        }
        optionValue = cellValue == valueY ? lang.switch_yes : lang.switch_no;
      } else {
        if (['string', 'number'].indexOf(_typeof(cellValue)) >= 0) {
          optionValue = cellValue;
          switch (option.type) {
            case 'date':
              optionValue = coreuiFormUtils.formatDate(optionValue);
              break;
            case 'datetime-local':
              optionValue = coreuiFormUtils.formatDateTime(optionValue);
              break;
            case 'month':
              optionValue = coreuiFormUtils.formatDateMonth(optionValue, lang);
              break;
            case 'week':
              optionValue = coreuiFormUtils.formatDateWeek(optionValue, lang);
              break;
            default:
              optionValue = cellValue;
          }
        }
      }
      rowOptions.push({
        value: optionValue
      });
    });
    return ejs.render(tpl['fields/dataset-row-readonly.html'], {
      options: rowOptions
    });
  }
};

coreuiForm$1.fields.group = {
  _id: '',
  _form: null,
  _index: 0,
  _options: {
    type: 'group',
    label: '',
    show: true,
    showCollapsible: true,
    fields: [],
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-group-" + index;
    this._options = $.extend(true, {}, this._options, options);
    var that = this;
    form.on('shown.coreui.form', function () {
      that._initEvents();
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options, options);
  },
  /**
   * Скрытие группы
   * @param {int} duration
   */
  collapse: function collapse(duration) {
    var container = '#coreui-form-' + this._id;
    $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-down');
    $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-right');
    $(container + ' .coreui-form__group_content').slideUp(duration);
  },
  /**
   * Показ группы
   * @param {int} duration
   */
  expand: function expand(duration) {
    var container = '#coreui-form-' + this._id;
    $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-right');
    $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-down');
    $(container + ' .coreui-form__group_content').slideDown(duration);
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    return ejs.render(tpl['form-field-group.html'], {
      id: this._id,
      form: this._form,
      group: this._options,
      content: this.renderContent()
    });
  },
  /**
   * Формирование контента поля
   * @return {string}
   */
  renderContent: function renderContent() {
    var fields = [];
    var that = this;
    $.each(this._options.fields, function (key, field) {
      var fieldInstance = that._form.initField(field);
      if (_typeof(fieldInstance) !== 'object') {
        return;
      }
      fields.push(fieldInstance.render());
    });
    return fields.join('');
  },
  /**
   * Инициализация событий
   * @private
   */
  _initEvents: function _initEvents() {
    if (this._options.showCollapsible) {
      var that = this;
      var container = '#coreui-form-' + this._id;
      $(container + ' > .coreui-form__group_label .btn-collapsible').click(function () {
        if ($(container + ' > .coreui-form__group_content').is(':visible')) {
          that.collapse(80);
        } else {
          that.expand(80);
        }
      });
    }
  }
};

coreuiForm$1.fields.hidden = {
  _id: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'hidden',
    name: null,
    attr: {},
    required: null,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('#coreui-form-' + this._id).val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (!this._options.readonly) {
      $('#coreui-form-' + this._id).val(value);
    }
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    return ejs.render(tpl['form-field-content.html'], {
      content: this.renderContent()
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var attributes = [];
    var options = this.getOptions();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    options.attr.id = 'coreui-form-' + this._id;
    if (options.name) {
      options.attr.name = options.name;
    }
    options.attr.type = 'hidden';
    options.attr.value = this._value !== null ? this._value : '';
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/hidden.html'], {
      value: this._value !== null ? this._value : '',
      field: options,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
      }
    });
  }
};

coreuiForm$1.fields.input = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'text',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-control d-inline-block'
    },
    required: null,
    invalidText: null,
    validText: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      $('.content-' + this._hash + ' input').val(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var input = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      input.removeClass('is-invalid');
      input.removeClass('is-valid');
    } else if (isValid) {
      input.removeClass('is-invalid');
      input.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean|null}
   */
  isValid: function isValid() {
    var input = $('.content-' + this._hash + ' input');
    if (input[0]) {
      return input.is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    return this._options.readonly ? this._renderContentReadonly() : this._renderContent();
  },
  /**
   *
   * @private
   */
  _renderContent: function _renderContent() {
    var attributes = [];
    var datalist = [];
    var options = this.getOptions();
    var datalistId = coreuiFormUtils.hashCode();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    options.attr.type = options.type;
    options.attr.value = this._value !== null ? this._value : '';
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {
      options.attr.list = datalistId;
      $.each(options.datalist, function (key, itemAttributes) {
        var datalistAttr = [];
        $.each(itemAttributes, function (name, value) {
          datalistAttr.push(name + '="' + value + '"');
        });
        datalist.push({
          attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''
        });
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/input.html'], {
      field: options,
      datalistId: datalistId,
      value: this._value !== null ? this._value : '',
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        datalist: datalist
      }
    });
  },
  /**
   *
   * @private
   */
  _renderContentReadonly: function _renderContentReadonly() {
    var options = this.getOptions();
    var type = 'text';
    var value = this._value;
    var lang = this._form.getLang();
    if (options.hasOwnProperty('type') && typeof options.type === 'string') {
      type = options.type;
    }
    try {
      switch (type) {
        case 'date':
          value = coreuiFormUtils.formatDate(value);
          break;
        case 'datetime-local':
          value = coreuiFormUtils.formatDateTime(value);
          break;
        case 'month':
          value = coreuiFormUtils.formatDateMonth(value, lang);
          break;
        case 'week':
          value = coreuiFormUtils.formatDateWeek(value, lang);
          break;
      }
    } catch (e) {
      console.error(e);
      // ignore
    }

    return ejs.render(tpl['fields/input.html'], {
      field: options,
      value: value,
      hash: this._hash
    });
  }
};

/**
 * jquery.mask.js
 * @version: v1.14.16
 * @author: Igor Escobar
 *
 * Created by Igor Escobar on 2012-03-10. Please report any bug at github.com/igorescobar/jQuery-Mask-Plugin
 *
 * Copyright (c) 2012 Igor Escobar http://igorescobar.com
 *
 * The MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/* jshint laxbreak: true */
/* jshint maxcomplexity:17 */
/* global define */

// UMD (Universal Module Definition) patterns for JavaScript modules that work everywhere.
// https://github.com/umdjs/umd/blob/master/templates/jqueryPlugin.js
(function (factory, jQuery, Zepto) {
  if (typeof define === 'function' && define.amd) {
    define(['jquery'], factory);
  } else if (typeof exports === 'object' && typeof Meteor === 'undefined') {
    module.exports = factory(require('jquery'));
  } else {
    factory(jQuery || Zepto);
  }
})(function ($) {
  'use strict';

  var Mask = function (el, mask, options) {
    var p = {
      invalid: [],
      getCaret: function () {
        try {
          var sel,
            pos = 0,
            ctrl = el.get(0),
            dSel = document.selection,
            cSelStart = ctrl.selectionStart;

          // IE Support
          if (dSel && navigator.appVersion.indexOf('MSIE 10') === -1) {
            sel = dSel.createRange();
            sel.moveStart('character', -p.val().length);
            pos = sel.text.length;
          }
          // Firefox support
          else if (cSelStart || cSelStart === '0') {
            pos = cSelStart;
          }
          return pos;
        } catch (e) {}
      },
      setCaret: function (pos) {
        try {
          if (el.is(':focus')) {
            var range,
              ctrl = el.get(0);

            // Firefox, WebKit, etc..
            if (ctrl.setSelectionRange) {
              ctrl.setSelectionRange(pos, pos);
            } else {
              // IE
              range = ctrl.createTextRange();
              range.collapse(true);
              range.moveEnd('character', pos);
              range.moveStart('character', pos);
              range.select();
            }
          }
        } catch (e) {}
      },
      events: function () {
        el.on('keydown.mask', function (e) {
          el.data('mask-keycode', e.keyCode || e.which);
          el.data('mask-previus-value', el.val());
          el.data('mask-previus-caret-pos', p.getCaret());
          p.maskDigitPosMapOld = p.maskDigitPosMap;
        }).on($.jMaskGlobals.useInput ? 'input.mask' : 'keyup.mask', p.behaviour).on('paste.mask drop.mask', function () {
          setTimeout(function () {
            el.keydown().keyup();
          }, 100);
        }).on('change.mask', function () {
          el.data('changed', true);
        }).on('blur.mask', function () {
          if (oldValue !== p.val() && !el.data('changed')) {
            el.trigger('change');
          }
          el.data('changed', false);
        })
        // it's very important that this callback remains in this position
        // otherwhise oldValue it's going to work buggy
        .on('blur.mask', function () {
          oldValue = p.val();
        })
        // select all text on focus
        .on('focus.mask', function (e) {
          if (options.selectOnFocus === true) {
            $(e.target).select();
          }
        })
        // clear the value if it not complete the mask
        .on('focusout.mask', function () {
          if (options.clearIfNotMatch && !regexMask.test(p.val())) {
            p.val('');
          }
        });
      },
      getRegexMask: function () {
        var maskChunks = [],
          translation,
          pattern,
          optional,
          recursive,
          oRecursive,
          r;
        for (var i = 0; i < mask.length; i++) {
          translation = jMask.translation[mask.charAt(i)];
          if (translation) {
            pattern = translation.pattern.toString().replace(/.{1}$|^.{1}/g, '');
            optional = translation.optional;
            recursive = translation.recursive;
            if (recursive) {
              maskChunks.push(mask.charAt(i));
              oRecursive = {
                digit: mask.charAt(i),
                pattern: pattern
              };
            } else {
              maskChunks.push(!optional && !recursive ? pattern : pattern + '?');
            }
          } else {
            maskChunks.push(mask.charAt(i).replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'));
          }
        }
        r = maskChunks.join('');
        if (oRecursive) {
          r = r.replace(new RegExp('(' + oRecursive.digit + '(.*' + oRecursive.digit + ')?)'), '($1)?').replace(new RegExp(oRecursive.digit, 'g'), oRecursive.pattern);
        }
        return new RegExp(r);
      },
      destroyEvents: function () {
        el.off(['input', 'keydown', 'keyup', 'paste', 'drop', 'blur', 'focusout', ''].join('.mask '));
      },
      val: function (v) {
        var isInput = el.is('input'),
          method = isInput ? 'val' : 'text',
          r;
        if (arguments.length > 0) {
          if (el[method]() !== v) {
            el[method](v);
          }
          r = el;
        } else {
          r = el[method]();
        }
        return r;
      },
      calculateCaretPosition: function (oldVal) {
        var newVal = p.getMasked(),
          caretPosNew = p.getCaret();
        if (oldVal !== newVal) {
          var caretPosOld = el.data('mask-previus-caret-pos') || 0,
            newValL = newVal.length,
            oldValL = oldVal.length,
            maskDigitsBeforeCaret = 0,
            maskDigitsAfterCaret = 0,
            maskDigitsBeforeCaretAll = 0,
            maskDigitsBeforeCaretAllOld = 0,
            i = 0;
          for (i = caretPosNew; i < newValL; i++) {
            if (!p.maskDigitPosMap[i]) {
              break;
            }
            maskDigitsAfterCaret++;
          }
          for (i = caretPosNew - 1; i >= 0; i--) {
            if (!p.maskDigitPosMap[i]) {
              break;
            }
            maskDigitsBeforeCaret++;
          }
          for (i = caretPosNew - 1; i >= 0; i--) {
            if (p.maskDigitPosMap[i]) {
              maskDigitsBeforeCaretAll++;
            }
          }
          for (i = caretPosOld - 1; i >= 0; i--) {
            if (p.maskDigitPosMapOld[i]) {
              maskDigitsBeforeCaretAllOld++;
            }
          }

          // if the cursor is at the end keep it there
          if (caretPosNew > oldValL) {
            caretPosNew = newValL * 10;
          } else if (caretPosOld >= caretPosNew && caretPosOld !== oldValL) {
            if (!p.maskDigitPosMapOld[caretPosNew]) {
              var caretPos = caretPosNew;
              caretPosNew -= maskDigitsBeforeCaretAllOld - maskDigitsBeforeCaretAll;
              caretPosNew -= maskDigitsBeforeCaret;
              if (p.maskDigitPosMap[caretPosNew]) {
                caretPosNew = caretPos;
              }
            }
          } else if (caretPosNew > caretPosOld) {
            caretPosNew += maskDigitsBeforeCaretAll - maskDigitsBeforeCaretAllOld;
            caretPosNew += maskDigitsAfterCaret;
          }
        }
        return caretPosNew;
      },
      behaviour: function (e) {
        e = e || window.event;
        p.invalid = [];
        var keyCode = el.data('mask-keycode');
        if ($.inArray(keyCode, jMask.byPassKeys) === -1) {
          var newVal = p.getMasked(),
            caretPos = p.getCaret(),
            oldVal = el.data('mask-previus-value') || '';

          // this is a compensation to devices/browsers that don't compensate
          // caret positioning the right way
          setTimeout(function () {
            p.setCaret(p.calculateCaretPosition(oldVal));
          }, $.jMaskGlobals.keyStrokeCompensation);
          p.val(newVal);
          p.setCaret(caretPos);
          return p.callbacks(e);
        }
      },
      getMasked: function (skipMaskChars, val) {
        var buf = [],
          value = val === undefined ? p.val() : val + '',
          m = 0,
          maskLen = mask.length,
          v = 0,
          valLen = value.length,
          offset = 1,
          addMethod = 'push',
          resetPos = -1,
          maskDigitCount = 0,
          maskDigitPosArr = [],
          lastMaskChar,
          check;
        if (options.reverse) {
          addMethod = 'unshift';
          offset = -1;
          lastMaskChar = 0;
          m = maskLen - 1;
          v = valLen - 1;
          check = function () {
            return m > -1 && v > -1;
          };
        } else {
          lastMaskChar = maskLen - 1;
          check = function () {
            return m < maskLen && v < valLen;
          };
        }
        var lastUntranslatedMaskChar;
        while (check()) {
          var maskDigit = mask.charAt(m),
            valDigit = value.charAt(v),
            translation = jMask.translation[maskDigit];
          if (translation) {
            if (valDigit.match(translation.pattern)) {
              buf[addMethod](valDigit);
              if (translation.recursive) {
                if (resetPos === -1) {
                  resetPos = m;
                } else if (m === lastMaskChar && m !== resetPos) {
                  m = resetPos - offset;
                }
                if (lastMaskChar === resetPos) {
                  m -= offset;
                }
              }
              m += offset;
            } else if (valDigit === lastUntranslatedMaskChar) {
              // matched the last untranslated (raw) mask character that we encountered
              // likely an insert offset the mask character from the last entry; fall
              // through and only increment v
              maskDigitCount--;
              lastUntranslatedMaskChar = undefined;
            } else if (translation.optional) {
              m += offset;
              v -= offset;
            } else if (translation.fallback) {
              buf[addMethod](translation.fallback);
              m += offset;
              v -= offset;
            } else {
              p.invalid.push({
                p: v,
                v: valDigit,
                e: translation.pattern
              });
            }
            v += offset;
          } else {
            if (!skipMaskChars) {
              buf[addMethod](maskDigit);
            }
            if (valDigit === maskDigit) {
              maskDigitPosArr.push(v);
              v += offset;
            } else {
              lastUntranslatedMaskChar = maskDigit;
              maskDigitPosArr.push(v + maskDigitCount);
              maskDigitCount++;
            }
            m += offset;
          }
        }
        var lastMaskCharDigit = mask.charAt(lastMaskChar);
        if (maskLen === valLen + 1 && !jMask.translation[lastMaskCharDigit]) {
          buf.push(lastMaskCharDigit);
        }
        var newVal = buf.join('');
        p.mapMaskdigitPositions(newVal, maskDigitPosArr, valLen);
        return newVal;
      },
      mapMaskdigitPositions: function (newVal, maskDigitPosArr, valLen) {
        var maskDiff = options.reverse ? newVal.length - valLen : 0;
        p.maskDigitPosMap = {};
        for (var i = 0; i < maskDigitPosArr.length; i++) {
          p.maskDigitPosMap[maskDigitPosArr[i] + maskDiff] = 1;
        }
      },
      callbacks: function (e) {
        var val = p.val(),
          changed = val !== oldValue,
          defaultArgs = [val, e, el, options],
          callback = function (name, criteria, args) {
            if (typeof options[name] === 'function' && criteria) {
              options[name].apply(this, args);
            }
          };
        callback('onChange', changed === true, defaultArgs);
        callback('onKeyPress', changed === true, defaultArgs);
        callback('onComplete', val.length === mask.length, defaultArgs);
        callback('onInvalid', p.invalid.length > 0, [val, e, el, p.invalid, options]);
      }
    };
    el = $(el);
    var jMask = this,
      oldValue = p.val(),
      regexMask;
    mask = typeof mask === 'function' ? mask(p.val(), undefined, el, options) : mask;

    // public methods
    jMask.mask = mask;
    jMask.options = options;
    jMask.remove = function () {
      var caret = p.getCaret();
      if (jMask.options.placeholder) {
        el.removeAttr('placeholder');
      }
      if (el.data('mask-maxlength')) {
        el.removeAttr('maxlength');
      }
      p.destroyEvents();
      p.val(jMask.getCleanVal());
      p.setCaret(caret);
      return el;
    };

    // get value without mask
    jMask.getCleanVal = function () {
      return p.getMasked(true);
    };

    // get masked value without the value being in the input or element
    jMask.getMaskedVal = function (val) {
      return p.getMasked(false, val);
    };
    jMask.init = function (onlyMask) {
      onlyMask = onlyMask || false;
      options = options || {};
      jMask.clearIfNotMatch = $.jMaskGlobals.clearIfNotMatch;
      jMask.byPassKeys = $.jMaskGlobals.byPassKeys;
      jMask.translation = $.extend({}, $.jMaskGlobals.translation, options.translation);
      jMask = $.extend(true, {}, jMask, options);
      regexMask = p.getRegexMask();
      if (onlyMask) {
        p.events();
        p.val(p.getMasked());
      } else {
        if (options.placeholder) {
          el.attr('placeholder', options.placeholder);
        }

        // this is necessary, otherwise if the user submit the form
        // and then press the "back" button, the autocomplete will erase
        // the data. Works fine on IE9+, FF, Opera, Safari.
        if (el.data('mask')) {
          el.attr('autocomplete', 'off');
        }

        // detect if is necessary let the user type freely.
        // for is a lot faster than forEach.
        for (var i = 0, maxlength = true; i < mask.length; i++) {
          var translation = jMask.translation[mask.charAt(i)];
          if (translation && translation.recursive) {
            maxlength = false;
            break;
          }
        }
        if (maxlength) {
          el.attr('maxlength', mask.length).data('mask-maxlength', true);
        }
        p.destroyEvents();
        p.events();
        var caret = p.getCaret();
        p.val(p.getMasked());
        p.setCaret(caret);
      }
    };
    jMask.init(!el.is('input'));
  };
  $.maskWatchers = {};
  var HTMLAttributes = function () {
      var input = $(this),
        options = {},
        prefix = 'data-mask-',
        mask = input.attr('data-mask');
      if (input.attr(prefix + 'reverse')) {
        options.reverse = true;
      }
      if (input.attr(prefix + 'clearifnotmatch')) {
        options.clearIfNotMatch = true;
      }
      if (input.attr(prefix + 'selectonfocus') === 'true') {
        options.selectOnFocus = true;
      }
      if (notSameMaskObject(input, mask, options)) {
        return input.data('mask', new Mask(this, mask, options));
      }
    },
    notSameMaskObject = function (field, mask, options) {
      options = options || {};
      var maskObject = $(field).data('mask'),
        stringify = JSON.stringify,
        value = $(field).val() || $(field).text();
      try {
        if (typeof mask === 'function') {
          mask = mask(value);
        }
        return typeof maskObject !== 'object' || stringify(maskObject.options) !== stringify(options) || maskObject.mask !== mask;
      } catch (e) {}
    },
    eventSupported = function (eventName) {
      var el = document.createElement('div'),
        isSupported;
      eventName = 'on' + eventName;
      isSupported = eventName in el;
      if (!isSupported) {
        el.setAttribute(eventName, 'return;');
        isSupported = typeof el[eventName] === 'function';
      }
      el = null;
      return isSupported;
    };
  $.fn.mask = function (mask, options) {
    options = options || {};
    var selector = this.selector,
      globals = $.jMaskGlobals,
      interval = globals.watchInterval,
      watchInputs = options.watchInputs || globals.watchInputs,
      maskFunction = function () {
        if (notSameMaskObject(this, mask, options)) {
          return $(this).data('mask', new Mask(this, mask, options));
        }
      };
    $(this).each(maskFunction);
    if (selector && selector !== '' && watchInputs) {
      clearInterval($.maskWatchers[selector]);
      $.maskWatchers[selector] = setInterval(function () {
        $(document).find(selector).each(maskFunction);
      }, interval);
    }
    return this;
  };
  $.fn.masked = function (val) {
    return this.data('mask').getMaskedVal(val);
  };
  $.fn.unmask = function () {
    clearInterval($.maskWatchers[this.selector]);
    delete $.maskWatchers[this.selector];
    return this.each(function () {
      var dataMask = $(this).data('mask');
      if (dataMask) {
        dataMask.remove().removeData('mask');
      }
    });
  };
  $.fn.cleanVal = function () {
    return this.data('mask').getCleanVal();
  };
  $.applyDataMask = function (selector) {
    selector = selector || $.jMaskGlobals.maskElements;
    var $selector = selector instanceof $ ? selector : $(selector);
    $selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes);
  };
  var globals = {
    maskElements: 'input,td,span,div',
    dataMaskAttr: '*[data-mask]',
    dataMask: true,
    watchInterval: 300,
    watchInputs: true,
    keyStrokeCompensation: 10,
    // old versions of chrome dont work great with input event
    useInput: !/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent) && eventSupported('input'),
    watchDataMask: false,
    byPassKeys: [9, 16, 17, 18, 36, 37, 38, 39, 40, 91],
    translation: {
      '0': {
        pattern: /\d/
      },
      '9': {
        pattern: /\d/,
        optional: true
      },
      '#': {
        pattern: /\d/,
        recursive: true
      },
      'A': {
        pattern: /[a-zA-Z0-9]/
      },
      'S': {
        pattern: /[a-zA-Z]/
      }
    }
  };
  $.jMaskGlobals = $.jMaskGlobals || {};
  globals = $.jMaskGlobals = $.extend(true, {}, globals, $.jMaskGlobals);

  // looking for inputs with data-mask attribute
  if (globals.dataMask) {
    $.applyDataMask();
  }
  setInterval(function () {
    if ($.jMaskGlobals.watchDataMask) {
      $.applyDataMask();
    }
  }, globals.watchInterval);
}, window.jQuery, window.Zepto);

coreuiForm$1.fields.mask = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'mask',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-control d-inline-block'
    },
    required: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
    this._hash = coreuiFormUtils.hashCode();
    var that = this;
    form.on('shown.coreui.form', function () {
      if (!that._options.readonly) {
        that._initEvents();
      }
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
    if (!this._options.readonly) {
      this._initEvents();
    }
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    value = value.replace(/[^\d\w]/g, '');
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      $('.content-' + this._hash + ' input').val(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var input = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      input.removeClass('is-invalid');
      input.removeClass('is-valid');
    } else if (isValid) {
      input.removeClass('is-invalid');
      input.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    var input = $('.content-' + this._hash + ' input');
    if (input[0]) {
      return input.is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    return this._options.readonly ? this._renderContentReadonly() : this._renderContent();
  },
  /**
   *
   * @return {*}
   * @private
   */
  _renderContent: function _renderContent() {
    var attributes = [];
    var datalist = [];
    var options = this.getOptions();
    var datalistId = coreuiFormUtils.hashCode();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    options.attr.type = 'text';
    options.attr.value = this._value !== null ? this._value : '';
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {
      options.attr.list = datalistId;
      $.each(options.datalist, function (key, itemAttributes) {
        var datalistAttr = [];
        $.each(itemAttributes, function (name, value) {
          datalistAttr.push(name + '="' + value + '"');
        });
        datalist.push({
          attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''
        });
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/input.html'], {
      field: options,
      datalistId: datalistId,
      value: this._value !== null ? this._value : '',
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        datalist: datalist
      }
    });
  },
  /**
   *
   * @private
   */
  _renderContentReadonly: function _renderContentReadonly() {
    var options = this.getOptions();
    return ejs.render(tpl['fields/input.html'], {
      field: options,
      value: this._value !== null ? this._value : ''
    });
  },
  /**
   * Инициализация событий
   * @private
   */
  _initEvents: function _initEvents() {
    $('#coreui-form-' + this._id + ' .content-' + this._hash + ' input').mask(this._options.mask, this._options.options);
  }
};

coreuiForm$1.fields.modal = {
  _id: '',
  _hash: '',
  _form: null,
  _value: '',
  _text: '',
  _options: {
    type: 'modal',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    fields: [],
    options: {
      title: '',
      size: 'lg',
      url: '',
      onHidden: null,
      onClear: null,
      onChange: null
    },
    required: null,
    readonly: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @param {int}                  index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    var formRecord = form.getRecord();
    this._form = form;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
    this._hash = coreuiFormUtils.hashCode();
    if (typeof options.name === 'string' && formRecord.hasOwnProperty(options.name) && ['object'].indexOf(_typeof(formRecord[options.name])) >= 0) {
      var record = formRecord[options.name];
      this._value = record.hasOwnProperty('value') && ['number', 'string'].indexOf(_typeof(record.value)) >= 0 ? record.value : '';
      this._text = record.hasOwnProperty('text') && ['number', 'string'].indexOf(_typeof(record.text)) >= 0 ? record.text : '';
    }
    var that = this;
    form.on('shown.coreui.form', function () {
      that._initEvents();
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
    if (!this._options.readonly) {
      this._initEvents();
    }
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input.coreui-form-modal-value').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   * @param {string} text
   */
  setValue: function setValue(value, text) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(text);
    } else {
      var elementValue = $('.content-' + this._hash + ' .coreui-form-modal-value');
      var elementText = $('.content-' + this._hash + ' .coreui-form-modal-text');
      var oldValue = elementValue.val();
      elementValue.val(value);
      elementText.val(text);
      if (oldValue != value) {
        var modal = this._options.hasOwnProperty('options') && _typeof(this._options.options) === 'object' ? this._options.options : {};
        if (modal.hasOwnProperty('onChange')) {
          if (typeof modal.onChange === 'function') {
            modal.onChange(this);
          } else if (typeof modal.onChange === 'string') {
            new Function('modal', modal.onChange)(this);
          }
        }
        this._form._trigger('change-modal.coreui.form', this, [this]);
      }
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    container.find('.text-success').remove();
    container.find('.text-danger').remove();
    if (isValid === null) {
      return;
    }
    if (isValid) {
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="ps-2 text-success">' + text + '</div>');
      }
    } else {
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="ps-2 text-danger">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    if (this._options.required && !this._options.readonly) {
      return !!this.getValue();
    }
    return true;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var fieldOptions = this.getOptions();
    var attributes = [];
    var textAttr = {
      type: 'text',
      readonly: 'readonly',
      "class": 'form-control coreui-form-modal-text',
      value: this._text !== null ? this._text : ''
    };
    if (fieldOptions.required) {
      textAttr.required = 'required';
    }
    if (fieldOptions.hasOwnProperty('attr') && _typeof(fieldOptions.attr) === 'object' && Array.isArray(fieldOptions.attr)) {
      textAttr = coreuiFormUtils.mergeAttr(textAttr, fieldOptions.attr);
    }
    $.each(textAttr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/modal.html'], {
      field: fieldOptions,
      value: this._value !== null ? this._value : '',
      text: this._text !== null ? this._text : '',
      lang: this._form.getLang(),
      render: {
        width: this._options.width,
        attr: attributes.length > 0 ? attributes.join(' ') : ''
      }
    });
  },
  /**
   * Инициализация событий
   * @private
   */
  _initEvents: function _initEvents() {
    var that = this;
    var modal = this._options.hasOwnProperty('options') && _typeof(this._options.options) === 'object' ? this._options.options : {};

    // Очистка
    $('.content-' + this._hash + ' .btn-modal-clear').click(function (e) {
      if (modal.hasOwnProperty('onClear')) {
        if (typeof modal.onClear === 'function') {
          modal.onClear(that);
        } else if (typeof modal.onClear === 'string') {
          new Function('field', modal.onClear)(that);
        }
      }
      that._form._trigger('clear-modal.coreui.form', that, [that, e]);
      that.setValue('', '');
    });

    // Выбор
    $('.content-' + this._hash + ' .btn-modal-select').click(function (e) {
      var title = modal.hasOwnProperty('title') && typeof modal.title === 'string' ? modal.title : '';
      var size = modal.hasOwnProperty('size') && typeof modal.size === 'string' ? modal.size : 'lg';
      var url = modal.hasOwnProperty('url') && typeof modal.url === 'string' ? modal.url : '';
      if (!url) {
        return;
      }
      var modalId = coreuiFormUtils.hashCode();
      var modalLoading = ejs.render(tpl['fields/modal-loading.html'], {
        lang: that._form.getLang()
      });
      if (CoreUI.hasOwnProperty('modal')) {
        var onShow = null;
        var onHidden = null;
        if (modal.hasOwnProperty('onHidden')) {
          if (typeof modal.onHidden === 'function') {
            onHidden = modal.onHidden;
          } else if (typeof modal.onHidden === 'string') {
            onHidden = new Function(modal.onHidden);
          }
        }
        if (modal.hasOwnProperty('onShow')) {
          if (typeof modal.onShow === 'function') {
            onShow = modal.onShow;
          } else if (typeof modal.onShow === 'string') {
            onShow = new Function(modal.onShow);
          }
        }
        CoreUI.modal.show(title, modalLoading, {
          id: modalId,
          size: size,
          onShow: onShow,
          onHidden: onHidden
        });
      }
      $.ajax({
        url: url,
        method: 'GET',
        beforeSend: function beforeSend(xhr) {
          that._form._trigger('before-load-modal.coreui.form', that, [that, xhr]);
        },
        success: function success(result) {
          $('#modal-' + modalId + ' .modal-body').html(result);
          that._form._trigger('success-load-modal.coreui.form', that, [that, result]);
        },
        error: function error(xhr, textStatus, errorThrown) {
          that._form._trigger('error-load-modal.coreui.form', that, [that, xhr, textStatus, errorThrown]);
        },
        complete: function complete(xhr, textStatus) {
          that._form._trigger('complete-load-modal.coreui.form', that, [that, xhr, textStatus]);
        }
      });
      that._form._trigger('select-modal.coreui.form', that, [that, e]);
    });
  }
};

coreuiForm$1.fields.number = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'number',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-control d-inline-block',
      step: 'any'
    },
    required: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null,
    precision: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @param {int}                  index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);

    // Установка точности
    if (this._options.precision === null) {
      var precision = 0;
      if (this._options.attr.hasOwnProperty('step') && this._options.attr.step !== 'any' && ['string', 'number'].indexOf(_typeof(this._options.attr.step)) >= 0) {
        var match = $.trim(this._options.attr.step.toString()).match(/\.(\d+)$/);
        if (match && match.hasOwnProperty(1)) {
          precision = match ? match[1].length : precision;
        }
      }
      this._options.precision = precision;
    }
    var that = this;
    form.on('shown.coreui.form', function () {
      if (!that._options.readonly) {
        that._initEvents();
      }
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
    if (!this._options.readonly) {
      this._initEvents();
    }
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0 || !value.toString().match(/^\-?\d+\.?\d*$/)) {
      return;
    }
    if (this._options.precision >= 0) {
      value = coreuiFormUtils.round(value, this._options.precision);
    }
    if (this._options.attr.hasOwnProperty('min')) {
      value = value < Number(this._options.attr.min) ? Number(this._options.attr.min) : value;
    }
    if (this._options.attr.hasOwnProperty('max')) {
      value = value > Number(this._options.attr.max) ? Number(this._options.attr.max) : value;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      $('.content-' + this._hash + ' input').val(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var input = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      input.removeClass('is-invalid');
      input.removeClass('is-valid');
    } else if (isValid) {
      input.removeClass('is-invalid');
      input.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    var input = $('.content-' + this._hash + ' input');
    if (input[0]) {
      return input.is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = $.extend(true, {}, this._options);
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var attributes = [];
    var datalist = [];
    var options = this.getOptions();
    var datalistId = coreuiFormUtils.hashCode();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    options.attr.type = 'number';
    options.attr.value = this._value !== null ? this._value : '';
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {
      options.attr.list = datalistId;
      $.each(options.datalist, function (key, itemAttributes) {
        var datalistAttr = [];
        $.each(itemAttributes, function (name, value) {
          datalistAttr.push(name + '="' + value + '"');
        });
        datalist.push({
          attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''
        });
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/input.html'], {
      field: options,
      datalistId: datalistId,
      value: this._value !== null ? this._value : '',
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        datalist: datalist
      }
    });
  },
  /**
   * Инициализация событий
   * @private
   */
  _initEvents: function _initEvents() {
    $('.content-' + this._hash + ' input').keydown(function (e) {
      var k = e.keyCode || e.which;
      var ok = k >= 35 && k <= 40 ||
      // arrows
      k >= 96 && k <= 105 ||
      // 0-9 numpad
      k === 189 || k === 109 ||
      // minus
      k === 110 || k === 190 ||
      // dot
      k === 9 ||
      //tab
      k === 46 ||
      //del
      k === 8 ||
      // backspaces
      !e.shiftKey && k >= 48 && k <= 57; // only 0-9 (ignore SHIFT options)

      if (!ok || e.ctrlKey && e.altKey) {
        e.preventDefault();
      }
    });
    var that = this;
    $('.content-' + this._hash + ' input').blur(function (e) {
      var value = $(this).val();
      if (that._options.precision >= 0) {
        value = coreuiFormUtils.round(value, that._options.precision);
      }
      if (that._options.attr.hasOwnProperty('min')) {
        value = value < Number(that._options.attr.min) ? Number(that._options.attr.min) : value;
      }
      if (that._options.attr.hasOwnProperty('max')) {
        value = value > Number(that._options.attr.max) ? Number(that._options.attr.max) : value;
      }
      $(this).val(value);
    });
  }
};

coreuiForm$1.fields.radio = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'radio',
    name: null,
    label: null,
    labelWidth: null,
    inline: false,
    outContent: null,
    description: null,
    errorText: null,
    options: [],
    fields: [],
    required: null,
    readonly: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @param {int}                  index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input[type=radio]:checked').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    if (this._options.readonly) {
      var that = this;
      var fieldOptions = this.getOptions();
      if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options)) {
        $.each(fieldOptions.options, function (key, option) {
          if (option.hasOwnProperty('value') && option.value == value) {
            var text = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';
            $('.content-' + that._hash).text(text);
            that._value = value;
            return false;
          }
        });
      }
    } else {
      var input = $('.content-' + this._hash + ' input[type=radio][value="' + value + '"]');
      if (input[0]) {
        input.prop('checked', true);
        this._value = value;
      }
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var lastInput = $('.form-check:last-child', container);
    var inputs = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      inputs.removeClass('is-invalid');
      inputs.removeClass('is-valid');
    } else if (isValid) {
      inputs.removeClass('is-invalid');
      inputs.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        lastInput.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      inputs.removeClass('is-valid');
      inputs.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        lastInput.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    if (this._options.required && !this._options.readonly) {
      var value = this.getValue();
      return typeof value === 'string' && value !== '';
    }
    return true;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: this._options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var that = this;
    var radioOptions = [];
    var fieldOptions = this.getOptions();
    var selectedItem = [];
    if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options)) {
      $.each(fieldOptions.options, function (key, option) {
        var attributes = [];
        var itemAttr = {
          type: 'radio',
          "class": 'form-check-input'
        };
        var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';
        if (fieldOptions.name) {
          itemAttr.name = that._options.name;
        }
        if (fieldOptions.required) {
          itemAttr.required = 'required';
        }
        $.each(option, function (name, value) {
          if (name !== 'text') {
            if (name === 'class') {
              itemAttr[name] = itemAttr[name] + ' ' + value;
            } else {
              itemAttr[name] = value;
            }
          }
        });
        itemAttr.id = coreuiFormUtils.hashCode();
        if (that._value == option.value) {
          if (option.hasOwnProperty('text') && option.text) {
            selectedItem.push(option.text);
          }
          itemAttr.checked = 'checked';
        }
        $.each(itemAttr, function (name, value) {
          attributes.push(name + '="' + value + '"');
        });
        radioOptions.push({
          id: itemAttr.id,
          text: optionText,
          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
        });
      });
    }
    return ejs.render(tpl['fields/radio.html'], {
      field: fieldOptions,
      value: this._value,
      render: {
        options: radioOptions,
        selectedItem: selectedItem
      }
    });
  }
};

coreuiForm$1.fields.range = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'range',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-range d-inline-block pt-1'
    },
    required: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @param {int}                  index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      $('.content-' + this._hash + ' input').val(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var input = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      input.removeClass('is-invalid');
      input.removeClass('is-valid');
    } else if (isValid) {
      input.removeClass('is-invalid');
      input.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    var input = $('.content-' + this._hash + ' input');
    if (input[0]) {
      return input.is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var attributes = [];
    var datalist = [];
    var options = this.getOptions();
    var datalistId = coreuiFormUtils.hashCode();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    options.attr.type = 'range';
    options.attr.value = this._value;
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {
      options.attr.list = datalistId;
      $.each(options.datalist, function (key, itemAttributes) {
        var datalistAttr = [];
        $.each(itemAttributes, function (name, value) {
          datalistAttr.push(name + '="' + value + '"');
        });
        datalist.push({
          attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''
        });
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/input.html'], {
      field: options,
      datalistId: datalistId,
      value: this._value,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        datalist: datalist
      }
    });
  }
};

coreuiForm$1.fields.select = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: [],
  _options: {
    type: 'select',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-select d-inline-block'
    },
    required: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения из поля
   * @returns {array|string}
   */
  getValue: function getValue() {
    if (this._options.readonly) {
      return this._value;
    } else {
      if (this._options.hasOwnProperty('attr') && _typeof(this._options.attr) === 'object' && this._options.attr !== null && !Array.isArray(this._options.attr) && this._options.attr.hasOwnProperty('multiple')) {
        var values = [];
        $('.content-' + this._hash + ' select option:selected').each(function () {
          values.push($(this).val());
        });
        return values;
      } else {
        return $('.content-' + this._hash + ' select option:selected').val();
      }
    }
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {
      return;
    }
    if (_typeof(value) === 'object') {
      if (value !== null && !Array.isArray(value)) {
        return;
      }
    } else {
      value = [value];
    }
    var that = this;
    this._value = [];
    if (this._options.readonly) {
      $('.content-' + that._hash).empty();
      var fieldOptions = this.getOptions();
      if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options) && Array.isArray(value)) {
        var selectedItems = [];
        $.each(fieldOptions.options, function (key, option) {
          if (option.hasOwnProperty('value')) {
            $.each(value, function (key, val) {
              if (option.value == val) {
                if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0) {
                  selectedItems.push(option.text);
                }
                that._value.push(val);
                return false;
              }
            });
          }
        });
        $('.content-' + that._hash).text(selectedItems.join(', '));
      }
    } else {
      $('.content-' + this._hash + ' select > option').prop('selected', false);
      if (Array.isArray(value)) {
        $('.content-' + this._hash + ' select > option').each(function (key, itemValue) {
          $.each(value, function (key, val) {
            if (val == $(itemValue).val()) {
              $(itemValue).prop('selected', true);
              that._value.push(val);
              return false;
            }
          });
        });
      }
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var select = $('select', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      select.removeClass('is-invalid');
      select.removeClass('is-valid');
    } else if (isValid) {
      select.removeClass('is-invalid');
      select.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      select.removeClass('is-valid');
      select.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean|null}
   */
  isValid: function isValid() {
    var select = $('.content-' + this._hash + ' select');
    if (this._options.required && select.val() === '') {
      return false;
    }
    if (select[0]) {
      return select.is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    return this._options.readonly ? this._renderContentReadonly() : this._renderContent();
  },
  /**
   * Формирование контента
   * @return {*}
   * @private
   */
  _renderContent: function _renderContent() {
    var that = this;
    var options = this.getOptions();
    var attributes = [];
    var selectOptions = [];
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && options.options !== null) {
      $.each(options.options, function (key, option) {
        if (typeof option === 'string' || typeof option === 'number') {
          selectOptions.push(that._renderOption({
            type: 'option',
            value: key,
            text: option
          }));
        } else if (_typeof(option) === 'object') {
          var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'option';
          if (type === 'group') {
            var renderAttr = [];
            var groupAttr = {};
            var groupOptions = [];
            if (option.hasOwnProperty('attr') && _typeof(option.attr) === 'object' && option.attr !== null && !Array.isArray(option.attr)) {
              groupAttr = option.attr;
            }
            if (option.hasOwnProperty('label') && ['string', 'number'].indexOf(_typeof(option.label)) >= 0) {
              groupAttr.label = option.label;
            }
            $.each(groupAttr, function (name, value) {
              renderAttr.push(name + '="' + value + '"');
            });
            if (Array.isArray(option.options)) {
              $.each(option.options, function (key, groupOption) {
                groupOptions.push(that._renderOption(groupOption));
              });
            }
            selectOptions.push({
              type: 'group',
              attr: renderAttr.length > 0 ? ' ' + renderAttr.join(' ') : '',
              options: groupOptions
            });
          } else {
            selectOptions.push(that._renderOption(option));
          }
        }
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/select.html'], {
      field: options,
      value: this._value,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        options: selectOptions
      }
    });
  },
  /**
   *
   * @return {string}
   * @private
   */
  _renderContentReadonly: function _renderContentReadonly() {
    var that = this;
    var options = this.getOptions();
    var selectedOptions = [];
    if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {
      $.each(options.options, function (key, option) {
        var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'option';
        if (type === 'group') {
          if (Array.isArray(option.options)) {
            $.each(option.options, function (key, groupOption) {
              var optionText = groupOption.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(groupOption.text)) >= 0 ? groupOption.text : '';
              if (!optionText || optionText === '') {
                return;
              }
              if (Array.isArray(that._value)) {
                $.each(that._value, function (key, itemValue) {
                  if (itemValue == groupOption.value) {
                    selectedOptions.push(optionText);
                    return false;
                  }
                });
              } else if (that._value == groupOption.value) {
                selectedOptions.push(optionText);
              }
            });
          }
        } else {
          var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';
          if (!optionText || optionText === '') {
            return;
          }
          if (Array.isArray(that._value)) {
            $.each(that._value, function (key, itemValue) {
              if (itemValue == option.value) {
                selectedOptions.push(optionText);
                return false;
              }
            });
          } else if (that._value == option.value) {
            selectedOptions.push(optionText);
          }
        }
      });
    }
    return ejs.render(tpl['fields/select.html'], {
      field: options,
      render: {
        selectedOptions: selectedOptions
      }
    });
  },
  /**
   * Сборка опции
   * @param option
   * @return {object}
   * @private
   */
  _renderOption: function _renderOption(option) {
    var optionAttr = [];
    var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';
    $.each(option, function (name, value) {
      if (name !== 'text') {
        optionAttr.push(name + '="' + value + '"');
      }
    });
    if (Array.isArray(this._value)) {
      $.each(this._value, function (key, itemValue) {
        if (itemValue == option.value) {
          optionAttr.push('selected="selected"');
          return false;
        }
      });
    } else if (this._value == option.value) {
      optionAttr.push('selected="selected"');
    }
    return {
      type: 'option',
      text: optionText,
      attr: optionAttr.length > 0 ? ' ' + optionAttr.join(' ') : ''
    };
  }
};

coreuiForm$1.fields["switch"] = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'switch',
    name: null,
    label: null,
    labelWidth: null,
    outContent: null,
    description: null,
    errorText: null,
    valueY: 'Y',
    valueN: 'N',
    fields: [],
    required: null,
    readonly: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @param {int}                  index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    var result;
    if (this._options.readonly) {
      result = this._value;
    } else {
      result = $('.content-' + this._hash + ' input').prop('checked') ? this._options.valueY : this._options.valueN;
    }
    return result;
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      $('.content-' + this._hash + ' input[type=checkbox]').prop('checked', value === this._options.valueY);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var switchContainer = $('.form-switch', container);
    var inputs = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      inputs.removeClass('is-invalid');
      inputs.removeClass('is-valid');
    } else if (isValid) {
      inputs.removeClass('is-invalid');
      inputs.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        switchContainer.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      inputs.removeClass('is-valid');
      inputs.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        switchContainer.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var attributes = [];
    var options = this.getOptions();
    var itemAttr = {
      type: 'checkbox',
      "class": 'form-check-input',
      value: options.valueY
    };
    if (options.name) {
      itemAttr.name = this._options.name;
    }
    if (options.required) {
      itemAttr.required = 'required';
    }
    if (options.hasOwnProperty('attr') && _typeof(options.attr) === 'object' && Array.isArray(options.attr)) {
      itemAttr = coreuiFormUtils.mergeAttr(itemAttr, options.attr);
    }
    if (this._value === options.valueY) {
      itemAttr.checked = 'checked';
    }
    $.each(itemAttr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/switch.html'], {
      field: options,
      value: this._value,
      lang: this._form.getLang(),
      render: {
        attr: attributes.length > 0 ? attributes.join(' ') : ''
      }
    });
  }
};

coreuiForm$1.fields.textarea = {
  _id: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'textarea',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-control d-inline-block'
    },
    required: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @param {int}                  index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' textarea').val();
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      $('.content-' + this._hash + ' textarea').val(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var textarea = $('textarea', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      textarea.removeClass('is-invalid');
      textarea.removeClass('is-valid');
    } else if (isValid) {
      textarea.removeClass('is-invalid');
      textarea.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      textarea.removeClass('is-valid');
      textarea.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    var input = $('.content-' + this._hash + ' textarea');
    if (input[0]) {
      return input.is(':valid');
    }
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var attributes = [];
    var options = this.getOptions();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/textarea.html'], {
      field: options,
      value: this._value !== null ? this._value : '',
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''
      }
    });
  }
};

coreuiForm$1.fields.wysiwyg = {
  _id: '',
  _hash: '',
  _form: null,
  _value: null,
  _editor: null,
  _editorHash: null,
  _options: {
    type: 'wysiwyg',
    label: null,
    labelWidth: null,
    width: null,
    minWidth: null,
    maxWidth: null,
    height: null,
    minHeight: null,
    maxHeight: null,
    options: {},
    outContent: null,
    description: null,
    required: null,
    readonly: false,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}               options
   * @param {int}                  index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._editorHash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
    var that = this;
    form.on('shown.coreui.form', function () {
      if (!that._options.readonly) {
        that._initEvents();
      }
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
    if (!this._options.readonly) {
      this._initEvents();
    }
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration || 0);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration || 0);
  },
  /**
   * Получение значения из поля
   * @return {string|null}
   */
  getValue: function getValue() {
    if (this._options.readonly) {
      return this._value;
    } else {
      return this._editor ? this._editor.getContent() : this._value;
    }
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value);
    } else {
      if (this._editor) {
        this._editor.setContent(value);
      }
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    container.find('.text-success').remove();
    container.find('.text-danger').remove();
    if (isValid === null) {
      return;
    }
    if (isValid) {
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="ps-2 text-success">' + text + '</div>');
      }
    } else {
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="ps-2 text-danger">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean}
   */
  isValid: function isValid() {
    if (this._options.required && !this._options.readonly) {
      return !!this.getValue();
    }
    return true;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    var options = this.getOptions();
    return ejs.render(tpl['fields/wysiwyg.html'], {
      field: options,
      value: this._value !== null ? this._value : '',
      editorHash: this._editorHash
    });
  },
  /**
   * Инициализация событий
   * @private
   */
  _initEvents: function _initEvents() {
    if (this._options.readonly) {
      return;
    }
    var tinyMceOptions = {};
    var than = this;
    var textareaId = 'editor-' + this._editorHash;
    if (_typeof(this._options.options) === 'object' && !Array.isArray(this._options.options) && Object.keys(this._options.options).length > 0) {
      tinyMceOptions = this._options.options;
    } else if (this._options.options === 'simple') {
      tinyMceOptions = {
        plugins: 'image lists anchor charmap',
        toolbar: 'blocks | bold italic underline | alignleft aligncenter ' + 'alignright alignjustify | bullist numlist outdent indent | ' + 'forecolor backcolor removeformat',
        menubar: false,
        branding: false
      };
    } else {
      tinyMceOptions = {
        promotion: false,
        branding: false,
        plugins: 'preview importcss searchreplace autolink autosave save directionality code ' + 'visualblocks visualchars fullscreen image link media template codesample table ' + 'charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons',
        menubar: 'file edit view insert format tools table help',
        toolbar: 'undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | ' + 'alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | ' + 'forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen ' + 'preview save print | insertfile image media template link anchor codesample | ltr rtl'
      };
    }
    tinyMceOptions.selector = '#editor-' + this._editorHash;
    if (['string', 'number'].indexOf(_typeof(this._options.width)) >= 0) {
      tinyMceOptions.width = this._options.width;
    }
    if (['string', 'number'].indexOf(_typeof(this._options.minWidth)) >= 0) {
      tinyMceOptions.min_width = this._options.minWidth;
    }
    if (['string', 'number'].indexOf(_typeof(this._options.maxWidth)) >= 0) {
      tinyMceOptions.max_width = this._options.maxWidth;
    }
    if (['string', 'number'].indexOf(_typeof(this._options.height)) >= 0) {
      tinyMceOptions.height = this._options.height;
    }
    if (['string', 'number'].indexOf(_typeof(this._options.minHeight)) >= 0) {
      tinyMceOptions.min_height = this._options.minHeight;
    }
    if (['string', 'number'].indexOf(_typeof(this._options.maxHeight)) >= 0) {
      tinyMceOptions.max_height = this._options.maxHeight;
    }
    tinymce.init(tinyMceOptions).then(function () {
      than._editor = tinymce.get(textareaId);
    });
  }
};

coreuiForm$1.fields.passwordRepeat = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _isChangeState: true,
  _value: '',
  _options: {
    type: 'password',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      type: 'password',
      "class": 'form-control d-inline-block flex-shrink-0'
    },
    required: null,
    invalidText: null,
    validText: null,
    readonly: null,
    datalist: null,
    show: true,
    showBtn: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
    var that = this;
    form.on('shown.coreui.form', function () {
      that._initEvents();
    });
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
    if (!this._options.readonly) {
      this._initEvents();
    }
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {string}
   */
  getValue: function getValue() {
    var result;
    if (this._options.readonly) {
      result = this._value;
    } else {
      var pass = $('.content-' + this._hash + ' input[type="password"]').eq(0);
      if (typeof pass.attr('disabled') !== 'undefined' && pass.attr('disabled') !== false) {
        result = null;
      } else {
        result = pass.val();
      }
    }
    return result;
  },
  /**
   * Установка значения в поле
   * @param {string} value
   */
  setValue: function setValue(value) {
    if (['string', 'number'].indexOf(_typeof(value)) < 0) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text(value ? '******' : '');
    } else {
      $('.content-' + this._hash + ' input[type="password"]').val(value);
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var input = $('input[type="password"]', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      input.removeClass('is-invalid');
      input.removeClass('is-valid');
    } else if (isValid) {
      input.removeClass('is-invalid');
      input.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback d-block">' + text + '</div>');
      }
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback d-block">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean|null}
   */
  isValid: function isValid() {
    if (!this._isChangeState || this._options.readonly) {
      return true;
    }
    var input = $('.content-' + this._hash + ' input[type="password"]');
    if (input.eq(0).val() !== input.eq(1).val()) {
      return false;
    }
    if (input[0]) {
      return input.eq(0).is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    return this._options.readonly ? this._renderContentReadonly() : this._renderContent();
  },
  /**
   *
   * @private
   */
  _renderContent: function _renderContent() {
    var attributes = [];
    var attributes2 = [];
    var datalist = [];
    var options = this.getOptions();
    this._isChangeState = !options.showBtn ? true : !this._value;
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (!this._isChangeState) {
      options.attr.disabled = '';
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    options.attr.value = this._value ? '******' : '';
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    $.each(options.attr, function (name, value) {
      if (['name', 'value'].indexOf(name) < 0) {
        attributes2.push(name + '="' + value + '"');
      }
    });
    var lang = this._form.getLang();
    return ejs.render(tpl['fields/passwordRepeat.html'], {
      field: options,
      value: this._value !== null ? this._value : '',
      lang: lang,
      btn_text: this._isChangeState ? lang.cancel : lang.change,
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        attr2: attributes2.length > 0 ? ' ' + attributes2.join(' ') : '',
        datalist: datalist
      }
    });
  },
  /**
   *
   * @private
   */
  _renderContentReadonly: function _renderContentReadonly() {
    var options = this.getOptions();
    return ejs.render(tpl['fields/passwordRepeat.html'], {
      field: options,
      value: this._value ? '******' : '',
      hash: this._hash
    });
  },
  /**
   * Инициализация событий
   * @private
   */
  _initEvents: function _initEvents() {
    var that = this;
    $('.content-' + this._hash + ' .btn-password-change').click(function (e) {
      var textChange = $(this).data('change');
      var textCancel = $(this).data('cancel');
      if (that._isChangeState) {
        $('.content-' + that._hash + ' [type="password"]').attr('disabled', 'disabled');
        $(this).text(textChange);
        that._isChangeState = false;
      } else {
        $('.content-' + that._hash + ' [type="password"]').removeAttr('disabled');
        $(this).text(textCancel);
        that._isChangeState = true;
      }
    });
  }
};

coreuiForm$1.fields.file = {
  _id: '',
  _hash: '',
  _form: null,
  _index: 0,
  _value: '',
  _options: {
    type: 'file',
    name: null,
    label: null,
    labelWidth: null,
    width: null,
    outContent: null,
    description: null,
    errorText: null,
    attach: null,
    attr: {
      "class": 'form-control d-inline-block'
    },
    required: null,
    invalidText: null,
    validText: null,
    readonly: null,
    datalist: null,
    show: true,
    column: null
  },
  /**
   * Инициализация
   * @param {coreuiFormInstance} form
   * @param {object}             options
   * @param {int}                index Порядковый номер на форме
   */
  init: function init(form, options, index) {
    this._form = form;
    this._index = index;
    this._id = form.getId() + "-field-" + (options.hasOwnProperty('name') ? options.name : index);
    this._hash = coreuiFormUtils.hashCode();
    this._value = coreuiFormUtils.getFieldValue(form, options);
    this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);
  },
  /**
   * Получение параметров
   * @returns {object}
   */
  getOptions: function getOptions() {
    return $.extend(true, {}, this._options);
  },
  /**
   * Изменение режима поля только для чтения
   * @param {bool} isReadonly
   */
  readonly: function readonly(isReadonly) {
    this._value = this.getValue();
    this._options.readonly = !!isReadonly;
    $('.content-' + this._hash).html(this.renderContent());
  },
  /**
   * Скрытие поля
   * @param {int} duration
   */
  hide: function hide(duration) {
    $('#coreui-form-' + this._id).hide(duration);
  },
  /**
   * Показ поля
   * @param {int} duration
   */
  show: function show(duration) {
    $('#coreui-form-' + this._id).show(duration);
  },
  /**
   * Получение значения в поле
   * @returns {File[]}
   */
  getValue: function getValue() {
    return this._options.readonly ? this._value : $('.content-' + this._hash + ' input')[0].files;
  },
  /**
   * Установка значения в поле
   * @param {File|File[]} value
   */
  setValue: function setValue(value) {
    if (!(value instanceof File) && !(value instanceof FileList)) {
      return;
    }
    this._value = value;
    if (this._options.readonly) {
      $('.content-' + this._hash).text('');
    } else {
      var container = new DataTransfer();
      if (value instanceof File) {
        container.items.add(value);
      } else {
        $.each(value, function (key, file) {
          if (value instanceof File) {
            container.items.add(file);
          }
        });
      }
      $('.content-' + this._hash + ' input')[0].files = container.files;
    }
  },
  /**
   * Установка валидности поля
   * @param {bool|null} isValid
   * @param {text} text
   */
  validate: function validate(isValid, text) {
    if (this._options.readonly) {
      return;
    }
    var container = $('.content-' + this._hash);
    var input = $('input', container);
    container.find('.valid-feedback').remove();
    container.find('.invalid-feedback').remove();
    if (isValid === null) {
      input.removeClass('is-invalid');
      input.removeClass('is-valid');
    } else if (isValid) {
      input.removeClass('is-invalid');
      input.addClass('is-valid');
      if (typeof text === 'undefined' && typeof this._options.validText === 'string') {
        text = this._options.validText;
      }
      if (typeof text === 'string') {
        container.append('<div class="valid-feedback">' + text + '</div>');
      }
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      if (typeof text === 'undefined') {
        if (typeof this._options.invalidText === 'string') {
          text = this._options.invalidText;
        } else if (!text && this._options.required) {
          text = this._form.getLang().required_field;
        }
      }
      if (typeof text === 'string') {
        container.append('<div class="invalid-feedback">' + text + '</div>');
      }
    }
  },
  /**
   * Проверка валидности поля
   * @return {boolean|null}
   */
  isValid: function isValid() {
    var input = $('.content-' + this._hash + ' input');
    if (input[0]) {
      return input.is(':valid');
    }
    return null;
  },
  /**
   * Формирование поля
   * @returns {string}
   */
  render: function render() {
    var options = this.getOptions();
    var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);
    return ejs.render(tpl['form-field-label.html'], {
      id: this._id,
      form: this._form,
      hash: this._hash,
      field: options,
      content: this.renderContent(),
      attachFields: attachFields
    });
  },
  /**
   * Формирование контента поля
   * @return {*}
   */
  renderContent: function renderContent() {
    return this._options.readonly ? this._renderContentReadonly() : this._renderContent();
  },
  /**
   *
   * @private
   */
  _renderContent: function _renderContent() {
    var attributes = [];
    var datalist = [];
    var options = this.getOptions();
    var datalistId = coreuiFormUtils.hashCode();
    if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {
      options.attr = {};
    }
    if (options.name) {
      options.attr.name = this._options.name;
    }
    options.attr.type = options.type;
    options.attr.value = this._value !== null ? this._value : '';
    if (options.width) {
      options.attr = coreuiFormUtils.mergeAttr({
        style: 'width:' + options.width
      }, options.attr);
    }
    if (options.required) {
      options.attr.required = 'required';
    }
    if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {
      options.attr.list = datalistId;
      $.each(options.datalist, function (key, itemAttributes) {
        var datalistAttr = [];
        $.each(itemAttributes, function (name, value) {
          datalistAttr.push(name + '="' + value + '"');
        });
        datalist.push({
          attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''
        });
      });
    }
    $.each(options.attr, function (name, value) {
      attributes.push(name + '="' + value + '"');
    });
    return ejs.render(tpl['fields/input.html'], {
      field: options,
      datalistId: datalistId,
      value: this._value !== null ? this._value : '',
      render: {
        attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',
        datalist: datalist
      }
    });
  },
  /**
   *
   * @private
   */
  _renderContentReadonly: function _renderContentReadonly() {
    var options = this.getOptions();
    var type = 'text';
    var value = this._value;
    var lang = this._form.getLang();
    if (options.hasOwnProperty('type') && typeof options.type === 'string') {
      type = options.type;
    }
    try {
      switch (type) {
        case 'date':
          value = coreuiFormUtils.formatDate(value);
          break;
        case 'datetime-local':
          value = coreuiFormUtils.formatDateTime(value);
          break;
        case 'month':
          value = coreuiFormUtils.formatDateMonth(value, lang);
          break;
        case 'week':
          value = coreuiFormUtils.formatDateWeek(value, lang);
          break;
      }
    } catch (e) {
      console.error(e);
      // ignore
    }

    return ejs.render(tpl['fields/input.html'], {
      field: options,
      value: value,
      hash: this._hash
    });
  }
};

return coreuiForm$1;

})));
;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).CoreUI=t.CoreUI||{},t.CoreUI.chart=e())}(this,function(){"use strict";function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y={getFieldValue:function(t,e){t=t.getRecord();return e&&t&&"string"==typeof e.name&&"object"===b(t)&&t.hasOwnProperty(e.name)&&0<=["string","number","object"].indexOf(b(t[e.name]))?t[e.name]:""},getFunctionByName:function(t,e){var i=t.split("."),t=i.pop();e=e||window;for(var a=0;a<i.length;a++){if(!e.hasOwnProperty(i[a]))return null;e=e[i[a]]}return"function"==typeof e[t]?e[t]:null},mergeFieldOptions:function(t,e,i){e=$.extend(!0,{},e);return i&&(e.hasOwnProperty("attr")&&"object"===b(e.attr)&&i.hasOwnProperty("attr")&&"object"===b(i.attr)&&(i.attr=this.mergeAttr(e.attr,i.attr)),e=$.extend(!0,{},e,i)),e.hasOwnProperty("width")&&(e.width?(i="number"==typeof e.width?"px":"",e.width=e.width+i):t._options.fieldWidth&&"color"!==e.type&&(i="number"==typeof t._options.fieldWidth?"px":"",e.width=t._options.fieldWidth+i)),e.hasOwnProperty("labelWidth")&&(0<=e.labelWidth&&null!==e.labelWidth?(i="number"==typeof e.labelWidth?"px":"",e.labelWidth=e.labelWidth+i):t._options.labelWidth&&(i="number"==typeof t._options.labelWidth?"px":"",e.labelWidth=t._options.labelWidth+i)),e},mergeAttr:function(t,e){var i=Object.assign({},t);return"object"===b(e)&&$.each(e,function(t,e){i.hasOwnProperty(t)?"class"===t?i[t]+=" "+e:"style"===t?i[t]+=";"+e:i[t]=e:i[t]=e}),i},getAttacheFields:function(i,a){var s=[];return"object"===b(a)&&"object"===b(a.fields)&&Array.isArray(a.fields)&&$.each(a.fields,function(t,e){e=i.initField(e);"object"===b(e)&&s.push({hash:e._hash,direction:a.hasOwnProperty("fieldsDirection")?a.fieldsDirection:"row",content:e.renderContent()})}),s},chartatDate:function(t){var e,i,a;return t&&10===t.length&&(e=(i=new Date(t)).getFullYear(),a=i.getMonth()+1,t=(i=(i=i.getDate())<10?"0"+i:i)+"."+(a=a<10?"0"+a:a)+"."+e),t},chartatDateTime:function(t){var e,i,a,s;return t&&10<=t.length&&(i=(e=new Date(t)).getFullYear(),s=e.getMonth()+1,t=(a=(a=e.getDate())<10?"0"+a:a)+"."+(s=s<10?"0"+s:s)+"."+i+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)),t},chartatDateMonth:function(t,e){var i,a;return t&&7===t.length&&(i=(a=new Date(t)).getFullYear(),a=a.getMonth(),t=(e.date_months.hasOwnProperty(a)?e.date_months[a]:"")+" "+i),t},chartatDateWeek:function(t,e){var i,a;return t&&7<=t.length&&(i=t.substring(0,4),a=t.substring(6),t=i+" "+e.date_week+" "+a),t},isNumeric:function(t){return("number"==typeof t||"string"==typeof t&&""!==t.trim())&&!isNaN(t)},isObject:function(t){return"object"===b(t)&&!Array.isArray(t)&&null!==t},isArray:function(t){return Array.isArray(t)},hashCode:function(){return this.crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},crc32:function(t){for(var e=[],i=0;i<256;i++){for(var a=i,s=0;s<8;s++)a=1&a?3988292384^a>>>1:a>>>1;e[i]=a}for(var o=-1,n=0;n<t.length;n++)o=o>>>8^e[255&(o^t.charCodeAt(n))];return(-1^o)>>>0},round:function(t,e){var i;return 0===(e=void 0!==e?parseInt(e):0)?Math.round(t):0<e?(i=Math.pow(10,e),Math.round(t*i)/i):(i=Math.pow(10,e),Math.round(t/i)*i)},getPaletteClassic:function(){return["#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300","#447EBC","#C15C17","#890F02","#0A437C","#6D1F62","#584477","#B7DBAB","#F4D598","#70DBED","#F9BA8F","#F29191","#82B5D8","#E5A8E2","#AEA2E0","#629E51","#E5AC0E","#64B0C8","#E0752D","#BF1B00","#0A50A1","#962D82","#614D93","#9AC48A","#F2C96D","#65C5DB","#F9934E","#EA6460","#5195CE","#D683CE","#806EB7","#3F6833","#967302","#2F575E","#99440A","#58140C","#052B51","#511749","#3F2B5B","#E0F9D7","#FCEACA","#CFFAFF","#F9E2D2","#FCE2DE","#BADFF4","#F9D9F9","#DEDAF7"]}};function F(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y,R,D={exports:{}},H=D,t=function(){function h(t,e,i){return a.slice.apply(t,a.slice.call(arguments,1))}function c(t,e,i,a){if(0==(e|=0))return[];if("function"!=typeof t){var s=c.listSchemes(t,e);if(!s.length)return null;t=s[(i||0)%s.length]}return(i=h(arguments,2))[0]=e,t.apply(t,i)}function n(t){return 0<t?t<1?t:1:0}var a=Array.prototype,r=((c.Scheme=function(t,e){var o={},n=0,r=1e9,l=function(t,e){if(!(t|=0))return[];var i=t;if((t=Math.abs(t))<=n){for(var a=Math.max(t,r);!(a in o);++a);var s=o[a];if(t<a){if(!("shrinking_takes_head"in s?s:l).shrinking_takes_head)return c.generate(function(t){return s[Math.round(t)]},i,0,s.length-1);s=s.slice(0,t),a=t}return s=s.slice(),i<0&&s.reverse(),s}return l.color_func?c.generate(function(){var e;return arguments.length<=1?l.color_func.bind(l):(e=h(arguments),function(t){return e[0]=t,l.color_func.apply(l,e)})}.apply(l,arguments),i,0,1,l.color_func_cyclic):null};return l.scheme_name=t,l.groups=e?"string"==typeof e?[e]:e:[],l.max=0,l.cbf_max=1e9,l.addPalette=function(t,e){var i=t.length;i&&(o[i]=t,r=Math.min(r,i),n=Math.max(n,i),l.max=Math.max(l.max,i),e||1==i||(l.cbf_max=Math.min(l.cbf_max,i-1)))},l.addPalettes=function(t,e,i){e=e||t.length;for(var a=0;a<e;++a)a in t&&l.addPalette(t[a],!0);l.cbf_max=Math.min(l.cbf_max,i||1)},l.shrinkByTakingHead=function(t,e){void 0!==e?e in o&&(o[e].shrinking_takes_head=!!t):l.shrinking_takes_head=!!t},l.setColorFunction=function(t,e,i){l.color_func=t,l.color_func_cyclic=!!i,l.max=1e9,e||1e9!==l.cbf_max||(l.cbf_max=1)},l.color=function(t,e){return l.color_func?l.color_func.apply(this,arguments):null},l}).fromPalettes=function(t,e,i,a,s){t=c.Scheme(t,e);return t.addPalettes.apply(t,h(arguments,2)),t},c.Scheme.withColorFunction=function(t,e,i,a,s){t=c.Scheme(t,e);return t.setColorFunction.apply(t,h(arguments,2)),t},{});c.register=function(e){r["n-"+e.scheme_name]=[e],e.groups.forEach(function(t){(r["g-"+t]=r["g-"+t]||[]).push(e)}),(r["g-all"]=r["g-all"]||[]).push(e)},c.listSchemes=function(t,o){o?o<0&&(o=-o):o=2;var n=[];return("string"==typeof t?[t]:t).forEach(function(t){for(var e,i="-cbf"===t.substring(t.length-4),a=(i&&(t=t.substring(0,t.length-4)),r["g-"+t]||r["n-"+t]||[]),s=0;e=a[s];++s)(i?e.cbf:e.max)>=o&&n.push(e)}),n.sort(function(t,e){return t.scheme_name>=e.scheme_name?t.scheme_name>e.scheme_name?1:0:-1}),n},c.generate=function(t,e,i,a,s){if(Math.abs(e)<1)return[];if(i=void 0===i?0:i,a=void 0===a?1:a,Math.abs(e)<2)return[t(i)];for(var o=Math.abs(e),n=i,r=[],l=(a-i)/(s?o:o-1);0<=--o;n+=l)r.push(t(n));return e<0&&r.reverse(),r};return c.rgbColor=function(t,e,i){return[t,e,i].map(function(t){return 1==(t=Number(Math.round(255*n(t))).toString(16)).length?"0"+t:t}).join("")},c.linearRgbColor=function(t,e,i){return[t,e,i].map(function(t){return(t=n(t))<=.0031308?t*=12.92:t=1.055*Math.pow(t,1/2.4)-.055,1==(t=Number(Math.round(255*t)).toString(16)).length?"0"+t:t}).join("")},c.register(c.Scheme.withColorFunction("rainbow","qualitative",c.hsvColor=function(t,e,i){t*=6;var e=void 0===e?1:n(e),a=void 0===i?1:n(i),s=a*(1-e*Math.abs(t%2-1)),o=a*(1-e);switch(Math.floor(t)%6){case 0:return c.rgbColor(a,s,o);case 1:return c.rgbColor(s,a,o);case 2:return c.rgbColor(o,a,s);case 3:return c.rgbColor(o,s,a);case 4:return c.rgbColor(s,o,a);default:return c.rgbColor(a,o,s)}},!1,!0)),c}();function i(t,e){for(var i=arguments.length-1,a=arguments[i];1<i;)a=a*t+arguments[--i];return a}function W(t){var e=i(Math.abs(t),1,.278393,.230389,972e-6,.078108),e=1-1/((e*=e)*e);return t<0?-e:e}t.ColorFunction,t.Palette,t.PalettesList,t.SchemeType,(Y=t.Scheme.fromPalettes("mpn65","qualitative",[["ff0029","377eb8","66a61e","984ea3","00d2d5","ff7f00","af8d00","7f80cd","b3e900","c42e60","a65628","f781bf","8dd3c7","bebada","fb8072","80b1d3","fdb462","fccde5","bc80bd","ffed6f","c4eaff","cf8c00","1b9e77","d95f02","e7298a","e6ab02","a6761d","0097ff","00d067","000000","252525","525252","737373","969696","bdbdbd","f43600","4ba93b","5779bb","927acc","97ee3f","bf3947","9f5b00","f48758","8caed6","f2b94f","eff26e","e43872","d9b100","9d7a00","698cff","d9d9d9","00d27e","d06800","009f82","c49200","cbe8ff","fecddf","c27eb6","8cd2ce","c4b8d9","f883b0","a49100","f48800","27d0df","a04a9b"]])).shrinkByTakingHead(!0),t.register(Y),R=t.rgbColor,t.register(t.Scheme.fromPalettes("tol","qualitative",[["4477aa"],["4477aa","cc6677"],["4477aa","ddcc77","cc6677"],["4477aa","117733","ddcc77","cc6677"],["332288","88ccee","117733","ddcc77","cc6677"],["332288","88ccee","117733","ddcc77","cc6677","aa4499"],["332288","88ccee","44aa99","117733","ddcc77","cc6677","aa4499"],["332288","88ccee","44aa99","117733","999933","ddcc77","cc6677","aa4499"],["332288","88ccee","44aa99","117733","999933","ddcc77","cc6677","882255","aa4499"],["332288","88ccee","44aa99","117733","999933","ddcc77","661100","cc6677","882255","aa4499"],["332288","6699cc","88ccee","44aa99","117733","999933","ddcc77","661100","cc6677","882255","aa4499"],["332288","6699cc","88ccee","44aa99","117733","999933","ddcc77","661100","cc6677","aa4466","882255","aa4499"]],12,12)),t.tolSequentialColor=function(t){return R(1-.392*(1+W((t-.869)/.255)),1.021-.456*(1+W((t-.527)/.376)),1-.493*(1+W((t-.272)/.309)))},t.register(t.Scheme.withColorFunction("tol-sq","sequential",t.tolSequentialColor,!0)),t.tolDivergingColor=function(t){var e=i(t,.572,1.524,-1.811)/i(t,1,-.291,.1574);return R(i(t,.235,-2.13,26.92,-65.5,63.5,-22.36),e*e,1/i(t,1.579,-4.03,12.92,-31.4,48.6,-23.36))},t.register(t.Scheme.withColorFunction("tol-dv","diverging",t.tolDivergingColor,!0)),t.tolRainbowColor=function(t){return R(i(t,.472,-.567,4.05)/i(t,1,8.72,-19.17,14.1),i(t,.108932,-1.22635,27.284,-98.577,163.3,-131.395,40.634),1/i(t,1.97,3.54,-68.5,243,-297,125))},t.register(t.Scheme.withColorFunction("tol-rainbow","qualitative",t.tolRainbowColor,!0)),t.register(t.Scheme.fromPalettes("sol-base","sequential",[["002b36","073642","586e75","657b83","839496","93a1a1","eee8d5","fdf6e3"]],1,8)),t.register(t.Scheme.fromPalettes("sol-accent","qualitative",[["b58900","cb4b16","dc322f","d33682","6c71c4","268bd2","2aa198","859900"]]));var B,N={YlGn:{type:"sequential",cbf:42,3:["f7fcb9","addd8e","31a354"],4:["ffffcc","c2e699","78c679","238443"],5:["ffffcc","c2e699","78c679","31a354","006837"],6:["ffffcc","d9f0a3","addd8e","78c679","31a354","006837"],7:["ffffcc","d9f0a3","addd8e","78c679","41ab5d","238443","005a32"],8:["ffffe5","f7fcb9","d9f0a3","addd8e","78c679","41ab5d","238443","005a32"],9:["ffffe5","f7fcb9","d9f0a3","addd8e","78c679","41ab5d","238443","006837","004529"]},YlGnBu:{type:"sequential",cbf:42,3:["edf8b1","7fcdbb","2c7fb8"],4:["ffffcc","a1dab4","41b6c4","225ea8"],5:["ffffcc","a1dab4","41b6c4","2c7fb8","253494"],6:["ffffcc","c7e9b4","7fcdbb","41b6c4","2c7fb8","253494"],7:["ffffcc","c7e9b4","7fcdbb","41b6c4","1d91c0","225ea8","0c2c84"],8:["ffffd9","edf8b1","c7e9b4","7fcdbb","41b6c4","1d91c0","225ea8","0c2c84"],9:["ffffd9","edf8b1","c7e9b4","7fcdbb","41b6c4","1d91c0","225ea8","253494","081d58"]},GnBu:{type:"sequential",cbf:42,3:["e0f3db","a8ddb5","43a2ca"],4:["f0f9e8","bae4bc","7bccc4","2b8cbe"],5:["f0f9e8","bae4bc","7bccc4","43a2ca","0868ac"],6:["f0f9e8","ccebc5","a8ddb5","7bccc4","43a2ca","0868ac"],7:["f0f9e8","ccebc5","a8ddb5","7bccc4","4eb3d3","2b8cbe","08589e"],8:["f7fcf0","e0f3db","ccebc5","a8ddb5","7bccc4","4eb3d3","2b8cbe","08589e"],9:["f7fcf0","e0f3db","ccebc5","a8ddb5","7bccc4","4eb3d3","2b8cbe","0868ac","084081"]},BuGn:{type:"sequential",cbf:42,3:["e5f5f9","99d8c9","2ca25f"],4:["edf8fb","b2e2e2","66c2a4","238b45"],5:["edf8fb","b2e2e2","66c2a4","2ca25f","006d2c"],6:["edf8fb","ccece6","99d8c9","66c2a4","2ca25f","006d2c"],7:["edf8fb","ccece6","99d8c9","66c2a4","41ae76","238b45","005824"],8:["f7fcfd","e5f5f9","ccece6","99d8c9","66c2a4","41ae76","238b45","005824"],9:["f7fcfd","e5f5f9","ccece6","99d8c9","66c2a4","41ae76","238b45","006d2c","00441b"]},PuBuGn:{type:"sequential",cbf:42,3:["ece2f0","a6bddb","1c9099"],4:["f6eff7","bdc9e1","67a9cf","02818a"],5:["f6eff7","bdc9e1","67a9cf","1c9099","016c59"],6:["f6eff7","d0d1e6","a6bddb","67a9cf","1c9099","016c59"],7:["f6eff7","d0d1e6","a6bddb","67a9cf","3690c0","02818a","016450"],8:["fff7fb","ece2f0","d0d1e6","a6bddb","67a9cf","3690c0","02818a","016450"],9:["fff7fb","ece2f0","d0d1e6","a6bddb","67a9cf","3690c0","02818a","016c59","014636"]},PuBu:{type:"sequential",cbf:42,3:["ece7f2","a6bddb","2b8cbe"],4:["f1eef6","bdc9e1","74a9cf","0570b0"],5:["f1eef6","bdc9e1","74a9cf","2b8cbe","045a8d"],6:["f1eef6","d0d1e6","a6bddb","74a9cf","2b8cbe","045a8d"],7:["f1eef6","d0d1e6","a6bddb","74a9cf","3690c0","0570b0","034e7b"],8:["fff7fb","ece7f2","d0d1e6","a6bddb","74a9cf","3690c0","0570b0","034e7b"],9:["fff7fb","ece7f2","d0d1e6","a6bddb","74a9cf","3690c0","0570b0","045a8d","023858"]},BuPu:{type:"sequential",cbf:42,3:["e0ecf4","9ebcda","8856a7"],4:["edf8fb","b3cde3","8c96c6","88419d"],5:["edf8fb","b3cde3","8c96c6","8856a7","810f7c"],6:["edf8fb","bfd3e6","9ebcda","8c96c6","8856a7","810f7c"],7:["edf8fb","bfd3e6","9ebcda","8c96c6","8c6bb1","88419d","6e016b"],8:["f7fcfd","e0ecf4","bfd3e6","9ebcda","8c96c6","8c6bb1","88419d","6e016b"],9:["f7fcfd","e0ecf4","bfd3e6","9ebcda","8c96c6","8c6bb1","88419d","810f7c","4d004b"]},RdPu:{type:"sequential",cbf:42,3:["fde0dd","fa9fb5","c51b8a"],4:["feebe2","fbb4b9","f768a1","ae017e"],5:["feebe2","fbb4b9","f768a1","c51b8a","7a0177"],6:["feebe2","fcc5c0","fa9fb5","f768a1","c51b8a","7a0177"],7:["feebe2","fcc5c0","fa9fb5","f768a1","dd3497","ae017e","7a0177"],8:["fff7f3","fde0dd","fcc5c0","fa9fb5","f768a1","dd3497","ae017e","7a0177"],9:["fff7f3","fde0dd","fcc5c0","fa9fb5","f768a1","dd3497","ae017e","7a0177","49006a"]},PuRd:{type:"sequential",cbf:42,3:["e7e1ef","c994c7","dd1c77"],4:["f1eef6","d7b5d8","df65b0","ce1256"],5:["f1eef6","d7b5d8","df65b0","dd1c77","980043"],6:["f1eef6","d4b9da","c994c7","df65b0","dd1c77","980043"],7:["f1eef6","d4b9da","c994c7","df65b0","e7298a","ce1256","91003f"],8:["f7f4f9","e7e1ef","d4b9da","c994c7","df65b0","e7298a","ce1256","91003f"],9:["f7f4f9","e7e1ef","d4b9da","c994c7","df65b0","e7298a","ce1256","980043","67001f"]},OrRd:{type:"sequential",cbf:42,3:["fee8c8","fdbb84","e34a33"],4:["fef0d9","fdcc8a","fc8d59","d7301f"],5:["fef0d9","fdcc8a","fc8d59","e34a33","b30000"],6:["fef0d9","fdd49e","fdbb84","fc8d59","e34a33","b30000"],7:["fef0d9","fdd49e","fdbb84","fc8d59","ef6548","d7301f","990000"],8:["fff7ec","fee8c8","fdd49e","fdbb84","fc8d59","ef6548","d7301f","990000"],9:["fff7ec","fee8c8","fdd49e","fdbb84","fc8d59","ef6548","d7301f","b30000","7f0000"]},YlOrRd:{type:"sequential",cbf:42,3:["ffeda0","feb24c","f03b20"],4:["ffffb2","fecc5c","fd8d3c","e31a1c"],5:["ffffb2","fecc5c","fd8d3c","f03b20","bd0026"],6:["ffffb2","fed976","feb24c","fd8d3c","f03b20","bd0026"],7:["ffffb2","fed976","feb24c","fd8d3c","fc4e2a","e31a1c","b10026"],8:["ffffcc","ffeda0","fed976","feb24c","fd8d3c","fc4e2a","e31a1c","b10026"],9:["ffffcc","ffeda0","fed976","feb24c","fd8d3c","fc4e2a","e31a1c","bd0026","800026"]},YlOrBr:{type:"sequential",cbf:42,3:["fff7bc","fec44f","d95f0e"],4:["ffffd4","fed98e","fe9929","cc4c02"],5:["ffffd4","fed98e","fe9929","d95f0e","993404"],6:["ffffd4","fee391","fec44f","fe9929","d95f0e","993404"],7:["ffffd4","fee391","fec44f","fe9929","ec7014","cc4c02","8c2d04"],8:["ffffe5","fff7bc","fee391","fec44f","fe9929","ec7014","cc4c02","8c2d04"],9:["ffffe5","fff7bc","fee391","fec44f","fe9929","ec7014","cc4c02","993404","662506"]},Purples:{type:"sequential",cbf:42,3:["efedf5","bcbddc","756bb1"],4:["f2f0f7","cbc9e2","9e9ac8","6a51a3"],5:["f2f0f7","cbc9e2","9e9ac8","756bb1","54278f"],6:["f2f0f7","dadaeb","bcbddc","9e9ac8","756bb1","54278f"],7:["f2f0f7","dadaeb","bcbddc","9e9ac8","807dba","6a51a3","4a1486"],8:["fcfbfd","efedf5","dadaeb","bcbddc","9e9ac8","807dba","6a51a3","4a1486"],9:["fcfbfd","efedf5","dadaeb","bcbddc","9e9ac8","807dba","6a51a3","54278f","3f007d"]},Blues:{type:"sequential",cbf:42,3:["deebf7","9ecae1","3182bd"],4:["eff3ff","bdd7e7","6baed6","2171b5"],5:["eff3ff","bdd7e7","6baed6","3182bd","08519c"],6:["eff3ff","c6dbef","9ecae1","6baed6","3182bd","08519c"],7:["eff3ff","c6dbef","9ecae1","6baed6","4292c6","2171b5","084594"],8:["f7fbff","deebf7","c6dbef","9ecae1","6baed6","4292c6","2171b5","084594"],9:["f7fbff","deebf7","c6dbef","9ecae1","6baed6","4292c6","2171b5","08519c","08306b"]},Greens:{type:"sequential",cbf:42,3:["e5f5e0","a1d99b","31a354"],4:["edf8e9","bae4b3","74c476","238b45"],5:["edf8e9","bae4b3","74c476","31a354","006d2c"],6:["edf8e9","c7e9c0","a1d99b","74c476","31a354","006d2c"],7:["edf8e9","c7e9c0","a1d99b","74c476","41ab5d","238b45","005a32"],8:["f7fcf5","e5f5e0","c7e9c0","a1d99b","74c476","41ab5d","238b45","005a32"],9:["f7fcf5","e5f5e0","c7e9c0","a1d99b","74c476","41ab5d","238b45","006d2c","00441b"]},Oranges:{type:"sequential",cbf:42,3:["fee6ce","fdae6b","e6550d"],4:["feedde","fdbe85","fd8d3c","d94701"],5:["feedde","fdbe85","fd8d3c","e6550d","a63603"],6:["feedde","fdd0a2","fdae6b","fd8d3c","e6550d","a63603"],7:["feedde","fdd0a2","fdae6b","fd8d3c","f16913","d94801","8c2d04"],8:["fff5eb","fee6ce","fdd0a2","fdae6b","fd8d3c","f16913","d94801","8c2d04"],9:["fff5eb","fee6ce","fdd0a2","fdae6b","fd8d3c","f16913","d94801","a63603","7f2704"]},Reds:{type:"sequential",cbf:42,3:["fee0d2","fc9272","de2d26"],4:["fee5d9","fcae91","fb6a4a","cb181d"],5:["fee5d9","fcae91","fb6a4a","de2d26","a50f15"],6:["fee5d9","fcbba1","fc9272","fb6a4a","de2d26","a50f15"],7:["fee5d9","fcbba1","fc9272","fb6a4a","ef3b2c","cb181d","99000d"],8:["fff5f0","fee0d2","fcbba1","fc9272","fb6a4a","ef3b2c","cb181d","99000d"],9:["fff5f0","fee0d2","fcbba1","fc9272","fb6a4a","ef3b2c","cb181d","a50f15","67000d"]},Greys:{type:"sequential",cbf:42,3:["f0f0f0","bdbdbd","636363"],4:["f7f7f7","cccccc","969696","525252"],5:["f7f7f7","cccccc","969696","636363","252525"],6:["f7f7f7","d9d9d9","bdbdbd","969696","636363","252525"],7:["f7f7f7","d9d9d9","bdbdbd","969696","737373","525252","252525"],8:["ffffff","f0f0f0","d9d9d9","bdbdbd","969696","737373","525252","252525"],9:["ffffff","f0f0f0","d9d9d9","bdbdbd","969696","737373","525252","252525","000000"]},PuOr:{type:"diverging",cbf:42,3:["f1a340","f7f7f7","998ec3"],4:["e66101","fdb863","b2abd2","5e3c99"],5:["e66101","fdb863","f7f7f7","b2abd2","5e3c99"],6:["b35806","f1a340","fee0b6","d8daeb","998ec3","542788"],7:["b35806","f1a340","fee0b6","f7f7f7","d8daeb","998ec3","542788"],8:["b35806","e08214","fdb863","fee0b6","d8daeb","b2abd2","8073ac","542788"],9:["b35806","e08214","fdb863","fee0b6","f7f7f7","d8daeb","b2abd2","8073ac","542788"],10:["7f3b08","b35806","e08214","fdb863","fee0b6","d8daeb","b2abd2","8073ac","542788","2d004b"],11:["7f3b08","b35806","e08214","fdb863","fee0b6","f7f7f7","d8daeb","b2abd2","8073ac","542788","2d004b"]},BrBG:{type:"diverging",cbf:42,3:["d8b365","f5f5f5","5ab4ac"],4:["a6611a","dfc27d","80cdc1","018571"],5:["a6611a","dfc27d","f5f5f5","80cdc1","018571"],6:["8c510a","d8b365","f6e8c3","c7eae5","5ab4ac","01665e"],7:["8c510a","d8b365","f6e8c3","f5f5f5","c7eae5","5ab4ac","01665e"],8:["8c510a","bf812d","dfc27d","f6e8c3","c7eae5","80cdc1","35978f","01665e"],9:["8c510a","bf812d","dfc27d","f6e8c3","f5f5f5","c7eae5","80cdc1","35978f","01665e"],10:["543005","8c510a","bf812d","dfc27d","f6e8c3","c7eae5","80cdc1","35978f","01665e","003c30"],11:["543005","8c510a","bf812d","dfc27d","f6e8c3","f5f5f5","c7eae5","80cdc1","35978f","01665e","003c30"]},PRGn:{type:"diverging",cbf:42,3:["af8dc3","f7f7f7","7fbf7b"],4:["7b3294","c2a5cf","a6dba0","008837"],5:["7b3294","c2a5cf","f7f7f7","a6dba0","008837"],6:["762a83","af8dc3","e7d4e8","d9f0d3","7fbf7b","1b7837"],7:["762a83","af8dc3","e7d4e8","f7f7f7","d9f0d3","7fbf7b","1b7837"],8:["762a83","9970ab","c2a5cf","e7d4e8","d9f0d3","a6dba0","5aae61","1b7837"],9:["762a83","9970ab","c2a5cf","e7d4e8","f7f7f7","d9f0d3","a6dba0","5aae61","1b7837"],10:["40004b","762a83","9970ab","c2a5cf","e7d4e8","d9f0d3","a6dba0","5aae61","1b7837","00441b"],11:["40004b","762a83","9970ab","c2a5cf","e7d4e8","f7f7f7","d9f0d3","a6dba0","5aae61","1b7837","00441b"]},PiYG:{type:"diverging",cbf:42,3:["e9a3c9","f7f7f7","a1d76a"],4:["d01c8b","f1b6da","b8e186","4dac26"],5:["d01c8b","f1b6da","f7f7f7","b8e186","4dac26"],6:["c51b7d","e9a3c9","fde0ef","e6f5d0","a1d76a","4d9221"],7:["c51b7d","e9a3c9","fde0ef","f7f7f7","e6f5d0","a1d76a","4d9221"],8:["c51b7d","de77ae","f1b6da","fde0ef","e6f5d0","b8e186","7fbc41","4d9221"],9:["c51b7d","de77ae","f1b6da","fde0ef","f7f7f7","e6f5d0","b8e186","7fbc41","4d9221"],10:["8e0152","c51b7d","de77ae","f1b6da","fde0ef","e6f5d0","b8e186","7fbc41","4d9221","276419"],11:["8e0152","c51b7d","de77ae","f1b6da","fde0ef","f7f7f7","e6f5d0","b8e186","7fbc41","4d9221","276419"]},RdBu:{type:"diverging",cbf:42,3:["ef8a62","f7f7f7","67a9cf"],4:["ca0020","f4a582","92c5de","0571b0"],5:["ca0020","f4a582","f7f7f7","92c5de","0571b0"],6:["b2182b","ef8a62","fddbc7","d1e5f0","67a9cf","2166ac"],7:["b2182b","ef8a62","fddbc7","f7f7f7","d1e5f0","67a9cf","2166ac"],8:["b2182b","d6604d","f4a582","fddbc7","d1e5f0","92c5de","4393c3","2166ac"],9:["b2182b","d6604d","f4a582","fddbc7","f7f7f7","d1e5f0","92c5de","4393c3","2166ac"],10:["67001f","b2182b","d6604d","f4a582","fddbc7","d1e5f0","92c5de","4393c3","2166ac","053061"],11:["67001f","b2182b","d6604d","f4a582","fddbc7","f7f7f7","d1e5f0","92c5de","4393c3","2166ac","053061"]},RdGy:{type:"diverging",cbf:42,3:["ef8a62","ffffff","999999"],4:["ca0020","f4a582","bababa","404040"],5:["ca0020","f4a582","ffffff","bababa","404040"],6:["b2182b","ef8a62","fddbc7","e0e0e0","999999","4d4d4d"],7:["b2182b","ef8a62","fddbc7","ffffff","e0e0e0","999999","4d4d4d"],8:["b2182b","d6604d","f4a582","fddbc7","e0e0e0","bababa","878787","4d4d4d"],9:["b2182b","d6604d","f4a582","fddbc7","ffffff","e0e0e0","bababa","878787","4d4d4d"],10:["67001f","b2182b","d6604d","f4a582","fddbc7","e0e0e0","bababa","878787","4d4d4d","1a1a1a"],11:["67001f","b2182b","d6604d","f4a582","fddbc7","ffffff","e0e0e0","bababa","878787","4d4d4d","1a1a1a"]},RdYlBu:{type:"diverging",cbf:42,3:["fc8d59","ffffbf","91bfdb"],4:["d7191c","fdae61","abd9e9","2c7bb6"],5:["d7191c","fdae61","ffffbf","abd9e9","2c7bb6"],6:["d73027","fc8d59","fee090","e0f3f8","91bfdb","4575b4"],7:["d73027","fc8d59","fee090","ffffbf","e0f3f8","91bfdb","4575b4"],8:["d73027","f46d43","fdae61","fee090","e0f3f8","abd9e9","74add1","4575b4"],9:["d73027","f46d43","fdae61","fee090","ffffbf","e0f3f8","abd9e9","74add1","4575b4"],10:["a50026","d73027","f46d43","fdae61","fee090","e0f3f8","abd9e9","74add1","4575b4","313695"],11:["a50026","d73027","f46d43","fdae61","fee090","ffffbf","e0f3f8","abd9e9","74add1","4575b4","313695"]},Spectral:{type:"diverging",cbf:0,3:["fc8d59","ffffbf","99d594"],4:["d7191c","fdae61","abdda4","2b83ba"],5:["d7191c","fdae61","ffffbf","abdda4","2b83ba"],6:["d53e4f","fc8d59","fee08b","e6f598","99d594","3288bd"],7:["d53e4f","fc8d59","fee08b","ffffbf","e6f598","99d594","3288bd"],8:["d53e4f","f46d43","fdae61","fee08b","e6f598","abdda4","66c2a5","3288bd"],9:["d53e4f","f46d43","fdae61","fee08b","ffffbf","e6f598","abdda4","66c2a5","3288bd"],10:["9e0142","d53e4f","f46d43","fdae61","fee08b","e6f598","abdda4","66c2a5","3288bd","5e4fa2"],11:["9e0142","d53e4f","f46d43","fdae61","fee08b","ffffbf","e6f598","abdda4","66c2a5","3288bd","5e4fa2"]},RdYlGn:{type:"diverging",cbf:0,3:["fc8d59","ffffbf","91cf60"],4:["d7191c","fdae61","a6d96a","1a9641"],5:["d7191c","fdae61","ffffbf","a6d96a","1a9641"],6:["d73027","fc8d59","fee08b","d9ef8b","91cf60","1a9850"],7:["d73027","fc8d59","fee08b","ffffbf","d9ef8b","91cf60","1a9850"],8:["d73027","f46d43","fdae61","fee08b","d9ef8b","a6d96a","66bd63","1a9850"],9:["d73027","f46d43","fdae61","fee08b","ffffbf","d9ef8b","a6d96a","66bd63","1a9850"],10:["a50026","d73027","f46d43","fdae61","fee08b","d9ef8b","a6d96a","66bd63","1a9850","006837"],11:["a50026","d73027","f46d43","fdae61","fee08b","ffffbf","d9ef8b","a6d96a","66bd63","1a9850","006837"]},Accent:{type:"qualitative",cbf:0,3:["7fc97f","beaed4","fdc086"],4:["7fc97f","beaed4","fdc086","ffff99"],5:["7fc97f","beaed4","fdc086","ffff99","386cb0"],6:["7fc97f","beaed4","fdc086","ffff99","386cb0","f0027f"],7:["7fc97f","beaed4","fdc086","ffff99","386cb0","f0027f","bf5b17"],8:["7fc97f","beaed4","fdc086","ffff99","386cb0","f0027f","bf5b17","666666"]},Dark2:{type:"qualitative",cbf:3,3:["1b9e77","d95f02","7570b3"],4:["1b9e77","d95f02","7570b3","e7298a"],5:["1b9e77","d95f02","7570b3","e7298a","66a61e"],6:["1b9e77","d95f02","7570b3","e7298a","66a61e","e6ab02"],7:["1b9e77","d95f02","7570b3","e7298a","66a61e","e6ab02","a6761d"],8:["1b9e77","d95f02","7570b3","e7298a","66a61e","e6ab02","a6761d","666666"]},Paired:{type:"qualitative",cbf:4,3:["a6cee3","1f78b4","b2df8a"],4:["a6cee3","1f78b4","b2df8a","33a02c"],5:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99"],6:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c"],7:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f"],8:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00"],9:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6"],10:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6","6a3d9a"],11:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6","6a3d9a","ffff99"],12:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6","6a3d9a","ffff99","b15928"]},Pastel1:{type:"qualitative",cbf:0,3:["fbb4ae","b3cde3","ccebc5"],4:["fbb4ae","b3cde3","ccebc5","decbe4"],5:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6"],6:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc"],7:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc","e5d8bd"],8:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc","e5d8bd","fddaec"],9:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc","e5d8bd","fddaec","f2f2f2"]},Pastel2:{type:"qualitative",cbf:0,3:["b3e2cd","fdcdac","cbd5e8"],4:["b3e2cd","fdcdac","cbd5e8","f4cae4"],5:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9"],6:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9","fff2ae"],7:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9","fff2ae","f1e2cc"],8:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9","fff2ae","f1e2cc","cccccc"]},Set1:{type:"qualitative",cbf:0,3:["e41a1c","377eb8","4daf4a"],4:["e41a1c","377eb8","4daf4a","984ea3"],5:["e41a1c","377eb8","4daf4a","984ea3","ff7f00"],6:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33"],7:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33","a65628"],8:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33","a65628","f781bf"],9:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33","a65628","f781bf","999999"]},Set2:{type:"qualitative",cbf:3,3:["66c2a5","fc8d62","8da0cb"],4:["66c2a5","fc8d62","8da0cb","e78ac3"],5:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854"],6:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854","ffd92f"],7:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854","ffd92f","e5c494"],8:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854","ffd92f","e5c494","b3b3b3"]},Set3:{type:"qualitative",cbf:0,3:["8dd3c7","ffffb3","bebada"],4:["8dd3c7","ffffb3","bebada","fb8072"],5:["8dd3c7","ffffb3","bebada","fb8072","80b1d3"],6:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462"],7:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69"],8:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5"],9:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9"],10:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9","bc80bd"],11:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9","bc80bd","ccebc5"],12:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9","bc80bd","ccebc5","ffed6f"]}};for(B in N){var e=t.Scheme.fromPalettes("cb-"+B,[(e=N[B]).type,"cb-"+e.type],e,12,e.cbf);t.register(e)}H.exports&&(H.exports=t);var G=F(D.exports),V={_options:{id:null,labels:[],datasets:[],annotations:[],options:{lang:"en",dataUrl:null,width:null,height:null,title:{},enabled:{},legend:{},tooltip:{},theme:{},axis:{},style:{},events:{}}},_id:"",_container:null,_apex:null,_typeInstance:null,_events:{},_init:function(t){this._options=$.extend(!0,{},this._options,t),this._id=this._options.hasOwnProperty("id")&&"string"==typeof this._options.id&&this._options.id?this._options.id:y.hashCode(),this._options.datasets="object"===b(this._options.datasets)&&Array.isArray(this._options.datasets)?this._options.datasets:[],this._options.labels="object"===b(this._options.labels)&&Array.isArray(this._options.labels)?this._options.labels:[],this._options.annotations="object"===b(this._options.annotations)&&Array.isArray(this._options.annotations)?this._options.annotations:[]},render:function(t){var e='<div id="coreui-chart-'+this.getId()+'" class="coreui-chart"><div class="coreui-chart-container"></div></div>';if(void 0===t)return e;if("string"==typeof t){var i=document.getElementById(t);if(!i)return;this._container=i}else t instanceof HTMLElement&&(this._container=t);this._container&&($(this._container).append(e),this._container=document.querySelector("#coreui-chart-"+this.getId()+" > .coreui-chart-container")),this.initEvents()},initEvents:function(){var t,e,i,a;this._container||(this._container=document.querySelector("#coreui-chart-"+this.getId()+" > .coreui-chart-container")),this._container&&(t=this._getTypeChart(),s.type.hasOwnProperty(t)?(e={},e=this._options.hasOwnProperty("custom")&&y.isObject(this._options.custom)?this._options.custom:this._convertToApex(this._options),i="classic",a=[],a="custom"===(i=this._options.options.hasOwnProperty("theme")&&y.isObject(this._options.options.theme)&&this._options.options.theme.hasOwnProperty("colorScheme")&&"string"==typeof this._options.options.theme.colorScheme?this._options.options.theme.colorScheme:i)&&this._options.options.theme.hasOwnProperty("customColors")&&Array.isArray(this._options.options.theme.customColors)?this._options.options.theme.customColors:this._getColors(i),this._typeInstance=$.extend(!0,{},s.type[t]),this._typeInstance.init(this._options,e,a),this._apex=this._typeInstance.render(this._container),this._options.options.hasOwnProperty("dataUrl")&&"string"==typeof this._options.options.dataUrl&&this._options.options.dataUrl&&this.loadData(this._options.options.dataUrl),this._trigger("shown.coreui.chart")):console.error("Chart type not found: "+t))},getId:function(){return this._id},getOptions:function(){return $.extend(!0,{},this._options)},lock:function(t){var e=document.querySelector("#coreui-chart-"+this.getId());e&&!$(e).find(".coreui-chart-lock")[0]&&$(e).prepend('<div class="coreui-chart-lock"><div class="coreui-chart-message"><div class="spinner-border spinner-border-sm"></div> '+(t?"<span>"+t+"</span>":"")+"</span></div>")},unlock:function(){$("#coreui-chart-"+this.getId()+" > .coreui-chart-lock").fadeOut(50,function(){$(this).remove()})},loadData:function(t){this._trigger("load-data.coreui.chart",this,[this]),this._options.options.enabled.hasOwnProperty("preloader")&&!0!==this._options.options.enabled.preloader||this.lock(this.getLang().loading);var a=this;$.ajax({url:t,method:"get",dataType:"json",beforeSend:function(t){a._trigger("start-load-data.coreui.chart",a,[a,t])},success:function(t){a.clearDatasets(),t.hasOwnProperty("datasets")&&Array.isArray(t.datasets)&&a.addDatasets(t.datasets),a._trigger("success-load-data.coreui.chart",a,[a,t])},error:function(t,e,i){a._trigger("error-load-data.coreui.chart",a,[a,t,e,i])},complete:function(t,e){a.unlock(),a._trigger("end-load-data.coreui.chart",a,[a,t,e])}})},addDatasets:function(t){this._typeInstance&&"function"==typeof this._typeInstance.addDatasets&&this._typeInstance.addDatasets(t)},appendDataset:function(t){this._typeInstance&&"function"==typeof this._typeInstance.appendDataset&&this._typeInstance.appendDataset(t)},removeDataset:function(t){this._typeInstance&&"function"==typeof this._typeInstance.removeDataset&&this._typeInstance.removeDataset(t)},clearDatasets:function(){this._typeInstance&&"function"==typeof this._typeInstance.clearDatasets&&this._typeInstance.clearDatasets()},getDatasets:function(){var t=[];return t=this._typeInstance&&"function"==typeof this._typeInstance.getDatasets?this._typeInstance.getDatasets():t},getDataset:function(t){var e=null;return e=this._typeInstance&&"function"==typeof this._typeInstance.getDataset?this._typeInstance.getDataset(t):e},getAnnotations:function(){var t={};return t=this._typeInstance&&"function"==typeof this._typeInstance.getAnnotations?this._typeInstance.getAnnotations():t},getAnnotation:function(t){var e=null;return e=this._typeInstance&&"function"==typeof this._typeInstance.getAnnotation?this._typeInstance.getAnnotation(t):e},addAnnotation:function(t){var e=null;return e=this._typeInstance&&"function"==typeof this._typeInstance.addAnnotation?this._typeInstance.addAnnotation(t):e},removeAnnotation:function(t){this._typeInstance&&"function"==typeof this._typeInstance.removeAnnotation&&this._typeInstance.removeAnnotation(t)},clearAnnotations:function(){this._typeInstance&&"function"==typeof this._typeInstance.clearAnnotations&&this._typeInstance.clearAnnotations()},zoomX:function(t,e){this._apex.zoomX(t,e)},on:function(t,e,i,a){"object"!==b(this._events[t])&&(this._events[t]=[]),this._events[t].push({context:i||this,callback:e,singleExec:!!a})},destruct:function(){this._apex.destroy(),delete y._instances[this.getId()]},getLang:function(){return s.lang.hasOwnProperty(this._options.options.lang)?s.lang[this._options.options.lang]:s.lang.en},_trigger:function(t,e,i){i=i||[];var a=[];if(this._events[t]instanceof Object&&0<this._events[t].length)for(var s=0;s<this._events[t].length;s++){var o=this._events[t][s].callback;e=e||this._events[t][s].context,a.push(o.apply(e,i)),this._events[t][s].singleExec&&this._events[t].splice(s,1)}return a},_convertToApex:function(a){var t,e=this,i={series:[],annotations:{yaxis:[],xaxis:[],points:[]},theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},chart:{sparkline:{enabled:!1},zoom:{enabled:!1},animations:{enabled:!1},toolbar:{show:!1,tools:{zoom:!0,zoomin:!0,zoomout:!0,pan:!1,reset:!1}},events:{mouseMove:function(t,e,i){var a,s;i.globals.tooltip.hasOwnProperty("tooltipRect")&&(s=i.globals.dom.elWrap.getBoundingClientRect(),a=i.globals.clientX-s.left-i.globals.tooltip.tooltipRect.ttWidth/2,s=i.globals.clientY-s.top-i.globals.tooltip.tooltipRect.ttHeight/2,e=e.el.querySelector("#apexcharts"+i.globals.chartID+" > .apexcharts-tooltip"),a>i.globals.gridWidth/2?(e.classList.add("apexcharts-tooltip-left"),e.classList.remove("apexcharts-tooltip-right")):(e.classList.remove("apexcharts-tooltip-left"),e.classList.add("apexcharts-tooltip-right")),s>i.globals.gridHeight/3.3?(e.classList.add("apexcharts-tooltip-top"),e.classList.remove("apexcharts-tooltip-bottom")):(e.classList.remove("apexcharts-tooltip-top"),e.classList.add("apexcharts-tooltip-bottom")))}}},title:{text:void 0,align:"left",style:{fontSize:"14px",fontWeight:"bold",fontFamily:'"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"',color:"#333"}},subtitle:{text:void 0,align:"left",margin:5,style:{fontSize:"12px",fontWeight:"normal",fontFamily:'"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"',color:"#666"}},stroke:{width:[],curve:[],dashArray:[]},legend:{show:!0,position:"bottom",horizontalAlign:"left",markers:{width:12,height:4,radius:1,onClick:void 0,offsetY:-2}},markers:{size:[],strokeWidth:1,strokeOpacity:.5,shape:"circle",hover:{size:5,sizeOffset:5}},dataLabels:{enabled:!1,enabledOnSeries:[],style:{colors:[]}},fill:{type:[],opacity:[],gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:[],opacityTo:0,stops:[40,100,100,100]}},plotOptions:{bar:{borderRadius:0,horizontal:!1,columnWidth:"70%",barHeight:"70%",dataLabels:{total:{enabled:!1}}},pie:{startAngle:0,endAngle:360,donut:{size:"65%",labels:{value:{show:!1},total:{show:!1,showAlways:!1,label:"Total"}}}},radialBar:{startAngle:0,endAngle:360,hollow:{size:"40%"},track:{show:!0,background:"#f2f2f2",dropShadow:{enabled:!1,top:0,left:0,blur:3,opacity:.15}},dataLabels:{name:{offsetY:void 0},value:{show:!1,fontSize:"22px",offsetY:void 0},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400}}},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#5C4742",lower:"#A5978B"}}},colors:[],tooltip:{enabled:!0,followCursor:!0,shared:!0,intersect:!1,style:{fontSize:"12px"},x:{formatter:function(t){return"string"==typeof t?t:this?this.hasOwnProperty("categoryLabels")&&this.categoryLabels.hasOwnProperty(t-1)&&void 0!==this.categoryLabels[t-1]?this.categoryLabels[t-1]:null:void 0}},y:{formatter:void 0}},grid:{show:!0,borderColor:"#f5f5f5",strokeDashArray:0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},yaxis:{opposite:!1,logarithmic:!1,logBase:10,tooltip:{enabled:!1},axisBorder:{show:!1,color:"#78909C"},axisTicks:{show:!1,borderType:"solid",color:"#78909C",width:6,offsetX:0,offsetY:0},title:{text:void 0,style:{color:"#78909C",fontSize:"12px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:600,cssClass:"apexcharts-yaxis-title"}},labels:{style:{colors:"#78909C"}}},xaxis:{type:"category",categories:[],tooltip:{enabled:!1},axisBorder:{show:!1,color:"#78909C"},axisTicks:{show:!1,borderType:"solid",color:"#78909C",width:6,offsetX:0,offsetY:0},title:{text:void 0,style:{color:"#78909C",fontSize:"12px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:600,cssClass:"apexcharts-yaxis-title"}},labels:{style:{colors:"#78909C"}},crosshairs:{show:!0,width:1,position:"back",opacity:1,stroke:{color:"#666",width:1,dashArray:3}}}};return a.hasOwnProperty("labels")&&y.isArray(a.labels)&&(i.labels=a.labels),a.hasOwnProperty("options")&&y.isObject(a.options)&&(a.options.hasOwnProperty("lang")&&(i.chart.defaultLocale=a.options.lang,i.chart.locales=[{name:a.options.lang,options:this.getLang()}]),a.options.hasOwnProperty("width")&&0<=["string","number"].indexOf(b(a.options.width))&&(i.chart.width=a.options.width),a.options.hasOwnProperty("height")&&0<=["string","number"].indexOf(b(a.options.height))&&(i.chart.height=a.options.height),a.options.hasOwnProperty("title")&&y.isObject(a.options.title)&&e._setOptionsTitle(i,a.options.title),a.options.hasOwnProperty("legend")&&y.isObject(a.options.legend)&&(t=a.options.hasOwnProperty("title")?a.options.title:{},e._setOptionsLegend(i,a.options.legend,t)),a.options.hasOwnProperty("enabled")&&y.isObject(a.options.enabled)&&e._setOptionsEnabled(i,a.options.enabled),a.options.hasOwnProperty("tooltip")&&y.isObject(a.options.tooltip)&&e._setOptionsTooltip(i,a.options.tooltip),a.options.hasOwnProperty("axis")&&y.isObject(a.options.axis)&&e._setOptionsAxis(i,a.options.axis),a.options.hasOwnProperty("theme")&&y.isObject(a.options.theme)&&e._setOptionsTheme(i,a.options.theme),a.options.hasOwnProperty("events"))&&y.isObject(a.options.events)&&(a.options.events.hasOwnProperty("markerClick")&&("function"==typeof a.options.events.markerClick?i.chart.events.markerClick=function(t,e,i){a.options.events.markerClick(t,e,i)}:"string"==typeof a.options.events.markerClick&&"function"==typeof(t=y.getFunctionByName(a.options.events.markerClick))&&(i.chart.events.markerClick=t)),a.options.events.hasOwnProperty("legendClick")&&("function"==typeof a.options.events.legendClick?i.chart.events.legendClick=function(t,e){a.options.events.legendClick(t,e)}:"string"==typeof a.options.events.legendClick&&"function"==typeof(e=y.getFunctionByName(a.options.events.legendClick))&&(i.chart.events.legendClick=e)),a.options.events.hasOwnProperty("zoomed"))&&("function"==typeof a.options.events.zoomed?i.chart.events.zoomed=function(t,e){a.options.events.zoomed(t,e)}:"string"==typeof a.options.events.zoomed&&"function"==typeof(t=y.getFunctionByName(a.options.events.zoomed))&&(i.chart.events.zoomed=t)),i},_getTypeChart:function(){var t=this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("type")&&"string"==typeof this._options.options.type?this._options.options.type:"line";return t=["line","hBar","pie","radar","rangeArea","rangeBar","polarArea","candlestick","box"].indexOf(t)<=0?"line":this._options.options.type},_getColors:function(i){var a=null;return a="classic"===(i=i||"classic")||null===(a=G(i,65))&&($.each(G.listSchemes("all"),function(t,e){if(e.scheme_name===i)return a=G(i,e.max),!1}),null===a)?y.getPaletteClassic():a},_setOptionsTitle:function(t,e){e.hasOwnProperty("text")&&"string"==typeof e.text&&(t.title.text=e.text),e.hasOwnProperty("align")&&"string"==typeof e.align&&(t.title.align=e.align),e.hasOwnProperty("fontSize")&&"string"==typeof e.fontSize&&(t.title.style.fontSize=e.fontSize),e.hasOwnProperty("fontWeight")&&"string"==typeof e.fontWeight&&(t.title.style.fontWeight=e.fontWeight),e.hasOwnProperty("fontFamily")&&"string"==typeof e.fontFamily&&(t.title.style.fontFamily=e.fontFamily),e.hasOwnProperty("color")&&"string"==typeof e.color&&(t.title.style.color=e.color),e.hasOwnProperty("description")&&y.isObject(e.description)&&(e.description.hasOwnProperty("text")&&"string"==typeof e.description.text&&(t.subtitle.text=e.description.text),e.description.hasOwnProperty("align")&&"string"==typeof e.description.align&&(t.subtitle.align=e.description.align),e.description.hasOwnProperty("fontSize")&&"string"==typeof e.description.fontSize&&(t.subtitle.style.fontSize=e.description.fontSize),e.description.hasOwnProperty("fontWeight")&&"string"==typeof e.description.fontWeight&&(t.subtitle.style.fontWeight=e.description.fontWeight),e.description.hasOwnProperty("fontFamily")&&"string"==typeof e.description.fontFamily&&(t.subtitle.style.fontFamily=e.description.fontFamily),e.description.hasOwnProperty("color"))&&"string"==typeof e.description.color&&(t.subtitle.style.color=e.description.color)},_setOptionsLegend:function(t,e,i){var a;e.hasOwnProperty("position")&&"string"==typeof e.position&&(t.legend.position=e.position),e.hasOwnProperty("horizontalAlign")&&"string"==typeof e.horizontalAlign&&(t.legend.horizontalAlign=e.horizontalAlign,0<=["left","right"].indexOf(e.position)&&y.isObject(i)&&(i.hasOwnProperty("text")&&"string"==typeof i.text&&i.text||i.description.hasOwnProperty("text")&&"string"==typeof i.description.text&&i.description.text)?(a=0,i.hasOwnProperty("text")&&"string"==typeof i.text&&i.text&&(a+=20),i.description.hasOwnProperty("text")&&"string"==typeof i.description.text&&i.description.text&&(a+=20),t.legend.offsetY=a):"top"===e.position&&(t.legend.offsetY=0))},_setOptionsEnabled:function(t,e){e.hasOwnProperty("animations")&&"boolean"==typeof e.animations&&(t.chart.animations.enabled=e.animations),e.hasOwnProperty("zoom")&&"boolean"==typeof e.zoom&&(t.chart.zoom.enabled=e.zoom),e.hasOwnProperty("toolbar")&&"boolean"==typeof e.toolbar&&(t.chart.toolbar.show=e.toolbar),e.hasOwnProperty("minimize")&&"boolean"==typeof e.minimize&&(t.chart.sparkline.enabled=e.minimize),e.hasOwnProperty("legend")&&"boolean"==typeof e.legend&&(t.legend.show=e.legend),e.hasOwnProperty("labels")&&"boolean"==typeof e.labels&&(t.dataLabels.enabled=e.labels),e.hasOwnProperty("tooltip")&&"boolean"==typeof e.tooltip&&(t.tooltip.enabled=e.tooltip)},_setOptionsTooltip:function(t,e){var i,a,s;e.hasOwnProperty("mode")&&"string"==typeof e.mode&&("all"===e.mode?(t.tooltip.shared=!0,t.tooltip.intersect=!1):"single"===e.mode&&(t.tooltip.shared=!1,t.tooltip.intersect=!0)),e.hasOwnProperty("formatter")?"function"==typeof e.formatter?t.tooltip.y.formatter=e.formatter:"string"==typeof e.formatter&&"function"==typeof(i=y.getFunctionByName(e.formatter))&&(t.tooltip.y.formatter=i):(e.hasOwnProperty("valueSuffix")&&"string"==typeof e.valueSuffix||e.hasOwnProperty("valuePrefix")&&"string"==typeof e.valuePrefix)&&(s=a="",e.hasOwnProperty("valueSuffix")&&"string"==typeof e.valueSuffix&&(a=e.valueSuffix),e.hasOwnProperty("valuePrefix")&&"string"==typeof e.valuePrefix&&(s=e.valuePrefix),t.tooltip.y.formatter=function(t,e){return s+t+a})},_setOptionsAxis:function(t,e){e.hasOwnProperty("xaxis")&&y.isObject(e.xaxis)&&(e.xaxis.hasOwnProperty("show")&&"boolean"==typeof e.xaxis.show&&(t.xaxis.show=e.xaxis.show),e.xaxis.hasOwnProperty("title")&&"string"==typeof e.xaxis.title&&(t.xaxis.title.text=e.xaxis.title),e.xaxis.hasOwnProperty("type")&&"string"==typeof e.xaxis.type&&(t.xaxis.type=e.xaxis.type),e.xaxis.hasOwnProperty("position")&&"string"==typeof e.xaxis.position&&(t.xaxis.position=e.xaxis.position),e.xaxis.hasOwnProperty("border")&&"boolean"==typeof e.xaxis.border&&(t.xaxis.axisBorder.show=e.xaxis.border,t.xaxis.axisTicks.show=e.xaxis.border),e.xaxis.hasOwnProperty("color"))&&"string"==typeof e.xaxis.color&&(t.xaxis.axisBorder.color=e.xaxis.color,t.xaxis.axisTicks.color=e.xaxis.color,t.xaxis.title.style.color=e.xaxis.color,t.xaxis.labels.style.colors=e.xaxis.color),e.hasOwnProperty("yaxis")&&y.isObject(e.yaxis)&&(e.yaxis.hasOwnProperty("show")&&"boolean"==typeof e.xaxis.show&&(t.yaxis.show=e.yaxis.show),e.yaxis.hasOwnProperty("logarithmic")&&"boolean"==typeof e.yaxis.logarithmic&&(t.yaxis.logarithmic=e.yaxis.logarithmic),e.yaxis.hasOwnProperty("title")&&"string"==typeof e.yaxis.title&&(t.yaxis.title.text=e.yaxis.title),e.yaxis.hasOwnProperty("position")&&"string"==typeof e.yaxis.position&&(t.yaxis.opposite="right"===e.yaxis.position),e.yaxis.hasOwnProperty("logBase")&&"number"==typeof e.yaxis.logBase&&(t.yaxis.logBase=e.yaxis.logBase),e.yaxis.hasOwnProperty("min")&&"number"==typeof e.yaxis.min&&(t.yaxis.min=e.yaxis.min),e.yaxis.hasOwnProperty("max")&&"number"==typeof e.yaxis.max&&(t.yaxis.max=e.yaxis.max),e.yaxis.hasOwnProperty("border")&&"boolean"==typeof e.yaxis.border&&(t.yaxis.axisBorder.show=e.yaxis.border,t.yaxis.axisTicks.show=e.yaxis.border),e.yaxis.hasOwnProperty("color"))&&"string"==typeof e.yaxis.color&&(t.yaxis.axisBorder.color=e.yaxis.color,t.yaxis.axisTicks.color=e.yaxis.color,t.yaxis.title.style.color=e.yaxis.color,t.yaxis.labels.style.colors=e.yaxis.color),e.hasOwnProperty("grid")&&y.isObject(e.grid)&&(e.grid.hasOwnProperty("show")&&"boolean"==typeof e.grid.show&&(t.grid.show=e.grid.show),e.grid.hasOwnProperty("xLines")&&"boolean"==typeof e.grid.xLines&&(t.grid.xaxis.lines.show=e.grid.xLines),e.grid.hasOwnProperty("yLines")&&"boolean"==typeof e.grid.yLines&&(t.grid.yaxis.lines.show=e.grid.yLines),e.grid.hasOwnProperty("dash")&&"number"==typeof e.grid.dash&&(t.grid.strokeDashArray=e.grid.dash),e.grid.hasOwnProperty("color"))&&"string"==typeof e.grid.color&&(t.grid.borderColor=e.grid.color)},_setOptionsTheme:function(t,e){e.hasOwnProperty("mode")&&"string"==typeof e.mode&&(t.theme.mode=e.mode),e.hasOwnProperty("colorScheme")&&"string"==typeof e.colorScheme&&("monochrome"===e.colorScheme?(t.theme.monochrome.enabled=!0,t.theme.palette=null):t.theme.palette=e.colorScheme),e.hasOwnProperty("monochromeColor")&&"string"==typeof e.monochromeColor&&(t.theme.monochrome.color=e.monochromeColor),e.hasOwnProperty("background")&&"string"==typeof e.background&&(t.chart.background=e.background)}},s={lang:{},type:{},_instances:{},_settings:{lang:"en"},create:function(t){var e=$.extend(!0,{},V),t=(t.hasOwnProperty("lang")||(t.lang=s.getSetting("lang")),e._init(t instanceof Object?t:{}),e.getId());return this._instances[t]=e},get:function(t){return this._instances.hasOwnProperty(t)?$("#coreui-chart-"+t)[0]?(delete this._instances[t],null):this._instances[t]:null},setSettings:function(t){this._settings=$.extend({},this._settings,t)},getSetting:function(t){var e=null;return e=this._settings.hasOwnProperty(t)?this._settings[t]:e}};function j(e,t){var i,a=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)),a}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach(function(t){I(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,i){e&&U(t.prototype,e),i&&U(t,i)}function I(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=q(i),e=(t=a?(t=q(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(!t||"object"!=typeof t&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=e))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,s,o=[],n=!0,r=!1;try{for(i=i.call(t);!(n=(a=i.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return o}}(t,e)||Q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){var i;if(t)return"string"==typeof t?K(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?K(t,e):void 0}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}o(l,[{key:"shadeRGBColor",value:function(t,e){var e=e.split(","),i=t<0?0:255,t=t<0?-1*t:t,a=parseInt(e[0].slice(4),10),s=parseInt(e[1],10),e=parseInt(e[2],10);return"rgb("+(Math.round((i-a)*t)+a)+","+(Math.round((i-s)*t)+s)+","+(Math.round((i-e)*t)+e)+")"}},{key:"shadeHexColor",value:function(t,e){var e=parseInt(e.slice(1),16),i=t<0?0:255,t=t<0?-1*t:t,a=e>>16,s=e>>8&255,e=255&e;return"#"+(16777216+65536*(Math.round((i-a)*t)+a)+256*(Math.round((i-s)*t)+s)+(Math.round((i-e)*t)+e)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,e){return l.isColorHex(e)?this.shadeHexColor(t,e):this.shadeRGBColor(t,e)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===m(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e}},{key:"extend",value:function(e,i){var a=this,s=("function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(e[s]=a[s])}return e}),Object.assign({},e));return this.isObject(e)&&this.isObject(i)&&Object.keys(i).forEach(function(t){a.isObject(i[t])&&t in e?s[t]=a.extend(e[t],i[t]):Object.assign(s,I({},t,i[t]))}),s}},{key:"extendArray",value:function(t,e){var i=[];return t.map(function(t){i.push(l.extend(e,t))}),i}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){if(l.is("Array",t)){for(var e=[],i=0;i<t.length;i++)e[i]=this.clone(t[i]);return e}if(l.is("Null",t))return null;if(l.is("Date",t))return t;if("object"!==m(t))return t;var a,s={};for(a in t)t.hasOwnProperty(a)&&(s[a]=this.clone(t[a]));return s}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"stripNumber",value:function(t){return parseFloat(t.toPrecision(1<arguments.length&&void 0!==arguments[1]?arguments[1]:2))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",t=t<0?"-":"",a=e[0].replace(".",""),s=Number(e[1])+1;if(s<0){for(i=t+"0.";s++;)i+="0";return i+a.replace(/^-/,"")}for(s-=a.length;s--;)i+="0";return a+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,t=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce(function(t,e){return Array.isArray(e)&&(e=e.reduce(function(t,e){return t.length>e.length?t:e})),t.length>e.length?t:e},0)}},{key:"hexToRgba",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#999999",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.6,i=(i=(t="#"!==t.substring(0,1)?"#999999":t).replace("#","")).match(new RegExp("(.{"+i.length/3+"})","g")),a=0;a<i.length;a++)i[a]=parseInt(1===i[a].length?i[a]+i[a]:i[a],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],a=2*Math.PI/e,s=0;s<e;s++){var o={};o.x=t*Math.sin(s*a),o.y=-t*Math.cos(s*a),i.push(o)}return i}},{key:"polarToCartesian",value:function(t,e,i,a){a=(a-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}},{key:"escapeString",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"x",t=t.toString().slice();return t.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var a=i-t.length+1;a--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||-1<window.navigator.appVersion.indexOf("Trident/"))return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");return 0<e?parseInt(t.substring(e+5,t.indexOf(".",e)),10):0<t.indexOf("Trident/")?(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10)):0<(e=t.indexOf("Edge/"))&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}}]);var M=l,A=(o(dt,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":default:t="<>";break;case"swing":t=function(t){return--t*t*(2.70158*t+1.70158)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,a){t.attr(e).animate(a).attr(i)}},{key:"animateMarker",value:function(t,e,i,a,s,o){t.attr({r:e=e||0,width:e,height:e}).animate(a,s).attr({r:i,width:i.width,height:i.height}).afterAll(function(){o()})}},{key:"animateCircle",value:function(t,e,i,a,s){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(a,s).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,a,s){t.attr(e).animate(a).attr(i).afterAll(function(){return s()})}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,a=t.j,s=t.fill,o=t.pathFrom,n=t.pathTo,r=t.speed,t=t.delay,l=this.w,h=0;l.config.chart.animations.animateGradually.enabled&&(h=l.config.chart.animations.animateGradually.delay),l.config.chart.animations.dynamicAnimation.enabled&&l.globals.dataChanged&&"bar"!==l.config.chart.type&&(h=0),this.morphSVG(e,i,a,"line"!==l.config.chart.type||l.globals.comboCharts?s:"stroke",o,n,r,t*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(t){t=t.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,a,s,o,n,r){function l(t){return"radar"===c.config.chart.type&&(n=1),"M 0 ".concat(c.globals.gridHeight)}var h=this,c=this.w;s=s||t.attr("pathFrom"),o=o||t.attr("pathTo");(!s||-1<s.indexOf("undefined")||-1<s.indexOf("NaN"))&&(s=l()),(!o||-1<o.indexOf("undefined")||-1<o.indexOf("NaN"))&&(o=l()),c.globals.shouldAnimate||(n=1),t.plot(s).animate(1,c.globals.easing,r).plot(s).animate(n,c.globals.easing,r).plot(o).afterAll(function(){M.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&h.animationCompleted(t):"none"!==a&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&h.animationCompleted(t),h.showDelayedElements()})}}]),dt),P=(o(ct,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,i,e){var a=this,s=this.w,o=e.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(t){var e=s.config.chart.dropShadow;(e.enabled?a.addShadow(t,i,e):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,i,e){var a=this,s=this.w,o=e.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(t){var e=s.config.chart.dropShadow;(e.enabled?a.addShadow(t,i,e):t).componentTransfer({rgb:{type:"linear",slope:o}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:a});break;case"darken":this.addDarkenFilter(t,e,{intensity:a})}}},{key:"addShadow",value:function(t,e,i){var a=i.blur,s=i.top,o=i.left,n=i.color,i=i.opacity,e=t.flood(Array.isArray(n)?n[e]:n,i).composite(t.sourceAlpha,"in").offset(o,s).gaussianBlur(a).merge(t.source);return t.blend(t.source,e)}},{key:"dropShadow",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=e.top,s=e.left,o=e.blur,n=e.color,r=e.opacity,e=e.noUserSpaceOnUse,l=this.w;return t.unfilter(!0),M.isIE()&&"radialBar"===l.config.chart.type||(n=Array.isArray(n)?n[i]:n,t.filter(function(t){var e=M.isSafari()||M.isFirefox()||M.isIE()?t.flood(n,r).composite(t.sourceAlpha,"in").offset(s,a).gaussianBlur(o):t.flood(n,r).composite(t.sourceAlpha,"in").offset(s,a).gaussianBlur(o).merge(t.source);t.blend(t.source,e)}),e||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var a=this.w;void 0!==a.globals.selectedDataPoints[e]&&-1<a.globals.selectedDataPoints[e].indexOf(i)&&(t.node.setAttribute("selected",!0),"none"!==(i=a.config.states.active.filter))&&this.applyFilter(t,e,i.type,i.value)}},{key:"_scaleFilterSize",value:function(t){var e,i={width:"200%",height:"200%",x:"-50%",y:"-50%"};for(e in i)i.hasOwnProperty(e)&&t.setAttribute(e,i[e])}}]),ct),E=(o(ht,[{key:"roundPathCorners",value:function(t,e){function i(t,e,i){var a=e.x-t.x,s=e.y-t.y,a=Math.sqrt(a*a+s*s);return o(t,e,Math.min(1,i/a))}function o(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function a(t,e){2<t.length&&(t[t.length-2]=e.x,t[t.length-1]=e.y)}function s(t){return{x:parseFloat(t[t.length-2]),y:parseFloat(t[t.length-1])}}var n=(t=-1<t.indexOf("NaN")?"":t).split(/[,\s]/).reduce(function(t,e){var i=e.match("([a-zA-Z])(.+)");return i?(t.push(i[1]),t.push(i[2])):t.push(e),t},[]).reduce(function(t,e){return parseFloat(e)==e&&t.length?t[t.length-1].push(e):t.push([e]),t},[]),r=[];if(1<n.length){var t=s(n[0]),l=null;"Z"==n[n.length-1][0]&&2<n[0].length&&(l=["L",t.x,t.y],n[n.length-1]=l),r.push(n[0]);for(var h=1;h<n.length;h++){var c,d,p=r[r.length-1],f=n[h],g=f==l?n[1]:n[h+1];g&&p&&2<p.length&&"L"==f[0]&&2<g.length&&"L"==g[0]?(p=s(p),c=s(f),g=s(g),p=i(c,p,e),g=i(c,g,e),a(f,p),f.origPoint=c,r.push(f),p=o(p,c,.5),d=o(c,g,.5),(p=["C",p.x,p.y,d.x,d.y,g.x,g.y]).origPoint=c,r.push(p)):r.push(f)}l&&(t=s(r[r.length-1]),r.push(["Z"]),a(r[0],t))}else r=n;return r.reduce(function(t,e){return t+e.join(" ")+" "},"")}},{key:"drawLine",value:function(t,e,i,a){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,n=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null,r=7<arguments.length&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:a,stroke:s,"stroke-dasharray":o,"stroke-width":n,"stroke-linecap":r})}},{key:"drawRect",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"#fefefe",n=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1,r=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null,l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:null,h=9<arguments.length&&void 0!==arguments[9]?arguments[9]:0,c=this.w.globals.dom.Paper.rect();return c.attr({x:t,y:e,width:0<i?i:0,height:0<a?a:0,rx:s,ry:s,opacity:n,"stroke-width":null!==r?r:0,stroke:null!==l?l:"none","stroke-dasharray":h}),c.node.setAttribute("fill",o),c}},{key:"drawPolygon",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(t).attr({fill:a,stroke:e,"stroke-width":i})}},{key:"drawCircle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=this.w.globals.dom.Paper.circle(2*(t=t<0?0:t));return null!==e&&t.attr(e),t}},{key:"drawPath",value:function(t){var e=t.d,e=void 0===e?"":e,i=t.stroke,i=void 0===i?"#a8a8a8":i,a=t.strokeWidth,a=void 0===a?1:a,s=t.fill,o=t.fillOpacity,o=void 0===o?1:o,n=t.strokeOpacity,n=void 0===n?1:n,r=t.classes,l=t.strokeLinecap,l=void 0===l?null:l,t=t.strokeDashArray,t=void 0===t?0:t,h=this.w;return null===l&&(l=h.config.stroke.lineCap),(-1<e.indexOf("undefined")||-1<e.indexOf("NaN"))&&(e="M 0 ".concat(h.globals.gridHeight)),h.globals.dom.Paper.path(e).attr({fill:s,"fill-opacity":o,stroke:i,"stroke-opacity":n,"stroke-linecap":l,"stroke-width":a,"stroke-dasharray":t,class:r})}},{key:"group",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=this.w.globals.dom.Paper.group();return null!==t&&e.attr(t),e}},{key:"move",value:function(t,e){return["M",t,e].join(" ")}},{key:"line",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=null;return null===i?a=[" L",t,e].join(" "):"H"===i?a=[" H",t].join(" "):"V"===i&&(a=[" V",e].join(" ")),a}},{key:"curve",value:function(t,e,i,a,s,o){return["C",t,e,i,a,s,o].join(" ")}},{key:"quadraticCurve",value:function(t,e,i,a){return["Q",t,e,i,a].join(" ")}},{key:"arc",value:function(t,e,i,a,s,o,n){var r="A";return[r=7<arguments.length&&void 0!==arguments[7]&&arguments[7]?"a":r,t,e,i,a,s,o,n].join(" ")}},{key:"renderPaths",value:function(t){var e=t.j,i=t.realIndex,a=t.pathFrom,s=t.pathTo,o=t.stroke,n=t.strokeWidth,r=t.strokeLinecap,l=t.fill,h=t.animationDelay,c=t.initialSpeed,d=t.dataChangeSpeed,p=t.className,f=t.shouldClipToGrid,f=void 0===f||f,g=t.bindEventsOnPaths,g=void 0===g||g,t=t.drawShadow,t=void 0===t||t,u=this.w,x=new P(this.ctx),b=new A(this.ctx),y=this.w.config.chart.animations.enabled,m=y&&this.w.config.chart.animations.dynamicAnimation.enabled,v=!!(y&&!u.globals.resized||m&&u.globals.dataChanged&&u.globals.shouldAnimate),w=(v?k=a:(k=s,u.globals.animationEnded=!0),u.config.stroke.dashArray),w=Array.isArray(w)?w[i]:u.config.stroke.dashArray,k=this.drawPath({d:k,stroke:o,strokeWidth:n,fill:l,fillOpacity:1,classes:p,strokeLinecap:r,strokeDashArray:w}),p=(k.attr("index",i),f&&k.attr({"clip-path":"url(#gridRectMask".concat(u.globals.cuid,")")}),"none"!==u.config.states.normal.filter.type?x.getDefaultFilter(k,i):u.config.chart.dropShadow.enabled&&t&&(!u.config.chart.dropShadow.enabledOnSeries||u.config.chart.dropShadow.enabledOnSeries&&-1!==u.config.chart.dropShadow.enabledOnSeries.indexOf(i))&&(o=u.config.chart.dropShadow,x.dropShadow(k,o,i)),g&&(k.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,k)),k.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,k)),k.node.addEventListener("mousedown",this.pathMouseDown.bind(this,k))),k.attr({pathTo:s,pathFrom:a}),{el:k,j:e,realIndex:i,pathFrom:a,pathTo:s,fill:l,strokeWidth:n,delay:h});return!y||u.globals.resized||u.globals.dataChanged?!u.globals.resized&&u.globals.dataChanged||b.showDelayedElements():b.animatePathsGradually(z(z({},p),{},{speed:c})),u.globals.dataChanged&&m&&v&&b.animatePathsGradually(z(z({},p),{},{speed:d})),k}},{key:"drawPattern",value:function(e,i,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(i,a,function(t){"horizontalLines"===e?t.line(0,0,a,0).stroke({color:s,width:o+1}):"verticalLines"===e?t.line(0,0,0,i).stroke({color:s,width:o+1}):"slantedLines"===e?t.line(0,0,i,a).stroke({color:s,width:o}):"squares"===e?t.rect(i,a).fill("none").stroke({color:s,width:o}):"circles"===e&&t.circle(i).fill("none").stroke({color:s,width:o})})}},{key:"drawGradient",value:function(t,e,i,a,s){var o,n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null,l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null,h=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0,c=this.w,d=(e.length<9&&0===e.indexOf("#")&&(e=M.hexToRgba(e,a)),i.length<9&&0===i.indexOf("#")&&(i=M.hexToRgba(i,s)),0),p=1,f=1,g=null,r=(null!==r&&(d=void 0!==r[0]?r[0]/100:0,p=void 0!==r[1]?r[1]/100:1,f=void 0!==r[2]?r[2]/100:1,g=void 0!==r[3]?r[3]/100:null),!("donut"!==c.config.chart.type&&"pie"!==c.config.chart.type&&"polarArea"!==c.config.chart.type&&"bubble"!==c.config.chart.type)),u=null===l||0===l.length?c.globals.dom.Paper.gradient(r?"radial":"linear",function(t){t.at(d,e,a),t.at(p,i,s),t.at(f,i,s),null!==g&&t.at(g,e,a)}):c.globals.dom.Paper.gradient(r?"radial":"linear",function(e){(Array.isArray(l[h])?l[h]:l).forEach(function(t){e.at(t.offset/100,t.color,t.opacity)})});return r?(r=c.globals.gridWidth/2,o=c.globals.gridHeight/2,"bubble"!==c.config.chart.type?u.attr({gradientUnits:"userSpaceOnUse",cx:r,cy:o,r:n}):u.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})):"vertical"===t?u.from(0,0).to(0,1):"diagonal"===t?u.from(0,0).to(1,1):"horizontal"===t?u.from(0,1).to(1,1):"diagonal2"===t&&u.from(1,0).to(0,1),u}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,a=t.fontSize,t=t.fontFamily,a=this.getTextRects(e,a,t),t=a.width/e.length,t=Math.floor(i/t);return i<a.width?e.slice(0,t-3)+"...":e}},{key:"drawText",value:function(t){var i=this,e=t.x,a=t.y,s=t.text,o=t.textAnchor,n=t.fontSize,r=t.fontFamily,l=t.fontWeight,h=t.foreColor,c=t.opacity,d=t.maxWidth,p=t.cssClass,p=void 0===p?"":p,t=t.isPlainText,t=void 0===t||t,f=this.w,g=s=void 0===s?"":s,o=o||"start",r=(h&&h.length||(h=f.config.chart.foreColor),r||f.config.chart.fontFamily),l=l||"regular",u={maxWidth:d,fontSize:n=n||"11px",fontFamily:r},t=Array.isArray(s)?f.globals.dom.Paper.text(function(t){for(var e=0;e<s.length;e++)g=s[e],d&&(g=i.getTextBasedOnMaxWidth(z({text:s[e]},u))),0===e?t.tspan(g):t.tspan(g).newLine()}):(d&&(g=this.getTextBasedOnMaxWidth(z({text:s},u))),t?f.globals.dom.Paper.plain(s):f.globals.dom.Paper.text(function(t){return t.tspan(g)}));return t.attr({x:e,y:a,"text-anchor":o,"dominant-baseline":"auto","font-size":n,"font-family":r,"font-weight":l,fill:h,class:"apexcharts-text "+p}),t.node.style.fontFamily=r,t.node.style.opacity=c,t}},{key:"drawMarker",value:function(t,e,i){t=t||0;var a,s,o=i.pSize||0,n=null;return"square"===i.shape||"rect"===i.shape?(s=void 0===i.pRadius?o/2:i.pRadius,null!==e&&o||(s=o=0),(s=this.drawRect(a=1.2*o+s,a,a,a,s)).attr({x:t-a/2,y:e-a/2,cx:t,cy:e,class:i.class||"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity||1,stroke:i.pointStrokeColor,"stroke-width":i.pointStrokeWidth||0,"stroke-opacity":i.pointStrokeOpacity||1}),n=s):"circle"!==i.shape&&i.shape||(M.isNumber(e)||(e=o=0),n=this.drawCircle(o,{cx:t,cy:e,class:i.class||"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity||1,"stroke-width":i.pointStrokeWidth||0,"stroke-opacity":i.pointStrokeOpacity||1})),n}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,a=new P(this.ctx),s=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:s,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:s,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"===i.config.states.hover.filter.type||i.globals.isTouchDevice||(e=i.config.states.hover.filter,a.applyFilter(t,s,e.type,e.value))}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,a=new P(this.ctx),s=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:s,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:s,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&a.getDefaultFilter(t,s)}},{key:"pathMouseDown",value:function(t,e){var i,a,s,o,n=this.w,r=new P(this.ctx),l=parseInt(t.node.getAttribute("index"),10),h=parseInt(t.node.getAttribute("j"),10),c="false";"true"===t.node.getAttribute("selected")?(t.node.setAttribute("selected","false"),-1<n.globals.selectedDataPoints[l].indexOf(h)&&(s=n.globals.selectedDataPoints[l].indexOf(h),n.globals.selectedDataPoints[l].splice(s,1))):(!n.config.states.active.allowMultipleDataPointsSelection&&0<n.globals.selectedDataPoints.length&&(n.globals.selectedDataPoints=[],s=n.globals.dom.Paper.select(".apexcharts-series path").members,i=n.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,(a=function(t){Array.prototype.forEach.call(t,function(t){t.node.setAttribute("selected","false"),r.getDefaultFilter(t,l)})})(s),a(i)),t.node.setAttribute("selected","true"),c="true",void 0===n.globals.selectedDataPoints[l]&&(n.globals.selectedDataPoints[l]=[]),n.globals.selectedDataPoints[l].push(h)),"true"===c?"none"!==(s=n.config.states.active.filter)?r.applyFilter(t,l,s.type,s.value):"none"===n.config.states.hover.filter||n.globals.isTouchDevice||(o=n.config.states.hover.filter,r.applyFilter(t,l,o.type,o.value)):"none"!==n.config.states.active.filter.type&&("none"===n.config.states.hover.filter.type||n.globals.isTouchDevice?r.getDefaultFilter(t,l):(o=n.config.states.hover.filter,r.applyFilter(t,l,o.type,o.value))),"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:l,dataPointIndex:h,w:n}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:l,dataPointIndex:h,w:n}])}},{key:"rotateAroundCenter",value:function(t){var e={};return{x:(e=t&&"function"==typeof t.getBBox?t.getBBox():e).x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,a){var s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=this.w,t=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0}),e=(a&&t.attr("transform",a),o.globals.dom.Paper.add(t),t.bbox());return s||(e=t.node.getBoundingClientRect()),t.remove(),{width:e.width,height:e.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&0<(t.textContent=e).length&&t.getComputedTextLength()>=i/1.1){for(var a=e.length-3;0<a;a-=3)if(t.getSubStringLength(0,a)<=i/1.1)return void(t.textContent=e.substring(0,a)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),ht),_=(o(lt,[{key:"getStackedSeriesTotals",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=this.w,i=[];if(0!==e.globals.series.length)for(var a=0;a<e.globals.series[e.globals.maxValsInArrayIndex].length;a++){for(var s=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][a]&&-1===t.indexOf(o)&&(s+=e.globals.series[o][a]);i.push(s)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce(function(t,e){return t+e},0):this.w.globals.series[t].reduce(function(t,e){return t+e},0)}},{key:"isSeriesNull",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter(function(t){return null!==t}):this.w.config.series[t].data.filter(function(t){return null!==t})).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every(function(t,e,i){return t===i[0]})}},{key:"getCategoryLabels",value:function(t){var i=this.w,e=t.slice();return e=i.config.xaxis.convertedCatToNumeric?t.map(function(t,e){return i.config.xaxis.labels.formatter(t-i.globals.minX+1)}):e}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,t.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach(function(t){e=Math.max(e,t)}),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach(function(t){e=Math.max(e,t.size)}),0<e&&(e+=t.config.markers.hover.sizeOffset+1),t.globals.markers.largestSize=e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map(function(t,e){var i=0;if(Array.isArray(t))for(var a=0;a<t.length;a++)i+=t[a];else i+=t;return i})}},{key:"getSeriesTotalsXRange",value:function(s,o){var n=this.w;return n.globals.series.map(function(t,e){for(var i=0,a=0;a<t.length;a++)n.globals.seriesX[e][a]>s&&n.globals.seriesX[e][a]<o&&(i+=t[a]);return i})}},{key:"getPercentSeries",value:function(){var r=this.w;r.globals.seriesPercent=r.globals.series.map(function(t,e){var i=[];if(Array.isArray(t))for(var a=0;a<t.length;a++){var s=r.globals.stackedSeriesTotals[a],o=0;s&&(o=100*t[a]/s),i.push(o)}else{var n=100*t/r.globals.seriesTotals.reduce(function(t,e){return t+e},0);i.push(n)}return i})}},{key:"getCalculatedRatios",value:function(){var t,e,i,a,s=this.w.globals,o=[],n=0,r=[],l=.1,h=0;if(s.yRange=[],s.isMultipleYAxis)for(var c=0;c<s.minYArr.length;c++)s.yRange.push(Math.abs(s.minYArr[c]-s.maxYArr[c])),r.push(0);else s.yRange.push(Math.abs(s.minY-s.maxY));s.xRange=Math.abs(s.maxX-s.minX),s.zRange=Math.abs(s.maxZ-s.minZ);for(var d=0;d<s.yRange.length;d++)o.push(s.yRange[d]/s.gridHeight);if(e=s.xRange/s.gridWidth,i=Math.abs(s.initialMaxX-s.initialMinX)/s.gridWidth,t=s.yRange/s.gridWidth,a=s.xRange/s.gridHeight,n=(n=s.zRange/s.gridHeight*16)||1,s.minY!==Number.MIN_VALUE&&0!==Math.abs(s.minY)&&(s.hasNegs=!0),s.isMultipleYAxis)for(var r=[],p=0;p<o.length;p++)r.push(-s.minYArr[p]/o[p]);else r.push(-s.minY/o[0]),s.minY!==Number.MIN_VALUE&&0!==Math.abs(s.minY)&&(l=-s.minY/t,h=s.minX/e);return{yRatio:o,invertedYRatio:t,zRatio:n,xRatio:e,initialXRatio:i,invertedXRatio:a,baseLineInvertedY:l,baseLineY:r,baseLineX:h}}},{key:"getLogSeries",value:function(t){var i=this,a=this.w;return a.globals.seriesLog=t.map(function(t,e){return a.config.yaxis[e]&&a.config.yaxis[e].logarithmic?t.map(function(t){return null===t?null:i.getLogVal(a.config.yaxis[e].logBase,t,e)}):t}),a.globals.invalidLogScale?t:a.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){var a,s;return 0===e?0:(a=0===(s=this.w).globals.minYArr[i]?-1:this.getBaseLog(t,s.globals.minYArr[i]),s=(0===s.globals.maxYArr[i]?0:this.getBaseLog(t,s.globals.maxYArr[i]))-a,e<1?e/s:(this.getBaseLog(t,e)-a)/s)}},{key:"getLogYRatios",value:function(t){var o=this,n=this.w,r=this.w.globals;return r.yLogRatio=t.slice(),r.logYRange=r.yRange.map(function(t,e){var i,a,s;if(n.config.yaxis[e]&&o.w.config.yaxis[e].logarithmic)return a=-Number.MAX_VALUE,s=Number.MIN_VALUE,r.seriesLog.forEach(function(t,e){t.forEach(function(t){n.config.yaxis[e]&&n.config.yaxis[e].logarithmic&&(a=Math.max(t,a),s=Math.min(t,s))})}),i=Math.pow(r.yRange[e],Math.abs(s-a)/r.yRange[e]),r.yLogRatio[e]=i/r.gridHeight,i}),r.invalidLogScale?t.slice():r.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0,a=0;return t.length&&void 0!==t[0].type&&t.forEach(function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type&&"boxPlot"!==t.type||i++,void 0!==t.type&&a++}),{comboBarCount:i,comboCharts:e=0<a?!0:e}}},{key:"extendArrayProps",value:function(t,e,i){return e=(e=e.yaxis?t.extendYAxis(e,i):e).annotations&&(e=(e=e.annotations.yaxis?t.extendYAxisAnnotations(e):e).annotations.xaxis?t.extendXAxisAnnotations(e):e).annotations.points?t.extendPointAnnotations(e):e}}]),lt),tt=(o(rt,[{key:"setOrientations",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=this.w;"vertical"===t.label.orientation&&null!==(i=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==e?e:0,"']")))&&(e=i.getBoundingClientRect(),i.setAttribute("x",parseFloat(i.getAttribute("x"))-e.height+4),"top"===t.label.position?i.setAttribute("y",parseFloat(i.getAttribute("y"))+e.width):i.setAttribute("y",parseFloat(i.getAttribute("y"))-e.width),e=(t=this.annoCtx.graphics.rotateAroundCenter(i)).x,t=t.y,i.setAttribute("transform","rotate(-90 ".concat(e," ").concat(t,")")))}},{key:"addBackgroundToAnno",value:function(t,e){var i,a,s,o,n,r,l=this.w;return!t||void 0===e.label.text||void 0!==e.label.text&&!String(e.label.text).trim()?null:(n=l.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),t=t.getBoundingClientRect(),i=e.label.style.padding.left,a=e.label.style.padding.right,s=e.label.style.padding.top,o=e.label.style.padding.bottom,"vertical"===e.label.orientation&&(s=e.label.style.padding.left,o=e.label.style.padding.right,i=e.label.style.padding.top,a=e.label.style.padding.bottom),r=t.left-n.left-i,n=t.top-n.top-s,r=this.annoCtx.graphics.drawRect(r-l.globals.barPadForNumericAxis,n,t.width+i+a,t.height+s+o,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0),e.id&&r.node.classList.add(e.id),r)}},{key:"annotationsBackground",value:function(){function i(t,e,i){var a;(i=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(e,"']")))&&(e=i.parentNode,a=s.addBackgroundToAnno(i,t))&&(e.insertBefore(a.node,i),t.label.mouseEnter&&a.node.addEventListener("mouseenter",t.label.mouseEnter.bind(s,t)),t.label.mouseLeave&&a.node.addEventListener("mouseleave",t.label.mouseLeave.bind(s,t)),t.label.click)&&a.node.addEventListener("click",t.label.click.bind(s,t))}var s=this,o=this.w;o.config.annotations.xaxis.map(function(t,e){i(t,e,"xaxis")}),o.config.annotations.yaxis.map(function(t,e){i(t,e,"yaxis")}),o.config.annotations.points.map(function(t,e){i(t,e,"point")})}},{key:"getY1Y2",value:function(t,e){var i,a,t="y1"===t?e.y:e.y2,s=this.w;return this.annoCtx.invertAxis?(i=s.globals.labels.indexOf(t),s.config.xaxis.convertedCatToNumeric&&(i=s.globals.categoryLabels.indexOf(t)),(i=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(i+1)+")"))&&(a=parseFloat(i.getAttribute("y")))):(i=s.config.yaxis[e.yAxisIndex].logarithmic?(t=new _(this.annoCtx.ctx).getLogVal(t,e.yAxisIndex))/s.globals.yLogRatio[e.yAxisIndex]:(t-s.globals.minYArr[e.yAxisIndex])/(s.globals.yRange[e.yAxisIndex]/s.globals.gridHeight),a=s.globals.gridHeight-i,!e.marker||void 0!==e.y&&null!==e.y||(a=0),s.config.yaxis[e.yAxisIndex]&&s.config.yaxis[e.yAxisIndex].reversed&&(a=i)),a="string"==typeof t&&-1<t.indexOf("px")?parseFloat(t):a}},{key:"getX1X2",value:function(t,e){var i=this.w,a=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,s=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,n=(e.x-a)/(o/i.globals.gridWidth),a=(this.annoCtx.inversedReversedAxis&&(n=(s-e.x)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(n=this.getStringX(e.x)),(e.x2-a)/(o/i.globals.gridWidth));return this.annoCtx.inversedReversedAxis&&(a=(s-e.x2)/(o/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||(a=this.getStringX(e.x2)),void 0!==e.x&&null!==e.x||!e.marker||(n=i.globals.gridWidth),"x1"===t&&"string"==typeof e.x&&-1<e.x.indexOf("px")&&(n=parseFloat(e.x)),"x2"===t&&"string"==typeof e.x2&&-1<e.x2.indexOf("px")&&(a=parseFloat(e.x2)),"x1"===t?n:a}},{key:"getStringX",value:function(t){var e=this.w,i=t,t=(e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1),e.globals.labels.indexOf(t)),e=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(t+1)+")");return i=e?parseFloat(e.getAttribute("x")):i}}]),rt),et=(o(nt,[{key:"addXaxisAnnotation",value:function(t,e,i){var a,s,o=this.w,n=this.helpers.getX1X2("x1",t),r=t.label.text,l=t.strokeDashArray;M.isNumber(n)&&(null===t.x2||void 0===t.x2?(a=this.annoCtx.graphics.drawLine(n+t.offsetX,0+t.offsetY,n+t.offsetX,o.globals.gridHeight+t.offsetY,t.borderColor,l,t.borderWidth),e.appendChild(a.node),t.id&&a.node.classList.add(t.id)):((a=this.helpers.getX1X2("x2",t))<n&&(s=n,n=a,a=s),(s=this.annoCtx.graphics.drawRect(n+t.offsetX,0+t.offsetY,a-n,o.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,l)).node.classList.add("apexcharts-annotation-rect"),s.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),e.appendChild(s.node),t.id&&s.node.classList.add(t.id)),a=this.annoCtx.graphics.getTextRects(r,parseFloat(t.label.style.fontSize)),l="top"===t.label.position?4:"center"===t.label.position?o.globals.gridHeight/2+("vertical"===t.label.orientation?a.width/2:0):o.globals.gridHeight,(s=this.annoCtx.graphics.drawText({x:n+t.label.offsetX,y:l+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?a.width/2-12:-a.width/2:0),text:r,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id||"")})).attr({rel:i}),e.appendChild(s.node),this.annoCtx.helpers.setOrientations(t,i))}},{key:"drawXAxisAnnotations",value:function(){var i=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(t,e){i.addXaxisAnnotation(t,a.node,e)}),a}}]),nt),it=(o(ot,[{key:"addYaxisAnnotation",value:function(t,e,i){var a,s=this.w,o=t.strokeDashArray,n=this.helpers.getY1Y2("y1",t),r=t.label.text,o=(null===t.y2||void 0===t.y2?(l=this.annoCtx.graphics.drawLine(0+t.offsetX,n+t.offsetY,this._getYAxisAnnotationWidth(t),n+t.offsetY,t.borderColor,o,t.borderWidth),e.appendChild(l.node),t.id&&l.node.classList.add(t.id)):((a=this.helpers.getY1Y2("y2",t))>n&&(l=n,n=a,a=l),(l=this.annoCtx.graphics.drawRect(0+t.offsetX,a+t.offsetY,this._getYAxisAnnotationWidth(t),n-a,0,t.fillColor,t.opacity,1,t.borderColor,o)).node.classList.add("apexcharts-annotation-rect"),l.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),e.appendChild(l.node),t.id&&l.node.classList.add(t.id)),"right"===t.label.position?s.globals.gridWidth:"center"===t.label.position?s.globals.gridWidth/2:0),l=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:(null!=a?a:n)+t.label.offsetY-3,text:r,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id||"")});l.attr({rel:i}),e.appendChild(l.node)}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(-1<t.width.indexOf("%")?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var i=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map(function(t,e){i.addYaxisAnnotation(t,a.node,e)}),a}}]),ot),at=(o(st,[{key:"addPointAnnotation",value:function(t,e,i){this.w;var a,s,o=this.helpers.getX1X2("x1",t),n=this.helpers.getY1Y2("y1",t);M.isNumber(o)&&(s={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id||"")},s=this.annoCtx.graphics.drawMarker(o+t.marker.offsetX,n+t.marker.offsetY,s),e.appendChild(s.node),a=t.label.text||"",(a=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:n+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:a,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id||"")})).attr({rel:i}),e.appendChild(a.node),t.customSVG.SVG&&((i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass})).attr({transform:"translate(".concat(o+t.customSVG.offsetX,", ").concat(n+t.customSVG.offsetY,")")}),i.node.innerHTML=t.customSVG.SVG,e.appendChild(i.node)),t.image.path&&(a=t.image.width||20,e=t.image.height||20,s=this.annoCtx.addImage({x:o+t.image.offsetX-a/2,y:n+t.image.offsetY-e/2,width:a,height:e,path:t.image.path,appendTo:".apexcharts-point-annotations"})),t.mouseEnter&&s.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&s.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click)&&s.node.addEventListener("click",t.click.bind(this,t))}},{key:"drawPointAnnotations",value:function(){var i=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(t,e){i.addPointAnnotation(t,a.node,e)}),a}}]),st);function st(t){a(this,st),this.w=t.w,this.annoCtx=t,this.helpers=new tt(this.annoCtx)}function ot(t){a(this,ot),this.w=t.w,this.annoCtx=t,this.helpers=new tt(this.annoCtx)}function nt(t){a(this,nt),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new tt(this.annoCtx)}function rt(t){a(this,rt),this.w=t.w,this.annoCtx=t}function lt(t){a(this,lt),this.ctx=t,this.w=t.w}function ht(t){a(this,ht),this.ctx=t,this.w=t.w}function ct(t){a(this,ct),this.ctx=t,this.w=t.w}function dt(t){a(this,dt),this.ctx=t,this.w=t.w,this.setEasingFunctions()}function l(){a(this,l)}function pt(t){var e=t.isTimeline,i=t.ctx,a=t.seriesIndex,s=t.dataPointIndex,o=t.y1,n=t.y2,r=(t=t.w).globals.seriesRangeStart[a][s],l=t.globals.seriesRangeEnd[a][s],h=t.globals.labels[s],c=t.config.series[a].name||"",d=t.globals.ttKeyFormatter,p=t.config.tooltip.y.title.formatter,f={w:t,seriesIndex:a,dataPointIndex:s,start:r,end:l},p=("function"==typeof p&&(c=p(c,f)),null!=(p=t.config.series[a].data[s])&&p.x&&(h=t.config.series[a].data[s].x),e||"datetime"===t.config.xaxis.type&&(h=new u(i).xLabelFormat(t.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new w(i).formatDate,w:t})),"function"==typeof d&&(h=d(h,f)),Number.isFinite(o)&&Number.isFinite(n)&&(r=o,l=n),""),s="",e=t.globals.colors[a];return s=void 0===t.config.tooltip.x.formatter?"datetime"===t.config.xaxis.type?(p=(d=new w(i)).formatDate(d.getDate(r),t.config.tooltip.x.format),d.formatDate(d.getDate(l),t.config.tooltip.x.format)):(p=r,l):(p=t.config.tooltip.x.formatter(r),t.config.tooltip.x.formatter(l)),{start:r,end:l,startVal:p,endVal:s,ylabel:h,color:e,seriesName:c}}function ft(t){var e=t.color,i=t.seriesName,a=t.ylabel,s=t.start,o=t.end,n=t.seriesIndex,r=t.dataPointIndex,s=(l=t.ctx.tooltip.tooltipLabels.getFormatters(n)).yLbFormatter(s),o=l.yLbFormatter(o),l=l.yLbFormatter(t.w.globals.series[n][r]),r='<span class="value start-value">\n  '.concat(s,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(o,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(i||"")+'</span></div><div> <span class="category">'+a+": </span> "+(!t.w.globals.comboCharts||"rangeArea"===t.w.config.series[n].type||"rangeBar"===t.w.config.series[n].type?r:"<span>".concat(l,"</span>"))+" </div></div>"}function gt(t){for(var e="",i=0;i<t.length;i++){var a=t[i],s=a.length;4<s?e=(e=(e+="C".concat(a[0],", ").concat(a[1]))+", ".concat(a[2],", ").concat(a[3]))+", ".concat(a[4],", ").concat(a[5]):2<s&&(e=(e+="S".concat(a[0],", ").concat(a[1]))+", ".concat(a[2],", ").concat(a[3]))}return e}function ut(t){var e=function(t){for(var e,i,a,s,o=function(t){for(var e=[],i=t[0],a=t[1],s=e[0]=xi(i,a),o=1,n=t.length-1;o<n;o++)i=a,a=t[o+1],e[o]=.5*(s+(s=xi(i,a)));return e[o]=s,e}(t),n=t.length-1,r=[],l=0;l<n;l++)a=xi(t[l],t[l+1]),Math.abs(a)<1e-6?o[l]=o[l+1]=0:9<(s=(e=o[l]/a)*e+(i=o[l+1]/a)*i)&&(s=3*a/Math.sqrt(s),o[l]=s*e,o[l+1]=s*i);for(var h=0;h<=n;h++)s=(t[Math.min(n,h+1)][0]-t[Math.max(0,h-1)][0])/(6*(1+o[h]*o[h])),r.push([s||0,o[h]*s||0]);return r}(t),i=t[1],a=t[0],s=[],o=e[1],n=e[0];s.push(a,[a[0]+n[0],a[1]+n[1],i[0]-o[0],i[1]-o[1],i[0],i[1]]);for(var r=2,l=e.length;r<l;r++){var h=t[r],c=e[r];s.push([h[0]-c[0],h[1]-c[1],h[0],h[1]])}return s}var xt,bt,yt,mt,vt,wt={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},d=(o(ui,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[wt],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(t,e){return t+e},0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(t,e){return t+e},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),ui),kt=(o(gi,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),s=t.config.chart.animations.enabled,o=[e,i,a],n=[i.node,e.node,a.node],r=0;r<3;r++)t.globals.dom.elGraphical.add(o[r]),!s||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&1<t.globals.dataPoints&&n[r].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:n[r],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var i=this;this.w.config.annotations.images.map(function(t,e){i.addImage(t,e)})}},{key:"drawTextAnnos",value:function(){var i=this;this.w.config.annotations.texts.map(function(t,e){i.addText(t,e)})}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,a=t.y,s=t.text,o=t.textAnchor,n=t.foreColor,r=t.fontSize,l=t.fontFamily,h=t.fontWeight,c=t.cssClass,d=t.backgroundColor,p=t.borderWidth,f=t.strokeDashArray,g=t.borderRadius,u=t.borderColor,x=t.appendTo,x=void 0===x?".apexcharts-annotations":x,b=t.paddingLeft,b=void 0===b?4:b,y=t.paddingRight,y=void 0===y?4:y,m=t.paddingBottom,m=void 0===m?2:m,t=t.paddingTop,t=void 0===t?2:t,v=this.w,i=this.graphics.drawText({x:i,y:a,text:s,textAnchor:o||"start",fontSize:r||"12px",fontWeight:h||"regular",fontFamily:l||v.config.chart.fontFamily,foreColor:n||v.config.chart.foreColor,cssClass:c}),a=v.globals.dom.baseEl.querySelector(x),o=(a&&a.appendChild(i.node),i.bbox());s&&(r=this.graphics.drawRect(o.x-b,o.y-t,o.width+b+y,o.height+m+t,g,d||"transparent",1,p,u,f),a.insertBefore(r.node,i.node))}},{key:"addImage",value:function(t,e){var i=this.w,a=t.path,s=t.x,s=void 0===s?0:s,o=t.y,o=void 0===o?0:o,n=t.width,n=void 0===n?20:n,r=t.height,r=void 0===r?20:r,t=t.appendTo,t=void 0===t?".apexcharts-annotations":t,a=i.globals.dom.Paper.image(a),n=(a.size(n,r).move(s,o),i.globals.dom.baseEl.querySelector(t));return n&&n.appendChild(a.node),a}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,a=t.context,s=t.type,t=t.contextMethod,o=a,n=o.w,r=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),l=r.childNodes.length+1,h=new d,h=Object.assign({},"xaxis"===s?h.xAxisAnnotation:"yaxis"===s?h.yAxisAnnotation:h.pointAnnotation),c=M.extend(h,e);switch(s){case"xaxis":this.addXaxisAnnotation(c,r,l);break;case"yaxis":this.addYaxisAnnotation(c,r,l);break;case"point":this.addPointAnnotation(c,r,l)}h=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(l,"']")),s=this.helpers.addBackgroundToAnno(h,c);return s&&r.insertBefore(s.node,h),i&&n.globals.memory.methodsToExec.push({context:o,id:c.id||M.randomId(),method:t,label:"addAnnotation",params:e}),a}},{key:"clearAnnotations",value:function(t){var i=t.w,t=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");i.globals.memory.methodsToExec.map(function(t,e){"addText"!==t.label&&"addAnnotation"!==t.label||i.globals.memory.methodsToExec.splice(e,1)}),t=M.listToArray(t),Array.prototype.forEach.call(t,function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})}},{key:"removeAnnotation",value:function(t,i){var a=t.w,t=a.globals.dom.baseEl.querySelectorAll(".".concat(i));t&&(a.globals.memory.methodsToExec.map(function(t,e){t.id===i&&a.globals.memory.methodsToExec.splice(e,1)}),Array.prototype.forEach.call(t,function(t){t.parentElement.removeChild(t)}))}}]),gi),w=(o(fi,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?(this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)):new Date(t)).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);return isNaN(e)?(e=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," ")),this.getTimeStamp(e)):this.getTimeStamp(t)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(v(i.months)),o=[""].concat(v(i.shortMonths)),n=[""].concat(v(i.days)),i=[""].concat(v(i.shortDays));function r(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var l,h=a?t.getUTCFullYear():t.getFullYear(),h=(e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h),(a?t.getUTCMonth():t.getMonth())+1),c=(e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+r(h))).replace(/(^|[^\\])M/g,"$1"+h),a?t.getUTCDate():t.getDate()),c=(e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+n[0])).replace(/(^|[^\\])ddd/g,"$1"+i[0])).replace(/(^|[^\\])dd/g,"$1"+r(c))).replace(/(^|[^\\])d/g,"$1"+c),a?t.getUTCHours():t.getHours()),d=12<c?c-12:0===c?12:c,d=(e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+r(c))).replace(/(^|[^\\])H/g,"$1"+c)).replace(/(^|[^\\])hh+/g,"$1"+r(d))).replace(/(^|[^\\])h/g,"$1"+d),a?t.getUTCMinutes():t.getMinutes()),d=(e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+r(d))).replace(/(^|[^\\])m/g,"$1"+d),a?t.getUTCSeconds():t.getSeconds()),d=(e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+r(d))).replace(/(^|[^\\])s/g,"$1"+d),a?t.getUTCMilliseconds():t.getMilliseconds()),c=(e=e.replace(/(^|[^\\])fff+/g,"$1"+r(d,3)),d=Math.round(d/10),e=e.replace(/(^|[^\\])ff/g,"$1"+r(d)),d=Math.round(d/10),c<12?"AM":"PM"),d=(e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+d)).replace(/(^|[^\\])TT+/g,"$1"+c)).replace(/(^|[^\\])T/g,"$1"+c.charAt(0)),c.toLowerCase()),c=(e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+d)).replace(/(^|[^\\])t/g,"$1"+d.charAt(0)),-t.getTimezoneOffset()),d=a||!c?"Z":0<c?"+":"-",c=(a||(l=(c=Math.abs(c))%60,d+=r(Math.floor(c/60))+":"+r(l)),e=e.replace(/(^|[^\\])K/g,"$1"+d),(a?t.getUTCDay():t.getDay())+1);return(e=(e=(e=(e=e.replace(new RegExp(n[0],"g"),n[c])).replace(new RegExp(i[0],"g"),i[c])).replace(new RegExp(s[0],"g"),s[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var a=this.w,a=(void 0!==a.config.xaxis.min&&(t=a.config.xaxis.min),void 0!==a.config.xaxis.max&&(e=a.config.xaxis.max),this.getDate(t)),t=this.getDate(e),e=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),a=this.formatDate(t,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(e[6],10),maxMillisecond:parseInt(a[6],10),minSecond:parseInt(e[5],10),maxSecond:parseInt(a[5],10),minMinute:parseInt(e[4],10),maxMinute:parseInt(a[4],10),minHour:parseInt(e[3],10),maxHour:parseInt(a[3],10),minDate:parseInt(e[2],10),maxDate:parseInt(a[2],10),minMonth:parseInt(e[1],10)-1,maxMonth:parseInt(a[1],10)-1,minYear:parseInt(e[0],10),maxYear:parseInt(a[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return e=this.isLeapYear(t)?366:e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){i=this.daysCntOfYear[e]+i;return 1<e&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;return t=M.monthMod(t),!0==-1<this.months30.indexOf(t)?2===t&&(i=this.isLeapYear(e)?29:28):(this.months31.indexOf(t),i=31),i}}]),fi),u=(o(pi,[{key:"xLabelFormat",value:function(t,e,i,a){var s,o=this.w;return"datetime"===o.config.xaxis.type&&void 0===o.config.xaxis.labels.formatter&&void 0===o.config.tooltip.x.formatter?(s=new w(this.ctx)).formatDate(s.getDate(e),o.config.tooltip.x.format):t(e,i,a)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map(function(t){return t}):t}},{key:"defaultYFormatter",value:function(t,e,i){var a=this.w;return t=M.isNumber(t)?0!==a.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:a.globals.yValueDecimal):a.globals.maxYArr[i]-a.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0):t}},{key:"setLabelFormatters",value:function(){var a=this,s=this.w;return s.globals.xaxisTooltipFormatter=function(t){return a.defaultGeneralFormatter(t)},s.globals.ttKeyFormatter=function(t){return a.defaultGeneralFormatter(t)},s.globals.ttZFormatter=function(t){return t},s.globals.legendFormatter=function(t){return a.defaultGeneralFormatter(t)},void 0!==s.config.xaxis.labels.formatter?s.globals.xLabelFormatter=s.config.xaxis.labels.formatter:s.globals.xLabelFormatter=function(t){var e;return M.isNumber(t)?s.config.xaxis.convertedCatToNumeric||"numeric"!==s.config.xaxis.type?s.globals.isBarHorizontal&&s.globals.maxY-s.globals.minYArr<4?t.toFixed(1):t.toFixed(0):M.isNumber(s.config.xaxis.decimalsInFloat)?t.toFixed(s.config.xaxis.decimalsInFloat):0<(e=s.globals.maxX-s.globals.minX)&&e<100?t.toFixed(1):t.toFixed(0):t},"function"==typeof s.config.tooltip.x.formatter?s.globals.ttKeyFormatter=s.config.tooltip.x.formatter:s.globals.ttKeyFormatter=s.globals.xLabelFormatter,"function"==typeof s.config.xaxis.tooltip.formatter&&(s.globals.xaxisTooltipFormatter=s.config.xaxis.tooltip.formatter),!Array.isArray(s.config.tooltip.y)&&void 0===s.config.tooltip.y.formatter||(s.globals.ttVal=s.config.tooltip.y),void 0!==s.config.tooltip.z.formatter&&(s.globals.ttZFormatter=s.config.tooltip.z.formatter),void 0!==s.config.legend.formatter&&(s.globals.legendFormatter=s.config.legend.formatter),s.config.yaxis.forEach(function(e,i){void 0!==e.labels.formatter?s.globals.yLabelFormatters[i]=e.labels.formatter:s.globals.yLabelFormatters[i]=function(t){return s.globals.xyCharts?Array.isArray(t)?t.map(function(t){return a.defaultYFormatter(t,e,i)}):a.defaultYFormatter(t,e,i):t}}),s.globals}},{key:"heatmapLabelFormatters",value:function(){var t,e=this.w;"heatmap"===e.config.chart.type&&(e.globals.yAxisScale[0].result=e.globals.seriesNames.slice(),t=e.globals.seriesNames.reduce(function(t,e){return t.length>e.length?t:e},0),e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t)}}]),pi),h=(o(di,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.hideYAxis(),M.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),z(z({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var a=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var e=t.seriesIndex,i=t.dataPointIndex,t=t.w;return a._getBoxTooltip(t,e,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var a=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var e=t.seriesIndex,i=t.dataPointIndex,t=t.w;return a._getBoxTooltip(t,e,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;function i(){var t=o.globals.seriesRangeStart[a][s];return o.globals.seriesRangeEnd[a][s]-t}var a=e.seriesIndex,s=e.dataPointIndex,o=e.w;return!o.globals.comboCharts||"rangeBar"===o.config.series[a].type||"rangeArea"===o.config.series[a].type?i():t},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?(i=pt(z(z({},e=t),{},{isTimeline:!0})),a=i.color,s=i.seriesName,o=i.ylabel,n=i.startVal,i=i.endVal,ft(z(z({},e),{},{color:a,seriesName:s,ylabel:o,start:n,end:i}))):(a=pt(e=t),s=a.color,o=a.seriesName,n=a.ylabel,i=a.start,a=a.end,ft(z(z({},e),{},{color:s,seriesName:o,ylabel:n,start:i,end:a})));var e,i,a,s,o,n}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(t){var e;return null!=(e=t.plotOptions.bar)&&e.barHeight||(t.plotOptions.bar.barHeight=2),null!=(e=t.plotOptions.bar)&&e.columnWidth||(t.plotOptions.bar.columnWidth=2),t}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return e=pt(t=t),i=e.color,a=e.seriesName,s=e.ylabel,o=e.start,e=e.end,ft(z(z({},t),{},{color:i,seriesName:a,ylabel:s,start:o,end:e}));var e,i,a,s,o}}}}},{key:"brush",value:function(t){return M.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(i){i.dataLabels=i.dataLabels||{},i.dataLabels.formatter=i.dataLabels.formatter||void 0;var t=i.dataLabels.formatter;return i.yaxis.forEach(function(t,e){i.yaxis[e].min=0,i.yaxis[e].max=100}),"bar"===i.chart.type&&(i.dataLabels.formatter=t||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),i}},{key:"stackedBars",value:function(){var t=this.bar();return z(z({},t),{},{plotOptions:z(z({},t.plotOptions),{},{bar:z(z({},t.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return M.isNumber(t)?Math.floor(t):t};var a=t.xaxis.labels.formatter,s=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return(s=i&&i.length?i.map(function(t){return Array.isArray(t)?t:String(t)}):s)&&s.length&&(t.xaxis.labels.formatter=function(t){return M.isNumber(t)?a(s[Math.floor(t)-1]):a(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount||6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY||6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(t,e,i,a,s){var o=t.globals.seriesCandleO[e][i],n=t.globals.seriesCandleH[e][i],r=t.globals.seriesCandleM[e][i],l=t.globals.seriesCandleL[e][i],h=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==s?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name||"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+n+"</span></div>"+(r?"<div>".concat(a[2],': <span class="value">')+r+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+h+"</span></div></div>"}}]),di),g=(o(ci,[{key:"init",value:function(t){var e,i,t=t.responsiveOverride,a=this.opts,s=new d,o=new h(a),s=(this.chartType=a.chart.type,a=this.extendYAxis(a),a=this.extendAnnotations(a),s.init()),n={},t=(a&&"object"===m(a)&&(i={},i=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(a.chart.type)?o[a.chart.type]():o.line(),null!=(e=a.plotOptions)&&null!=(e=e.bar)&&e.isFunnel&&(i=o.funnel()),a.chart.stacked&&"bar"===a.chart.type&&(i=o.stackedBars()),null!=(e=a.chart.brush)&&e.enabled&&(i=o.brush(i)),null!=(e=(a=a.chart.stacked&&"100%"===a.chart.stackType?o.stacked100(a):a).plotOptions)&&null!=(e=e.bar)&&e.isDumbbell&&(a=o.dumbbell(a)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(a),a.xaxis=a.xaxis||window.Apex.xaxis||{},t||(a.xaxis.convertedCatToNumeric=!1),(null!=(e=(a=this.checkForCatToNumericXAxis(this.chartType,i,a)).chart.sparkline)&&e.enabled||null!=(t=window.Apex.chart)&&null!=(e=t.sparkline)&&e.enabled)&&(i=o.sparkline(i)),n=M.extend(s,i)),M.extend(n,window.Apex)),s=M.extend(t,a);return this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var a=new h(i),s=("bar"===t||"boxPlot"===t)&&(null==(s=i.plotOptions)||null==(s=s.bar)?void 0:s.horizontal),o="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,e=i.xaxis.tickPlacement||e.xaxis&&e.xaxis.tickPlacement;return i=s||("pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t)||!o||"between"===e?i:a.convertCatToNumeric(i)}},{key:"extendYAxis",value:function(i,t){var a=new d,e=((void 0===i.yaxis||!i.yaxis||Array.isArray(i.yaxis)&&0===i.yaxis.length)&&(i.yaxis={}),i.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(i.yaxis=M.extend(i.yaxis,window.Apex.yaxis)),i.yaxis.constructor!==Array?i.yaxis=[M.extend(a.yAxis,i.yaxis)]:i.yaxis=M.extendArray(i.yaxis,a.yAxis),!1),s=(i.yaxis.forEach(function(t){t.logarithmic&&(e=!0)}),i.series);return t&&!s&&(s=t.config.series),e&&s.length!==i.yaxis.length&&s.length&&(i.yaxis=s.map(function(t,e){return t.name||(s[e].name="series-".concat(e+1)),i.yaxis[e]?(i.yaxis[e].seriesName=s[e].name,i.yaxis[e]):((t=M.extend(a.yAxis,i.yaxis[0])).show=!1,t)})),e&&1<s.length&&s.length!==i.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),i}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new d;return t.annotations.yaxis=M.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new d;return t.annotations.xaxis=M.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new d;return t.annotations.points=M.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(1<t.yaxis.length)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&1<t.series.length&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),ci),At=(o(hi,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasXaxisGroups=!1,t.groups=[],t.hasSeriesGroups=!1,t.seriesGroups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=M.extend({},t),e.initialSeries=M.clone(t.series),e.lastXAxis=M.clone(e.initialConfig.xaxis),e.lastYAxis=M.clone(e.initialConfig.yaxis),e}}]),hi),St=(o(li,[{key:"init",value:function(){var t=new g(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new At).init(t)}}}]),li),S=(o(ri,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,a=parseInt(e.globals.gridWidth,10),s=parseInt(e.globals.gridHeight,10),a=s<a?a:s,s=t.image,o=0,n=0,n=void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(o=i.fill.image.width+1,i.fill.image.height):(o=a+1,a):(o=t.width,t.height),i=document.createElementNS(e.globals.SVGNS,"pattern"),a=(E.setAttrs(i,{id:t.patternID,patternUnits:t.patternUnits||"userSpaceOnUse",width:o+"px",height:n+"px"}),document.createElementNS(e.globals.SVGNS,"image"));i.appendChild(a),a.setAttributeNS(window.SVG.xlink,"href",s),E.setAttrs(a,{x:0,y:0,preserveAspectRatio:"none",width:o+"px",height:n+"px"}),a.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(i)}},{key:"getSeriesIndex",value:function(t){var e=this.w,i=e.config.chart.type;return("bar"===i||"rangeBar"===i)&&e.config.plotOptions.bar.distributed||"heatmap"===i||"treemap"===i?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,a,s=this.w.config,o=(this.seriesIndex=this.getSeriesIndex(t),this.getFillColors()[this.seriesIndex]),n=("function"==typeof(o=void 0!==e.globals.seriesColors[this.seriesIndex]?e.globals.seriesColors[this.seriesIndex]:o)&&(o=o({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e})),t.fillType||this.getFillType(this.seriesIndex)),r=Array.isArray(s.fill.opacity)?s.fill.opacity[this.seriesIndex]:s.fill.opacity,l=o=t.color?t.color:o;return-1===o.indexOf("rgb")?o.length<9&&(l=M.hexToRgba(o,r)):-1<o.indexOf("rgba")&&(r=M.getOpacityFromRGBA(o)),t.opacity&&(r=t.opacity),"pattern"===n&&(i=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:i,fillColor:o,fillOpacity:r,defaultColor:l})),"gradient"===n&&(a=this.handleGradientFill({fillConfig:t.fillConfig,fillColor:o,fillOpacity:r,i:this.seriesIndex})),r="image"===n?(o=s.fill.image.src,s=t.patternID||"",this.clippedImgArea({opacity:r,image:Array.isArray(o)?t.seriesNumber<o.length?o[t.seriesNumber]:o[0]:o,width:t.width||void 0,height:t.height||void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(s)}),"url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(s,")")):"gradient"===n?a:"pattern"===n?i:l,r=t.solid?l:r}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,a=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors),void 0!==i.fillColors&&(a=[],Array.isArray(i.fillColors)?a=i.fillColors.slice():a.push(i.fillColors)),a}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,i=(t.patternFill,t.fillColor),a=t.fillOpacity,t=t.defaultColor,s=this.w.config.fill,e=(e&&(s=e),this.opts),o=new E(this.ctx),n=Array.isArray(s.pattern.strokeWidth)?s.pattern.strokeWidth[this.seriesIndex]:s.pattern.strokeWidth;return Array.isArray(s.pattern.style)?void 0!==s.pattern.style[e.seriesNumber]?o.drawPattern(s.pattern.style[e.seriesNumber],s.pattern.width,s.pattern.height,i,n,a):t:o.drawPattern(s.pattern.style,s.pattern.width,s.pattern.height,i,n,a)}},{key:"handleGradientFill",value:function(t){var e=t.fillColor,i=t.fillOpacity,a=t.fillConfig,t=t.i,s=this.w.config.fill;a&&(s=z(z({},s),a));var o,a=this.opts,n=new E(this.ctx),r=new M,l=s.gradient.type,h=e,c=void 0===s.gradient.opacityFrom?i:Array.isArray(s.gradient.opacityFrom)?s.gradient.opacityFrom[t]:s.gradient.opacityFrom,i=(-1<h.indexOf("rgba")&&(c=M.getOpacityFromRGBA(h)),void 0===s.gradient.opacityTo?i:Array.isArray(s.gradient.opacityTo)?s.gradient.opacityTo[t]:s.gradient.opacityTo);return void 0===s.gradient.gradientToColors||0===s.gradient.gradientToColors.length?o="dark"===s.gradient.shade?r.shadeColor(-1*parseFloat(s.gradient.shadeIntensity),-1<e.indexOf("rgb")?M.rgb2hex(e):e):r.shadeColor(parseFloat(s.gradient.shadeIntensity),-1<e.indexOf("rgb")?M.rgb2hex(e):e):s.gradient.gradientToColors[a.seriesNumber]?-1<(o=r=s.gradient.gradientToColors[a.seriesNumber]).indexOf("rgba")&&(i=M.getOpacityFromRGBA(r)):o=e,s.gradient.gradientFrom&&(h=s.gradient.gradientFrom),s.gradient.gradientTo&&(o=s.gradient.gradientTo),s.gradient.inverseColors&&(r=h,h=o,o=r),-1<h.indexOf("rgb")&&(h=M.rgb2hex(h)),-1<o.indexOf("rgb")&&(o=M.rgb2hex(o)),n.drawGradient(l,h,o,c,i,a.size,s.gradient.stops,s.gradient.colorStops,t)}}]),ri),k=(o(ni,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],0<e.globals.markers.size.length){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(t){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(t,e,i,a){var s,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],n=this.w,r=e,l=t,h=null,c=new E(this.ctx),d=n.config.markers.discrete&&n.config.markers.discrete.length;if((0<n.globals.markers.size[e]||o||d)&&(h=c.group({class:o||d?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(l.x))for(var p=0;p<l.x.length;p++){var f=1===i&&1===p?1:1===i&&0===p?0:i,g="apexcharts-marker";"line"!==n.config.chart.type&&"area"!==n.config.chart.type||n.globals.comboCharts||n.config.tooltip.intersect||(g+=" no-pointer-events"),(Array.isArray(n.config.markers.size)?0<n.globals.markers.size[e]:0<n.config.markers.size)||o||d?(M.isNumber(l.y[p])?g+=" w".concat(M.randomId()):g="apexcharts-nullpoint",g=this.getMarkerConfig({cssClass:g,seriesIndex:e,dataPointIndex:f}),n.config.series[r].data[f]&&(n.config.series[r].data[f].fillColor&&(g.pointFillColor=n.config.series[r].data[f].fillColor),n.config.series[r].data[f].strokeColor)&&(g.pointStrokeColor=n.config.series[r].data[f].strokeColor),a&&(g.pSize=a),(l.x[p]<0||l.x[p]>n.globals.gridWidth||l.y[p]<0||l.y[p]>n.globals.gridHeight)&&(g.pSize=0),(s=c.drawMarker(l.x[p],l.y[p],g)).attr("rel",f),s.attr("j",f),s.attr("index",e),s.node.setAttribute("default-marker-size",g.pSize),new P(this.ctx).setSelectionFilter(s,e,f),this.addEvents(s),h&&h.add(s)):(void 0===n.globals.pointsArray[e]&&(n.globals.pointsArray[e]=[]),n.globals.pointsArray[e].push([l.x[p],l.y[p]]))}return h}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,a=t.dataPointIndex,s=void 0===a?null:a,a=t.finishRadius,t=void 0===a?null:a,a=this.w,o=this.getMarkerStyle(i),n=a.globals.markers.size[i],a=a.config.markers;return null!==s&&a.discrete.length&&a.discrete.map(function(t){t.seriesIndex===i&&t.dataPointIndex===s&&(o.pointStrokeColor=t.strokeColor,o.pointFillColor=t.fillColor,n=t.size,o.pointShape=t.shape)}),{pSize:null===t?n:t,pRadius:a.radius,width:Array.isArray(a.width)?a.width[i]:a.width,height:Array.isArray(a.height)?a.height[i]:a.height,pointStrokeWidth:Array.isArray(a.strokeWidth)?a.strokeWidth[i]:a.strokeWidth,pointStrokeColor:o.pointStrokeColor,pointFillColor:o.pointFillColor,shape:o.pointShape||(Array.isArray(a.shape)?a.shape[i]:a.shape),class:e,pointStrokeOpacity:Array.isArray(a.strokeOpacity)?a.strokeOpacity[i]:a.strokeOpacity,pointStrokeDashArray:Array.isArray(a.strokeDashArray)?a.strokeDashArray[i]:a.strokeDashArray,pointFillOpacity:Array.isArray(a.fillOpacity)?a.fillOpacity[i]:a.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new E(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,e=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(e)?e[t]:e,pointFillColor:Array.isArray(i)?i[t]:i}}}]),ni),Ct=(o(oi,[{key:"draw",value:function(t,e,i){var a=this.w,s=new E(this.ctx),o=i.realIndex,n=i.pointsPos,r=i.zRatio,l=i.elParent,h=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(h.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(n.x))for(var c=0;c<n.x.length;c++){var d=e+1,p=!0,f=(0===e&&0===c&&(d=0),0===e&&1===c&&(d=1),0),g=a.globals.markers.size[o],u=(r!==1/0&&(u=a.config.plotOptions.bubble,g=a.globals.seriesZ[o][d],u.zScaling&&(g/=r),u.minBubbleRadius&&g<u.minBubbleRadius&&(g=u.minBubbleRadius),u.maxBubbleRadius)&&g>u.maxBubbleRadius&&(g=u.maxBubbleRadius),a.config.chart.animations.enabled||(f=g),n.x[c]),x=n.y[c],f=f||0;(p=null!==x&&void 0!==a.globals.series[o][d]&&p)&&(p=this.drawPoint(u,x,f,g,o,d,e),h.add(p)),l.add(h)}}},{key:"drawPoint",value:function(t,e,i,a,s,o,n){var r=this.w,l=s,h=new A(this.ctx),c=new P(this.ctx),d=new S(this.ctx),p=new k(this.ctx),f=new E(this.ctx),g=p.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:o,finishRadius:"bubble"===r.config.chart.type||r.globals.comboCharts&&r.config.series[s]&&"bubble"===r.config.series[s].type?a:null});a=g.pSize;var u,d=d.fillPath({seriesNumber:s,dataPointIndex:o,color:g.pointFillColor,patternUnits:"objectBoundingBox",value:r.globals.series[s][n]});if("circle"===g.shape?u=f.drawCircle(i):"square"!==g.shape&&"rect"!==g.shape||(u=f.drawRect(0,0,g.width-g.pointStrokeWidth/2,g.height-g.pointStrokeWidth/2,g.pRadius)),r.config.series[l].data[o]&&r.config.series[l].data[o].fillColor&&(d=r.config.series[l].data[o].fillColor),u.attr({x:t-g.width/2-g.pointStrokeWidth/2,y:e-g.height/2-g.pointStrokeWidth/2,cx:t,cy:e,fill:d,"fill-opacity":g.pointFillOpacity,stroke:g.pointStrokeColor,r:a,"stroke-width":g.pointStrokeWidth,"stroke-dasharray":g.pointStrokeDashArray,"stroke-opacity":g.pointStrokeOpacity}),r.config.chart.dropShadow.enabled&&(i=r.config.chart.dropShadow,c.dropShadow(u,i,s)),!this.initialAnim||r.globals.dataChanged||r.globals.resized?r.globals.animationEnded=!0:(f=r.config.chart.animations.speed,h.animateMarker(u,0,"circle"===g.shape?a:{width:g.width,height:g.height},f,r.globals.easing,function(){window.setTimeout(function(){h.animationCompleted(u)},100)})),r.globals.dataChanged&&"circle"===g.shape)if(this.dynamicAnim){var x,b,y,m=r.config.chart.animations.dynamicAnimation.speed;null!=(l=r.globals.previousPaths[s]&&r.globals.previousPaths[s][n])&&(x=l.x,b=l.y,y=void 0!==l.r?l.r:a);for(var v=0;v<r.globals.collapsedSeries.length;v++)r.globals.collapsedSeries[v].index===s&&(m=1,a=0);h.animateCircle(u,{cx:x,cy:b,r:y},{cx:t,cy:e,r:a=0===t&&0===e?0:a},m,r.globals.easing)}else u.attr({r:a});return u.attr({rel:o,j:o,index:s,"default-marker-size":a}),c.setSelectionFilter(u,s,o),p.addEvents(u),u.node.classList.add("apexcharts-marker"),u}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),oi),C=(o(si,[{key:"dataLabelsCorrection",value:function(t,e,i,a,s,o,n){var r=this.w,l=!1,i=new E(this.ctx).getTextRects(i,n),n=i.width,h=i.height,h=((e=e<0?0:e)>r.globals.gridHeight+h&&(e=r.globals.gridHeight+h/2),void 0===r.globals.dataLabelsRects[a]&&(r.globals.dataLabelsRects[a]=[]),r.globals.dataLabelsRects[a].push({x:t,y:e,width:n,height:h}),r.globals.dataLabelsRects[a].length-2),c=void 0!==r.globals.lastDrawnDataLabelsIndexes[a]?r.globals.lastDrawnDataLabelsIndexes[a][r.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;return void 0!==r.globals.dataLabelsRects[a][h]&&(t>(h=r.globals.dataLabelsRects[a][c]).x+h.width+2||e>h.y+h.height+2||t+n<h.x)&&(l=!0),{x:t,y:e,textRects:i,drawnextLabel:l=0!==s&&!o?l:!0}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,a=t.pos,s=t.i,o=t.j,n=t.isRangeStart,t=t.strokeWidth,r=void 0===t?2:t,l=this.w,t=new E(this.ctx),h=l.config.dataLabels,c=0,d=o;if(!h.enabled||!Array.isArray(a.x))return null;for(var p=t.group({class:"apexcharts-data-labels"}),f=0;f<a.x.length;f++){var g,u,x,b=a.x[f]+h.offsetX,c=a.y[f]+h.offsetY+r;isNaN(b)||(1===o&&0===f&&(d=0),1===o&&1===f&&(d=1),g=l.globals.series[s][d],"rangeArea"===i&&(g=(n?l.globals.seriesRangeStart:l.globals.seriesRangeEnd)[s][d]),u="",x=function(t){return l.config.dataLabels.formatter(t,{ctx:e.ctx,seriesIndex:s,dataPointIndex:d,w:l})},"bubble"===l.config.chart.type?(u=x(g=l.globals.seriesZ[s][d]),c=a.y[f],c=new Ct(this.ctx).centerTextInBubble(c,s,d).y):void 0!==g&&(u=x(g)),this.plotDataLabelsText({x:b,y:c,text:u,i:s,j:d,parent:p,offsetCorrection:!0,dataLabelsConfig:l.config.dataLabels}))}return p}},{key:"plotDataLabelsText",value:function(t){var e,i=this.w,a=new E(this.ctx),s=t.x,o=t.y,n=t.i,r=t.j,l=t.text,h=t.textAnchor,c=t.fontSize,d=t.parent,p=t.dataLabelsConfig,f=t.color,g=t.alwaysDrawDataLabel,t=t.offsetCorrection;Array.isArray(i.config.dataLabels.enabledOnSeries)&&i.config.dataLabels.enabledOnSeries.indexOf(n)<0||(e={x:s,y:o,drawnextLabel:!0,textRects:null},t&&(e=this.dataLabelsCorrection(s,o,l,n,r,g,parseInt(p.style.fontSize,10))),i.globals.zoomed||(s=e.x,o=e.y),e.textRects&&(s<-10-e.textRects.width||s>i.globals.gridWidth+e.textRects.width+10)&&(l=""),t=i.globals.dataLabels.style.colors[n],"function"==typeof(t=("bar"===i.config.chart.type||"rangeBar"===i.config.chart.type)&&i.config.plotOptions.bar.distributed||i.config.dataLabels.distributed?i.globals.dataLabels.style.colors[r]:t)&&(t=t({series:i.globals.series,seriesIndex:n,dataPointIndex:r,w:i})),f&&(t=f),g=p.offsetX,f=p.offsetY,"bar"!==i.config.chart.type&&"rangeBar"!==i.config.chart.type||(f=g=0),e.drawnextLabel&&((e=a.drawText({width:100,height:parseInt(p.style.fontSize,10),x:s+g,y:o+f,foreColor:t,textAnchor:h||p.textAnchor,text:l,fontSize:c||p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight||"normal"})).attr({class:"apexcharts-datalabel",cx:s,cy:o}),p.dropShadow.enabled&&(a=p.dropShadow,new P(this.ctx).dropShadow(e,a)),d.add(e),void 0===i.globals.lastDrawnDataLabelsIndexes[n]&&(i.globals.lastDrawnDataLabelsIndexes[n]=[]),i.globals.lastDrawnDataLabelsIndexes[n].push(r)))}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,a=i.config.dataLabels.background,s=a.padding,o=a.padding/2,n=e.width,r=e.height,e=new E(this.ctx).drawRect(e.x-s,e.y-o/2,n+2*s,r+o,a.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new P(this.ctx).dropShadow(e,a.dropShadow),e}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var a=e[i],s=a.getBBox(),o=null;(o=s.width&&s.height?this.addBackgroundToDataLabel(a,s):o)&&(a.parentNode.insertBefore(o.node,a),s=a.getAttribute("fill"),(!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o:o.animate()).attr({fill:s}),a.setAttribute("fill",t.config.dataLabels.background.foreColor))}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<e.length;a++)i&&i.insertBefore(e[a],i.nextSibling)}}]),si),O=(o(ai,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(M.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var t=this.getSeriesByName(t),e=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:e}}},{key:"addCollapsedClassToSeries",value:function(i,a){var t=this.w;function e(t){for(var e=0;e<t.length;e++)t[e].index===a&&i.node.classList.add("apexcharts-series-collapsed")}e(t.globals.collapsedSeries),e(t.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){t=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(t){t=this.isSeriesHidden(t);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(t){t=this.isSeriesHidden(t);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=this.w,s=M.clone(a.globals.initialSeries);a.globals.previousPaths=[],i?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),a.config.series=s,t&&(e&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)-1<e.globals.collapsedSeriesIndices.indexOf(i)&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w,a=(e=e||t.target,i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels"));if("mousemove"===t.type){var e=parseInt(e.getAttribute("rel"),10)-1,s=null,o=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(s=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(e,"']"))):s=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(1+e,"']")):s=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(1+e,"'] path"));for(var n=0;n<a.length;n++)a[n].classList.add(this.legendInactiveClass);null!==s&&(i.globals.axisCharts||s.parentNode.classList.remove(this.legendInactiveClass),s.classList.remove(this.legendInactiveClass),null!==o)&&o.classList.remove(this.legendInactiveClass)}else if("mouseout"===t.type)for(var r=0;r<a.length;r++)a[r].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){function i(t){for(var e=0;e<o.length;e++)o[e].classList[t](a.legendInactiveClass)}var a=this,s=this.w,o=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect");if("mousemove"===t.type)for(var e=parseInt(e.getAttribute("rel"),10)-1,n=(i("add"),s.config.plotOptions.heatmap.colorScale.ranges[e]),r=0;r<o.length;r++){var l=parseInt(o[r].getAttribute("val"),10);l>=n.from&&l<=n.to&&o[r].classList.remove(a.legendInactiveClass)}else"mouseout"===t.type&&i("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"asc",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=this.w,e=0;if(1<a.config.series.length)for(var s=a.config.series.map(function(t,e){return t.data&&0<t.data.length&&-1===a.globals.collapsedSeriesIndices.indexOf(e)&&(!a.globals.comboCharts||0===i.length||i.length&&-1<i.indexOf(a.config.series[e].type))?e:-1}),o="asc"===t?0:s.length-1;"asc"===t?o<s.length:0<=o;"asc"===t?o++:o--)if(-1!==s[o]){e=s[o];break}return e}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(t,e){return"bar"===t.type||"column"===t.type?e:-1}).filter(function(t){return-1!==t}):this.w.config.series.map(function(t,e){return e})}},{key:"getPreviousPaths",value:function(){var c=this.w;c.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(t){for(var e=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series")),i=0;i<e.length;i++){a=void 0;s=void 0;o=void 0;r=void 0;l=void 0;h=void 0;n=void 0;var a=e;var s=i;var o=t;for(var n,r=a[s].childNodes,l={type:o,paths:[],realIndex:a[s].getAttribute("data:realIndex")},h=0;h<r.length;h++)r[h].hasAttribute("pathTo")&&(n=r[h].getAttribute("pathTo"),l.paths.push({d:n}));c.globals.previousPaths.push(l)}}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var t=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series"));if(0<t.length)for(var e=0;e<t.length;e++)!function(t){for(var a=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),s=[],e=0;e<a.length;e++)!function(e){function t(t){return a[e].getAttribute(t)}var i={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};s.push({rect:i,color:a[e].getAttribute("color")})}(e);c.globals.previousPaths.push(s)}(e);c.globals.axisCharts||(c.globals.previousPaths=c.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(0<i.length)for(var a=0;a<i.length;a++){for(var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(a,"'] circle")),o=[],n=0;n<s.length;n++)o.push({x:s[n].getAttribute("cx"),y:s[n].getAttribute("cy"),r:s[n].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new E(this.ctx),a=t.globals.svgWidth/2,s=t.globals.svgHeight/2,o="middle";t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(a=10,o="start"):"right"===e.align&&(a=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?s=50:"bottom"===e.verticalAlign&&(s=t.globals.svgHeight-50),a+=e.offsetX,s=s+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text&&(i=i.drawText({x:a,y:s,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"}),t.globals.dom.Paper.add(i))}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var a=0;a<t[e.globals.maxValsInArrayIndex].length;a++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),a=0;a<i.length-1;a++)if(i[a][0]!==i[a+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(t){return 0<t.length?t:[]})}}]),ai),Ot=(o(ii,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new O(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&0<t[this.activeSeriesIndex].data.length&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new O(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&0<t[this.activeSeriesIndex].data.length&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i,a=this.w.config,s=this.w.globals,o="boxPlot"===a.chart.type||"boxPlot"===a.series[e].type,n=0;n<t[e].data.length;n++)void 0!==t[e].data[n][1]&&(Array.isArray(t[e].data[n][1])&&4===t[e].data[n][1].length&&!o?this.twoDSeries.push(M.parseNumber(t[e].data[n][1][3])):5<=t[e].data[n].length?this.twoDSeries.push(M.parseNumber(t[e].data[n][4])):this.twoDSeries.push(M.parseNumber(t[e].data[n][1])),s.dataFormatXNumeric=!0),"datetime"===a.xaxis.type?(i=new Date(t[e].data[n][0]),i=new Date(i).getTime(),this.twoDSeriesX.push(i)):this.twoDSeriesX.push(t[e].data[n][0]);for(var r=0;r<t[e].data.length;r++)void 0!==t[e].data[r][2]&&(this.threeDSeries.push(t[e].data[r][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,a=this.w.globals,s=new w(this.ctx),o=e;-1<a.collapsedSeriesIndices.indexOf(e)&&(o=this.activeSeriesIndex);for(var n=0;n<t[e].data.length;n++)void 0!==t[e].data[n].y&&(Array.isArray(t[e].data[n].y)?this.twoDSeries.push(M.parseNumber(t[e].data[n].y[t[e].data[n].y.length-1])):this.twoDSeries.push(M.parseNumber(t[e].data[n].y))),void 0!==t[e].data[n].goals&&Array.isArray(t[e].data[n].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[n].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var r=0;r<t[o].data.length;r++){var l="string"==typeof t[o].data[r].x,h=Array.isArray(t[o].data[r].x),c=!h&&!!s.isValidDate(t[o].data[r].x.toString());l||c?l||i.xaxis.convertedCatToNumeric?(c=a.isBarHorizontal&&a.isRangeData,"datetime"!==i.xaxis.type||c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[r].x)):this.twoDSeriesX.push(s.parseDate(t[o].data[r].x))):"datetime"===i.xaxis.type?this.twoDSeriesX.push(s.parseDate(t[o].data[r].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[r].x))):(h?this.fallbackToCategory=!0:(a.isXNumeric=!0,a.dataFormatXNumeric=!0),this.twoDSeriesX.push(t[o].data[r].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var d=0;d<t[e].data.length;d++)this.threeDSeries.push(t[e].data[d].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(a.start),i.seriesRangeEnd.push(a.end),i.seriesRange.push(a.rangeUniques),i.seriesRange.forEach(function(t,e){t&&t.forEach(function(n,t){n.y.forEach(function(t,e){for(var i,a,s,o=0;o<n.y.length;o++)e!==o&&(i=t.y1,a=t.y2,s=n.y[o].y1,i<=n.y[o].y2)&&s<=a&&(n.overlaps.indexOf(t.rangeName)<0&&n.overlaps.push(t.rangeName),n.overlaps.indexOf(n.y[o].rangeName)<0)&&n.overlaps.push(n.y[o].rangeName)})})}),a}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=a.o,i.seriesCandleH[e]=a.h,i.seriesCandleM[e]=a.m,i.seriesCandleL[e]=a.l,i.seriesCandleC[e]=a.c,a}},{key:"handleRangeDataFormat",value:function(t,s,o){var n=[],r=[],l=s[o].data.filter(function(e,t,i){return t===i.findIndex(function(t){return t.x===e.x})}).map(function(t,e){return{x:t.x,overlaps:[],y:[]}});if("array"===t)for(var e=0;e<s[o].data.length;e++)Array.isArray(s[o].data[e])?(n.push(s[o].data[e][1][0]),r.push(s[o].data[e][1][1])):(n.push(s[o].data[e]),r.push(s[o].data[e]));else if("xy"===t)for(var i=0;i<s[o].data.length;i++)!function(t){var e=Array.isArray(s[o].data[t].y),i=M.randomId(),a=s[o].data[t].x,e={y1:e?s[o].data[t].y[0]:s[o].data[t].y,y2:e?s[o].data[t].y[1]:s[o].data[t].y,rangeName:i},t=(s[o].data[t].rangeName=i,l.findIndex(function(t){return t.x===a}));l[t].y.push(e),n.push(e.y1),r.push(e.y2)}(i);return{start:n,end:r,rangeUniques:l}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var a=this.w,s="boxPlot"===a.config.chart.type||"boxPlot"===a.config.series[i].type,o=[],n=[],r=[],l=[],h=[];if("array"===t)if(s&&6===e[i].data[0].length||!s&&5===e[i].data[0].length)for(var c=0;c<e[i].data.length;c++)o.push(e[i].data[c][1]),n.push(e[i].data[c][2]),s?(r.push(e[i].data[c][3]),l.push(e[i].data[c][4]),h.push(e[i].data[c][5])):(l.push(e[i].data[c][3]),h.push(e[i].data[c][4]));else for(var d=0;d<e[i].data.length;d++)Array.isArray(e[i].data[d][1])&&(o.push(e[i].data[d][1][0]),n.push(e[i].data[d][1][1]),s?(r.push(e[i].data[d][1][2]),l.push(e[i].data[d][1][3]),h.push(e[i].data[d][1][4])):(l.push(e[i].data[d][1][2]),h.push(e[i].data[d][1][3])));else if("xy"===t)for(var p=0;p<e[i].data.length;p++)Array.isArray(e[i].data[p].y)&&(o.push(e[i].data[p].y[0]),n.push(e[i].data[p].y[1]),s?(r.push(e[i].data[p].y[2]),l.push(e[i].data[p].y[3]),h.push(e[i].data[p].y[4])):(l.push(e[i].data[p].y[2]),h.push(e[i].data[p].y[3])));return{o:o,h:n,m:r,l:l,c:h}}},{key:"parseDataAxisCharts",value:function(t){var a,s,e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.ctx,o=this.w.config,n=this.w.globals,r=new w(i),l=(0<o.labels.length?o.labels:o.xaxis.categories).slice();n.isRangeBar="rangeBar"===o.chart.type&&n.isBarHorizontal,n.hasXaxisGroups="category"===o.xaxis.type&&0<o.xaxis.group.groups.length,n.hasXaxisGroups&&(n.groups=o.xaxis.group.groups),n.hasSeriesGroups=null==(i=t[0])?void 0:i.group,n.hasSeriesGroups&&(a=[],s=v(new Set(t.map(function(t){return t.group}))),t.forEach(function(t,e){var i=s.indexOf(t.group);a[i]||(a[i]=[]),a[i].push(t.name)}),n.seriesGroups=a);for(var h=0;h<t.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[h].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==o.chart.type&&"rangeArea"!==o.chart.type&&"rangeBar"!==t[h].type&&"rangeArea"!==t[h].type||(n.isRangeData=!0,n.isComboCharts?"rangeBar"!==t[h].type&&"rangeArea"!==t[h].type||this.handleRangeData(t,h):"rangeBar"!==o.chart.type&&"rangeArea"!==o.chart.type||this.handleRangeData(t,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,h):this.isFormatXY()&&this.handleFormatXY(t,h),"candlestick"!==o.chart.type&&"candlestick"!==t[h].type&&"boxPlot"!==o.chart.type&&"boxPlot"!==t[h].type||this.handleCandleStickBoxData(t,h),n.series.push(this.twoDSeries),n.labels.push(this.twoDSeriesX),n.seriesX.push(this.twoDSeriesX),n.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(n.isXNumeric=!0);else{if("datetime"===o.xaxis.type){n.isXNumeric=!0;{c=void 0;for(var c=0;c<l.length;c++)if("string"==typeof l[c]){if(!r.isValidDate(l[c]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(r.parseDate(l[c]))}else e.twoDSeriesX.push(l[c])}n.seriesX.push(this.twoDSeriesX)}else"numeric"===o.xaxis.type&&(n.isXNumeric=!0,0<l.length)&&(this.twoDSeriesX=l,n.seriesX.push(this.twoDSeriesX));n.labels.push(this.twoDSeriesX);var d=t[h].data.map(function(t){return M.parseNumber(t)});n.series.push(d)}n.seriesZ.push(this.threeDSeries),void 0!==t[h].name?n.seriesNames.push(t[h].name):n.seriesNames.push("series-"+parseInt(h+1,10)),void 0!==t[h].color?n.seriesColors.push(t[h].color):n.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var a=0;a<e.series.length;a++)void 0===e.seriesNames[a]&&e.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;0<e.xaxis.categories.length?i.labels=e.xaxis.categories:0<e.labels.length?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map(function(t){t.forEach(function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)})}),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),e.xaxis.convertedCatToNumeric&&(new h(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,a=[];if(e.axisCharts){if(0<e.series.length)if(this.isFormatXY())for(var s=i.series.map(function(t,e){return t.data.filter(function(e,t,i){return i.findIndex(function(t){return t.x===e.x})===t})}),o=s.reduce(function(t,e,i,a){return a[t].length>e.length?t:i},0),n=0;n<s[o].length;n++)a.push(n+1);else for(var r=0;r<e.series[e.maxValsInArrayIndex].length;r++)a.push(r+1);e.seriesX=[];for(var l=0;l<t.length;l++)e.seriesX.push(a);this.w.globals.isBarHorizontal||(e.isXNumeric=!0)}if(0===a.length)for(var a=e.axisCharts?[]:e.series.map(function(t,e){return e+1}),h=0;h<t.length;h++)e.seriesX.push(a);e.labels=a,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=a.map(function(t){return i.xaxis.labels.formatter(t)})),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,a=e.globals;this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),i.chart.stacked&&(e=new O(this.ctx),a.series=e.setNullSeriesToZeroValues(a.series)),this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var s=this.coreUtils.getCategoryLabels(a.labels),o=0;o<s.length;o++)if(Array.isArray(s[o])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var i=this,a=this.w;a.globals.ignoreYAxisIndexes=a.globals.collapsedSeries.map(function(t,e){if(i.w.globals.isMultipleYAxis&&!a.config.chart.stacked)return t.index})}}]),ii),L=(o(ei,[{key:"getLabel",value:function(t,e,i,a){var s,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"12px",r=!(6<arguments.length&&void 0!==arguments[6])||arguments[6],l=this.w,h=void 0===t[a]?"":t[a],c=h,d=l.globals.xLabelFormatter,p=l.config.xaxis.labels.formatter,f=!1,g=new u(this.ctx),d=(r&&(c=g.xLabelFormat(d,h,h,{i:a,dateFormatter:new w(this.ctx).formatDate,w:l}),void 0!==p)&&(c=p(h,t[a],{i:a,dateFormatter:new w(this.ctx).formatDate,w:l})),0<e.length?(g=e[a].unit,s=null,e.forEach(function(t){"month"===t.unit?s="year":"day"===t.unit?s="month":"hour"===t.unit?s="day":"minute"===t.unit&&(s="hour")}),f=s===g,i=e[a].position,c=e[a].value):"datetime"===l.config.xaxis.type&&void 0===p&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString(),new E(this.ctx)),h=l.globals.rotateXLabels&&r?d.getTextRects(c,parseInt(n,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):d.getTextRects(c,parseInt(n,10)),t=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return{x:i,text:c=!Array.isArray(c)&&(0===c.indexOf("NaN")||0===c.toLowerCase().indexOf("invalid")||0<=c.toLowerCase().indexOf("infinity")||0<=o.indexOf(c)&&t)?"":c,textRect:h,isBold:f}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var a=this.w,s=a.config.xaxis.tickAmount;return i<(s="dataPoints"===s?Math.round(a.globals.gridWidth/120):s)||t%Math.round(i/(s+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,a,s){var o=this.w;return 0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&0<a.length&&(t=s[s.length-1],e.x<t.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+t.x)&&(e.text=""),e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new _(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,a,s,o,n){var r=this.w,l=new E(this.ctx),h=r.globals.translateY;if(a.show&&0<e){!0===r.config.yaxis[s].opposite&&(t+=a.width);for(var c=e;0<=c;c--){var d=h+e/10+r.config.yaxis[s].labels.offsetY-1,d=(r.globals.isBarHorizontal&&(d=o*c),"heatmap"===r.config.chart.type&&(d+=o/2),l.drawLine(t+i.offsetX-a.width+a.offsetX,d+a.offsetY,t+i.offsetX+a.offsetX,d+a.offsetY,a.color));n.add(d),h+=o}}}}]),ei),Pt=(o(ti,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),a=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",a*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+a)}},{key:"fixSvgStringForIe11",value:function(t){var e;return M.isIE11()?(e=0,t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(t){return 2==++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':t}).replace(/xmlns:NS\d+=""/g,"").replace(/NS\d+:(\w+:\w+=")/g,"$1")):t.replace(/&nbsp;/g,"&#160;")}},{key:"getSvgString",value:function(t){null==t&&(t=1);var e,i=this.w.globals.dom.Paper.svg();return 1!==t&&(e=this.w.globals.dom.Paper.node.cloneNode(!0),this.scaleSvgNode(e,t),i=(new XMLSerializer).serializeToString(e)),this.fixSvgStringForIe11(i)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),t=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(t,function(t){t.setAttribute("width",0)}),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),t=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(r){var l=this;return new Promise(function(e){var t,i,a=l.w,s=r?r.scale||r.width/a.globals.svgWidth:1,o=(l.cleanup(),document.createElement("canvas")),a=(o.width=a.globals.svgWidth*s,o.height=parseInt(a.globals.dom.elWrap.style.height,10)*s,"transparent"===a.config.chart.background?"#fff":a.config.chart.background),n=o.getContext("2d"),a=(n.fillStyle=a,n.fillRect(0,0,o.width*s,o.height*s),l.getSvgString(s));window.canvg&&M.isIE11()?((s=window.canvg.Canvg.fromString(n,a,{ignoreClear:!0,ignoreDimensions:!0})).start(),t=o.msToBlob(),s.stop(),e({blob:t})):(s="data:image/svg+xml,"+encodeURIComponent(a),(i=new Image).crossOrigin="anonymous",i.onload=function(){var t;n.drawImage(i,0,0),o.msToBlob?(t=o.msToBlob(),e({blob:t})):(t=o.toDataURL("image/png"),e({imgURI:t}))},i.src=s)})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var i=this;this.dataURI().then(function(t){var e=t.imgURI,t=t.blob;t?navigator.msSaveOrOpenBlob(t,i.w.globals.chartID+".png"):i.triggerDownload(e,i.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(t){var s=this,h=t.series,e=t.fileName,i=t.columnDelimiter,c=void 0===i?",":i,i=t.lineDelimiter,t=void 0===i?"\n":i,d=this.w,h=h||d.config.series,p=[],f=[],i="",g=d.globals.series.map(function(t,e){return-1===d.globals.collapsedSeriesIndices.indexOf(e)?t:[]}),u=Math.max.apply(Math,v(h.map(function(t){return t.data?t.data.length:0}))),x=new Ot(this.ctx),o=new L(this.ctx),b=function(t){var e,i,a="";return d.globals.axisCharts?("category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric||(a=d.globals.isBarHorizontal?(e=d.globals.yLabelFormatters[0],i=new O(s.ctx).getActiveConfigSeriesIndex(),e(d.globals.labels[t],{seriesIndex:i,dataPointIndex:t,w:d})):o.getLabel(d.globals.labels,d.globals.timescaleLabels,0,t).text),"datetime"===d.config.xaxis.type&&(d.config.xaxis.categories.length?a=d.config.xaxis.categories[t]:d.config.labels.length&&(a=d.config.labels[t]))):a=d.config.labels[t],Array.isArray(a)&&(a=a.join(" ")),M.isNumber(a)?a:a.split(c).join("")};p.push(d.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===d.config.chart.type?(p.push("minimum"),p.push("q1"),p.push("median"),p.push("q3"),p.push("maximum")):"candlestick"===d.config.chart.type?(p.push("open"),p.push("high"),p.push("low"),p.push("close")):"rangeBar"===d.config.chart.type?(p.push("minimum"),p.push("maximum")):h.map(function(t,e){t=(t.name||"series-".concat(e))+"";d.globals.axisCharts&&p.push(t.split(c).join("")?t.split(c).join(""):"series-".concat(e))}),d.globals.axisCharts||(p.push(d.config.chart.toolbar.export.csv.headerValue),f.push(p.join(c))),h.map(function(t,e){if(d.globals.axisCharts){var i,a=t,s=e;if(p.length&&0===s&&f.push(p.join(c)),a.data){a.data=a.data.length&&a.data||v(Array(u)).map(function(){return""});for(var o=0;o<a.data.length;o++){p=[];var n=b(o);if(n||(x.isFormatXY()?n=h[s].data[o].x:x.isFormat2DArray()&&(n=h[s].data[o]?h[s].data[o][0]:"")),0===s){p.push((i=n,"datetime"===d.config.xaxis.type&&10<=String(i).length?d.config.chart.toolbar.export.csv.dateFormatter(n):M.isNumber(n)?n:n.split(c).join("")));for(var r,l=0;l<d.globals.series.length;l++)x.isFormatXY()?p.push(null==(r=h[l].data[o])?void 0:r.y):p.push(g[l][o])}("candlestick"===d.config.chart.type||a.type&&"candlestick"===a.type)&&(p.pop(),p.push(d.globals.seriesCandleO[s][o]),p.push(d.globals.seriesCandleH[s][o]),p.push(d.globals.seriesCandleL[s][o]),p.push(d.globals.seriesCandleC[s][o])),("boxPlot"===d.config.chart.type||a.type&&"boxPlot"===a.type)&&(p.pop(),p.push(d.globals.seriesCandleO[s][o]),p.push(d.globals.seriesCandleH[s][o]),p.push(d.globals.seriesCandleM[s][o]),p.push(d.globals.seriesCandleL[s][o]),p.push(d.globals.seriesCandleC[s][o])),"rangeBar"===d.config.chart.type&&(p.pop(),p.push(d.globals.seriesRangeStart[s][o]),p.push(d.globals.seriesRangeEnd[s][o])),p.length&&f.push(p.join(c))}}}else(p=[]).push(d.globals.labels[e].split(c).join("")),p.push(g[e]),f.push(p.join(c))}),i+=f.join(t),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+i),e||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var a=document.createElement("a");a.href=t,a.download=(e||this.w.globals.chartID)+i,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),ti),Lt=(o(Ke,[{key:"drawXaxis",value:function(){var t=this.w,e=new E(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),a=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(a);for(var s=[],o=0;o<this.xaxisLabels.length;o++)s.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,e,a,s,t.globals.isXNumeric,function(t,e){return e}),t.globals.hasXaxisGroups){for(var n=t.globals.groups,s=[],r=0;r<n.length;r++)s.push(n[r].title);var l={};t.config.xaxis.group.style&&(l.xaxisFontSize=t.config.xaxis.group.style.fontSize,l.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,l.xaxisForeColors=t.config.xaxis.group.style.colors,l.fontWeight=t.config.xaxis.group.style.fontWeight,l.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,a,s,!1,function(t,e){return n[t].cols*e},l)}return void 0!==t.config.xaxis.title.text&&(a=e.group({class:"apexcharts-xaxis-title"}),l=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===t.config.xaxis.position?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass}),a.add(l),i.add(a)),t.config.xaxis.axisBorder.show&&(l=t.globals.barPadForNumericAxis,a=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-l,this.offY,this.xaxisBorderWidth+l,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight),(this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders:i).add(a)),i}},{key:"drawXAxisLabelAndGroup",value:function(s,o,n,r,t,l){var h,c=this,e=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{},d=[],p=[],f=this.w,g=e.xaxisFontSize||this.xaxisFontSize,u=e.xaxisFontFamily||this.xaxisFontFamily,x=e.xaxisForeColors||this.xaxisForeColors,b=e.fontWeight||f.config.xaxis.labels.style.fontWeight,y=e.cssClass||f.config.xaxis.labels.style.cssClass,m=f.globals.padHorizontal,v=r.length,w="category"===f.config.xaxis.type?f.globals.dataPoints:v;0===w&&w<v&&(w=v),m=t?(e=1<w?w-1:w,h=f.globals.gridWidth/e,m+l(0,h)/2+f.config.xaxis.labels.offsetX):(h=f.globals.gridWidth/w,m+l(0,h)+f.config.xaxis.labels.offsetX);for(var i=0;i<=v-1;i++)!function(i){var t,e=m-l(i,h)/2+f.config.xaxis.labels.offsetX,e=(0===i&&1===v&&h/2===m&&1===w&&(e=f.globals.gridWidth/2),c.axesUtils.getLabel(r,f.globals.timescaleLabels,e,i,d,g,s)),a=28;f.globals.rotateXLabels&&s&&(a=22),f.config.xaxis.title.text&&"top"===f.config.xaxis.position&&(a+=parseFloat(f.config.xaxis.title.style.fontSize)+2),s||(a=a+parseFloat(g)+(f.globals.xAxisLabelsHeight-f.globals.xAxisGroupLabelsHeight)+(f.globals.rotateXLabels?10:0)),e=void 0!==f.config.xaxis.tickAmount&&"dataPoints"!==f.config.xaxis.tickAmount&&"datetime"!==f.config.xaxis.type?c.axesUtils.checkLabelBasedOnTickamount(i,e,v):c.axesUtils.checkForOverflowingLabels(i,e,v,d,p),f.config.xaxis.labels.show&&(a=o.drawText({x:e.x,y:c.offY+f.config.xaxis.labels.offsetY+a-("top"===f.config.xaxis.position?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:e.text,textAnchor:"middle",fontWeight:e.isBold?600:b,fontSize:g,fontFamily:u,foreColor:Array.isArray(x)?s&&f.config.xaxis.convertedCatToNumeric?x[f.globals.minX+i-1]:x[i]:x,isPlainText:!1,cssClass:(s?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+y}),n.add(a),a.on("click",function(t){var e;"function"==typeof f.config.chart.events.xAxisLabelClick&&(e=Object.assign({},f,{labelIndex:i}),f.config.chart.events.xAxisLabelClick(t,c.ctx,e))}),s)&&((t=document.createElementNS(f.globals.SVGNS,"title")).textContent=Array.isArray(e.text)?e.text.join(" "):e.text,a.node.appendChild(t),""!==e.text)&&(d.push(e.text),p.push(e)),i<v-1&&(m+=l(i+1,h))}(i)}},{key:"drawXaxisInversed",value:function(n){var r=this,l=this.w,h=new E(this.ctx),t=l.config.yaxis[0].opposite?l.globals.translateYAxisX[n]:0,e=h.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:n}),c=h.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+t+", 0)"}),d=(e.add(c),[]);if(l.config.yaxis[n].show)for(var i=0;i<this.xaxisLabels.length;i++)d.push(this.xaxisLabels[i]);var p,f=-(p=l.globals.gridHeight/d.length)/2.2,g=l.globals.yLabelFormatters[0],u=l.config.yaxis[0].labels;if(u.show)for(var a=0;a<=d.length-1;a++)!function(i){var t=void 0===d[i]?"":d[i],t=g(t,{seriesIndex:n,dataPointIndex:i,w:l}),e=r.axesUtils.getYAxisForeColor(u.style.colors,n),a=0,s=(Array.isArray(t)&&(a=t.length/2*parseInt(u.style.fontSize,10)),u.offsetX-15),o="end",s=(r.yaxis.opposite&&(o="start"),"left"===l.config.yaxis[0].labels.align?(s=u.offsetX,o="start"):"center"===l.config.yaxis[0].labels.align?(s=u.offsetX,o="middle"):"right"===l.config.yaxis[0].labels.align&&(o="end"),h.drawText({x:s,y:f+p+u.offsetY-a,text:t,textAnchor:o,foreColor:Array.isArray(e)?e[i]:e,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.style.cssClass,maxWidth:u.maxWidth})),a=(c.add(s),s.on("click",function(t){var e;"function"==typeof l.config.chart.events.xAxisLabelClick&&(e=Object.assign({},l,{labelIndex:i}),l.config.chart.events.xAxisLabelClick(t,r.ctx,e))}),document.createElementNS(l.globals.SVGNS,"title"));a.textContent=Array.isArray(t)?t.join(" "):t,s.node.appendChild(a),0!==l.config.yaxis[n].labels.rotate&&(o=h.rotateAroundCenter(s.node),s.node.setAttribute("transform","rotate(".concat(l.config.yaxis[n].labels.rotate," 0 ").concat(o.y,")"))),f+=p}(a);void 0!==l.config.yaxis[0].title.text&&(t=h.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+t+", 0)"}),s=h.drawText({x:l.config.yaxis[0].title.offsetX,y:l.globals.gridHeight/2+l.config.yaxis[0].title.offsetY,text:l.config.yaxis[0].title.text,textAnchor:"middle",foreColor:l.config.yaxis[0].title.style.color,fontSize:l.config.yaxis[0].title.style.fontSize,fontWeight:l.config.yaxis[0].title.style.fontWeight,fontFamily:l.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+l.config.yaxis[0].title.style.cssClass}),t.add(s),e.add(t));var s=0,t=(this.isCategoryBarHorizontal&&l.config.yaxis[0].opposite&&(s=l.globals.gridWidth),l.config.xaxis.axisBorder);return t.show&&(t=h.drawLine(l.globals.padHorizontal+t.offsetX+s,1+t.offsetY,l.globals.padHorizontal+t.offsetX+s,l.globals.gridHeight+t.offsetY,t.color,0),(this.elgrid&&this.elgrid.elGridBorders&&l.config.grid.show?this.elgrid.elGridBorders:e).add(t)),l.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(s,d.length,l.config.yaxis[0].axisBorder,l.config.yaxis[0].axisTicks,0,p,e),e}},{key:"drawXaxisTicks",value:function(t,e,i){var a,s=this.w,o=t;t<0||t-2>s.globals.gridWidth||(e=e+(a=this.offY+s.config.xaxis.axisTicks.offsetY)+s.config.xaxis.axisTicks.height,"top"===s.config.xaxis.position&&(e=a-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show&&(t=new E(this.ctx).drawLine(t+s.config.xaxis.axisTicks.offsetX,a+s.config.xaxis.offsetY,o+s.config.xaxis.axisTicks.offsetX,e+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color),i.add(t),t.node.classList.add("apexcharts-xaxis-tick")))}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,a=t.globals.padHorizontal;if(0<t.globals.timescaleLabels.length)for(var s=0;s<i;s++)a=this.xaxisLabels[s].position,e.push(a);else for(var o=i,n=0;n<o;n++){var r=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&--r,a+=t.globals.gridWidth/r,e.push(a)}return e}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,i=new E(this.ctx),t=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var n=0;n<a.length;n++){var r=i.rotateAroundCenter(a[n]),r=(r.y=r.y-1,r.x=r.x+1,a[n].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(r.x," ").concat(r.y,")")),a[n].setAttribute("text-anchor","end"),t.setAttribute("transform","translate(0, ".concat(-10,")")),a[n].childNodes);e.config.xaxis.labels.trim&&Array.prototype.forEach.call(r,function(t){i.placeTextWithEllipsis(t,t.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else for(var l=e.globals.gridWidth/(e.globals.labels.length+1),h=0;h<a.length;h++){var c=a[h].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(c,function(t){i.placeTextWithEllipsis(t,t.textContent,l)})}if(0<s.length){var d=s[s.length-1].getBBox(),p=s[0].getBBox();d.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),p.x+p.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var f=0;f<o.length;f++)i.placeTextWithEllipsis(o[f],o[f].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),Ke),zt=(o(Qe,[{key:"drawGridArea",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new E(this.ctx),a=(null===t&&(t=i.group({class:"apexcharts-grid"})),i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent")),i=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(i),t.add(a),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var e,t=this.w,i=t.globals,a=new E(this.ctx),s=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width,o=(Array.isArray(t.config.stroke.width)&&(e=0,t.config.stroke.width.forEach(function(t){e=Math.max(e,t)}),s=e),i.dom.elGridRectMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(i.cuid)),i.dom.elGridRectMarkerMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(i.cuid)),i.dom.elForecastMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elForecastMask.setAttribute("id","forecastMask".concat(i.cuid)),i.dom.elNonForecastMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(i.cuid)),t.config.chart.type),n=0,r=0,o=(("bar"===o||"rangeBar"===o||"candlestick"===o||"boxPlot"===o||0<t.globals.comboBarCount)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(n=t.config.grid.padding.left,r=t.config.grid.padding.right,i.barPadForNumericAxis>n)&&(n=i.barPadForNumericAxis,r=i.barPadForNumericAxis),i.dom.elGridRect=a.drawRect(-s/2-n-2,-s/2,i.gridWidth+s+r+n+4,i.gridHeight+s,0,"#fff"),t.globals.markers.largestSize+1),r=(i.dom.elGridRectMarker=a.drawRect(2*-o,2*-o,i.gridWidth+4*o,i.gridHeight+4*o,0,"#fff"),i.dom.elGridRectMask.appendChild(i.dom.elGridRect.node),i.dom.elGridRectMarkerMask.appendChild(i.dom.elGridRectMarker.node),i.dom.baseEl.querySelector("defs"));r.appendChild(i.dom.elGridRectMask),r.appendChild(i.dom.elForecastMask),r.appendChild(i.dom.elNonForecastMask),r.appendChild(i.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,a=t.y1,s=t.x2,o=t.y2,n=t.xCount,t=t.parent,r=this.w;if(!(0===e&&r.globals.skipFirstTimelinelabel||e===n-1&&r.globals.skipLastTimelinelabel&&!r.config.xaxis.labels.formatter||"radar"===r.config.chart.type)){r.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:a,x2:s,y2:o,xCount:n,parent:t});a=0;if(r.globals.hasXaxisGroups&&"between"===r.config.xaxis.tickPlacement){var l=r.globals.groups;if(l){for(var h=0,c=0;h<e&&c<l.length;c++)h+=l[c].cols;h===e&&(a=.6*r.globals.xAxisLabelsHeight)}}new Lt(this.ctx).drawXaxisTicks(i,a,r.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,a=t.y1,s=t.x2,o=t.y2,n=t.xCount,t=t.parent,r=this.w,l=!1,h=t.node.classList.contains("apexcharts-gridlines-horizontal"),c=r.config.grid.strokeDashArray,d=r.globals.barPadForNumericAxis,e=((0===a&&0===o||0===i&&0===s)&&(l=!0),a===r.globals.gridHeight&&o===r.globals.gridHeight&&(l=!0),!r.globals.isBarHorizontal||0!==e&&e!==n-1||(l=!0),new E(this).drawLine(i-(h?d:0),a,s+(h?d:0),o,r.config.grid.borderColor,c));e.node.classList.add("apexcharts-gridline"),(l&&r.config.grid.show?this.elGridBorders:t).add(e)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,a=t.y1,s=t.x2,o=t.y2,t=t.type,n=this.w,r=new E(this.ctx),l=n.globals.barPadForNumericAxis;"column"===t&&"datetime"===n.config.xaxis.type||(e=n.config.grid[t].colors[e],r=r.drawRect(i-("row"===t?l:0),a,s+("row"===t?2*l:0),o,0,e,n.config.grid[t].opacity),this.elg.add(r),r.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),r.node.classList.add("apexcharts-grid-".concat(t)))}},{key:"_drawXYLines",value:function(t){var e,r=this,l=t.xCount,i=t.tickAmount,h=this.w;if((h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show)&&(t=h.globals.padHorizontal,e=h.globals.gridHeight,(h.globals.timescaleLabels.length?function(t){for(var e,i,a=t.xC,s=t.y1,o=t.y2,n=0;n<a;n++)e=r.xaxisLabels[n].position,i=r.xaxisLabels[n].position,r._drawGridLines({i:n,x1:e,y1:s,x2:i,y2:o,xCount:l,parent:r.elgridLinesV})}:(h.globals.isXNumeric&&(l=h.globals.xAxisScale.result.length),function(t){for(var e=t.xC,i=t.x1,a=t.y1,s=t.x2,o=t.y2,n=0;n<e+(h.globals.isXNumeric?0:1);n++)0===n&&1===e&&1===h.globals.dataPoints&&(s=i=h.globals.gridWidth/2),r._drawGridLines({i:n,x1:i,y1:a,x2:s,y2:o,xCount:l,parent:r.elgridLinesV}),s=i+=h.globals.gridWidth/(h.globals.isXNumeric?e-1:e)}))({xC:l,x1:t,y1:0,x2:void 0,y2:e})),h.config.grid.yaxis.lines.show){var a=0,s=0,o=h.globals.gridWidth,n=i+1;this.isRangeBar&&(n=h.globals.labels.length);for(var c=0;c<n+(this.isRangeBar?1:0);c++)this._drawGridLine({i:c,xCount:n+(this.isRangeBar?1:0),x1:0,y1:a,x2:o,y2:s,parent:this.elgridLinesH}),s=a+=h.globals.gridHeight/(this.isRangeBar?n:i)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var a,s=i.globals.padHorizontal,o=i.globals.gridHeight,n=0;n<e+1;n++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:n,xCount:e+1,x1:s,y1:0,x2:a,y2:o,parent:this.elgridLinesV}),new Lt(this.ctx).drawXaxisTicks(s,0,i.globals.dom.elGraphical),a=s=s+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var r=0,l=0,h=i.globals.gridWidth,c=0;c<i.globals.dataPoints+1;c++)this._drawGridLine({i:c,xCount:i.globals.dataPoints+1,x1:0,y1:r,x2:h,y2:l,parent:this.elgridLinesH}),l=r+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new E(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=e.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i,a=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,s=0;s<t.globals.series.length&&!(2<(a=void 0!==t.globals.yAxisScale[s]?t.globals.yAxisScale[s].result.length-1:a));s++);return!t.globals.isBarHorizontal||this.isRangeBar?(i=this.xaxisLabels.length,this.isRangeBar&&(i--,a=t.globals.labels.length,t.config.xaxis.tickAmount)&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount),this._drawXYLines({xCount:i,tickAmount:a})):(i=a,a=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:a})),this.drawGridBands(i,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&0<i.config.grid.row.colors.length)for(var a=0,s=i.globals.gridHeight/e,o=i.globals.gridWidth,n=0,r=0;n<e;n++,r++)r>=i.config.grid.row.colors.length&&(r=0),this._drawGridBandRect({c:r,x1:0,y1:a,x2:o,y2:s,type:"row"}),a+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&0<i.config.grid.column.colors.length)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,h=i.globals.padHorizontal,c=i.globals.padHorizontal+i.globals.gridWidth/l,d=i.globals.gridHeight,p=0,f=0;p<t;p++,f++)f>=i.config.grid.column.colors.length&&(f=0),this._drawGridBandRect({c:f,x1:h,y1:0,x2:c,y2:d,type:"column"}),h+=i.globals.gridWidth/l}}]),Qe),x=(o(Je,[{key:"niceScale",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length?arguments[4]:void 0,o=this.w,n=Math.abs(e-t);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,a,n))&&(i=o.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!M.isNumber(t)&&!M.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE)return e=i,this.linearScale(t=0,e,i);e<t?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var r=[],a=(n<1&&s&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[a].type||"boxPlot"===o.config.chart.type||"boxPlot"===o.config.series[a].type||o.globals.isRangeData)&&(e*=1.01),i+1),o=(a<2?a=2:2<a&&(a-=2),n/a),a=Math.floor(M.log10(o)),a=Math.pow(10,a),o=Math.round(o/a),l=(o=o<1?1:o)*a,o=l*Math.floor(t/l),h=l*Math.ceil(e/l),c=o;if(s&&2<n)for(;r.push(M.stripNumber(c,7)),!((c+=l)>h););else{var d=t;(r=[]).push(M.stripNumber(d,7));for(var p=Math.abs(e-t)/i,f=0;f<=i;f++)r.push(d+=p);r[r.length-2]>=e&&r.pop()}return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"linearScale",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,a=3<arguments.length?arguments[3]:void 0,e=Math.abs(e-t),s=e/(i="dataPoints"===(i=this._adjustTicksForSmallRange(i,a,e))?this.w.globals.dataPoints-1:i);i===Number.MAX_VALUE&&(i=10,s=1);for(var o=[],n=t;0<=i;)o.push(n),n+=s,--i;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var a=[],s=Math.ceil(Math.log(e)/Math.log(i)+1),o=Math.floor(Math.log(t)/Math.log(i));o<s;o++)a.push(Math.pow(i,o));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var a=[],s=Math.log(e)/Math.log(i),o=Math.log(t)/Math.log(i),n=s-o,r=Math.round(n),l=n/r,h=0,c=o;h<r;h++,c+=l)a.push(Math.pow(i,c));return a.push(Math.pow(i,s)),{result:a,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var a=t;return(a=void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount&&(e=Number(this.w.config.yaxis[e].labels.formatter(1)),M.isNumber(e))&&0===this.w.globals.yValueDecimal?Math.ceil(i):a)<t?a:t}},{key:"setYScaleForIndex",value:function(t,e,i){var a=this.w.globals,s=this.w.config,o=a.isBarHorizontal?s.xaxis:s.yaxis[t],n=(void 0===a.yAxisScale[t]&&(a.yAxisScale[t]=[]),Math.abs(i-e));o.logarithmic&&n<=5&&(a.invalidLogScale=!0),o.logarithmic&&5<n?(a.allSeriesCollapsed=!1,a.yAxisScale[t]=this.logarithmicScale(e,i,o.logBase),a.yAxisScale[t]=o.forceNiceScale?this.logarithmicScaleNice(e,i,o.logBase):this.logarithmicScale(e,i,o.logBase)):i!==-Number.MAX_VALUE&&M.isNumber(i)?(a.allSeriesCollapsed=!1,void 0===o.min&&void 0===o.max||o.forceNiceScale?(s=void 0===s.yaxis[t].max&&void 0===s.yaxis[t].min||s.yaxis[t].forceNiceScale,a.yAxisScale[t]=this.niceScale(e,i,o.tickAmount||(n<5&&1<n?n+1:5),t,s)):a.yAxisScale[t]=this.linearScale(e,i,o.tickAmount,t)):a.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,a=i.globals,i=i.config.xaxis,s=Math.abs(e-t);return e!==-Number.MAX_VALUE&&M.isNumber(e)?a.xAxisScale=this.linearScale(t,e,i.tickAmount||(s<5&&1<s?s+1:5),0):a.xAxisScale=this.linearScale(0,5,5),a.xAxisScale}},{key:"setMultipleYScales",value:function(){var o=this,t=this.w.globals,n=this.w.config,r=t.minYArr.concat([]),l=t.maxYArr.concat([]),h=[];n.yaxis.forEach(function(i,a){var s=a,t=(n.series.forEach(function(t,e){t.name===i.seriesName&&(s=e,h.push(a!==e?{index:e,similarIndex:a,alreadyExists:!0}:{index:e}))}),r[s]),e=l[s];o.setYScaleForIndex(a,t,e)}),this.sameScaleInMultipleAxes(r,l,h)}},{key:"sameScaleInMultipleAxes",value:function(t,s,e){var r=this,l=this.w.config,h=this.w.globals,o=[],e=(e.forEach(function(t){t.alreadyExists&&(void 0===o[t.index]&&(o[t.index]=[]),o[t.index].push(t.index),o[t.index].push(t.similarIndex))}),(h.yAxisSameScaleIndices=o).forEach(function(a,s){o.forEach(function(t,e){var i;s!==e&&(i=t,0<a.filter(function(t){return-1!==i.indexOf(t)}).length)&&(o[s]=o[s].concat(o[e]))})}),o.map(function(i){return i.filter(function(t,e){return i.indexOf(t)===e})}).map(function(t){return t.sort()})),o=o.filter(function(t){return!!t}),i=(n=e.slice()).map(function(t){return JSON.stringify(t)}),n=n.filter(function(t,e){return i.indexOf(JSON.stringify(t))===e}),c=[],d=[],p=(t.forEach(function(i,a){n.forEach(function(t,e){-1<t.indexOf(a)&&(void 0===c[e]&&(c[e]=[],d[e]=[]),c[e].push({key:a,value:i}),d[e].push({key:a,value:s[a]}))})}),Array.apply(null,Array(n.length)).map(Number.prototype.valueOf,Number.MIN_VALUE)),f=Array.apply(null,Array(n.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);c.forEach(function(t,i){t.forEach(function(t,e){p[i]=Math.min(t.value,p[i])})}),d.forEach(function(t,i){t.forEach(function(t,e){f[i]=Math.max(t.value,f[i])})}),t.forEach(function(t,n){d.forEach(function(i,a){var s=p[a],o=f[a];l.chart.stacked&&(o=0,i.forEach(function(t,e){t.value!==-Number.MAX_VALUE&&(o+=t.value),s!==Number.MIN_VALUE&&(s+=c[a][e].value)})),i.forEach(function(t,e){i[e].key===n&&(void 0!==l.yaxis[n].min&&(s="function"==typeof l.yaxis[n].min?l.yaxis[n].min(h.minY):l.yaxis[n].min),void 0!==l.yaxis[n].max&&(o="function"==typeof l.yaxis[n].max?l.yaxis[n].max(h.maxY):l.yaxis[n].max),r.setYScaleForIndex(n,s,o))})})})}},{key:"autoScaleY",value:function(t,c,d){var p,f,g=(t=t||this).w;return g.globals.isMultipleYAxis||g.globals.collapsedSeries.length?console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."):(p=g.globals.seriesX[0],f=g.config.chart.stacked,c.forEach(function(a,t){for(var s=0,e=0;e<p.length;e++)if(p[e]>=d.xaxis.min){s=e;break}var n,r,o=g.globals.minYArr[t],l=g.globals.maxYArr[t],h=g.globals.stackedSeriesTotals;g.globals.series.forEach(function(i,t){var e=i[s];f?(e=h[s],n=r=e,h.forEach(function(t,e){p[e]<=d.xaxis.max&&p[e]>=d.xaxis.min&&(r<t&&null!==t&&(r=t),i[e]<n)&&null!==i[e]&&(n=i[e])})):(n=r=e,i.forEach(function(i,a){var s,o;p[a]<=d.xaxis.max&&p[a]>=d.xaxis.min&&(o=s=i,g.globals.series.forEach(function(t,e){null!==i&&(s=Math.min(t[a],s),o=Math.max(t[a],o))}),r<o&&null!==o&&(r=o),s<n)&&null!==s&&(n=s)})),void 0===n&&void 0===r&&(n=o,r=l),r*=r<0?.9:1.1,0==(n*=n<0?1.1:.9)&&0===r&&(n=-1,r=1),r<0&&r<l&&(r=l),n<0&&o<n&&(n=o),1<c.length?(c[t].min=void 0===a.min?n:a.min,c[t].max=void 0===a.max?r:a.max):(c[0].min=void 0===a.min?n:a.min,c[0].max=void 0===a.max?r:a.max)})})),c}}]),Je),It=(o(Ze,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=this.w.config,o=this.w.globals,n=-Number.MAX_VALUE,r=Number.MIN_VALUE,l=(null===a&&(a=t+1),o.series),h=l,c=l;"candlestick"===s.chart.type?(h=o.seriesCandleL,c=o.seriesCandleH):"boxPlot"===s.chart.type?(h=o.seriesCandleO,c=o.seriesCandleC):o.isRangeData&&(h=o.seriesRangeStart,c=o.seriesRangeEnd);for(var d=t;d<a;d++){o.dataPoints=Math.max(o.dataPoints,l[d].length),o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(t){return void 0!==t}).length),o.labels.length&&"datetime"!==s.xaxis.type&&0!==o.series.reduce(function(t,e){return t+e.length},0)&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));for(var p=0;p<o.series[d].length;p++){var f=l[d][p];null!==f&&M.isNumber(f)?(void 0!==c[d][p]&&(n=Math.max(n,c[d][p]),e=Math.min(e,c[d][p])),void 0!==h[d][p]&&(e=Math.min(e,h[d][p]),i=Math.max(i,h[d][p])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==o.seriesCandleC[d][p]&&(n=Math.max(n,o.seriesCandleO[d][p]),n=Math.max(n,o.seriesCandleH[d][p]),n=Math.max(n,o.seriesCandleL[d][p]),n=Math.max(n,o.seriesCandleC[d][p]),"boxPlot"===this.w.config.chart.type)&&(n=Math.max(n,o.seriesCandleM[d][p])),!s.series[d].type||"candlestick"===s.series[d].type&&"boxPlot"===s.series[d].type&&"rangeArea"===s.series[d].type&&"rangeBar"===s.series[d].type||(n=Math.max(n,o.series[d][p]),e=Math.min(e,o.series[d][p])),i=n),o.seriesGoals[d]&&o.seriesGoals[d][p]&&Array.isArray(o.seriesGoals[d][p])&&o.seriesGoals[d][p].forEach(function(t){r!==Number.MIN_VALUE&&(r=Math.min(r,t.value),e=r),n=Math.max(n,t.value),i=n}),M.isFloat(f)&&(f=M.noExponents(f),o.yValueDecimal=Math.max(o.yValueDecimal,f.toString().split(".")[1].length)),r>h[d][p]&&h[d][p]<0&&(r=h[d][p])):o.hasNullValues=!0}}return"rangeBar"===s.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(r=e),{minY:r="bar"===s.chart.type&&(r<0&&n<0&&(n=0),r===Number.MIN_VALUE)?0:r,maxY:n,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var i=this.w.globals,e=this.w.config,t=(i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE,Number.MAX_VALUE);if(i.isMultipleYAxis)for(var a=0;a<i.series.length;a++){var s=this.getMinYMaxY(a,t,null,a+1);i.minYArr.push(s.minY),i.maxYArr.push(s.maxY),t=s.lowestY}var o=this.getMinYMaxY(0,t,null,i.series.length);return i.minY=o.minY,i.maxY=o.maxY,t=o.lowestY,e.chart.stacked&&this._setStackedMinMax(),"line"!==e.chart.type&&"area"!==e.chart.type&&"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type&&("rangeBar"!==e.chart.type||i.isBarHorizontal)||i.minY!==Number.MIN_VALUE||t===-Number.MAX_VALUE||t===i.maxY||(o=i.maxY-t,(0<=t&&t<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(o=0),i.minY=t-5*o/100,0<t&&i.minY<0&&(i.minY=0),i.maxY=i.maxY+5*o/100),e.yaxis.forEach(function(t,e){void 0!==t.max&&("number"==typeof t.max?i.maxYArr[e]=t.max:"function"==typeof t.max&&(i.maxYArr[e]=t.max(i.isMultipleYAxis?i.maxYArr[e]:i.maxY)),i.maxY=i.maxYArr[e]),void 0!==t.min&&("number"==typeof t.min?i.minYArr[e]=t.min:"function"==typeof t.min&&(i.minYArr[e]=t.min(i.isMultipleYAxis?i.minYArr[e]===Number.MIN_VALUE?0:i.minYArr[e]:i.minY)),i.minY=i.minYArr[e])}),i.isBarHorizontal&&["min","max"].forEach(function(t){void 0!==e.xaxis[t]&&"number"==typeof e.xaxis[t]&&("min"===t?i.minY=e.xaxis[t]:i.maxY=e.xaxis[t])}),i.isMultipleYAxis?(this.scales.setMultipleYScales(),i.minY=t,i.yAxisScale.forEach(function(t,e){i.minYArr[e]=t.niceMin,i.maxYArr[e]=t.niceMax})):(this.scales.setYScaleForIndex(0,i.minY,i.maxY),i.minY=i.yAxisScale[0].niceMin,i.maxY=i.yAxisScale[0].niceMax,i.minYArr[0]=i.yAxisScale[0].niceMin,i.maxYArr[0]=i.yAxisScale[0].niceMax),{minY:i.minY,maxY:i.maxY,minYArr:i.minYArr,maxYArr:i.maxYArr,yAxisScale:i.yAxisScale}}},{key:"setXRange",value:function(){var t,e=this.w.globals,i=this.w.config,a="numeric"===i.xaxis.type||"datetime"===i.xaxis.type||"category"===i.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric)for(var s=0;s<e.series.length;s++)if(e.labels[s])for(var o=0;o<e.labels[s].length;o++)null!==e.labels[s][o]&&M.isNumber(e.labels[s][o])&&(e.maxX=Math.max(e.maxX,e.labels[s][o]),e.initialMaxX=Math.max(e.maxX,e.labels[s][o]),e.minX=Math.min(e.minX,e.labels[s][o]),e.initialMinX=Math.min(e.minX,e.labels[s][o]));if(e.noLabelsProvided&&0===i.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){if(void 0===i.xaxis.tickAmount?(t=Math.round(e.svgWidth/150),(t="numeric"===i.xaxis.type&&e.dataPoints<30?e.dataPoints-1:t)>e.dataPoints&&0!==e.dataPoints&&(t=e.dataPoints-1)):"dataPoints"===i.xaxis.tickAmount?(1<e.series.length&&(t=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(t=e.maxX-e.minX-1)):t=i.xaxis.tickAmount,e.xTickAmount=t,void 0!==i.xaxis.max&&"number"==typeof i.xaxis.max&&(e.maxX=i.xaxis.max),void 0!==i.xaxis.min&&"number"==typeof i.xaxis.min&&(e.minX=i.xaxis.min),void 0!==i.xaxis.range&&(e.minX=e.maxX-i.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(i.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var n=[],r=e.minX-1;r<e.maxX;r++)n.push(r+1);e.xAxisScale={result:n,niceMin:n[0],niceMax:n[n.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,t,t),e.noLabelsProvided&&0<e.labels.length&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,t-1),e.seriesX=e.labels.slice());a&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&M.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t,e,i=this.w.globals,a=this.w.config;i.minX===i.maxX&&(t=new w(this.ctx),"datetime"===a.xaxis.type?(e=t.getDate(i.minX),a.xaxis.labels.datetimeUTC?e.setUTCDate(e.getUTCDate()-2):e.setDate(e.getDate()-2),i.minX=new Date(e).getTime(),e=t.getDate(i.maxX),a.xaxis.labels.datetimeUTC?e.setUTCDate(e.getUTCDate()+2):e.setDate(e.getDate()+2),i.maxX=new Date(e).getTime()):"numeric"!==a.xaxis.type&&("category"!==a.xaxis.type||i.noLabelsProvided)||(i.minX=i.minX-2,i.initialMinX=i.minX,i.maxX=i.maxX+2,i.initialMaxX=i.maxX))}},{key:"_getMinXDiff",value:function(){var a=this.w.globals;a.isXNumeric&&a.seriesX.forEach(function(t,e){1===t.length&&t.push(a.seriesX[a.maxValsInArrayIndex][a.seriesX[a.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort(function(t,e){return t-e}),i.forEach(function(t,e){0<e&&0<(t=t-i[e-1])&&(a.minXDiff=Math.min(t,a.minXDiff))}),1!==a.dataPoints&&a.minXDiff!==Number.MAX_VALUE||(a.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var t,a,s,e=this,o=this.w.globals;o.series.length&&((t=o.seriesGroups).length||(t=[this.w.config.series.map(function(t){return t.name})]),a={},s={},t.forEach(function(i){a[i]=[],s[i]=[],e.w.config.series.map(function(t,e){return-1<i.indexOf(t.name)?e:null}).filter(function(t){return null!==t}).forEach(function(t){for(var e=0;e<o.series[o.maxValsInArrayIndex].length;e++)void 0===a[i][e]&&(a[i][e]=0,s[i][e]=0),null!==o.series[t][e]&&M.isNumber(o.series[t][e])&&(0<o.series[t][e]?a[i][e]+=parseFloat(o.series[t][e])+1e-4:s[i][e]+=parseFloat(o.series[t][e]))})}),Object.entries(a).forEach(function(t){var i=J(t,1)[0];a[i].forEach(function(t,e){o.maxY=Math.max(o.maxY,a[i][e]),o.minY=Math.min(o.minY,s[i][e])})}))}}]),Ze),_t=(o($e,[{key:"drawYaxis",value:function(t){var e=this,i=this.w,a=new E(this.ctx),s=i.config.yaxis[t].labels.style,o=s.fontSize,n=s.fontFamily,r=s.fontWeight,l=a.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+i.globals.translateYAxisX[t]+", 0)"});if(!this.axesUtils.isYAxisHidden(t)){var h,c,d,p,f,g=a.group({class:"apexcharts-yaxis-texts-g"}),u=(l.add(g),i.globals.yAxisScale[t].result.length-1),x=i.globals.gridHeight/u,b=i.globals.translateY,y=i.globals.yLabelFormatters[t],m=i.globals.yAxisScale[t].result.slice(),m=this.axesUtils.checkForReversedLabels(t,m),v="";if(i.config.yaxis[t].labels.show)for(var w=u;0<=w;w--)p=d=f=p=d=c=void 0,c=m[h=w],c=y(c,h,i),d=i.config.yaxis[t].labels.padding,i.config.yaxis[t].opposite&&0!==i.config.yaxis.length&&(d*=-1),p="end",i.config.yaxis[t].opposite&&(p="start"),"left"===i.config.yaxis[t].labels.align?p="start":"center"===i.config.yaxis[t].labels.align?p="middle":"right"===i.config.yaxis[t].labels.align&&(p="end"),f=e.axesUtils.getYAxisForeColor(s.colors,t),d=a.drawText({x:d,y:b+u/10+i.config.yaxis[t].labels.offsetY+1,text:c,textAnchor:p,fontSize:o,fontFamily:n,fontWeight:r,maxWidth:i.config.yaxis[t].labels.maxWidth,foreColor:Array.isArray(f)?f[h]:f,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+s.cssClass}),h===u&&(v=d),g.add(d),(p=document.createElementNS(i.globals.SVGNS,"title")).textContent=Array.isArray(c)?c.join(" "):c,d.node.appendChild(p),0!==i.config.yaxis[t].labels.rotate&&(f=a.rotateAroundCenter(v.node),h=a.rotateAroundCenter(d.node),d.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(f.x," ").concat(h.y,")"))),b+=x;void 0!==i.config.yaxis[t].title.text&&(S=a.group({class:"apexcharts-yaxis-title"}),A=0,i.config.yaxis[t].opposite&&(A=i.globals.translateYAxisX[t]),A=a.drawText({x:A,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[t].title.offsetY,text:i.config.yaxis[t].title.text,textAnchor:"end",foreColor:i.config.yaxis[t].title.style.color,fontSize:i.config.yaxis[t].title.style.fontSize,fontWeight:i.config.yaxis[t].title.style.fontWeight,fontFamily:i.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[t].title.style.cssClass}),S.add(A),l.add(S));var k,A=i.config.yaxis[t].axisBorder,S=31+A.offsetX;i.config.yaxis[t].opposite&&(S=-31-A.offsetX),A.show&&(k=a.drawLine(S,i.globals.translateY+A.offsetY-2,S,i.globals.gridHeight+i.globals.translateY+A.offsetY+2,A.color,0,A.width),l.add(k)),i.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,u,A,i.config.yaxis[t].axisTicks,t,x,l)}return l}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new E(this.ctx),a=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")}),o=(a.add(s),e.globals.yAxisScale[t].result.length-1),n=e.globals.gridWidth/o+.1,r=n+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,h=e.globals.yAxisScale[t].result.slice(),c=e.globals.timescaleLabels,d=(0<c.length&&(this.xaxisLabels=c.slice(),o=(h=c.slice()).length),h=this.axesUtils.checkForReversedLabels(t,h),c.length);if(e.config.xaxis.labels.show)for(var p=d?0:o;d?p<d:0<=p;d?p++:p--){var f=h[p],g=(f=l(f,p,e),e.globals.gridWidth+e.globals.padHorizontal-(r-n+e.config.xaxis.labels.offsetX)),u=(c.length&&(g=(u=this.axesUtils.getLabel(h,c,g,p,this.drawnLabels,this.xaxisFontSize)).x,f=u.text,this.drawnLabels.push(u.text),0===p&&e.globals.skipFirstTimelinelabel&&(f=""),p===h.length-1)&&e.globals.skipLastTimelinelabel&&(f=""),i.drawText({x:g,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass})),g=(s.add(u),u.tspan(f),document.createElementNS(e.globals.SVGNS,"title"));g.textContent=f,u.node.appendChild(g),r+=n}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(t){var e,i=this.w,a=new E(this.ctx),s=i.config.xaxis.axisBorder;s.show&&(e=0,"bar"===i.config.chart.type&&i.globals.isXNumeric&&(e-=15),a=a.drawLine(i.globals.padHorizontal+e+s.offsetX,this.xAxisoffX,i.globals.gridWidth,this.xAxisoffX,s.color,0,s.height),(this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders:t).add(a))}},{key:"inversedYAxisTitleText",value:function(t){var e,i=this.w,a=new E(this.ctx);void 0!==i.config.xaxis.title.text&&(e=a.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=a.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(i.config.xaxis.title.style.fontSize)+i.config.xaxis.title.offsetY+20,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass}),e.add(a),t.add(e))}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,a=new E(this.ctx),s={width:0,height:0},o={width:0,height:0},n=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g")),n=(null!==n&&(s=n.getBoundingClientRect()),i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text")));null!==n&&(o=n.getBoundingClientRect()),null!==n&&(s=this.xPaddingForYAxisTitle(t,s,o,e),n.setAttribute("x",s.xPos-(e?10:0))),null!==n&&(o=a.rotateAroundCenter(n),n.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(o.x," ").concat(o.y,")")))}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,a){var s=this.w,o=0,n=10;return void 0===s.config.yaxis[t].title.text||t<0?{xPos:o,padd:0}:(a?o=e.width+s.config.yaxis[t].title.offsetX+i.width/2+n/2:(o=-1*e.width+s.config.yaxis[t].title.offsetX+n/2+i.width/2,s.globals.isBarHorizontal&&(o=-1*e.width-s.config.yaxis[t].title.offsetX-(n=25))),{xPos:o,padd:n})}},{key:"setYAxisXPosition",value:function(s,o){var n,r=this.w,l=0,h=18,c=1;1<r.config.yaxis.length&&(this.multipleYs=!0),r.config.yaxis.map(function(t,e){var i=-1<r.globals.ignoreYAxisIndexes.indexOf(e)||!t.show||t.floating||0===s[e].width,a=s[e].width+o[e].width;t.opposite?r.globals.isBarHorizontal?(l=r.globals.gridWidth+r.globals.translateX-1,r.globals.translateYAxisX[e]=l-t.labels.offsetX):(l=r.globals.gridWidth+r.globals.translateX+c,i||(c=c+a+20),r.globals.translateYAxisX[e]=l-t.labels.offsetX+20):(n=r.globals.translateX-h,i||(h=h+a+20),r.globals.translateYAxisX[e]=n+t.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var o=this.w,t=o.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=M.listToArray(t)).forEach(function(t,e){var i,a,s=o.config.yaxis[e];s&&!s.floating&&void 0!==s.labels.align&&(i=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),e=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label")),e=M.listToArray(e),a=i.getBoundingClientRect(),"left"===s.labels.align?(e.forEach(function(t,e){t.setAttribute("text-anchor","start")}),s.opposite||i.setAttribute("transform","translate(-".concat(a.width,", 0)"))):"center"===s.labels.align?(e.forEach(function(t,e){t.setAttribute("text-anchor","middle")}),i.setAttribute("transform","translate(".concat(a.width/2*(s.opposite?1:-1),", 0)"))):"right"===s.labels.align&&(e.forEach(function(t,e){t.setAttribute("text-anchor","end")}),s.opposite)&&i.setAttribute("transform","translate(".concat(a.width,", 0)")))})}}]),$e),Tt=(o(qe,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)&&-1!==(e=i.globals.events[t].indexOf(e))&&i.globals.events[t].splice(e,1)}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var a=i.globals.events[t],s=a.length,o=0;o<s;o++)a[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var e=this,i=this.w,a=this.ctx,s=i.globals.dom.baseEl.querySelector(i.globals.chartClass);this.ctx.eventList.forEach(function(t){s.addEventListener(t,function(t){var e=Object.assign({},i,{seriesIndex:i.globals.capturedSeriesIndex,dataPointIndex:i.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof i.config.chart.events.mouseMove&&i.config.chart.events.mouseMove(t,a,e):"mouseleave"===t.type||"touchleave"===t.type?"function"==typeof i.config.chart.events.mouseLeave&&i.config.chart.events.mouseLeave(t,a,e):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof i.config.chart.events.click&&i.config.chart.events.click(t,a,e),a.ctx.events.fireEvent("click",[t,a,e]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(t){i.globals.dom.baseEl.addEventListener(t,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e,i=this.w,a=t.target.className;"click"===t.type&&(e=i.globals.dom.baseEl.querySelector(".apexcharts-menu"))&&e.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==a&&e.classList.remove("apexcharts-menu-open"),i.globals.clientX=("touchmove"===t.type?t.touches[0]:t).clientX,i.globals.clientY=("touchmove"===t.type?t.touches[0]:t).clientY}}]),qe),Mt=(o(Ue,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales,t=(t=window.Apex.chart&&window.Apex.chart.locales&&0<window.Apex.chart.locales.length?this.w.config.chart.locales.concat(window.Apex.chart.locales):t).filter(function(t){return t.name===e})[0];if(!t)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");t=M.extend(wt,t);this.w.globals.locale=t.options}}]),Ue),Et=(o(je,[{key:"drawAxis",value:function(t,e){var i,a,s=this,o=this.w.globals,n=this.w.config,r=new Lt(this.ctx,e),l=new _t(this.ctx,e);o.axisCharts&&"radar"!==t&&(o.isBarHorizontal?(a=l.drawYaxisInversed(0),i=r.drawXaxisInversed(0),o.dom.elGraphical.add(i),o.dom.elGraphical.add(a)):(i=r.drawXaxis(),o.dom.elGraphical.add(i),n.yaxis.map(function(t,e){-1===o.ignoreYAxisIndexes.indexOf(e)&&(a=l.drawYaxis(e),o.dom.Paper.add(a),"back"===s.w.config.grid.position)&&((e=o.dom.Paper.children()[1]).remove(),o.dom.Paper.add(e))})))}}]),je),Xt=(o(Ve,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new E(this.ctx),i=new P(this.ctx),a=t.config.xaxis.crosshairs.fill.gradient,s=t.config.xaxis.crosshairs.dropShadow,o=t.config.xaxis.crosshairs.fill.type,n=a.colorFrom,r=a.colorTo,l=a.opacityFrom,h=a.opacityTo,a=a.stops,c=s.enabled,d=s.left,p=s.top,f=s.blur,g=s.color,s=s.opacity,u=t.config.xaxis.crosshairs.fill.color;t.config.xaxis.crosshairs.show&&("gradient"===o&&(u=e.drawGradient("vertical",n,r,l,h,null,a,null)),o=e.drawRect(),1===t.config.xaxis.crosshairs.width&&(o=e.drawLine()),n=t.globals.gridHeight,(!M.isNumber(n)||n<0)&&(n=0),r=t.config.xaxis.crosshairs.width,(!M.isNumber(r)||r<0)&&(r=0),o.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:n,width:r,height:n,fill:u,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),c&&(o=i.dropShadow(o,{left:d,top:p,blur:f,color:g,opacity:s})),t.globals.dom.elGraphical.add(o))}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new E(this.ctx),i=t.config.yaxis[0].crosshairs,a=t.globals.barPadForNumericAxis,s=(t.config.yaxis[0].crosshairs.show&&((s=e.drawLine(-a,0,t.globals.gridWidth+a,0,i.stroke.color,i.stroke.dashArray,i.stroke.width)).attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(s)),e.drawLine(-a,0,t.globals.gridWidth+a,0,i.stroke.color,0,0));s.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(s)}}]),Ve),Ft=(o(Ge,[{key:"checkResponsiveConfig",value:function(t){var s,o,e,n=this,r=this.w,i=r.config;0!==i.responsive.length&&((s=i.responsive.slice()).sort(function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0}).reverse(),o=new g({}),i=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s[0].breakpoint,i=0<window.innerWidth?window.innerWidth:screen.width;if(e<i){e=_.extendArrayProps(o,r.globals.initialConfig,r),t=M.extend(e,t);t=M.extend(r.config,t),n.overrideResponsiveOptions(t)}else for(var a=0;a<s.length;a++)i<s[a].breakpoint&&(t=_.extendArrayProps(o,s[a].options,r),t=M.extend(r.config,t),n.overrideResponsiveOptions(t))},t?(e=_.extendArrayProps(o,t,r),e=M.extend(r.config,e),i(e=M.extend(e,t))):i({}))}},{key:"overrideResponsiveOptions",value:function(t){t=new g(t).init({responsiveOverride:!0});this.w.config=t}}]),Ge),Yt=(o(Ne,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t,a=this,s=this.w,e=new M;if(s.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(s.config.theme.mode)),void 0===s.config.colors||0===(null==(t=s.config.colors)?void 0:t.length)?s.globals.colors=this.predefined():(s.globals.colors=s.config.colors,Array.isArray(s.config.colors)&&0<s.config.colors.length&&"function"==typeof s.config.colors[0]&&(s.globals.colors=s.config.series.map(function(t,e){var i=s.config.colors[e];return"function"==typeof(i=i||s.config.colors[0])?(a.isColorFn=!0,i({value:s.globals.axisCharts?s.globals.series[e][0]||0:s.globals.series[e],seriesIndex:e,dataPointIndex:e,w:s})):i}))),s.globals.seriesColors.map(function(t,e){t&&(s.globals.colors[e]=t)}),s.config.theme.monochrome.enabled){var i=[],o=s.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(o=s.globals.series[0].length*s.globals.series.length);for(var n=s.config.theme.monochrome.color,r=1/(o/s.config.theme.monochrome.shadeIntensity),l=s.config.theme.monochrome.shadeTo,h=0,c=0;c<o;c++){var d=void 0,d="dark"===l?e.shadeColor(-1*h,n):e.shadeColor(h,n);h+=r,i.push(d)}s.globals.colors=i.slice()}var p=s.globals.colors.slice();this.pushExtraColors(s.globals.colors),["fill","stroke"].forEach(function(t){void 0===s.config[t].colors?s.globals[t].colors=a.isColorFn?s.config.colors:p:s.globals[t].colors=s.config[t].colors.slice(),a.pushExtraColors(s.globals[t].colors)}),void 0===s.config.dataLabels.style.colors?s.globals.dataLabels.style.colors=p:s.globals.dataLabels.style.colors=s.config.dataLabels.style.colors.slice(),this.pushExtraColors(s.globals.dataLabels.style.colors,50),void 0===s.config.plotOptions.radar.polygons.fill.colors?s.globals.radarPolygons.fill.colors=["dark"===s.config.theme.mode?"#424242":"none"]:s.globals.radarPolygons.fill.colors=s.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(s.globals.radarPolygons.fill.colors,20),void 0===s.config.markers.colors?s.globals.markers.colors=p:s.globals.markers.colors=s.config.markers.colors.slice(),this.pushExtraColors(s.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=this.w,e=e||a.globals.series.length;if((i=null===i?this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===a.config.chart.type&&a.config.plotOptions.heatmap.colorScale.inverse:i)&&a.globals.series.length&&(e=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),t.length<e)for(var s=e-t.length,o=0;o<s;o++)t.push(t[o])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette||("dark"===e?"palette4":"palette1"),a=t.chart.foreColor||("dark"===e?"#f6f7f8":"#373d3f");return t.tooltip.theme=e,t.chart.foreColor=a,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),Ne),Rt=(o(Be,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,a=e.globals.svgWidth/2,s=i.offsetY,o="middle";"left"===i.align?(a=10,o="start"):"right"===i.align&&(a=e.globals.svgWidth-10,o="end"),a+=i.offsetX,s=s+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text&&((a=new E(this.ctx).drawText({x:a,y:s,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1})).node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(a))}}]),Be),Dt=(o(We,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,a=0,s=("title"===t?e.config.title:e.config.subtitle).floating,t=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));return null===t||s||(i=(s=t.getBoundingClientRect()).width,a=e.globals.axisCharts?s.height+5:s.height),{width:i,height:a}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.elLegendWrap,i=(t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px"),Object.assign({},M.getBoundingClientRect(e)));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i,a;return this.w.globals.isMultiLineX&&(i=e.map(function(t,e){return Array.isArray(t)?t.length:1}),a=Math.max.apply(Math,v(i)),t=e[i.indexOf(a)]),t}}]),We),Ht=(o(He,[{key:"getxAxisLabelsCoords",value:function(){var t,e,i,a,s,o,n,r=this.w,l=r.globals.labels.slice();return r.config.xaxis.convertedCatToNumeric&&0===l.length&&(l=r.globals.categoryLabels),0<r.globals.timescaleLabels.length?(t={width:(t=this.getxAxisTimeScaleLabelsCoords()).width,height:t.height},r.globals.rotateXLabels=!1):(this.dCtx.lgWidthForSideLegends="left"!==r.config.legend.position&&"right"!==r.config.legend.position||r.config.legend.floating?0:this.dCtx.lgRect.width,s=r.globals.xLabelFormatter,e=M.getLargestStringFromArr(l),i=this.dCtx.dimHelpers.getLargestStringFromMultiArr(e,l),r.globals.isBarHorizontal&&(i=e=r.globals.yAxisScale[0].result.reduce(function(t,e){return t.length>e.length?t:e},0)),o=e,e=(n=new u(this.dCtx.ctx)).xLabelFormat(s,e,o,{i:void 0,dateFormatter:new w(this.dCtx.ctx).formatDate,w:r}),i=n.xLabelFormat(s,i,o,{i:void 0,dateFormatter:new w(this.dCtx.ctx).formatDate,w:r}),(r.config.xaxis.convertedCatToNumeric&&void 0===e||""===String(e).trim())&&(i=e="1"),s=n=(a=new E(this.dCtx.ctx)).getTextRects(e,r.config.xaxis.labels.style.fontSize),e!==i&&(s=a.getTextRects(i,r.config.xaxis.labels.style.fontSize)),(t={width:(n.width>=s.width?n:s).width,height:(n.height>=s.height?n:s).height}).width*l.length>r.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==r.config.xaxis.labels.rotate||r.config.xaxis.labels.rotateAlways?r.globals.isBarHorizontal||(r.globals.rotateXLabels=!0,n=(o=function(t){return a.getTextRects(t,r.config.xaxis.labels.style.fontSize,r.config.xaxis.labels.style.fontFamily,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1)})(e),e!==i&&(s=o(i)),t.height=(n.height>s.height?n:s).height/1.5,t.width=(n.width>s.width?n:s).width):r.globals.rotateXLabels=!1),{width:(t=r.config.xaxis.labels.show?t:{width:0,height:0}).width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e,i,a,s,o,n=this.w;return n.globals.hasXaxisGroups?(t=(null==(t=n.config.xaxis.group.style)?void 0:t.fontSize)||n.config.xaxis.labels.style.fontSize,i=n.globals.groups.map(function(t){return t.title}),e=M.getLargestStringFromArr(i),i=this.dCtx.dimHelpers.getLargestStringFromMultiArr(e,i),o=s=(a=new E(this.dCtx.ctx)).getTextRects(e,t),e!==i&&(o=a.getTextRects(i,t)),e={width:(s.width>=o.width?s:o).width,height:(s.height>=o.height?s:o).height},{width:(e=n.config.xaxis.labels.show?e:{width:0,height:0}).width,height:e.height}):{width:0,height:0}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;return void 0!==t.config.xaxis.title.text&&(e=(t=new E(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize)).width,i=t.height),{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t=this.w,e=(this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice(),this.dCtx.timescaleLabels.map(function(t){return t.value})),i=e.reduce(function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e},0);return 1.05*(i=new E(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*e.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),i}},{key:"additionalPaddingXLabels",value:function(t){var s=this,o=this.w,n=o.globals,r=o.config,l=r.xaxis.type,h=t.width,c=(n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1,o.config.yaxis[0].opposite&&o.globals.isBarHorizontal);r.yaxis.forEach(function(t,e){var i,a;c?(s.dCtx.gridPad.left<h&&(s.dCtx.xPadLeft=h/2+1),s.dCtx.xPadRight=h/2+1):(t=t,e=e,1<r.yaxis.length&&-1!==n.collapsedSeriesIndices.indexOf(e)||(e=t,s.dCtx.timescaleLabels&&s.dCtx.timescaleLabels.length?(t=s.dCtx.timescaleLabels[0],i=s.dCtx.timescaleLabels[s.dCtx.timescaleLabels.length-1].position+h/1.75-s.dCtx.yAxisWidthRight,t=t.position-h/1.75+s.dCtx.yAxisWidthLeft,a="right"===o.config.legend.position&&0<s.dCtx.lgRect.width?s.dCtx.lgRect.width:0,i>n.svgWidth-n.translateX-a&&(n.skipLastTimelinelabel=!0),t<-(e.show&&!e.floating||"bar"!==r.chart.type&&"candlestick"!==r.chart.type&&"rangeBar"!==r.chart.type&&"boxPlot"!==r.chart.type?10:h/1.75)&&(n.skipFirstTimelinelabel=!0)):"datetime"===l?s.dCtx.gridPad.right<h&&!n.rotateXLabels&&(n.skipLastTimelinelabel=!0):"datetime"!==l&&s.dCtx.gridPad.right<h/2-s.dCtx.yAxisWidthRight&&!n.rotateXLabels&&!o.config.xaxis.labels.trim&&("between"!==o.config.xaxis.tickPlacement||o.globals.isBarHorizontal)&&(s.dCtx.xPadRight=h/2+1)))})}}]),He),Wt=(o(De,[{key:"getyAxisLabelsCoords",value:function(){var l=this,h=this.w,c=[],d=10,p=new L(this.dCtx.ctx);return h.config.yaxis.map(function(t,e){var i,a,s,o,n=h.globals.yAxisScale[e],r=0;!p.isYAxisHidden(e)&&t.labels.show&&void 0!==t.labels.minWidth&&(r=t.labels.minWidth),!p.isYAxisHidden(e)&&t.labels.show&&n.result.length?(a=h.globals.yLabelFormatters[e],s=n.niceMin===Number.MIN_VALUE?0:n.niceMin,void 0!==(i=n=a(s=String(s).length>String(n.niceMax).length?s:n.niceMax,{seriesIndex:e,dataPointIndex:-1,w:h}))&&0!==n.length||(n=s),h.globals.isBarHorizontal&&(d=0,s=h.globals.labels.slice(),n=a(n=M.getLargestStringFromArr(s),{seriesIndex:e,dataPointIndex:-1,w:h}),i=l.dCtx.dimHelpers.getLargestStringFromMultiArr(n,s)),a=new E(l.dCtx.ctx),e="rotate(".concat(t.labels.rotate," 0 0)"),o=s=a.getTextRects(n,t.labels.style.fontSize,t.labels.style.fontFamily,e,!1),n!==i&&(o=a.getTextRects(i,t.labels.style.fontSize,t.labels.style.fontFamily,e,!1)),c.push({width:(r>o.width||r>s.width?r:(o.width>s.width?o:s).width)+d,height:(o.height>s.height?o:s).height})):c.push({width:0,height:0})}),c}},{key:"getyAxisTitleCoords",value:function(){var s=this,t=this.w,o=[];return t.config.yaxis.map(function(t,e){var i,a;t.show&&void 0!==t.title.text?(a=new E(s.dCtx.ctx),i="rotate(".concat(t.title.rotate," 0 0)"),a=a.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,i,!1),o.push({width:a.width,height:a.height})):o.push({width:0,height:0})}),o}},{key:"getTotalYAxisWidth",value:function(){function i(t,e){var i=s.config.yaxis[e].floating,a=0;0<t.width&&!i?(a=t.width+l,-1<s.globals.ignoreYAxisIndexes.indexOf(e)&&(a=a-t.width-l)):a=i||h.isYAxisHidden(e)?0:5,s.config.yaxis[e].opposite?r+=a:n+=a,o+=a}var s=this.w,o=0,n=0,r=0,l=1<s.globals.yAxisScale.length?10:0,h=new L(this.dCtx.ctx);return s.globals.yLabelsCoords.map(function(t,e){i(t,e)}),s.globals.yTitleCoords.map(function(t,e){i(t,e)}),s.globals.isBarHorizontal&&!s.config.yaxis[0].floating&&(o=s.globals.yLabelsCoords[0].width+s.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=r,o}}]),De),Bt=(o(Re,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e,i,a,s,o,n=this.w;return n.globals.noData||n.globals.allSeriesCollapsed?0:(o=n.config.chart.type,a=(e=function(t){return"bar"===t||"rangeBar"===t||"candlestick"===t||"boxPlot"===t})(o)?n.config.series.length:1,(i=0)<n.globals.comboBarCount&&(a=n.globals.comboBarCount),n.globals.collapsedSeries.forEach(function(t){e(t.type)&&--a}),n.config.chart.stacked&&(a=1),(e(o)||0<n.globals.comboBarCount)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&0<a&&(o=(o=(o=Math.abs(n.globals.initialMaxX-n.globals.initialMinX))<=3?n.globals.dataPoints:o)/t,t/2<(s=n.globals.minXDiff&&0<n.globals.minXDiff/o?n.globals.minXDiff/o:s)&&(s/=2),i=(i=(i=s/a*parseInt(n.config.plotOptions.bar.columnWidth,10)/100)<1?1:i)/(1<a?1:1.5)+5,n.globals.barPadForNumericAxis=i),i)}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,i=this.w,t=i.globals,a=this.dCtx.isSparkline||!i.globals.axisCharts?0:10,s=(["title","subtitle"].forEach(function(t){void 0!==i.config[t].text?a+=i.config[t].margin:a+=e.dCtx.isSparkline||!i.globals.axisCharts?0:5}),!i.config.legend.show||"bottom"!==i.config.legend.position||i.config.legend.floating||i.globals.axisCharts||(a+=10),this.dCtx.dimHelpers.getTitleSubtitleCoords("title")),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");t.gridHeight=t.gridHeight-s.height-o.height-a,t.translateY=t.translateY+s.height+o.height+a}},{key:"setGridXPosForDualYAxis",value:function(i,a){var s=this.w,o=new L(this.dCtx.ctx);s.config.yaxis.map(function(t,e){-1!==s.globals.ignoreYAxisIndexes.indexOf(e)||t.floating||o.isYAxisHidden(e)||(t.opposite&&(s.globals.translateX=s.globals.translateX-(a[e].width+i[e].width)-parseInt(s.config.yaxis[e].labels.style.fontSize,10)/1.2-12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),Re),Nt=(o(Ye,[{key:"plotCoords",value:function(){var i=this,t=this.w,e=t.globals,t=(this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(0<t.config.markers.discrete.length||0<t.config.markers.size)&&Object.entries(this.gridPad).forEach(function(t){var t=J(t,2),e=t[0],t=t[1];i.gridPad[e]=Math.max(t,i.w.globals.markers.largestSize/1.5)}),e.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),e.gridHeight=e.gridHeight-this.gridPad.top-this.gridPad.bottom,e.gridWidth=e.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft,this.dimGrid.gridPadForColumnsInNumericAxis(e.gridWidth));e.gridWidth=e.gridWidth-2*t,e.translateX=e.translateX+this.gridPad.left+this.xPadLeft+(0<t?t+4:0),e.translateY=e.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){function t(){a.translateX=h,a.gridHeight=a.svgHeight-e.lgRect.height-c-(e.isSparkline||"treemap"===i.config.chart.type?0:i.globals.rotateXLabels?10:15),a.gridWidth=a.svgWidth-h}var e=this,i=this.w,a=i.globals,s=this.dimYAxis.getyAxisLabelsCoords(),o=this.dimYAxis.getyAxisTitleCoords(),n=(i.globals.yLabelsCoords=[],i.globals.yTitleCoords=[],i.config.yaxis.map(function(t,e){i.globals.yLabelsCoords.push({width:s[e].width,index:e}),i.globals.yTitleCoords.push({width:o[e].width,index:e})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth(),this.dimXAxis.getxAxisLabelsCoords()),r=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords(),h=(this.conditionalChecksForAxisCoords(n,l,r),a.translateXAxisY=i.globals.rotateXLabels?this.xAxisHeight/8:-4,a.translateXAxisX=i.globals.rotateXLabels&&i.globals.isXNumeric&&i.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,i.globals.isBarHorizontal&&(a.rotateXLabels=!1,a.translateXAxisY=parseInt(i.config.xaxis.labels.style.fontSize,10)/1.5*-1),a.translateXAxisY=a.translateXAxisY+i.config.xaxis.labels.offsetY,a.translateXAxisX=a.translateXAxisX+i.config.xaxis.labels.offsetX,this.yAxisWidth),c=this.xAxisHeight,d=(a.xAxisLabelsHeight=this.xAxisHeight-l.height,a.xAxisGroupLabelsHeight=a.xAxisLabelsHeight-n.height,a.xAxisLabelsWidth=this.xAxisWidth,a.xAxisHeight=this.xAxisHeight,10);"radar"!==i.config.chart.type&&!this.isSparkline||(h=0,c=a.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),!this.isSparkline&&"treemap"!==i.config.chart.type||(d=c=h=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(n);switch("top"===i.config.xaxis.position&&(d=a.xAxisHeight-i.config.xaxis.axisTicks.height-5),i.config.legend.position){case"bottom":a.translateY=d,t();break;case"top":a.translateY=this.lgRect.height+d,t();break;case"left":a.translateY=d,a.translateX=this.lgRect.width+h,a.gridHeight=a.svgHeight-c-12,a.gridWidth=a.svgWidth-this.lgRect.width-h;break;case"right":a.translateY=d,a.translateX=h,a.gridHeight=a.svgHeight-c-12,a.gridWidth=a.svgWidth-this.lgRect.width-h-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(o,s),new _t(this.ctx).setYAxisXPosition(s,o)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,a=0,t=(t.config.legend.show&&!t.config.legend.floating&&(a=20),"pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar"),s=i.plotOptions[t].offsetY,o=i.plotOptions[t].offsetX;if(!i.legend.show||i.legend.floating)e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=s,e.translateX=o+(e.svgWidth-e.gridWidth)/2;else switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=s-10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+s+10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-a,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=s,e.translateX=o+this.lgRect.width+a;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-a-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=s,e.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var a=this.w,s=a.globals.hasXaxisGroups?2:1,i=i.height+t.height+e.height,o=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,n=a.globals.rotateXLabels?22:10,r=a.globals.rotateXLabels&&"bottom"===a.config.legend.position?10:0,l=(this.xAxisHeight=i*o+s*n+r,this.xAxisWidth=t.width,this.xAxisHeight-e.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0),0),h=0;a.config.yaxis.forEach(function(t){l+=t.labels.minWidth,h+=t.labels.maxWidth}),this.yAxisWidth<l&&(this.yAxisWidth=l),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),Ye),Gt=(o(Fe,[{key:"getLegendStyles",value:function(){var t=document.createElement("style"),e=(t.setAttribute("type","text/css"),document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }"));return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(t,e){var i,a,s=this,o=this.w;o.globals.axisCharts||"radialBar"===o.config.chart.type?(o.globals.resized=!0,i=a=null,o.globals.risingSeries=[],i=o.globals.axisCharts?(a=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),parseInt(a.getAttribute("data:realIndex"),10)):(a=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),parseInt(a.getAttribute("rel"),10)-1),e?[{cs:o.globals.collapsedSeries,csi:o.globals.collapsedSeriesIndices},{cs:o.globals.ancillaryCollapsedSeries,csi:o.globals.ancillaryCollapsedSeriesIndices}].forEach(function(t){s.riseCollapsedSeries(t.cs,t.csi,i)}):this.hideSeries({seriesEl:a,realIndex:i})):(e=o.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),"pie"!==(a=o.config.chart.type)&&"polarArea"!==a&&"donut"!==a||(t=o.config.plotOptions.pie.donut.labels,new E(this.lgCtx.ctx).pathMouseDown(e.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(e.members[0].node,t)),e.fire("click"))}},{key:"hideSeries",value:function(t){var e,i=t.seriesEl,t=t.realIndex,a=this.w,s=M.clone(a.config.series);a.globals.axisCharts?(e=!1,a.config.yaxis[t]&&a.config.yaxis[t].show&&a.config.yaxis[t].showAlways&&(e=!0,a.globals.ancillaryCollapsedSeriesIndices.indexOf(t)<0)&&(a.globals.ancillaryCollapsedSeries.push({index:t,data:s[t].data.slice(),type:i.parentNode.className.baseVal.split("-")[1]}),a.globals.ancillaryCollapsedSeriesIndices.push(t)),e||(a.globals.collapsedSeries.push({index:t,data:s[t].data.slice(),type:i.parentNode.className.baseVal.split("-")[1]}),a.globals.collapsedSeriesIndices.push(t),e=a.globals.risingSeries.indexOf(t),a.globals.risingSeries.splice(e,1))):(a.globals.collapsedSeries.push({index:t,data:s[t]}),a.globals.collapsedSeriesIndices.push(t));for(var o=i.childNodes,n=0;n<o.length;n++)o[n].classList.contains("apexcharts-series-markers-wrap")&&(o[n].classList.contains("apexcharts-hide")?o[n].classList.remove("apexcharts-hide"):o[n].classList.add("apexcharts-hide"));a.globals.allSeriesCollapsed=a.globals.collapsedSeries.length===a.config.series.length,s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var a=this.w,s=M.clone(a.config.series);if(0<t.length){for(var o=0;o<t.length;o++)t[o].index===i&&(a.globals.axisCharts?s[i].data=t[o].data.slice():s[i]=t[o].data,t.splice(o,1),e.splice(o,1),a.globals.risingSeries.push(i));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(i){var a=this.w;return a.globals.axisCharts?i.forEach(function(t,e){-1<a.globals.collapsedSeriesIndices.indexOf(e)&&(i[e].data=[])}):i.forEach(function(t,e){-1<a.globals.collapsedSeriesIndices.indexOf(e)&&(i[e]=0)}),i}}]),Fe),Vt=(o(Xe,[{key:"init",value:function(){var t=this.w,e=t.globals,t=t.config;if((t.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||1<e.series.length||!e.axisCharts)&&t.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),M.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===t.legend.position||"top"===t.legend.position?this.legendAlignHorizontal():"right"!==t.legend.position&&"left"!==t.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t,e=this.w,i=e.config.legend.fontFamily,a=e.globals.seriesNames,s=e.globals.colors.slice();"heatmap"===e.config.chart.type?(a=(t=e.config.plotOptions.heatmap.colorScale.ranges).map(function(t){return t.name||t.from+" - "+t.to}),s=t.map(function(t){return t.color})):this.isBarsDistributed&&(a=e.globals.labels.slice()),e.config.legend.customLegendItems.length&&(a=e.config.legend.customLegendItems);for(var o=e.globals.legendFormatter,n=e.config.legend.inverseOrder,r=n?a.length-1:0;n?0<=r:r<=a.length-1;n?r--:r++){var l=o(a[r],{seriesIndex:r,w:e}),h=!1,c=!1;if(0<e.globals.collapsedSeries.length)for(var d=0;d<e.globals.collapsedSeries.length;d++)e.globals.collapsedSeries[d].index===r&&(h=!0);if(0<e.globals.ancillaryCollapsedSeriesIndices.length)for(var p=0;p<e.globals.ancillaryCollapsedSeriesIndices.length;p++)e.globals.ancillaryCollapsedSeriesIndices[p]===r&&(c=!0);var f=document.createElement("span"),g=(f.classList.add("apexcharts-legend-marker"),e.config.legend.markers.offsetX),u=e.config.legend.markers.offsetY,x=e.config.legend.markers.height,b=e.config.legend.markers.width,y=e.config.legend.markers.strokeWidth,m=e.config.legend.markers.strokeColor,v=e.config.legend.markers.radius,w=f.style,x=(w.background=s[r],w.color=s[r],w.setProperty("background",s[r],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[r]&&(w.background=e.config.legend.markers.fillColors[r]),void 0!==e.globals.seriesColors[r]&&(w.background=e.globals.seriesColors[r],w.color=e.globals.seriesColors[r]),w.height=Array.isArray(x)?parseFloat(x[r])+"px":parseFloat(x)+"px",w.width=Array.isArray(b)?parseFloat(b[r])+"px":parseFloat(b)+"px",w.left=(Array.isArray(g)?parseFloat(g[r]):parseFloat(g))+"px",w.top=(Array.isArray(u)?parseFloat(u[r]):parseFloat(u))+"px",w.borderWidth=Array.isArray(y)?y[r]:y,w.borderColor=Array.isArray(m)?m[r]:m,w.borderRadius=Array.isArray(v)?parseFloat(v[r])+"px":parseFloat(v)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[r]&&(f.innerHTML=e.config.legend.markers.customHTML[r]()):f.innerHTML=e.config.legend.markers.customHTML()),E.setAttrs(f,{rel:r+1,"data:collapsed":h||c}),(h||c)&&f.classList.add("apexcharts-inactive-legend"),document.createElement("div")),b=document.createElement("span");b.classList.add("apexcharts-legend-text"),b.innerHTML=Array.isArray(l)?l.join(" "):l;u=(u=e.config.legend.labels.useSeriesColors?e.globals.colors[r]:Array.isArray(e.config.legend.labels.colors)?null==(g=e.config.legend.labels.colors)?void 0:g[r]:e.config.legend.labels.colors)||e.config.chart.foreColor,y=(b.style.color=u,b.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",b.style.fontWeight=e.config.legend.fontWeight,b.style.fontFamily=i||e.config.chart.fontFamily,E.setAttrs(b,{rel:r+1,i:r,"data:default-text":encodeURIComponent(l),"data:collapsed":h||c}),x.appendChild(f),x.appendChild(b),new _(this.ctx));e.config.legend.showForZeroSeries||0===y.getSeriesTotalByIndex(r)&&y.seriesHaveSameValues(r)&&!y.isSeriesNull(r)&&-1===e.globals.collapsedSeriesIndices.indexOf(r)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(r)&&x.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||y.isSeriesNull(r)&&-1===e.globals.collapsedSeriesIndices.indexOf(r)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(r)&&x.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(x),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),x.classList.add("apexcharts-legend-series"),x.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",E.setAttrs(x,{rel:r+1,seriesName:M.escapeString(a[r]),"data:collapsed":h||c}),(h||c)&&x.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||x.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",this.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",this.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",this.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i,a=this.w,s=a.globals.dom.elLegendWrap,o=s.getBoundingClientRect(),n=0;"bottom"===a.config.legend.position?n+=a.globals.svgHeight-o.height/2:"top"===a.config.legend.position&&(n=n+(0<(i=(o=new Nt(this.ctx)).dimHelpers.getTitleSubtitleCoords("title").height)?i-10:0)+(0<(i=o.dimHelpers.getTitleSubtitleCoords("subtitle").height)?i-10:0)),s.style.position="absolute",o=0+t+a.config.legend.offsetX,n=n+e+a.config.legend.offsetY,s.style.left=o+"px",s.style.top=n+"px","bottom"===a.config.legend.position?(s.style.top="auto",s.style.bottom=5-a.config.legend.offsetY+"px"):"right"===a.config.legend.position&&(s.style.left="auto",s.style.right=25+a.config.legend.offsetX+"px"),["width","height"].forEach(function(t){s.style[t]&&(s.style[t]=parseInt(a.config.legend[t],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var t=this.w,e=(t.globals.dom.elLegendWrap.style.right=0,this.legendHelpers.getLegendBBox()),i=new Nt(this.ctx),a=i.dimHelpers.getTitleSubtitleCoords("title"),i=i.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;"bottom"===t.config.legend.position?s=-e.clwh/1.8:"top"===t.config.legend.position&&(s=a.height+i.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");"heatmap"===e.config.chart.type||this.isBarsDistributed?i&&(e=parseInt(t.target.getAttribute("rel"),10)-1,this.ctx.events.fireEvent("legendHover",[this.ctx,e,this.w]),new O(this.ctx).highlightRangeInSeries(t,t.target)):!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new O(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e,i,a,s=this.w;s.config.legend.customLegendItems.length||!t.target.classList.contains("apexcharts-legend-text")&&!t.target.classList.contains("apexcharts-legend-marker")||(e=parseInt(t.target.getAttribute("rel"),10)-1,i="true"===t.target.getAttribute("data:collapsed"),"function"==typeof(a=this.w.config.chart.events.legendClick)&&a(this.ctx,e,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,e,this.w]),"function"==typeof(a=this.w.config.legend.markers.onClick)&&t.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,e,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,e,this.w])),"treemap"!==s.config.chart.type&&"heatmap"!==s.config.chart.type&&!this.isBarsDistributed&&s.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(e,i))}}]),Xe),jt=(o(Ee,[{key:"createToolbar",value:function(){function t(){return document.createElement("div")}var s=this,o=this.w,e=t();if(e.setAttribute("class","apexcharts-toolbar"),e.style.top=o.config.chart.toolbar.offsetY+"px",e.style.right=3-o.config.chart.toolbar.offsetX+"px",o.globals.dom.elWrap.appendChild(e),this.elZoom=t(),this.elZoomIn=t(),this.elZoomOut=t(),this.elPan=t(),this.elSelection=t(),this.elZoomReset=t(),this.elMenuIcon=t(),this.elMenu=t(),this.elCustomIcons=[],this.t=o.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(t());function a(t,e,i){var a=t.toLowerCase();s.t[a]&&o.config.chart.zoom.enabled&&r.push({el:e,icon:"string"==typeof s.t[a]?s.t[a]:i,title:s.localeValues[t],class:"apexcharts-".concat(a,"-icon")})}function n(t){s.t[t]&&o.config.chart[t].enabled&&r.push({el:"zoom"===t?s.elZoom:s.elSelection,icon:"string"==typeof s.t[t]?s.t[t]:"zoom"===t?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:s.localeValues["zoom"===t?"selectionZoom":"selection"],class:o.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(t,"-icon")})}var r=[];a("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),a("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');n("zoom"),n("selection"),this.t.pan&&o.config.chart.zoom.enabled&&r.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:o.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),a("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&r.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)r.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});r.forEach(function(t,e){t.index&&M.moveIndexInArray(r,e,t.index)});for(var h=0;h<r.length;h++)E.setAttrs(r[h].el,{class:r[h].class,title:r[h].title}),r[h].el.innerHTML=r[h].icon,e.appendChild(r[h].el);this._createHamburgerMenu(e),o.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):o.globals.panEnabled?this.elPan.classList.add(this.selectedClass):o.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),E.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,E.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(a){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var e="selection"===a?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i="selection"===a?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],e.classList.contains(t.ctx.toolbar.selectedClass)?e.classList.remove(t.ctx.toolbar.selectedClass):e.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,t="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),t&&t.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(t){t&&t.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var t=this.w,e=(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),(this.minX+this.maxX)/2),i=(this.minX+e)/2,e=(this.maxX+e)/2,i=this._getNewMinXMaxX(i,e);t.globals.disableZoomIn||this.zoomUpdateOptions(i.minX,i.maxX)}},{key:"handleZoomOut",value:function(){var t,e,i=this.w;i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY),"datetime"===i.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3||(t=(this.minX+this.maxX)/2,e=this.minX-(t-this.minX),t=this.maxX-(t-this.maxX),e=this._getNewMinXMaxX(e,t),i.globals.disableZoomOut)||this.zoomUpdateOptions(e.minX,e.maxX)}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i,a=this.w;void 0!==t||void 0!==e?a.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=a.globals.dataPoints),e-t<2)||(e={xaxis:t=(e=this.getBeforeZoomRange(t={min:t,max:e}))?e.xaxis:t},i=M.clone(a.globals.initialConfig.yaxis),a.config.chart.zoom.autoScaleYaxis&&(i=new x(this.ctx).autoScaleY(this.ctx,i,{xaxis:t})),a.config.chart.group||(e.yaxis=i),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(e,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(t,i)):this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return i="function"==typeof this.ev.beforeZoom?this.ev.beforeZoom(this,{xaxis:t,yaxis:e}):i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout(function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new Pt(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach(function(t){var e=t.w,i=(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom&&(i=e.config.chart.events.beforeResetZoom(t,e))&&t.updateHelpers.revertDefaultAxisMinMax(i),"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1,t.ctx.series.emptyCollapsedSeries(M.clone(e.globals.initialSeries)));t.updateHelpers._updateSeries(i,e.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),Ee),Ut=(n(Me,jt),vt=r(Me),o(Me,[{key:"init",value:function(t){var e=this,i=t.xyRatios,t=this.w,a=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=t.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),t.globals.dom.elGraphical.add(this.zoomRect),t.globals.dom.elGraphical.add(this.selectionRect),"x"===t.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===t.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:t.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=t.globals.dom.baseEl.querySelector("".concat(t.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(t){e.hoverArea.addEventListener(t,a.svgMouseEvents.bind(a,i),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i,a=this.w,s=this,o=this.ctx.toolbar,n=(a.globals.zoomEnabled?a.config.chart.zoom:a.config.chart.selection).type,r=a.config.chart.toolbar.autoSelected;e.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar("pan"===r?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(r),this.shiftWasPressed=!1),e.target&&(o=e.target.classList,e.target.parentNode&&null!==e.target.parentNode&&(i=e.target.parentNode.classList),o.contains("apexcharts-selection-rect")||o.contains("apexcharts-legend-marker")||o.contains("apexcharts-legend-text")||i&&i.contains("apexcharts-toolbar")||(s.clientX=("touchmove"===e.type||"touchstart"===e.type?e.touches[0]:"touchend"===e.type?e.changedTouches[0]:e).clientX,s.clientY=("touchmove"===e.type||"touchstart"===e.type?e.touches[0]:"touchend"===e.type?e.changedTouches[0]:e).clientY,"mousedown"===e.type&&1===e.which&&(r=s.gridRect.getBoundingClientRect(),s.startX=s.clientX-r.left,s.startY=s.clientY-r.top,s.dragged=!1,s.w.globals.mousedown=!0),("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(s.dragged=!0,a.globals.panEnabled?(a.globals.selection=null,s.w.globals.mousedown&&s.panDragging({context:s,zoomtype:n,xyRatios:t})):(s.w.globals.mousedown&&a.globals.zoomEnabled||s.w.globals.mousedown&&a.globals.selectionEnabled)&&(s.selection=s.selectionDrawing({context:s,zoomtype:n}))),"mouseup"!==e.type&&"touchend"!==e.type&&"mouseleave"!==e.type||(o=s.gridRect.getBoundingClientRect(),s.w.globals.mousedown&&(s.endX=s.clientX-o.left,s.endY=s.clientY-o.top,s.dragX=Math.abs(s.endX-s.startX),s.dragY=Math.abs(s.endY-s.startY),(a.globals.zoomEnabled||a.globals.selectionEnabled)&&s.selectionDrawn({context:s,zoomtype:n}),a.globals.panEnabled)&&a.config.xaxis.convertedCatToNumeric&&s.delayedPanScrolled(),a.globals.zoomEnabled&&s.hideSelectionRect(this.selectionRect),s.dragged=!1,s.w.globals.mousedown=!1),this.makeSelectionRectDraggable()))}},{key:"makeSelectionRectDraggable",value:function(){var t,e=this.w;this.selectionRect&&0<(t=this.selectionRect.node.getBoundingClientRect()).width&&0<t.height&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}},{key:"preselectedSelection",value:function(){var t,e=this.w,i=this.xyRatios;e.globals.zoomEnabled||(void 0!==e.globals.selection&&null!==e.globals.selection?this.drawSelectionRect(e.globals.selection):void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max&&(i={x:t=(e.config.chart.selection.xaxis.min-e.globals.minX)/i.xRatio,y:0,width:e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/i.xRatio-t,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0},this.drawSelectionRect(i),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection)&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}}))}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,a=t.width,s=t.height,o=t.translateX,t=t.translateY,n=this.w,r=this.zoomRect,l=this.selectionRect;(this.dragged||null!==n.globals.selection)&&(o={transform:"translate("+(void 0===o?0:o)+", "+(void 0===t?0:t)+")"},n.globals.zoomEnabled&&this.dragged&&(r.attr({x:e,y:i,width:a=a<0?1:a,height:s,fill:n.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":n.config.chart.zoom.zoomedArea.fill.opacity,stroke:n.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":n.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":n.config.chart.zoom.zoomedArea.stroke.opacity}),E.setAttrs(r.node,o)),n.globals.selectionEnabled)&&(l.attr({x:e,y:i,width:0<a?a:0,height:0<s?s:0,fill:n.config.chart.selection.fill.color,"fill-opacity":n.config.chart.selection.fill.opacity,stroke:n.config.chart.selection.stroke.color,"stroke-width":n.config.chart.selection.stroke.width,"stroke-dasharray":n.config.chart.selection.stroke.dashArray,"stroke-opacity":n.config.chart.selection.stroke.opacity}),E.setAttrs(l.node,o))}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e=t.context,t=t.zoomtype,i=this.w,a=this.gridRect.getBoundingClientRect(),s=e.startX-1,o=e.startY,n=!1,r=!1,l=e.clientX-a.left-s,h=e.clientY-a.top-o;return Math.abs(l+s)>i.globals.gridWidth?l=i.globals.gridWidth-s:e.clientX-a.left<0&&(l=s),s>e.clientX-a.left&&(n=!0,l=Math.abs(l)),o>e.clientY-a.top&&(r=!0,h=Math.abs(h)),a="x"===t?{x:n?s-l:s,y:0,width:l,height:i.globals.gridHeight}:"y"===t?{x:0,y:r?o-h:o,width:i.globals.gridWidth,height:h}:{x:n?s-l:s,y:r?o-h:o,width:l,height:h},e.drawSelectionRect(a),e.selectionDragging("resizing"),a}},{key:"selectionDragging",value:function(t,e){function i(t){return parseFloat(n.node.getAttribute(t))}var a=this,s=this.w,o=this.xyRatios,n=this.selectionRect,r=0,t=("resizing"===t&&(r=30),{x:i("x"),y:i("y"),width:i("width"),height:i("height")});s.globals.selection=t,"function"==typeof s.config.chart.events.selection&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var t=a.gridRect.getBoundingClientRect(),e=n.node.getBoundingClientRect(),e={xaxis:{min:s.globals.xAxisScale.niceMin+(e.left-t.left)*o.xRatio,max:s.globals.xAxisScale.niceMin+(e.right-t.left)*o.xRatio},yaxis:{min:s.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*o.yRatio[0],max:s.globals.yAxisScale[0].niceMax-(e.top-t.top)*o.yRatio[0]}};s.config.chart.events.selection(a.ctx,e),s.config.chart.brush.enabled&&void 0!==s.config.chart.events.brushScrolled&&s.config.chart.events.brushScrolled(a.ctx,e)},r))}},{key:"selectionDrawn",value:function(t){var e,i,a,s,o=t.context,t=t.zoomtype,n=this.w,r=o,l=this.xyRatios,o=this.ctx.toolbar,h=(r.startX>r.endX&&(h=r.startX,r.startX=r.endX,r.endX=h),r.startY>r.endY&&(h=r.startY,r.startY=r.endY,r.endY=h),void 0),c=void 0,c=n.globals.isRangeBar?(h=n.globals.yAxisScale[0].niceMin+r.startX*l.invertedYRatio,n.globals.yAxisScale[0].niceMin+r.endX*l.invertedYRatio):(h=n.globals.xAxisScale.niceMin+r.startX*l.xRatio,n.globals.xAxisScale.niceMin+r.endX*l.xRatio),d=[],p=[];n.config.yaxis.forEach(function(t,e){d.push(n.globals.yAxisScale[e].niceMax-l.yRatio[e]*r.startY),p.push(n.globals.yAxisScale[e].niceMax-l.yRatio[e]*r.endY)}),r.dragged&&(10<r.dragX||10<r.dragY)&&h!==c&&(n.globals.zoomEnabled?(i=M.clone(n.globals.initialConfig.yaxis),e=M.clone(n.globals.initialConfig.xaxis),n.globals.zoomed=!0,n.config.xaxis.convertedCatToNumeric&&(h=Math.floor(h),c=Math.floor(c),h<1&&(h=1,c=n.globals.dataPoints),c-h<2)&&(c=h+1),"xy"!==t&&"x"!==t||(e={min:h,max:c}),"xy"!==t&&"y"!==t||i.forEach(function(t,e){i[e].min=p[e],i[e].max=d[e]}),n.config.chart.zoom.autoScaleYaxis&&(i=new x(r.ctx).autoScaleY(r.ctx,i,{xaxis:e})),o&&(s=o.getBeforeZoomRange(e,i))&&(e=s.xaxis||e,i=s.yaxis||i),s={xaxis:e},n.config.chart.group||(s.yaxis=i),r.ctx.updateHelpers._updateOptions(s,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof n.config.chart.events.zoomed&&o.zoomCallback(e,i)):n.globals.selectionEnabled&&(a=null,s={min:h,max:c},"xy"!==t&&"y"!==t||(a=M.clone(n.config.yaxis)).forEach(function(t,e){a[e].min=p[e],a[e].max=d[e]}),n.globals.selection=r.selection,"function"==typeof n.config.chart.events.selection)&&n.config.chart.events.selection(r.ctx,{xaxis:s,yaxis:a}))}},{key:"panDragging",value:function(t){var t=t.context,e=this.w,i=(void 0!==e.globals.lastClientPosition.x&&(i=e.globals.lastClientPosition.x-t.clientX,a=e.globals.lastClientPosition.y-t.clientY,Math.abs(i)>Math.abs(a)&&0<i?this.moveDirection="left":Math.abs(i)>Math.abs(a)&&i<0?this.moveDirection="right":Math.abs(a)>Math.abs(i)&&0<a?this.moveDirection="up":Math.abs(a)>Math.abs(i)&&a<0&&(this.moveDirection="down")),e.globals.lastClientPosition={x:t.clientX,y:t.clientY},e.globals.isRangeBar?e.globals.minY:e.globals.minX),a=e.globals.isRangeBar?e.globals.maxY:e.globals.maxX;e.config.xaxis.convertedCatToNumeric||t.panScrolled(i,a)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,a=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+a,i=t.globals.maxX+a):"right"===this.moveDirection&&(e=t.globals.minX-a,i=t.globals.maxX-a),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,a=this.xyRatios,s=M.clone(i.globals.initialConfig.yaxis),o=a.xRatio,n=i.globals.minX,r=i.globals.maxX,a=(i.globals.isRangeBar&&(o=a.invertedYRatio,n=i.globals.minY,r=i.globals.maxY),"left"===this.moveDirection?(t=n+i.globals.gridWidth/15*o,e=r+i.globals.gridWidth/15*o):"right"===this.moveDirection&&(t=n-i.globals.gridWidth/15*o,e=r-i.globals.gridWidth/15*o),i.globals.isRangeBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=n,e=r),{min:t,max:e}),o=(i.config.chart.zoom.autoScaleYaxis&&(s=new x(this.ctx).autoScaleY(this.ctx,s,{xaxis:a})),{xaxis:{min:t,max:e}});i.config.chart.group||(o.yaxis=s),this.updateScrolledChart(o,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var a=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof a.config.chart.events.scrolled&&a.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),Me),qt=(o(Te,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,a=t.clientX,t=t.clientY,s=this.w,i=i.getBoundingClientRect(),o=i.width,n=i.height,r=o/(s.globals.dataPoints-1),l=n/s.globals.dataPoints,h=this.hasBars(),a=(!s.globals.comboCharts&&!h||s.config.xaxis.convertedCatToNumeric||(r=o/s.globals.dataPoints),a-i.left-s.globals.barPadForNumericAxis),t=t-i.top,i=(a<0||t<0||o<a||n<t?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):s.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):s.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan")),Math.round(a/r)),e=Math.floor(t/l),l=(h&&!s.config.xaxis.convertedCatToNumeric&&(i=Math.ceil(a/r),--i),null),c=[],d=[];return s.globals.seriesXvalues.forEach(function(t){c.push([t[0]+1e-6].concat(t))}),s.globals.seriesYvalues.forEach(function(t){d.push([t[0]+1e-6].concat(t))}),c=c.map(function(t){return t.filter(function(t){return M.isNumber(t)})}),d=d.map(function(t){return t.filter(function(t){return M.isNumber(t)})}),s.globals.isXNumeric&&(r=a*((h=this.ttCtx.getElGrid().getBoundingClientRect()).width/o),o=t*(h.height/n),l=(h=this.closestInMultiArray(r,o,c,d)).index,i=h.j,null!==l)&&(c=s.globals.seriesXvalues[l],i=this.closestInArray(r,c).index),s.globals.capturedSeriesIndex=null===l?-1:l,(!i||i<1)&&(i=0),s.globals.isBarHorizontal?s.globals.capturedDataPointIndex=e:s.globals.capturedDataPointIndex=i,{capturedSeries:l,j:s.globals.isBarHorizontal?e:i,hoverX:a,hoverY:t}}},{key:"closestInMultiArray",value:function(i,a,t,e){var s,o=this.w,n=0,r=null,l=-1,o=(1<o.globals.series.length?n=this.getFirstActiveXArray(t):r=0,t[n][0]),h=Math.abs(i-o);return t.forEach(function(t){t.forEach(function(t,e){t=Math.abs(i-t);t<h&&(h=t,l=e)})}),-1!==l&&(o=e[n][l],s=Math.abs(a-o),r=n,e.forEach(function(t,e){t=Math.abs(a-t[l]);t<s&&(s=t,r=e)})),{index:r,j:l}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,a=t.map(function(t,e){return 0<t.length?e:-1}),s=0;s<a.length;s++)if(-1!==a[s]&&-1===e.globals.collapsedSeriesIndices.indexOf(s)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(s)){i=a[s];break}return i}},{key:"closestInArray",value:function(t,e){for(var i=e[0],a=null,s=Math.abs(t-i),o=0;o<e.length;o++){var n=Math.abs(t-e[o]);n<s&&(s=n,a=o)}return{index:a}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter(function(t){return void 0!==t[0]});if(0<i.length)for(var a=0;a<i.length-1;a++)void 0!==i[a][t]&&void 0!==i[a+1][t]&&i[a][t]!==i[a+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return v(t).reduce(function(t,e){return t+e.getBBox().height},0)}},{key:"getElMarkers",value:function(t){return"number"==typeof t?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap"),e=((t=v(t)).sort(function(t,e){t=Number(t.getAttribute("data:realIndex")),e=Number(e.getAttribute("data:realIndex"));return e<t?1:t<e?-1:0}),[]);return t.forEach(function(t){e.push(t.querySelector(".apexcharts-marker"))}),e}},{key:"hasMarkers",value:function(t){return 0<this.getElMarkers(t).length}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return 0<this.getElBars().length}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return i=void 0===i?e.globals.markers.size[t]+e.config.markers.hover.sizeOffset:i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=i.allTooltipSeriesGroups,s=0;s<a.length;s++)"enable"===t?(a[s].classList.add("apexcharts-active"),a[s].style.display=e.config.tooltip.items.display):(a[s].classList.remove("apexcharts-active"),a[s].style.display="none")}}]),Te),$t=(o(_e,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,e=void 0===e||e,i=t.ttItems,a=t.i,a=void 0===a?0:a,s=t.j,s=void 0===s?null:s,o=t.y1,n=t.y2,t=t.e,r=this.w,o=(void 0!==r.config.tooltip.custom?this.handleCustomTooltip({i:a,j:s,y1:o,y2:n,w:r}):this.toggleActiveInactiveSeries(e),this.getValuesToPrint({i:a,j:s})),n=(this.printLabels({i:a,j:s,values:o,ttItems:i,shared:e,e:t}),this.ttCtx.getElTooltip());this.ttCtx.tooltipRect.ttWidth=n.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=n.getBoundingClientRect().height}},{key:"printLabels",value:function(t){function s(t){return p.globals.seriesGoals[t]&&p.globals.seriesGoals[t][l]&&Array.isArray(p.globals.seriesGoals[t][l])}var o,n=this,r=t.i,l=t.j,e=t.values,h=t.ttItems,c=t.shared,d=t.e,p=this.w,f=[],g=e.xVal,u=e.zVal,x=e.xAxisTTVal,b="",y=p.globals.colors[r];null!==l&&p.config.plotOptions.bar.distributed&&(y=p.globals.colors[l]);for(var i=0,a=p.globals.series.length-1;i<p.globals.series.length;i++,a--)!function(t,e){var i=n.getFormatters(r),a=(b=n.getSeriesName({fn:i.yLbTitleFormatter,index:r,seriesIndex:r,j:l}),"treemap"===p.config.chart.type&&(b=i.yLbTitleFormatter(String(p.config.series[r].data[l].x),{series:p.globals.series,seriesIndex:r,dataPointIndex:l,w:p})),p.config.tooltip.inverseOrder?e:t);p.globals.axisCharts&&(e=function(t){var e;return p.globals.isRangeData?i.yLbFormatter(null==(e=p.globals.seriesRangeStart)||null==(e=e[t])?void 0:e[l],{series:p.globals.seriesRangeStart,seriesIndex:t,dataPointIndex:l,w:p})+" - "+i.yLbFormatter(null==(e=p.globals.seriesRangeEnd)||null==(e=e[t])?void 0:e[l],{series:p.globals.seriesRangeEnd,seriesIndex:t,dataPointIndex:l,w:p}):i.yLbFormatter(p.globals.series[t][l],{series:p.globals.series,seriesIndex:t,dataPointIndex:l,w:p})},c?(i=n.getFormatters(a),b=n.getSeriesName({fn:i.yLbTitleFormatter,index:a,seriesIndex:r,j:l}),y=p.globals.colors[a],o=e(a),s(a)&&(f=p.globals.seriesGoals[a][l].map(function(t){return{attrs:t,val:i.yLbFormatter(t.value,{seriesIndex:a,dataPointIndex:l,w:p})}}))):((t=null==d||null==(t=d.target)?void 0:t.getAttribute("fill"))&&(y=-1!==t.indexOf("url")?document.querySelector(t.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):t),o=e(r),s(r)&&Array.isArray(p.globals.seriesGoals[r][l])&&(f=p.globals.seriesGoals[r][l].map(function(t){return{attrs:t,val:i.yLbFormatter(t.value,{seriesIndex:r,dataPointIndex:l,w:p})}})))),null===l&&(o=i.yLbFormatter(p.globals.series[r],z(z({},p),{},{seriesIndex:r,dataPointIndex:r}))),n.DOMHandling({i:r,t:a,j:l,ttItems:h,values:{val:o,goalVals:f,xVal:g,xAxisTTVal:x,zVal:u},seriesName:b,shared:c,pColor:y})}(i,a)}},{key:"getFormatters",value:function(t){var e,i=this.w,a=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(a=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(a=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,{yLbFormatter:a="function"!=typeof a?i.globals.yLabelFormatters[0]||function(t){return t}:a,yLbTitleFormatter:e="function"!=typeof e?function(t){return t}:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,a=t.seriesIndex,t=t.j,s=this.w;return e(String(s.globals.seriesNames[i]),{series:s.globals.series,seriesIndex:a,dataPointIndex:t,w:s})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,a=t.ttItems,s=t.values,o=t.seriesName,n=t.shared,t=t.pColor,r=this.w,l=this.ttCtx,h=s.val,c=s.goalVals,d=s.xVal,p=s.xAxisTTVal,s=s.zVal,f=null,f=a[e].children,l=(r.config.tooltip.fillSeriesColor&&(a[e].style.backgroundColor=t,f[0].style.display="none"),l.showTooltipTitle&&(null===l.tooltipTitle&&(l.tooltipTitle=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),l.tooltipTitle.innerHTML=d),l.isXAxisTooltipEnabled&&(l.xaxisTooltipText.innerHTML=""!==p?p:d),a[e].querySelector(".apexcharts-tooltip-text-y-label")),p=(l&&(l.innerHTML=o||""),a[e].querySelector(".apexcharts-tooltip-text-y-value")),g=(p&&(p.innerHTML=void 0!==h?h:""),f[0]&&f[0].classList.contains("apexcharts-tooltip-marker")&&(r.config.tooltip.marker.fillColors&&Array.isArray(r.config.tooltip.marker.fillColors)&&(t=r.config.tooltip.marker.fillColors[e]),f[0].style.backgroundColor=t),r.config.tooltip.marker.show||(f[0].style.display="none"),a[e].querySelector(".apexcharts-tooltip-text-goals-label")),u=a[e].querySelector(".apexcharts-tooltip-text-goals-value");c.length&&r.globals.seriesGoals[e]&&(d=function(){var i="<div >",a="<div>";c.forEach(function(t,e){i+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(t.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(t.attrs.name,"</div>"),a+="<div>".concat(t.val,"</div>")}),g.innerHTML=i+"</div>",u.innerHTML=a+"</div>"},!n||r.globals.seriesGoals[e][i]&&Array.isArray(r.globals.seriesGoals[e][i]))?d():(g.innerHTML="",u.innerHTML=""),null!==s&&(a[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=r.config.tooltip.z.title,a[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==s?s:""),n&&f[0]&&(null==h||-1<r.globals.ancillaryCollapsedSeriesIndices.indexOf(e)||-1<r.globals.collapsedSeriesIndices.indexOf(e)?f[0].parentNode.style.display="none":f[0].parentNode.style.display=r.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;t?this.tooltipUtil.toggleAllTooltipSeriesGroups("enable"):(this.tooltipUtil.toggleAllTooltipSeriesGroups("disable"),(t=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group"))&&(t.classList.add("apexcharts-active"),t.style.display=e.config.tooltip.items.display))}},{key:"getValuesToPrint",value:function(t){var e=t.i,t=t.j,i=this.w,a=this.ctx.series.filteredSeriesX(),s="",o="",n=null,r=null,l={series:i.globals.series,seriesIndex:e,dataPointIndex:t,w:i},h=i.globals.ttZFormatter,a=(null===t?r=i.globals.series[e]:i.globals.isXNumeric&&"treemap"!==i.config.chart.type?(s=a[e][t],0===a[e].length&&(s=a[this.tooltipUtil.getFirstActiveXArray(a)][t])):s=void 0!==i.globals.labels[t]?i.globals.labels[t]:"",s),s=i.globals.isXNumeric&&"datetime"===i.config.xaxis.type?new u(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,a,a,{i:void 0,dateFormatter:new w(this.ctx).formatDate,w:this.w}):i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](a,l):i.globals.xLabelFormatter(a,l);return void 0!==i.config.tooltip.x.formatter&&(s=i.globals.ttKeyFormatter(a,l)),0<i.globals.seriesZ.length&&0<i.globals.seriesZ[e].length&&(n=h(i.globals.seriesZ[e][t],i)),o="function"==typeof i.config.xaxis.tooltip.formatter?i.globals.xaxisTooltipFormatter(a,l):s,{val:Array.isArray(r)?r.join(" "):r,xVal:Array.isArray(s)?s.join(" "):s,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:n}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,a=t.y1,s=t.y2,t=t.w,o=this.ttCtx.getElTooltip(),n=t.config.tooltip.custom;Array.isArray(n)&&n[e]&&(n=n[e]),o.innerHTML=n({ctx:this.ctx,series:t.globals.series,seriesIndex:e,dataPointIndex:i,y1:a,y2:s,w:t})}}]),_e),Zt=(o(Ie,[{key:"moveXCrosshairs",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,a=this.w,s=i.getElXCrosshairs(),t=t-i.xcrosshairsWidth/2,o=a.globals.labels.slice().length;null!==e&&(t=a.globals.gridWidth/o*e),null===s||a.globals.isBarHorizontal||(s.setAttribute("x",t),s.setAttribute("x1",t),s.setAttribute("x2",t),s.setAttribute("y2",a.globals.gridHeight),s.classList.add("apexcharts-active")),(t=t<0?0:t)>a.globals.gridWidth&&(t=a.globals.gridWidth),i.isXAxisTooltipEnabled&&(o=t,"tickWidth"!==a.config.xaxis.crosshairs.width&&"barWidth"!==a.config.xaxis.crosshairs.width||(o=t+i.xcrosshairsWidth/2),this.moveXAxisTooltip(o))}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&E.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&E.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e,i=this.w,a=this.ttCtx;null!==a.xaxisTooltip&&0!==a.xcrosshairsWidth&&(a.xaxisTooltip.classList.add("apexcharts-active"),e=a.xaxisOffY+i.config.xaxis.tooltip.offsetY+i.globals.translateY+1+i.config.xaxis.offsetY,t-=a.xaxisTooltip.getBoundingClientRect().width/2,isNaN(t)||(t+=i.globals.translateX,i=new E(this.ctx).getTextRects(a.xaxisTooltipText.innerHTML),a.xaxisTooltipText.style.minWidth=i.width+"px",a.xaxisTooltip.style.left=t+"px",a.xaxisTooltip.style.top=e+"px"))}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx,a=(null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip")),parseInt(i.ycrosshairsHidden.getAttribute("y1"),10)),a=e.globals.translateY+a,s=i.yaxisTTEls[t].getBoundingClientRect().height,o=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(o-=26),a-=s/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=a+"px",i.yaxisTTEls[t].style.left=o+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=this.w,s=this.ttCtx,o=s.getElTooltip(),n=s.tooltipRect,i=null!==i?parseFloat(i):1,t=parseFloat(t)+i+5,e=parseFloat(e)+i/2;(t=(t=t>a.globals.gridWidth/2?t-n.ttWidth-i-10:t)>a.globals.gridWidth-n.ttWidth-10?a.globals.gridWidth-n.ttWidth:t)<-20&&(t=-20),a.config.tooltip.followCursor?(i=s.getElGrid().getBoundingClientRect(),(t=s.e.clientX-i.left)>a.globals.gridWidth/2&&(t-=s.tooltipRect.ttWidth),(e=s.e.clientY+a.globals.translateY-i.top)>a.globals.gridHeight/2&&(e-=s.tooltipRect.ttHeight)):a.globals.isBarHorizontal||n.ttHeight/2+e>a.globals.gridHeight&&(e=a.globals.gridHeight-n.ttHeight+a.globals.translateY),isNaN(t)||(t+=a.globals.translateX,o.style.left=t+"px",o.style.top=e+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,a=this.ttCtx;if(0<i.globals.markers.size[t])for(var s=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<s.length;o++)parseInt(s[o].getAttribute("rel"),10)===e&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(e,s[o]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i=this.w,a=this.ttCtx,s=i.globals.pointsArray,o=a.tooltipUtil.getHoverMarkerSize(e),n=i.config.series[e].type;n&&("column"===n||"candlestick"===n||"boxPlot"===n)||(n=s[e][t][0],s=s[e][t][1]||0,(t=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle")))&&s<i.globals.gridHeight&&0<s&&(t.setAttribute("r",o),t.setAttribute("cx",n),t.setAttribute("cy",s)),this.moveXCrosshairs(n),a.fixedTooltip)||this.moveTooltip(n,s,o)}},{key:"moveDynamicPointsOnHover",value:function(t){var e=this.ttCtx,i=e.w,a=0,s=0,o=i.globals.pointsArray,n=new O(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]),r=e.tooltipUtil.getHoverMarkerSize(n),l=(o[n]&&(a=o[n][t][0],s=o[n][t][1]),e.tooltipUtil.getAllMarkers());if(null!==l)for(var h=0;h<i.globals.series.length;h++){var c,d,p=o[h];i.globals.comboCharts&&void 0===p&&l.splice(h,0,null),p&&p.length&&(p=o[h][t][1],d=void 0,l[h].setAttribute("cx",a),"rangeArea"!==i.config.chart.type||i.globals.comboCharts||(c=t+i.globals.series[h].length,d=o[h][c][1],p-=Math.abs(p-d)/2),null!==p&&!isNaN(p)&&p<i.globals.gridHeight+r&&0<p+r?(l[h]&&l[h].setAttribute("r",r),l[h]&&l[h].setAttribute("cy",p)):l[h]&&l[h].setAttribute("r",0))}this.moveXCrosshairs(a),e.fixedTooltip||this.moveTooltip(a,s||i.globals.gridHeight,r)}},{key:"moveStickyTooltipOverBars",value:function(t,e){var i=this.w,a=this.ttCtx,s=(i.globals.columnSeries||i.globals.series).length,o=2<=s&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1,o=(i.globals.isBarHorizontal&&(o=new O(this.ctx).getActiveConfigSeriesIndex("desc")+1),i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"']"))),e=(o=o||"number"!=typeof e?o:i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"']")))?parseFloat(o.getAttribute("cx")):0,n=o?parseFloat(o.getAttribute("cy")):0,r=o?parseFloat(o.getAttribute("barWidth")):0,l=a.getElGrid().getBoundingClientRect(),h=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(o&&!h&&(e-=s%2!=0?r/2:0),o&&h&&i.globals.comboCharts&&(e-=r/2)):i.globals.isBarHorizontal||(e=a.xAxisTicksPositions[t-1]+a.dataPointsDividedWidth/2,isNaN(e)&&(e=a.xAxisTicksPositions[t]-a.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?n-=a.tooltipRect.ttHeight:i.config.tooltip.followCursor?n=a.e.clientY-l.top-a.tooltipRect.ttHeight/2:n+a.tooltipRect.ttHeight+15>i.globals.gridHeight&&(n=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(e),a.fixedTooltip||this.moveTooltip(e,n||i.globals.gridHeight)}}]),Ie),Jt=(o(ze,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new E(this.ctx),i=new k(this.ctx),a=v(a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series"));t.config.chart.stacked&&a.sort(function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))});for(var s=0;s<a.length;s++){var o,n,r=a[s].querySelector(".apexcharts-series-markers-wrap");null!==r&&(o=void 0,n="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4)),"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(n+=" no-pointer-events"),n=i.getMarkerConfig({cssClass:n,seriesIndex:Number(r.getAttribute("data:realIndex"))}),(o=e.drawMarker(0,0,n)).node.setAttribute("default-marker-size",0),(n=document.createElementNS(t.globals.SVGNS,"g")).classList.add("apexcharts-series-markers"),n.appendChild(o.node),r.appendChild(n))}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=this.w,t=("bubble"!==s.config.chart.type&&this.newPointSize(t,e),e.getAttribute("cx")),e=e.getAttribute("cy");null!==i&&null!==a&&(t=i,e=a),this.tooltipPosition.moveXCrosshairs(t),this.fixedTooltip||("radar"===s.config.chart.type&&(i=this.ttCtx.getElGrid().getBoundingClientRect(),t=this.ttCtx.e.clientX-i.left),this.tooltipPosition.moveTooltip(t,e,s.config.markers.hover.size))}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this.ttCtx,a=t,s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=e.config.markers.hover.size,n=0;n<s.length;n++){var r=s[n].getAttribute("rel"),l=s[n].getAttribute("index");void 0===o&&(o=e.globals.markers.size[l]+e.config.markers.hover.sizeOffset),a===parseInt(r,10)?(this.newPointSize(a,s[n]),l=s[n].getAttribute("cx"),r=s[n].getAttribute("cy"),this.tooltipPosition.moveXCrosshairs(l),i.fixedTooltip||this.tooltipPosition.moveTooltip(l,r,o)):this.oldPointSize(s[n])}}},{key:"newPointSize",value:function(t,e){var i=this.w,a=i.config.markers.hover.size,t=0===t?e.parentNode.firstChild:e.parentNode.lastChild;"0"!==t.getAttribute("default-marker-size")&&(e=parseInt(t.getAttribute("index"),10),void 0===a&&(a=i.globals.markers.size[e]+i.config.markers.hover.sizeOffset),t.setAttribute("r",a=a<0?0:a))}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));M.isNumber(i)&&0<=i?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),ze),Qt=(o(Le,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e,i,a,s,o,n=t.e,r=t.opt,l=t.x,h=t.y,t=t.type,c=this.ttCtx,d=this.w;return n.target.classList.contains("apexcharts-".concat(t,"-rect"))&&(t=this.getAttr(n,"i"),e=this.getAttr(n,"j"),i=this.getAttr(n,"cx"),a=this.getAttr(n,"cy"),s=this.getAttr(n,"width"),o=this.getAttr(n,"height"),c.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:e,shared:!1,e:n}),d.globals.capturedSeriesIndex=t,d.globals.capturedDataPointIndex=e,l=i+c.tooltipRect.ttWidth/2+s,h=a+c.tooltipRect.ttHeight/2-o/2,c.tooltipPosition.moveXCrosshairs(i+s/2),l>d.globals.gridWidth/2&&(l=i-c.tooltipRect.ttWidth/2+s),c.w.config.tooltip.followCursor)&&(r=d.globals.dom.elWrap.getBoundingClientRect(),l=d.globals.clientX-r.left-(l>d.globals.gridWidth/2?c.tooltipRect.ttWidth:0),h=d.globals.clientY-r.top-(h>d.globals.gridHeight/2?c.tooltipRect.ttHeight:0)),{x:l,y:h}}},{key:"handleMarkerTooltip",value:function(t){var e,i,a,s,o,n,r=t.e,l=t.opt,h=t.x,t=t.y,c=this.w,d=this.ttCtx;return r.target.classList.contains("apexcharts-marker")&&(e=parseInt(l.paths.getAttribute("cx"),10),i=parseInt(l.paths.getAttribute("cy"),10),a=parseFloat(l.paths.getAttribute("val")),s=parseInt(l.paths.getAttribute("rel"),10),o=parseInt(l.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect&&(n=M.findAncestor(l.paths,"apexcharts-series"))&&(o=parseInt(n.getAttribute("data:realIndex"),10)),d.tooltipLabels.drawSeriesTexts({ttItems:l.ttItems,i:o,j:s,shared:!d.showOnIntersect&&c.config.tooltip.shared,e:r}),"mouseup"===r.type&&d.markerClick(r,o,s),c.globals.capturedSeriesIndex=o,c.globals.capturedDataPointIndex=s,h=e,t=i+c.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor&&(n=d.getElGrid().getBoundingClientRect(),t=d.e.clientY+c.globals.translateY-n.top),d.marker.enlargeCurrentPoint(s,l.paths,h,t=a<0?i:t)),{x:h,y:t}}},{key:"handleBarTooltip",value:function(t){var e,i=t.e,t=t.opt,a=this.w,s=this.ttCtx,o=s.getElTooltip(),n=0,r=0,l=0,i=this.getBarTooltipXY({e:i,opt:t}),h=i.i,c=i.barHeight,d=i.j,i=(a.globals.capturedSeriesIndex=h,a.globals.capturedDataPointIndex=d,a.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||!a.config.tooltip.shared?(r=i.x,l=i.y,e=Array.isArray(a.config.stroke.width)?a.config.stroke.width[h]:a.config.stroke.width,n=r):a.globals.comboCharts||a.config.tooltip.shared||(n/=2),isNaN(l)&&(l=a.globals.svgHeight-s.tooltipRect.ttHeight),parseInt(t.paths.parentNode.getAttribute("data:realIndex"),10)),t=a.globals.isMultipleYAxis?a.config.yaxis[i]&&a.config.yaxis[i].reversed:a.config.yaxis[0].reversed;r+s.tooltipRect.ttWidth>a.globals.gridWidth&&!t?r-=s.tooltipRect.ttWidth:r<0&&(r=0),s.w.config.tooltip.followCursor&&(i=s.getElGrid().getBoundingClientRect(),l=s.e.clientY-i.top),null===s.tooltip&&(s.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(0<a.globals.comboBarCount?s.tooltipPosition.moveXCrosshairs(n+e/2):s.tooltipPosition.moveXCrosshairs(n)),!s.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&s.tooltipUtil.hasBars())&&(t&&(r-=s.tooltipRect.ttWidth)<0&&(r=0),l=(l=!t||a.globals.isBarHorizontal&&s.tooltipUtil.hasBars()?l:l+c-2*(a.globals.series[h][d]<0?c:0))+a.globals.translateY-s.tooltipRect.ttHeight/2,o.style.left=r+a.globals.translateX+"px",o.style.top=l+"px")}},{key:"getBarTooltipXY",value:function(t){var e,i,a,s,o,n,r,l,h,c=this,d=t.e,t=t.opt,p=this.w,f=null,g=this.ttCtx,u=0,x=0,b=0,y=0,m=0,v=d.target.classList;return(v.contains("apexcharts-bar-area")||v.contains("apexcharts-candlestick-area")||v.contains("apexcharts-boxPlot-area")||v.contains("apexcharts-rangebar-area"))&&(n=(v=d.target).getBoundingClientRect(),e=t.elGrid.getBoundingClientRect(),i=n.height,m=n.height,a=n.width,s=parseInt(v.getAttribute("cx"),10),o=parseInt(v.getAttribute("cy"),10),y=parseFloat(v.getAttribute("barWidth")),n=("touchmove"===d.type?d.touches[0]:d).clientX,f=parseInt(v.getAttribute("j"),10),u=parseInt(v.parentNode.getAttribute("rel"),10)-1,r=v.getAttribute("data-range-y1"),l=v.getAttribute("data-range-y2"),p.globals.comboCharts&&(u=parseInt(v.parentNode.getAttribute("data:realIndex"),10)),v=function(t){return p.globals.isXNumeric?s-a/2:c.isVerticalGroupedRangeBar?s+a/2:s-g.dataPointsDividedWidth+a/2},h=function(){return o-g.dataPointsDividedHeight+i/2-g.tooltipRect.ttHeight/2},g.tooltipLabels.drawSeriesTexts({ttItems:t.ttItems,i:u,j:f,y1:r?parseInt(r,10):null,y2:l?parseInt(l,10):null,shared:!g.showOnIntersect&&p.config.tooltip.shared,e:d}),b=p.config.tooltip.followCursor?p.globals.isBarHorizontal?(x=n-e.left+15,h()):(x=v(),d.clientY-e.top-g.tooltipRect.ttHeight/2-15):p.globals.isBarHorizontal?((x=s)<g.xyRatios.baseLineInvertedY&&(x=s-g.tooltipRect.ttWidth),h()):(x=v(),o)),{x:x,y:b,barHeight:m,barWidth:y,i:u,j:f}}}]),Le),Kt=(o(Pe,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position,i=(e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3,i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top"),a=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var s=this.w,e=this.ttCtx,t=0;t<s.config.yaxis.length;t++)!function(i){var t=s.config.yaxis[i].opposite||s.config.yaxis[i].crosshairs.opposite,a=(e.yaxisOffX=t?s.globals.gridWidth+1:1,"apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,t?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left")),t=(s.globals.yAxisSameScaleIndices.map(function(t,e){t.map(function(t,e){e===i&&(a+=s.config.yaxis[e].show?" ":" apexcharts-yaxistooltip-hidden")})}),s.globals.dom.elWrap);null===s.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+s.config.tooltip.theme),t.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))}(t)}},{key:"setXCrosshairWidth",value:function(){var t,e=this.w,i=this.ttCtx,a=i.getElXCrosshairs();i.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts?null!==(t=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area"))&&"barWidth"===e.config.xaxis.crosshairs.width?(t=parseFloat(t.getAttribute("barWidth")),i.xcrosshairsWidth=t):"tickWidth"===e.config.xaxis.crosshairs.width&&(t=e.globals.labels.length,i.xcrosshairsWidth=e.globals.gridWidth/t):"tickWidth"===e.config.xaxis.crosshairs.width?(t=e.globals.labels.length,i.xcrosshairsWidth=e.globals.gridWidth/t):"barWidth"===e.config.xaxis.crosshairs.width&&(null!==(t=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area"))?(t=parseFloat(t.getAttribute("barWidth")),i.xcrosshairsWidth=t):i.xcrosshairsWidth=1),e.globals.isBarHorizontal&&(i.xcrosshairsWidth=0),null!==a&&0<i.xcrosshairsWidth&&a.setAttribute("width",i.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var a,s,o=this.ttCtx,n=this.w,r=n.globals.yLabelFormatters[t];o.yaxisTooltips[t]&&(i=(e-(a=o.getElGrid().getBoundingClientRect()).top)*i.yRatio[t],s=n.globals.maxYArr[t]-n.globals.minYArr[t],n=n.globals.minYArr[t]+(s-i),o.tooltipPosition.moveYCrosshairs(e-a.top),o.yaxisTooltipText[t].innerHTML=r(n),o.tooltipPosition.moveYAxisTooltip(t))}}]),Pe),te=(o(Oe,[{key:"getElTooltip",value:function(t){return(t=t||this).w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e,i=this.w,t=(this.xyRatios=t,this.isXAxisTooltipEnabled=i.config.xaxis.tooltip.enabled&&i.globals.axisCharts,this.yaxisTooltips=i.config.yaxis.map(function(t,e){return!!(t.show&&t.tooltip.enabled&&i.globals.axisCharts)}),this.allTooltipSeriesGroups=[],i.globals.axisCharts||(this.showTooltipTitle=!1),document.createElement("div"));t.classList.add("apexcharts-tooltip"),i.config.tooltip.cssClass&&t.classList.add(i.config.tooltip.cssClass),t.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),i.globals.dom.elWrap.appendChild(t),i.globals.axisCharts&&(this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair(),e=new Lt(this.ctx),this.xAxisTicksPositions=e.getXAxisTicksPositions()),!i.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==i.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==i.config.markers.size&&0!==i.globals.markers.largestSize||this.marker.drawDynamicPoints(this),i.globals.collapsedSeries.length!==i.globals.series.length&&(this.dataPointsDividedHeight=i.globals.gridHeight/i.globals.dataPoints,this.dataPointsDividedWidth=i.globals.gridWidth/i.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||i.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,t.appendChild(this.tooltipTitle)),e=i.globals.series.length,(i.globals.xyCharts||i.globals.comboCharts)&&this.tConfig.shared&&(e=this.showOnIntersect?1:i.globals.series.length),this.legendLabels=i.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(e),this.addSVGEvents())}},{key:"createTTElements",value:function(s){for(var o=this,n=this.w,r=[],l=this.getElTooltip(),t=0;t<s;t++)!function(t){var e=document.createElement("div"),i=(e.classList.add("apexcharts-tooltip-series-group"),e.style.order=n.config.tooltip.inverseOrder?s-t:t+1,o.tConfig.shared&&o.tConfig.enabledOnSeries&&Array.isArray(o.tConfig.enabledOnSeries)&&o.tConfig.enabledOnSeries.indexOf(t)<0&&e.classList.add("apexcharts-tooltip-series-group-hidden"),document.createElement("span")),a=(i.classList.add("apexcharts-tooltip-marker"),i.style.backgroundColor=n.globals.colors[t],e.appendChild(i),document.createElement("div"));a.classList.add("apexcharts-tooltip-text"),a.style.fontFamily=o.tConfig.style.fontFamily||n.config.chart.fontFamily,a.style.fontSize=o.tConfig.style.fontSize,["y","goals","z"].forEach(function(t){var e=document.createElement("div"),i=(e.classList.add("apexcharts-tooltip-".concat(t,"-group")),document.createElement("span")),i=(i.classList.add("apexcharts-tooltip-text-".concat(t,"-label")),e.appendChild(i),document.createElement("span"));i.classList.add("apexcharts-tooltip-text-".concat(t,"-value")),e.appendChild(i),a.appendChild(e)}),e.appendChild(a),l.appendChild(e),r.push(e)}(t);return r}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),a=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),s="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,n=this.getElGrid();n&&(this.seriesBound=n.getBoundingClientRect());var r,l=[],h=[],n={hoverArea:o,elGrid:n,tooltipEl:i,tooltipY:l,tooltipX:h,ttItems:this.ttItems};if(t.globals.axisCharts&&(s?r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),r)&&r.length)for(var c=0;c<r.length;c++)l.push(r[c].getAttribute("cy")),h.push(r[c].getAttribute("cx"));t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared?this.addPathsEventListeners([o],n):a&&!t.globals.comboCharts||s&&this.showOnIntersect?this.addDatapointEventsListeners(n):t.globals.axisCharts&&"heatmap"!==e&&"treemap"!==e||(i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series"),this.addPathsEventListeners(i,n)),this.showOnIntersect&&(0<(o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker")).length&&this.addPathsEventListeners(o,n),this.tooltipUtil.hasBars())&&!this.tConfig.shared&&this.addDatapointEventsListeners(n)}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),a=i.width+10,i=i.height+10,s=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,n=this.tConfig.fixed.position.toLowerCase();return-1<n.indexOf("right")&&(s=s+t.globals.svgWidth-a+10),-1<n.indexOf("bottom")&&(o=o+t.globals.svgHeight-i-10),e.style.left=s+"px",e.style.top=o+"px",{x:s,y:o,ttWidth:a,ttHeight:i}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(a,t){for(var s=this,e=0;e<a.length;e++)!function(e){var i={paths:a[e],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(t){return a[e].addEventListener(t,s.onSeriesHover.bind(s,i),{capture:!1,passive:!0})})}(e)}},{key:"onSeriesHover",value:function(t,e){var i=this,a=Date.now()-this.lastHoverTime;100<=a?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(t,e)},100-a))}},{key:"seriesHover",value:function(i,a){var s=this,t=(this.lastHoverTime=Date.now(),[]),e=this.w;e.config.chart.group&&(t=this.ctx.getGroupedCharts()),e.globals.axisCharts&&(e.globals.minX===-1/0&&e.globals.maxX===1/0||0===e.globals.dataPoints)||(t.length?t.forEach(function(t){var e=s.getElTooltip(t),e={paths:i.paths,tooltipEl:e,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:t.w.globals.tooltip.ttItems};t.w.globals.minX===s.w.globals.minX&&t.w.globals.maxX===s.w.globals.maxX&&t.w.globals.tooltip.seriesHoverByContext({chartCtx:t,ttCtx:t.w.globals.tooltip,opt:e,e:a})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:i,e:a}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,a=t.opt,t=t.e,s=e.w,o=this.getElTooltip();o&&(i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=t,!i.tooltipUtil.hasBars()||s.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new O(e).toggleSeriesOnHover(t,t.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),s.globals.axisCharts?i.axisChartsTooltips({e:t,opt:a,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:t,opt:a,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e=t.e,t=t.opt,i=this.w,a=t.elGrid.getBoundingClientRect(),s=("touchmove"===e.type?e.touches[0]:e).clientX,o=("touchmove"===e.type?e.touches[0]:e).clientY;if(this.clientY=o,this.clientX=s,i.globals.capturedSeriesIndex=-1,i.globals.capturedDataPointIndex=-1,o<a.top||o>a.top+a.height)this.handleMouseOut(t);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!i.config.tooltip.shared){a=parseInt(t.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(a)<0)return void this.handleMouseOut(t)}var a=this.getElTooltip(),n=this.getElXCrosshairs(),r=i.globals.xyCharts||"bar"===i.config.chart.type&&!i.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||i.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===e.type||"touchmove"===e.type||"mouseup"===e.type){if(i.globals.collapsedSeries.length+i.globals.ancillaryCollapsedSeries.length!==i.globals.series.length){null!==n&&n.classList.add("apexcharts-active");var l,h,n=this.yaxisTooltips.filter(function(t){return!0===t});if(null!==this.ycrosshairs&&n.length&&this.ycrosshairs.classList.add("apexcharts-active"),r&&!this.showOnIntersect?this.handleStickyTooltip(e,s,o,t):"heatmap"===i.config.chart.type||"treemap"===i.config.chart.type?(l=(n=this.intersect.handleHeatTreeTooltip({e:e,opt:t,x:l,y:h,type:i.config.chart.type})).x,h=n.y,a.style.left=l+"px",a.style.top=h+"px"):(this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:e,opt:t}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:e,opt:t,x:l,y:h})),this.yaxisTooltips.length)for(var c=0;c<i.config.yaxis.length;c++)this.axesTooltip.drawYaxisTooltipText(c,o,this.xyRatios);t.tooltipEl.classList.add("apexcharts-active")}}else"mouseout"!==e.type&&"touchend"!==e.type||this.handleMouseOut(t)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,t=t.tooltipRect,a=this.w,s=i.paths.getAttribute("rel"),o=this.getElTooltip(),n=a.globals.dom.elWrap.getBoundingClientRect();"mousemove"===e.type||"touchmove"===e.type?(o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(s,10)-1,shared:!1}),i=a.globals.clientX-n.left-t.ttWidth/2,n=a.globals.clientY-n.top-t.ttHeight-10,o.style.left=i+"px",o.style.top=n+"px",a.config.legend.tooltipHoverFormatter&&(i=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[t=s-1].getAttribute("data:default-text"),{seriesIndex:t,dataPointIndex:t,w:a}),this.legendLabels[t].innerHTML=i)):"mouseout"!==e.type&&"touchend"!==e.type||(o.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"handleStickyTooltip",value:function(t,e,i,a){var s=this.w,e=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:e,clientY:i}),i=e.j,o=e.capturedSeries,n=(s.globals.collapsedSeriesIndices.includes(o)&&(o=null),a.elGrid.getBoundingClientRect());e.hoverX<0||e.hoverX>n.width?this.handleMouseOut(a):null!==o?this.handleStickyCapturedSeries(t,o,a,i):(this.tooltipUtil.isXoverlap(i)||s.globals.isBarHorizontal)&&(e=s.globals.series.findIndex(function(t,e){return!s.globals.collapsedSeriesIndices.includes(e)}),this.create(t,this,e,i,a.ttItems))}},{key:"handleStickyCapturedSeries",value:function(t,e,i,a){var s=this.w;this.tConfig.shared||null!==s.globals.series[e][a]?void 0!==s.globals.series[e][a]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,a,i.ttItems):this.create(t,this,e,a,i.ttItems,!1):this.tooltipUtil.isXoverlap(a)&&(e=s.globals.series.findIndex(function(t,e){return!s.globals.collapsedSeriesIndices.includes(e)}),this.create(t,this,e,a,i.ttItems)):this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new E(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),a=0;a<i.length;a++)e.pathMouseLeave(i[a])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})}},{key:"markerClick",value:function(t,e,i){var a=this.w;"function"==typeof a.config.chart.events.markerClick&&a.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:a}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:a}])}},{key:"create",value:function(t,e,i,a,s){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,n=this.w,t=("mouseup"===t.type&&this.markerClick(t,i,a),null===o&&(o=this.tConfig.shared),this.tooltipUtil.hasMarkers(i)),r=this.tooltipUtil.getElBars();if(n.config.legend.tooltipHoverFormatter){var l=n.config.legend.tooltipHoverFormatter,h=Array.from(this.legendLabels);h.forEach(function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)});for(var c=0;c<h.length;c++){var d=h[c],p=parseInt(d.getAttribute("i"),10),f=decodeURIComponent(d.getAttribute("data:default-text")),g=l(f,{seriesIndex:o?p:i,dataPointIndex:a,w:n});if(o)d.innerHTML=n.globals.collapsedSeriesIndices.indexOf(p)<0?g:f;else if(d.innerHTML=p===i?g:f,i===p)break}}s=z(z({ttItems:s,i:i,j:a},void 0!==(null==(s=n.globals.seriesRange)||null==(s=s[i])||null==(s=s[a])||null==(s=s.y[0])?void 0:s.y1)&&{y1:null==(s=n.globals.seriesRange)||null==(s=s[i])||null==(s=s[a])||null==(s=s.y[0])?void 0:s.y1}),void 0!==(null==(s=n.globals.seriesRange)||null==(s=s[i])||null==(s=s[a])||null==(s=s.y[0])?void 0:s.y2)&&{y2:null==(s=n.globals.seriesRange)||null==(s=s[i])||null==(s=s[a])||null==(s=s.y[0])?void 0:s.y2});if(o){if(e.tooltipLabels.drawSeriesTexts(z(z({},s),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),t)0<n.globals.markers.largestSize?e.marker.enlargePoints(a):e.tooltipPosition.moveDynamicPointsOnHover(a);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(r),0<this.barSeriesHeight)){var u=new E(this.ctx),x=n.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(a,i);for(var b=0;b<x.length;b++)u.pathMouseEnter(x[b])}}else e.tooltipLabels.drawSeriesTexts(z({shared:!1},s)),this.tooltipUtil.hasBars()&&e.tooltipPosition.moveStickyTooltipOverBars(a,i),t&&e.tooltipPosition.moveMarkers(i,a)}}]),Oe),ee=(o(Ce,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,a=t.y1,s=t.y2,o=t.i,n=t.j,r=t.realIndex,l=t.groupIndex,h=t.series,c=t.barHeight,d=t.barWidth,p=t.barXPosition,f=t.barYPosition,g=t.visibleSeries,t=t.renderedPath,u=this.w,x=new E(this.barCtx.ctx),b=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[r]:this.barCtx.strokeWidth,y=e+parseFloat(d*g),m=i+parseFloat(c*g);u.globals.isXNumeric&&!u.globals.isBarHorizontal&&(y=e+parseFloat(d*(g+1)),m=i+parseFloat(c*(g+1))-b);var g=null,v=e,w=i,k=u.config.dataLabels,A=this.barCtx.barOptions.dataLabels,S=this.barCtx.barOptions.dataLabels.total,f=(void 0!==f&&this.barCtx.isRangeBar&&(w=m=f),void 0!==p&&this.barCtx.isVerticalGroupedRangeBar&&(v=y=p),k.offsetX),p=k.offsetY,C={width:0,height:0},x=(u.config.dataLabels.enabled&&(O=this.barCtx.series[o][n],C=x.getTextRects(u.globals.yLabelFormatters[0](O),parseFloat(k.style.fontSize))),{x:e,y:i,i:o,j:n,realIndex:r,groupIndex:l||-1,renderedPath:t,bcx:y,bcy:m,barHeight:c,barWidth:d,textRects:C,strokeWidth:b,dataLabelsX:v,dataLabelsY:w,dataLabelsConfig:k,barDataLabelsConfig:A,barTotalDataLabelsConfig:S,offX:f,offY:p}),O=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(x):this.calculateColumnsDataLabelsPosition(x);return t.attr({cy:O.bcy,cx:O.bcx,j:n,val:h[o][n],barHeight:c,barWidth:d}),{dataLabels:this.drawCalculatedDataLabels({x:O.dataLabelsX,y:O.dataLabelsY,val:this.barCtx.isRangeBar?[a,s]:h[o][n],i:r,j:n,barWidth:d,barHeight:c,textRects:C,dataLabelsConfig:k}),totalDataLabels:g=u.config.chart.stacked&&S.enabled?this.drawTotalDataLabels({x:O.totalDataLabelsX,y:O.totalDataLabelsY,realIndex:r,textAnchor:O.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:r,j:n}),dataLabelsConfig:k,barTotalDataLabelsConfig:S}):g}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,t=t.j,i=this.w,a=this.barCtx.stackedSeriesTotals[t];return a=this.totalFormatter?this.totalFormatter(a,z(z({},i),{},{seriesIndex:e,dataPointIndex:t,w:i})):a}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i,a=this.w,s=t.i,o=t.j,n=t.realIndex,r=t.groupIndex,l=t.y,h=t.bcx,c=t.barWidth,d=t.barHeight,p=t.textRects,f=t.dataLabelsX,g=t.dataLabelsY,u=t.dataLabelsConfig,x=t.barDataLabelsConfig,b=t.barTotalDataLabelsConfig,y=t.strokeWidth,m=t.offX,v=t.offY,d=Math.abs(d),w="vertical"===a.config.plotOptions.bar.dataLabels.orientation,h=h-y/2+(-1!==r?r*c:0),t=a.globals.gridWidth/a.globals.dataPoints,k=(this.barCtx.isVerticalGroupedRangeBar?f+=c/2:f=a.globals.isXNumeric?h-c/2+m:h-t+c/2+m,w&&(f=f+p.height/2-y/2-2),this.barCtx.series[s][o]<0),A=l;switch(this.barCtx.isReversed&&(A=l-d+(k?2*d:0),l-=d),x.position){case"center":g=w?k?A+d/2+v:A+d/2-v:k?A-d/2+p.height/2+v:A+d/2+p.height/2-v;break;case"bottom":g=w?k?A+d+v:A+d-v:k?A-d+p.height+y+v:A+d-p.height/2+y-v;break;case"top":g=w?k?A+v:A-v:k?A-p.height/2-v:A+p.height+v}return this.barCtx.lastActiveBarSerieIndex===n&&b.enabled&&(r=new E(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:o}),u.fontSize),e=k?A-r.height/2-v-b.offsetY+18:A+r.height+v+b.offsetY-18,i=f+b.offsetX),a.config.chart.stacked||(g<0?g=0+y:g+p.height/3>a.globals.gridHeight&&(g=a.globals.gridHeight-y)),{bcx:h,bcy:l,dataLabelsX:f,dataLabelsY:g,totalDataLabelsX:i,totalDataLabelsY:e,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e,i,a=this.w,s=t.x,o=t.i,n=t.j,r=t.realIndex,l=t.groupIndex,h=t.bcy,c=t.barHeight,d=t.barWidth,p=t.textRects,f=t.dataLabelsX,g=t.strokeWidth,u=t.dataLabelsConfig,x=t.barDataLabelsConfig,b=t.barTotalDataLabelsConfig,y=t.offX,t=t.offY,m=a.globals.gridHeight/a.globals.dataPoints,d=Math.abs(d),l=(h+=-1!==l?l*c:0)-(this.barCtx.isRangeBar?0:m)+c/2+p.height/2+t-3,m="start",v=this.barCtx.series[o][n]<0,w=s;switch(this.barCtx.isReversed&&(w=s+d-(v?2*d:0),s=a.globals.gridWidth-d),x.position){case"center":f=v?w+d/2-y:Math.max(p.width/2,w-d/2)+y;break;case"bottom":f=v?w+d-g-Math.round(p.width/2)-y:w-d+g+Math.round(p.width/2)+y;break;case"top":f=v?w-g+Math.round(p.width/2)-y:w-g-Math.round(p.width/2)+y}return this.barCtx.lastActiveBarSerieIndex===r&&b.enabled&&(c=new E(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:r,j:n}),u.fontSize),v?(e=w-g+Math.round(c.width/2)-y-b.offsetX-15,m="end"):e=w-g-Math.round(c.width/2)+y+b.offsetX+15,i=l+b.offsetY),a.config.chart.stacked||(f<0?f=f+p.width+g:f+p.width/2>a.globals.gridWidth&&(f=a.globals.gridWidth-p.width-g)),{bcx:s,bcy:h,dataLabelsX:f,dataLabelsY:l,totalDataLabelsX:e,totalDataLabelsY:i,totalDataLabelsAnchor:m}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,a=t.val,s=t.i,o=t.j,n=t.textRects,r=t.barHeight,l=t.barWidth,t=t.dataLabelsConfig,h=this.w,c="rotate(0)",d=("vertical"===h.config.plotOptions.bar.dataLabels.orientation&&(c="rotate(-90, ".concat(e,", ").concat(i,")")),new C(this.barCtx.ctx)),p=new E(this.barCtx.ctx),f=t.formatter,g=null,u=-1<h.globals.collapsedSeriesIndices.indexOf(s);return t.enabled&&!u&&(g=p.group({class:"apexcharts-data-labels",transform:c}),u="",void 0!==a&&(u=f(a,z(z({},h),{},{seriesIndex:s,dataPointIndex:o,w:h}))),!a&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(u=""),c=h.globals.series[s][o]<0,f=h.config.plotOptions.bar.dataLabels.position,"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&("top"===f&&(t.textAnchor=c?"end":"start"),"center"===f&&(t.textAnchor="middle"),"bottom"===f)&&(t.textAnchor=c?"end":"start"),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<p.getTextRects(u,parseFloat(t.style.fontSize)).width&&(u=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?n.width/1.6>Math.abs(l)&&(u=""):n.height/1.6>Math.abs(r)&&(u="")),f=z({},t),this.barCtx.isHorizontal&&a<0&&("start"===t.textAnchor?f.textAnchor="end":"end"===t.textAnchor&&(f.textAnchor="start")),d.plotDataLabelsText({x:e,y:i,text:u,i:s,j:o,parent:g,dataLabelsConfig:f,alwaysDrawDataLabel:!0,offsetCorrection:!0})),g}},{key:"drawTotalDataLabels",value:function(t){var e,i=t.x,a=t.y,s=t.val,o=t.realIndex,n=t.textAnchor,t=t.barTotalDataLabelsConfig,r=new E(this.barCtx.ctx);return e=t.enabled&&void 0!==i&&void 0!==a&&this.barCtx.lastActiveBarSerieIndex===o?r.drawText({x:i,y:a,foreColor:t.style.color,text:s,textAnchor:n,fontFamily:t.style.fontFamily,fontSize:t.style.fontSize,fontWeight:t.style.fontWeight}):e}}]),Ce),ie=(o(Se,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(0<t[i].length&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var a=0;a<t[i].length;a++)e.globals.seriesX[i][a]>e.globals.minX&&e.globals.seriesX[i][a]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,a,s,o,n,r,l=this.w,h=l.globals.dataPoints,c=(this.barCtx.isRangeBar&&(h=l.globals.labels.length),this.barCtx.seriesLen);return l.config.plotOptions.bar.rangeBarGroupRows&&(c=1),this.barCtx.isHorizontal?(a=(i=l.globals.gridHeight/h)/c,a=(a=l.globals.isXNumeric?(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen:a)*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),o=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(o=l.globals.gridWidth/2),e=(i-a*this.barCtx.seriesLen)/2):(n=l.globals.gridWidth/this.barCtx.visibleItems,r=(n=l.config.xaxis.convertedCatToNumeric?l.globals.gridWidth/l.globals.dataPoints:n)/c*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric&&(h=this.barCtx.xRatio,l.config.xaxis.convertedCatToNumeric&&(h=this.barCtx.initialXRatio),(r=(n=l.globals.minXDiff&&.5!==l.globals.minXDiff&&0<l.globals.minXDiff/h?l.globals.minXDiff/h:n)/c*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1)&&(r=1),-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(r=parseInt(this.barCtx.barOptions.columnWidth,10)),s=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(n-r*this.barCtx.seriesLen)/2),{x:t,y:e,yDivision:i,xDivision:n,barHeight:a,barWidth:r,zeroH:s,zeroW:o}}},{key:"initializeStackedPrevVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}):(e.prevY=[],e.prevX=[],e.prevYF=[],e.prevXF=[],e.prevYVal=[],e.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(e){var t=e.w;t.globals.hasSeriesGroups?t.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}):(e.xArrj=[],e.xArrjF=[],e.xArrjVal=[],e.yArrj=[],e.yArrjF=[],e.yArrjVal=[])}},{key:"getPathFillColor",value:function(e,i,a,t){var s=this.w,o=new S(this.barCtx.ctx),n=null,r=this.barCtx.barOptions.distributed?a:i;return 0<this.barCtx.barOptions.colors.ranges.length&&this.barCtx.barOptions.colors.ranges.map(function(t){e[i][a]>=t.from&&e[i][a]<=t.to&&(n=t.color)}),s.config.series[i].data[a]&&s.config.series[i].data[a].fillColor&&(n=s.config.series[i].data[a].fillColor),o.fillPath({seriesNumber:this.barCtx.barOptions.distributed?r:t,dataPointIndex:a,color:n,value:e[i][a],fillConfig:null==(o=s.config.series[i].data[a])?void 0:o.fill,fillType:null!=(r=s.config.series[i].data[a])&&null!=(t=r.fill)&&t.type?null==(o=s.config.series[i].data[a])?void 0:o.fill.type:s.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var a=0,s=this.w;return this.barCtx.series[t][e]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,a=!s.config.stroke.show||this.barCtx.isNullValue?a:Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth}},{key:"shouldApplyRadius",value:function(t){var e=this.w,i=!1;return i=0<e.config.plotOptions.bar.borderRadius&&(!e.config.chart.stacked||"last"!==e.config.plotOptions.bar.borderRadiusWhenStacked||this.barCtx.lastActiveBarSerieIndex===t)?!0:i}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,a=t.x1,s=t.x2,o=t.y1,n=t.y2,t=t.elSeries,r=this.w,l=new E(this.barCtx.ctx),h=new O(this.barCtx.ctx).getActiveConfigSeriesIndex();0<this.barCtx.barOptions.colors.backgroundBarColors.length&&h===i&&(e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length),h=this.barCtx.barOptions.colors.backgroundBarColors[e],i=l.drawRect(void 0!==a?a:0,void 0!==o?o:0,void 0!==s?s:r.globals.gridWidth,void 0!==n?n:r.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,h,this.barCtx.barOptions.colors.backgroundBarOpacity),t.add(i),i.node.classList.add("apexcharts-backgroundBar"))}},{key:"getColumnPaths",value:function(t){var e=t.barWidth,i=t.barXPosition,a=t.y1,s=t.y2,o=t.strokeWidth,n=t.seriesGroup,r=t.realIndex,l=t.i,h=t.j,t=t.w,c=new E(this.barCtx.ctx),o=(o=Array.isArray(o)?o[r]:o)||0,d=e,p=i,f=(null!=(f=t.config.series[r].data[h])&&f.columnWidthOffset&&(p=i-t.config.series[r].data[h].columnWidthOffset/2,d=e+t.config.series[r].data[h].columnWidthOffset),p),i=p+d,e=(s+=.001,c.move(f,a+=.001)),p=c.move(f,a),d=c.line(i-o,a);return 0<t.globals.previousPaths.length&&(p=this.barCtx.getPreviousPath(r,h,!1)),e=e+c.line(f,s)+c.line(i-o,s)+c.line(i-o,a)+("around"===t.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),p=p+c.line(f,a)+d+d+d+d+d+c.line(f,a)+("around"===t.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(r)&&(e=c.roundPathCorners(e,t.config.plotOptions.bar.borderRadius)),t.config.chart.stacked&&(i=this.barCtx,(i=t.globals.hasSeriesGroups&&n?this.barCtx[n]:i).yArrj.push(s),i.yArrjF.push(Math.abs(a-s)),i.yArrjVal.push(this.barCtx.series[l][h])),{pathTo:e,pathFrom:p}}},{key:"getBarpaths",value:function(t){var e=t.barYPosition,i=t.barHeight,a=t.x1,s=t.x2,o=t.strokeWidth,n=t.seriesGroup,r=t.realIndex,l=t.i,h=t.j,t=t.w,c=new E(this.barCtx.ctx),o=(o=Array.isArray(o)?o[r]:o)||0,d=e,p=i,f=(null!=(f=t.config.series[r].data[h])&&f.barHeightOffset&&(d=e-t.config.series[r].data[h].barHeightOffset/2,p=i+t.config.series[r].data[h].barHeightOffset),d),e=d+p,i=(s+=.001,c.move(a+=.001,f)),d=c.move(a,f),p=(0<t.globals.previousPaths.length&&(d=this.barCtx.getPreviousPath(r,h,!1)),c.line(a,e-o)),i=i+c.line(s,f)+c.line(s,e-o)+p+("around"===t.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),d=d+c.line(a,f)+p+p+p+p+p+c.line(a,f)+("around"===t.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return this.shouldApplyRadius(r)&&(i=c.roundPathCorners(i,t.config.plotOptions.bar.borderRadius)),t.config.chart.stacked&&(e=this.barCtx,(e=t.globals.hasSeriesGroups&&n?this.barCtx[n]:e).xArrj.push(s),e.xArrjF.push(Math.abs(a-s)),e.xArrjVal.push(this.barCtx.series[l][h])),{pathTo:i,pathFrom:d}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,a=0;a<e.length;a++){for(var s=0,o=0;o<e[i.globals.maxValsInArrayIndex].length;o++)s+=e[a][o];0===s&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?null:e;return i=null!=t?e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0):i}},{key:"getYForValue",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?null:e;return i=null!=t?e-t/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0):i}},{key:"getGoalValues",value:function(a,s,o,t,e){function i(t,e){var i;c.push((I(i={},a,"x"===a?l.getXForValue(t,s,!1):l.getYForValue(t,o,!1)),I(i,"attrs",e),i))}var n,r,l=this,h=this.w,c=[];return h.globals.seriesGoals[t]&&h.globals.seriesGoals[t][e]&&Array.isArray(h.globals.seriesGoals[t][e])&&h.globals.seriesGoals[t][e].forEach(function(t){i(t.value,t)}),this.barCtx.barOptions.isDumbbell&&h.globals.seriesRange.length&&(n=this.barCtx.barOptions.dumbbellColors||h.globals.colors,r={strokeHeight:"x"===a?0:h.globals.markers.size[t],strokeWidth:"x"===a?h.globals.markers.size[t]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(n[t])?n[t][0]:n[t]},i(h.globals.seriesRangeStart[t][e],r),i(h.globals.seriesRangeEnd[t][e],z(z({},r),{},{strokeColor:Array.isArray(n[t])?n[t][1]:n[t]}))),c}},{key:"drawGoalLine",value:function(t){var a=t.barXPosition,s=t.barYPosition,e=t.goalX,i=t.goalY,o=t.barWidth,n=t.barHeight,r=new E(this.barCtx.ctx),l=r.group({className:"apexcharts-bar-goals-groups"}),h=(l.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:l.node}),l.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")")),null);return this.barCtx.isHorizontal?Array.isArray(e)&&e.forEach(function(t){var e=void 0!==t.attrs.strokeHeight?t.attrs.strokeHeight:n/2,i=s+e+n/2;h=r.drawLine(t.x,i-2*e,t.x,i,t.attrs.strokeColor||void 0,t.attrs.strokeDashArray,t.attrs.strokeWidth||2,t.attrs.strokeLineCap),l.add(h)}):Array.isArray(i)&&i.forEach(function(t){var e=void 0!==t.attrs.strokeWidth?t.attrs.strokeWidth:o/2,i=a+e+o/2;h=r.drawLine(i-2*e,t.y,i,t.y,t.attrs.strokeColor||void 0,t.attrs.strokeDashArray,t.attrs.strokeHeight||2,t.attrs.strokeLineCap),l.add(h)}),l}},{key:"drawBarShadow",value:function(t){var e=t.prevPaths,i=t.currPaths,t=t.color,a=this.w,s=e.x,o=e.x1,e=e.barYPosition,n=i.x,r=i.x1,l=i.barYPosition,e=e+i.barHeight,i=new E(this.barCtx.ctx),h=new M,s=i.move(o,e)+i.line(s,e)+i.line(n,l)+i.line(r,l)+i.line(o,e)+("around"===a.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return i.drawPath({d:s,fill:h.shadeColor(.5,M.rgb2hex(t)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}}]),Se),T=(o(Ae,[{key:"draw",value:function(t,e){var i=this.w,a=new E(this.ctx),s=new _(this.ctx,i),o=(t=s.getLogSeries(t),this.series=t,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),a.group({class:"apexcharts-bar-series apexcharts-plot-series"}));i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var n=0,r=0;n<t.length;n++,r++){var l=void 0,h=void 0,c=[],d=[],p=i.globals.comboCharts?e[n]:n,f=a.group({class:"apexcharts-series",rel:n+1,seriesName:M.escapeString(i.globals.seriesNames[p]),"data:realIndex":p}),g=(this.ctx.series.addCollapsedClassToSeries(f,p),0<t[n].length&&(this.visibleI=this.visibleI+1),0),u=0,x=(1<this.yRatio.length&&(this.yaxisIndex=p),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.barHelpers.initialPositions()),h=x.y,g=x.barHeight,b=x.yDivision,y=x.zeroW,l=x.x,u=x.barWidth,m=x.xDivision,v=x.zeroH,w=(this.horizontal||d.push(l+u/2),a.group({class:"apexcharts-datalabels","data:realIndex":p})),k=(i.globals.delayedElements.push({el:w.node}),w.node.classList.add("apexcharts-element-hidden"),a.group({class:"apexcharts-bar-goals-markers"})),A=a.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:A.node}),A.node.classList.add("apexcharts-element-hidden");for(var S=0;S<i.globals.dataPoints;S++){var C=this.barHelpers.getStrokeWidth(n,S,p),O=null,P={indexes:{i:n,j:S,realIndex:p,bc:r},x:l,y:h,strokeWidth:C,elSeries:f},P=(this.isHorizontal?(O=this.drawBarPaths(z(z({},P),{},{barHeight:g,zeroW:y,yDivision:b})),u=this.series[n][S]/this.invertedYRatio):(O=this.drawColumnPaths(z(z({},P),{},{xDivision:m,barWidth:u,zeroH:v})),g=this.series[n][S]/this.yRatio[this.yaxisIndex]),this.barHelpers.getPathFillColor(t,n,S,p)),L=(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&0<S&&(L=this.barHelpers.drawBarShadow({color:"string"==typeof P&&-1===(null==P?void 0:P.indexOf("url"))?P:M.hexToRgba(i.globals.colors[n]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:O}))&&A.add(L),this.pathArr.push(O),this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:g,barWidth:u}));L&&k.add(L),h=O.y,l=O.x,0<S&&d.push(l+u/2),c.push(h),this.renderSeries({realIndex:p,pathFill:P,j:S,i:n,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:C,elSeries:f,x:l,y:h,series:t,barHeight:O.barHeight||g,barWidth:O.barWidth||u,elDataLabelsWrap:w,elGoalsMarkers:k,elBarShadows:A,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[p]=d,i.globals.seriesYvalues[p]=c,o.add(f)}return o}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,a=t.lineFill,s=t.j,o=t.i,n=t.groupIndex,r=t.pathFrom,l=t.pathTo,h=t.strokeWidth,c=t.elSeries,d=t.x,p=t.y,f=t.y1,g=t.y2,u=t.series,x=t.barHeight,b=t.barWidth,y=t.barXPosition,m=t.barYPosition,v=t.elDataLabelsWrap,w=t.elGoalsMarkers,k=t.elBarShadows,A=t.visibleSeries,t=t.type,S=this.w,C=new E(this.ctx),a=a||(this.barOptions.distributed?S.globals.stroke.colors[s]:S.globals.stroke.colors[e]),O=(S.config.series[o].data[s]&&S.config.series[o].data[s].strokeColor&&(a=S.config.series[o].data[s].strokeColor),this.isNullValue&&(i="none"),s/S.config.chart.animations.animateGradually.delay*(S.config.chart.animations.speed/S.globals.dataPoints)/2.4),C=C.renderPaths({i:o,j:s,realIndex:e,pathFrom:r,pathTo:l,stroke:a,strokeWidth:h,strokeLineCap:S.config.stroke.lineCap,fill:i,animationDelay:O,initialSpeed:S.config.chart.animations.speed,dataChangeSpeed:S.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t,"-area")}),r=(C.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")")),S.config.forecastDataPoints),l=(0<r.count&&s>=S.globals.dataPoints-r.count&&(C.node.setAttribute("stroke-dasharray",r.dashArray),C.node.setAttribute("stroke-width",r.strokeWidth),C.node.setAttribute("fill-opacity",r.fillOpacity)),void 0!==f&&void 0!==g&&(C.attr("data-range-y1",f),C.attr("data-range-y2",g)),new P(this.ctx).setSelectionFilter(C,e,s),c.add(C),new ee(this).handleBarDataLabels({x:d,y:p,y1:f,y2:g,i:o,j:s,series:u,realIndex:e,groupIndex:n,barHeight:x,barWidth:b,barXPosition:y,barYPosition:m,renderedPath:C,visibleSeries:A}));return null!==l.dataLabels&&v.add(l.dataLabels),l.totalDataLabels&&v.add(l.totalDataLabels),c.add(v),w&&c.add(w),k&&c.add(k),c}},{key:"drawBarPaths",value:function(t){var e,i,a,s,o=t.indexes,n=t.barHeight,r=t.strokeWidth,l=t.zeroW,h=(t.x,t.y),c=t.yDivision,t=t.elSeries,d=this.w,p=o.i,f=o.j,r=(d.globals.isXNumeric?e=(h=(d.globals.seriesX[p][f]-d.globals.minX)/this.invertedXRatio-n)+n*this.visibleI:d.config.plotOptions.bar.hideZeroBarsWhenGrouped?(s=a=0,d.globals.seriesPercent.forEach(function(t,e){t[f]&&a++,e<p&&0===t[f]&&s++}),e=h+(n=0<a?this.seriesLen*n/a:n)*this.visibleI,e-=n*s):e=h+n*this.visibleI,this.isFunnel&&(l-=(this.barHelpers.getXForValue(this.series[p][f],l)-l)/2),i=this.barHelpers.getXForValue(this.series[p][f],l),this.barHelpers.getBarpaths({barYPosition:e,barHeight:n,x1:l,x2:i,strokeWidth:r,series:this.series,realIndex:o.realIndex,i:p,j:f,w:d}));return d.globals.isXNumeric||(h+=c),this.barHelpers.barBackground({j:f,i:p,y1:e-n*this.visibleI,y2:n*this.seriesLen,elSeries:t}),{pathTo:r.pathTo,pathFrom:r.pathFrom,x1:l,x:i,y:h,goalX:this.barHelpers.getGoalValues("x",l,null,p,f),barYPosition:e,barHeight:n}}},{key:"drawColumnPaths",value:function(t){var e,i,a,s=t.indexes,o=t.x,n=(t.y,t.xDivision),r=t.barWidth,l=t.zeroH,h=t.strokeWidth,t=t.elSeries,c=this.w,d=s.realIndex,p=s.i,f=s.j,g=s.bc,s=(c.globals.isXNumeric?(c.globals.seriesX[d=d].length||(d=c.globals.maxValsInArrayIndex),e=(o=c.globals.seriesX[d][f]?(c.globals.seriesX[d][f]-c.globals.minX)/this.xRatio-r*this.seriesLen/2:o)+r*this.visibleI):c.config.plotOptions.bar.hideZeroBarsWhenGrouped?(a=i=0,c.globals.seriesPercent.forEach(function(t,e){t[f]&&i++,e<p&&0===t[f]&&a++}),e=o+(r=0<i?this.seriesLen*r/i:r)*this.visibleI,e-=r*a):e=o+r*this.visibleI,d=this.barHelpers.getYForValue(this.series[p][f],l),this.barHelpers.getColumnPaths({barXPosition:e,barWidth:r,y1:l,y2:d,strokeWidth:h,series:this.series,realIndex:s.realIndex,i:p,j:f,w:c}));return c.globals.isXNumeric||(o+=n),this.barHelpers.barBackground({bc:g,j:f,i:p,x1:e-h/2-r*this.visibleI,x2:r*this.seriesLen+h/2,elSeries:t}),{pathTo:s.pathTo,pathFrom:s.pathFrom,x:o,y:d,goalY:this.barHelpers.getGoalValues("y",null,l,p,f),barXPosition:e,barWidth:r}}},{key:"getPreviousPath",value:function(t,e){for(var i,a=this.w,s=0;s<a.globals.previousPaths.length;s++){var o=a.globals.previousPaths[s];o.paths&&0<o.paths.length&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==a.globals.previousPaths[s].paths[e]&&(i=a.globals.previousPaths[s].paths[e].d)}return i}}]),Ae),ae=(n(ke,T),mt=r(ke),o(ke,[{key:"draw",value:function(v,w){var k=this,A=this.w,t=(this.graphics=new E(this.ctx),this.bar=new T(this.ctx,this.xyRatios),new _(this.ctx,A));v=t.getLogSeries(v),this.yRatio=t.getLogYRatios(this.yRatio),this.barHelpers.initVariables(v),"100%"===A.config.chart.stackType&&(v=A.globals.seriesPercent.slice()),this.series=v,this.barHelpers.initializeStackedPrevVars(this);for(var S=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),C=0,O=0,e=0,i=0;e<v.length;e++,i++)!function(i,t){var e,a,s,o,n=-1,r=(k.groupCtx=k,A.globals.seriesGroups.forEach(function(t,e){-1<t.indexOf(A.config.series[i].name)&&(n=e)}),-1!==n&&(k.groupCtx=k[A.globals.seriesGroups[n]]),[]),l=[],h=A.globals.comboCharts?w[i]:i,c=(1<k.yRatio.length&&(k.yaxisIndex=h),k.isReversed=A.config.yaxis[k.yaxisIndex]&&A.config.yaxis[k.yaxisIndex].reversed,k.graphics.group({class:"apexcharts-series",seriesName:M.escapeString(A.globals.seriesNames[h]),rel:i+1,"data:realIndex":h})),d=(k.ctx.series.addCollapsedClassToSeries(c,h),k.graphics.group({class:"apexcharts-datalabels","data:realIndex":h})),p=k.graphics.group({class:"apexcharts-bar-goals-markers"}),f=0,g=0,u=k.initialPositions(C,O,void 0,void 0,void 0,void 0);O=u.y,f=u.barHeight,a=u.yDivision,o=u.zeroW,C=u.x,g=u.barWidth,e=u.xDivision,s=u.zeroH,k.barHelpers.initializeStackedXYVars(k),1===k.groupCtx.prevY.length&&k.groupCtx.prevY[0].every(function(t){return isNaN(t)})&&(k.groupCtx.prevY[0]=k.groupCtx.prevY[0].map(function(t){return s}),k.groupCtx.prevYF[0]=k.groupCtx.prevYF[0].map(function(t){return 0}));for(var x=0;x<A.globals.dataPoints;x++)var b=k.barHelpers.getStrokeWidth(i,x,h),y={indexes:{i:i,j:x,realIndex:h,bc:t},strokeWidth:b,x:C,y:O,elSeries:c,groupIndex:n,seriesGroup:A.globals.seriesGroups[n]},m=null,y=(k.isHorizontal?(m=k.drawStackedBarPaths(z(z({},y),{},{zeroW:o,barHeight:f,yDivision:a})),g=k.series[i][x]/k.invertedYRatio):(m=k.drawStackedColumnPaths(z(z({},y),{},{xDivision:e,barWidth:g,zeroH:s})),f=k.series[i][x]/k.yRatio[k.yaxisIndex]),k.barHelpers.drawGoalLine({barXPosition:m.barXPosition,barYPosition:m.barYPosition,goalX:m.goalX,goalY:m.goalY,barHeight:f,barWidth:g})),y=(y&&p.add(y),O=m.y,C=m.x,r.push(C),l.push(O),k.barHelpers.getPathFillColor(v,i,x,h)),c=k.renderSeries({realIndex:h,pathFill:y,j:x,i:i,groupIndex:n,pathFrom:m.pathFrom,pathTo:m.pathTo,strokeWidth:b,elSeries:c,x:C,y:O,series:v,barHeight:f,barWidth:g,elDataLabelsWrap:d,elGoalsMarkers:p,type:"bar",visibleSeries:0});A.globals.seriesXvalues[h]=r,A.globals.seriesYvalues[h]=l,k.groupCtx.prevY.push(k.groupCtx.yArrj),k.groupCtx.prevYF.push(k.groupCtx.yArrjF),k.groupCtx.prevYVal.push(k.groupCtx.yArrjVal),k.groupCtx.prevX.push(k.groupCtx.xArrj),k.groupCtx.prevXF.push(k.groupCtx.xArrjF),k.groupCtx.prevXVal.push(k.groupCtx.xArrjVal),S.add(c)}(e,i);return S}},{key:"initialPositions",value:function(t,e,i,a,s,o){var n,r,l=this.w;return this.isHorizontal?(n=(n=a=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,-1===String(l.config.plotOptions.bar.barHeight).indexOf("%")&&(n=parseInt(l.config.plotOptions.bar.barHeight,10)),o=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(a-n)/2):(r=i=l.globals.gridWidth/l.globals.dataPoints,r=l.globals.isXNumeric&&1<l.globals.dataPoints?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:r*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,-1===String(l.config.plotOptions.bar.columnWidth).indexOf("%")&&(r=parseInt(l.config.plotOptions.bar.columnWidth,10)),s=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-r)/2),{x:t,y:e,yDivision:a,xDivision:i,barHeight:null!=(t=l.globals.seriesGroups)&&t.length?n/l.globals.seriesGroups.length:n,barWidth:null!=(e=l.globals.seriesGroups)&&e.length?r/l.globals.seriesGroups.length:r,zeroH:s,zeroW:o}}},{key:"drawStackedBarPaths",value:function(t){for(var e=t.indexes,i=t.barHeight,a=t.strokeWidth,s=t.zeroW,o=(t.x,t.y),n=t.groupIndex,r=t.seriesGroup,l=t.yDivision,t=t.elSeries,h=this.w,n=o+(-1!==n?n*i:0),c=e.i,d=e.j,p=0,f=0;f<this.groupCtx.prevXF.length;f++)p+=this.groupCtx.prevXF[f][d];var g=c,g=0<(g=r?r.indexOf(h.config.series[c].name):g)?(u=s,this.groupCtx.prevXVal[g-1][d]<0?u=0<=this.series[c][d]?this.groupCtx.prevX[g-1][d]+p-2*(this.isReversed?p:0):this.groupCtx.prevX[g-1][d]:0<=this.groupCtx.prevXVal[g-1][d]&&(u=0<=this.series[c][d]?this.groupCtx.prevX[g-1][d]:this.groupCtx.prevX[g-1][d]-p+2*(this.isReversed?p:0)),u):s,u=null===this.series[c][d]?g:g+this.series[c][d]/this.invertedYRatio-2*(this.isReversed?this.series[c][d]/this.invertedYRatio:0),g=this.barHelpers.getBarpaths({barYPosition:n,barHeight:i,x1:g,x2:u,strokeWidth:a,series:this.series,realIndex:e.realIndex,seriesGroup:r,i:c,j:d,w:h});return this.barHelpers.barBackground({j:d,i:c,y1:n,y2:i,elSeries:t}),o+=l,{pathTo:g.pathTo,pathFrom:g.pathFrom,goalX:this.barHelpers.getGoalValues("x",s,null,c,d),barYPosition:n,x:u,y:o}}},{key:"drawStackedColumnPaths",value:function(t){for(var e=t.indexes,i=t.x,a=(t.y,t.xDivision),s=t.barWidth,o=t.zeroH,n=t.groupIndex,r=t.seriesGroup,t=t.elSeries,l=this.w,h=e.i,c=e.j,d=e.bc,p=(i=l.globals.isXNumeric&&(i=((p=(p=l.globals.seriesX[h][c])||0)-l.globals.minX)/this.xRatio-s/2,l.globals.seriesGroups.length)?(p-l.globals.minX)/this.xRatio-s/2*l.globals.seriesGroups.length:i)+(-1!==n?n*s:0),f=0,g=0;g<this.groupCtx.prevYF.length;g++)f+=isNaN(this.groupCtx.prevYF[g][c])?0:this.groupCtx.prevYF[g][c];var u=h;if(0<(u=r?r.indexOf(l.config.series[h].name):u)&&!l.globals.isXNumeric||0<u&&l.globals.isXNumeric&&l.globals.seriesX[h-1][c]===l.globals.seriesX[h][c]){var x,b,y,m=Math.min(this.yRatio.length+1,h+1);if(void 0!==this.groupCtx.prevY[u-1]&&this.groupCtx.prevY[u-1].length)for(var v=1;v<m;v++)if(!isNaN(null==(y=this.groupCtx.prevY[u-v])?void 0:y[c])){b=this.groupCtx.prevY[u-v][c];break}for(var w,k=1;k<m;k++){if((null==(w=this.groupCtx.prevYVal[u-k])?void 0:w[c])<0){x=0<=this.series[h][c]?b-f+2*(this.isReversed?f:0):b;break}if(0<=(null==(w=this.groupCtx.prevYVal[u-k])?void 0:w[c])){x=0<=this.series[h][c]?b:b+f-2*(this.isReversed?f:0);break}}void 0===x&&(x=l.globals.gridHeight),A=null!=(n=this.groupCtx.prevYF[0])&&n.every(function(t){return 0===t})&&this.groupCtx.prevYF.slice(1,u).every(function(t){return t.every(function(t){return isNaN(t)})})?o:x}else A=o;var n=this.series[h][c]?A-this.series[h][c]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[h][c]/this.yRatio[this.yaxisIndex]:0):A,A=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:s,y1:A,y2:n,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:r,realIndex:e.realIndex,i:h,j:c,w:l});return this.barHelpers.barBackground({bc:d,j:c,i:h,x1:p,x2:s,elSeries:t}),i+=a,{pathTo:A.pathTo,pathFrom:A.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,o,h,c),barXPosition:p,x:l.globals.isXNumeric?i-a:i,y:n}}}]),ke),se=(n(we,T),yt=r(we),o(we,[{key:"draw",value:function(y,t,s){var m=this,v=this.w,o=new E(this.ctx),t=v.globals.comboCharts?t:v.config.chart.type,w=new S(this.ctx),e=(this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=v.config.plotOptions.bar.horizontal,new _(this.ctx,v));y=e.getLogSeries(y),this.series=y,this.yRatio=e.getLogYRatios(this.yRatio),this.barHelpers.initVariables(y);for(var k=o.group({class:"apexcharts-".concat(t,"-series apexcharts-plot-series")}),i=0;i<y.length;i++)!function(n){m.isBoxPlot="boxPlot"===v.config.chart.type||"boxPlot"===v.config.series[n].type;var r=void 0,l=void 0,e=[],i=[],h=v.globals.comboCharts?s[n]:n,c=o.group({class:"apexcharts-series",seriesName:M.escapeString(v.globals.seriesNames[h]),rel:n+1,"data:realIndex":h}),t=(m.ctx.series.addCollapsedClassToSeries(c,h),0<y[n].length&&(m.visibleI=m.visibleI+1),1<m.yRatio.length&&(m.yaxisIndex=h),m.barHelpers.initialPositions()),l=t.y,d=t.barHeight,p=t.yDivision,f=t.zeroW,r=t.x,g=t.barWidth,u=t.xDivision,x=t.zeroH;i.push(r+g/2);for(var b=o.group({class:"apexcharts-datalabels","data:realIndex":h}),a=0;a<v.globals.dataPoints;a++)!function(a){var s=m.barHelpers.getStrokeWidth(n,a,h),o=null,t={indexes:{i:n,j:a,realIndex:h},x:r,y:l,strokeWidth:s,elSeries:c},o=m.isHorizontal?m.drawHorizontalBoxPaths(z(z({},t),{},{yDivision:p,barHeight:d,zeroW:f})):m.drawVerticalBoxPaths(z(z({},t),{},{xDivision:u,barWidth:g,zeroH:x}));l=o.y,r=o.x,0<a&&i.push(r+g/2),e.push(l),o.pathTo.forEach(function(t,e){var i=!m.isBoxPlot&&m.candlestickOptions.wick.useFillColor?o.color[e]:v.globals.stroke.colors[n],e=w.fillPath({seriesNumber:h,dataPointIndex:a,color:o.color[e],value:y[n][a]});m.renderSeries({realIndex:h,pathFill:e,lineFill:i,j:a,i:n,pathFrom:o.pathFrom,pathTo:t,strokeWidth:s,elSeries:c,x:r,y:l,series:y,barHeight:d,barWidth:g,elDataLabelsWrap:b,visibleSeries:m.visibleI,type:v.config.chart.type})})}(a);v.globals.seriesXvalues[h]=i,v.globals.seriesYvalues[h]=e,k.add(c)}(i);return k}},{key:"drawVerticalBoxPaths",value:function(t){var e=t.indexes,i=t.x,a=(t.y,t.xDivision),s=t.barWidth,o=t.zeroH,t=t.strokeWidth,n=this.w,r=new E(this.ctx),l=e.i,h=e.j,c=!0,d=n.config.plotOptions.candlestick.colors.upward,p=n.config.plotOptions.candlestick.colors.downward,f="",g=(this.isBoxPlot&&(f=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]),this.yRatio[this.yaxisIndex]),e=e.realIndex,u=this.getOHLCValue(e,h),x=o,b=o,y=(u.o>u.c&&(c=!1),Math.min(u.o,u.c)),m=Math.max(u.o,u.c),v=u.m,w=(i=n.globals.isXNumeric?(n.globals.seriesX[e][h]-n.globals.minX)/this.xRatio-s/2:i)+s*this.visibleI,l=(void 0===this.series[l][h]||null===this.series[l][h]?m=y=o:(y=o-y/g,m=o-m/g,x=o-u.h/g,b=o-u.l/g,v=o-u.m/g),r.move(w,o),r.move(w+s/2,y));return 0<n.globals.previousPaths.length&&(l=this.getPreviousPath(e,h,!0)),u=this.isBoxPlot?[r.move(w,y)+r.line(w+s/2,y)+r.line(w+s/2,x)+r.line(w+s/4,x)+r.line(w+s-s/4,x)+r.line(w+s/2,x)+r.line(w+s/2,y)+r.line(w+s,y)+r.line(w+s,v)+r.line(w,v)+r.line(w,y+t/2),r.move(w,v)+r.line(w+s,v)+r.line(w+s,m)+r.line(w+s/2,m)+r.line(w+s/2,b)+r.line(w+s-s/4,b)+r.line(w+s/4,b)+r.line(w+s/2,b)+r.line(w+s/2,m)+r.line(w,m)+r.line(w,v)+"z"]:[r.move(w,m)+r.line(w+s/2,m)+r.line(w+s/2,x)+r.line(w+s/2,m)+r.line(w+s,m)+r.line(w+s,y)+r.line(w+s/2,y)+r.line(w+s/2,b)+r.line(w+s/2,y)+r.line(w,y)+r.line(w,m-t/2)],l+=r.move(w,y),n.globals.isXNumeric||(i+=a),{pathTo:u,pathFrom:l,x:i,y:m,barXPosition:w,color:this.isBoxPlot?f:c?[d]:[p]}}},{key:"drawHorizontalBoxPaths",value:function(t){var e=t.indexes,i=(t.x,t.y),a=t.yDivision,s=t.barHeight,o=t.zeroW,t=t.strokeWidth,n=this.w,r=new E(this.ctx),l=e.i,h=e.j,c=this.boxOptions.colors.lower,d=(this.isBoxPlot&&(c=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]),this.invertedYRatio),e=e.realIndex,p=this.getOHLCValue(e,h),f=o,g=o,u=Math.min(p.o,p.c),x=Math.max(p.o,p.c),b=p.m,y=(i=n.globals.isXNumeric?(n.globals.seriesX[e][h]-n.globals.minX)/this.invertedXRatio-s/2:i)+s*this.visibleI,l=(void 0===this.series[l][h]||null===this.series[l][h]?x=u=o:(u=o+u/d,x=o+x/d,f=o+p.h/d,g=o+p.l/d,b=o+p.m/d),r.move(o,y),r.move(u,y+s/2));return 0<n.globals.previousPaths.length&&(l=this.getPreviousPath(e,h,!0)),p=[r.move(u,y)+r.line(u,y+s/2)+r.line(f,y+s/2)+r.line(f,y+s/2-s/4)+r.line(f,y+s/2+s/4)+r.line(f,y+s/2)+r.line(u,y+s/2)+r.line(u,y+s)+r.line(b,y+s)+r.line(b,y)+r.line(u+t/2,y),r.move(b,y)+r.line(b,y+s)+r.line(x,y+s)+r.line(x,y+s/2)+r.line(g,y+s/2)+r.line(g,y+s-s/4)+r.line(g,y+s/4)+r.line(g,y+s/2)+r.line(x,y+s/2)+r.line(x,y)+r.line(b,y)+"z"],l+=r.move(u,y),n.globals.isXNumeric||(i+=a),{pathTo:p,pathFrom:l,x:x,y:i,barYPosition:y,color:c}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:(this.isBoxPlot?i.globals.seriesCandleH:i.globals.seriesCandleO)[t][e],h:(this.isBoxPlot?i.globals.seriesCandleO:i.globals.seriesCandleH)[t][e],m:i.globals.seriesCandleM[t][e],l:(this.isBoxPlot?i.globals.seriesCandleC:i.globals.seriesCandleL)[t][e],c:(this.isBoxPlot?i.globals.seriesCandleL:i.globals.seriesCandleC)[t][e]}}}]),we),oe=(o(ve,[{key:"checkColorRange",value:function(){var t=this.w,i=!1,t=t.config.plotOptions[t.config.chart.type];return 0<t.colorScale.ranges.length&&t.colorScale.ranges.map(function(t,e){t.from<=0&&(i=!0)}),i}},{key:"getShadeColor",value:function(t,e,i,a){var s=this.w,o=1,n=s.config.plotOptions[t].shadeIntensity,e=this.determineColor(t,e,i),i=(s.globals.hasNegs||a?o=s.config.plotOptions[t].reverseNegativeShade?e.percent<0?e.percent/100*(1.25*n):(1-e.percent/100)*(1.25*n):e.percent<=0?1-(1+e.percent/100)*n:(1-e.percent/100)*n:(o=1-e.percent/100,"treemap"===t&&(o=(1-e.percent/100)*(1.25*n))),e.color),a=new M;return{color:i=s.config.plotOptions[t].enableShades?"dark"===this.w.config.theme.mode?M.hexToRgba(a.shadeColor(-1*o,e.color),s.config.fill.opacity):M.hexToRgba(a.shadeColor(o,e.color),s.config.fill.opacity):i,colorProps:e}}},{key:"determineColor",value:function(t,e,i){var a=this.w,s=a.globals.series[e][i],o=a.config.plotOptions[t],n=o.colorScale.inverse?i:e,r=(o.distributed&&"treemap"===a.config.chart.type&&(n=i),a.globals.colors[n]),l=null,h=Math.min.apply(Math,v(a.globals.series[e])),c=Math.max.apply(Math,v(a.globals.series[e])),i=(o.distributed||"heatmap"!==t||(h=a.globals.minY,c=a.globals.maxY),void 0!==o.colorScale.min&&(h=o.colorScale.min<a.globals.minY?o.colorScale.min:a.globals.minY,c=o.colorScale.max>a.globals.maxY?o.colorScale.max:a.globals.maxY),Math.abs(c)+Math.abs(h)),d=100*s/(0===i?i-1e-6:i);return 0<o.colorScale.ranges.length&&o.colorScale.ranges.map(function(t,e){s>=t.from&&s<=t.to&&(r=t.color,l=t.foreColor||null,h=t.from,c=t.to,t=Math.abs(c)+Math.abs(h),d=100*s/(0===t?t-1e-6:t))}),{color:r,foreColor:l,percent:d}}},{key:"calculateDataLabels",value:function(t){var e,i=t.text,a=t.x,s=t.y,o=t.i,n=t.j,r=t.colorProps,t=t.fontSize,l=this.w.config.dataLabels,h=new E(this.ctx),c=new C(this.ctx),d=null;return l.enabled&&(d=h.group({class:"apexcharts-data-labels"}),h=l.offsetX,e=l.offsetY,a=a+h,h=s+parseFloat(l.style.fontSize)/3+e,c.plotDataLabelsText({x:a,y:h,text:i,i:o,j:n,color:r.foreColor,parent:d,fontSize:t,dataLabelsConfig:l})),d}},{key:"addListeners",value:function(t){var e=new E(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),ve),ne=(o(me,[{key:"draw",value:function(t){var e=this.w,i=new E(this.ctx),a=i.group({class:"apexcharts-heatmap"}),s=(a.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")")),e.globals.gridWidth/e.globals.dataPoints),o=e.globals.gridHeight/e.globals.series.length,n=0,r=!1,l=(this.negRange=this.helpers.checkColorRange(),t.slice());e.config.yaxis[0].reversed&&(r=!0,l.reverse());for(var h=r?0:l.length-1;r?h<l.length:0<=h;r?h++:h--){var c,d=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:M.escapeString(e.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});this.ctx.series.addCollapsedClassToSeries(d,h),e.config.chart.dropShadow.enabled&&(c=e.config.chart.dropShadow,new P(this.ctx).dropShadow(d,c,h));for(var p=0,f=e.config.plotOptions.heatmap.shadeIntensity,g=0;g<l[h].length;g++){var u,x=this.helpers.getShadeColor(e.config.chart.type,h,g,this.negRange),b=x.color,x=x.colorProps,y=("image"===e.config.fill.type&&(b=new S(this.ctx).fillPath({seriesNumber:h,dataPointIndex:g,opacity:e.globals.hasNegs?x.percent<0?1-(1+x.percent/100):f+x.percent/100:x.percent/100,patternID:M.randomId(),width:e.config.fill.image.width||s,height:e.config.fill.image.height||o})),this.rectRadius),y=i.drawRect(p,n,s,o,y),y=(y.attr({cx:p,cy:n}),y.node.classList.add("apexcharts-heatmap-rect"),d.add(y),y.attr({fill:b,i:h,index:h,j:g,val:l[h][g],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?b:e.globals.stroke.colors[0],color:b}),this.helpers.addListeners(y),e.config.chart.animations.enabled&&!e.globals.dataChanged&&(u=1,e.globals.resized||(u=e.config.chart.animations.speed),this.animateHeatMap(y,p,n,s,o,u)),e.globals.dataChanged&&(u=1,this.dynamicAnim.enabled)&&e.globals.shouldAnimate&&(u=this.dynamicAnim.speed,m=(m=e.globals.previousPaths[h]&&e.globals.previousPaths[h][g]&&e.globals.previousPaths[h][g].color)||"rgba(255, 255, 255, 0)",this.animateHeatColor(y,M.isColorHex(m)?m:M.rgb2hex(m),M.isColorHex(b)?b:M.rgb2hex(b),u)),(0,e.config.dataLabels.formatter)(e.globals.series[h][g],{value:e.globals.series[h][g],seriesIndex:h,dataPointIndex:g,w:e})),m=this.helpers.calculateDataLabels({text:y,x:p+s/2,y:n+o/2,i:h,j:g,colorProps:x,series:l});null!==m&&d.add(m),p+=s}n+=o,a.add(d)}t=e.globals.yAxisScale[0].result.slice(),e.config.yaxis[0].reversed?t.unshift(""):t.push(""),e.globals.yAxisScale[0].result=t,t=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-t/2,a}},{key:"animateHeatMap",value:function(t,e,i,a,s,o){var n=new A(this.ctx);n.animateRect(t,{x:e+a/2,y:i+s/2,width:0,height:0},{x:e,y:i,width:a,height:s},o,function(){n.animationCompleted(t)})}},{key:"animateHeatColor",value:function(t,e,i,a){t.attr({fill:e}).animate(a).attr({fill:i})}}]),me),re=(o(ye,[{key:"drawYAxisTexts",value:function(t,e,i,a){var s=this.w,o=s.config.yaxis[0],s=s.globals.yLabelFormatters[0];return new E(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:s(a,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),ye),le=(o(be,[{key:"draw",value:function(t){var e=this,i=this.w,a=new E(this.ctx);if(this.ret=a.group({class:"apexcharts-pie"}),!i.globals.noData){for(var s=0,o=0;o<t.length;o++)s+=M.negToZero(t[o]);var n=[],r=a.group();0===s&&(s=1e-5),t.forEach(function(t){e.maxY=Math.max(e.maxY,t)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<t.length;l++){var h=this.fullAngle*M.negToZero(t[l])/s;n.push(h),"polarArea"===this.chartType?(n[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var c,d=0,p=0;p<i.globals.previousPaths.length;p++)d+=M.negToZero(i.globals.previousPaths[p]);for(var f=0;f<i.globals.previousPaths.length;f++)c=this.fullAngle*M.negToZero(i.globals.previousPaths[f])/d,this.prevSectorAngleArr.push(c)}this.donutSize<0&&(this.donutSize=0);var g=i.config.plotOptions.pie.customScale,u=i.globals.gridWidth/2,x=i.globals.gridHeight/2,u=u-i.globals.gridWidth/2*g,x=x-i.globals.gridHeight/2*g,b=("donut"===this.chartType&&((a=a.drawCircle(this.donutSize)).attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background||"transparent"}),r.add(a)),this.drawArcs(n,t));this.sliceLabels.forEach(function(t){b.add(t)}),r.attr({transform:"translate(".concat(u,", ").concat(x,") scale(").concat(g,")")}),r.add(b),this.ret.add(r),this.donutDataLabels.show&&(a=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:u,translateY:x}),this.ret.add(a)),"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret)}return this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,a=new P(this.ctx),s=new E(this.ctx),o=new S(this.ctx),n=s.group({class:"apexcharts-slices"}),r=(this.initialAngle,this.initialAngle,this.initialAngle),l=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var h=0;h<t.length;h++){var c,d,p=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:M.escapeString(i.globals.seriesNames[h]),rel:h+1,"data:realIndex":h}),f=(n.add(p),d=l,r=(c=r)+t[h],l=d+this.prevSectorAngleArr[h],r<c?this.fullAngle+r-c:r-c),g=o.fillPath({seriesNumber:h,size:this.sliceSizes[h],value:e[h]}),u=this.getChangedPath(d,l),u=s.drawPath({d:u,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[h]:this.lineColorArr,strokeWidth:0,fill:g,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h)}),g=(u.attr({index:0,j:h}),a.setSelectionFilter(u,0,h),i.config.chart.dropShadow.enabled&&(g=i.config.chart.dropShadow,a.dropShadow(u,g,h)),this.addListeners(u,this.donutDataLabels),E.setAttrs(u.node,{"data:angle":f,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":e[h]}),{x:0,y:0}),p=("pie"===this.chartType||"polarArea"===this.chartType?g=M.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(c+f/2)%this.fullAngle):"donut"===this.chartType&&(g=M.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(c+f/2)%this.fullAngle)),p.add(u),0);!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0==(p=f/this.fullAngle*i.config.chart.animations.speed)&&(p=1),this.animDur=p+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(u,{size:this.sliceSizes[h],endAngle:r,startAngle:c,prevStartAngle:d,prevEndAngle:l,animateStartingPos:!0,i:h,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(u,{size:this.sliceSizes[h],endAngle:r,startAngle:c,i:h,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:p}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&u.click(this.pieClicked.bind(this,h)),void 0!==i.globals.selectedDataPoints[0]&&-1<i.globals.selectedDataPoints[0].indexOf(h)&&this.pieClicked(h),i.config.dataLabels.enabled&&(d=g.x,c=g.y,p=100*f/this.fullAngle+"%",0!=f)&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[h]&&(void 0!==(u=i.config.dataLabels.formatter)&&(p=u(i.globals.seriesPercent[h][0],{seriesIndex:h,w:i})),g=i.globals.dataLabels.style.colors[h],f=s.group({class:"apexcharts-datalabels"}),u=s.drawText({x:d,y:c,text:p,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:g}),f.add(u),i.config.dataLabels.dropShadow.enabled&&(d=i.config.dataLabels.dropShadow,a.dropShadow(u,d)),u.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(u.node.classList.add("apexcharts-pie-label-delay"),u.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(f))}return n}},{key:"addListeners",value:function(t,e){var i=new E(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,a=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,s=a,o=e.startAngle,n=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(o=e.prevEndAngle,s=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(a+n>this.fullAngle?e.endAngle=e.endAngle-(a+n):a+n<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(a+n)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(t,o,n,a,s,e)}},{key:"animateArc",value:function(e,i,a,s,o,n){var r,l=this,t=this.w,h=new A(this.ctx),c=n.size,d=((isNaN(i)||isNaN(o))&&(i=a,o=s,n.dur=0),s),p=a,f=i<a?this.fullAngle+i-a:i-a;t.globals.dataChanged&&n.shouldSetPrevPaths&&n.prevEndAngle&&(r=l.getPiePath({me:l,startAngle:n.prevStartAngle,angle:n.prevEndAngle<n.prevStartAngle?this.fullAngle+n.prevEndAngle-n.prevStartAngle:n.prevEndAngle-n.prevStartAngle,size:c}),e.attr({d:r})),0!==n.dur?e.animate(n.dur,t.globals.easing,n.animBeginArr[n.i]).afterAll(function(){"pie"!==l.chartType&&"donut"!==l.chartType&&"polarArea"!==l.chartType||this.animate(t.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),n.i===t.config.series.length-1&&h.animationCompleted(e)}).during(function(t){d=f+(s-f)*t,n.animateStartingPos&&(d=o+(s-o)*t,p=i-o+(a-(i-o))*t),r=l.getPiePath({me:l,startAngle:p,angle:d,size:c}),e.node.setAttribute("data:pathOrig",r),e.attr({d:r})}):(r=l.getPiePath({me:l,startAngle:p,angle:s,size:c}),n.isTrack||(t.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",r),e.attr({d:r,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,a=this.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),t=i.globals.dom.Paper.select(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(t)).members[0];"true"!==t.attr("data:pieClicked")?(i=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),Array.prototype.forEach.call(i,function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");e&&t.setAttribute("d",e)}),t.attr("data:pieClicked","true"),i=parseInt(t.attr("data:startAngle"),10),e=parseInt(t.attr("data:angle"),10),i=this.getPiePath({me:this,startAngle:i,angle:e,size:a}),360!==e&&t.plot(i)):(t.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(t.node,this.donutDataLabels),a=t.attr("data:pathOrig"),t.attr({d:a}))}},{key:"getChangedPath",value:function(t,e){var i="";return i=this.dynamicAnim&&this.w.globals.dataChanged?this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size}):i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,a=t.angle,t=t.size,s=i,o=Math.PI*(s-90)/180,i=a+i,n=(Math.ceil(i)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(i=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(i)>this.fullAngle&&(i-=this.fullAngle),Math.PI*(i-90)/180),r=e.centerX+t*Math.cos(o),o=e.centerY+t*Math.sin(o),l=e.centerX+t*Math.cos(n),n=e.centerY+t*Math.sin(n),i=M.polarToCartesian(e.centerX,e.centerY,e.donutSize,i),s=M.polarToCartesian(e.centerX,e.centerY,e.donutSize,s),a=180<a?1:0,t=["M",r,o,"A",t,t,0,a,1,l,n];return("donut"===e.chartType?[].concat(t,["L",i.x,i.y,"A",e.donutSize,e.donutSize,0,a,0,s.x,s.y,"L",r,o,"z"]):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(t,["L",e.centerX,e.centerY,"L",r,o]):[].concat(t)).join(" ")}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new x(this.ctx),a=new E(this.ctx),s=new re(this.ctx),o=a.group(),n=a.group(),i=i.niceScale(0,Math.ceil(this.maxY),e.config.yaxis[0].tickAmount,0,!0),r=i.result.reverse(),l=i.result.length;this.maxY=i.niceMax;for(var h=e.globals.radialSize,c=h/(l-1),d=0;d<l-1;d++){var p,f=a.drawCircle(h);f.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show&&(p=s.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,d,r[d]),n.add(p)),o.add(f),h-=c}this.drawSpokes(t),t.add(o),t.add(n)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,a=new E(this.ctx),s=a.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX||0,", ").concat(e.translateY||0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),o=t.total.show;s.node.style.opacity=e.opacity;var n=e.centerX,e=e.centerY,r=void 0===t.name.color?i.globals.colors[0]:t.name.color,l=t.name.fontSize,h=t.name.fontFamily,c=t.name.fontWeight,d=void 0===t.value.color?i.config.chart.foreColor:t.value.color,p=t.value.formatter,f="",g="";return o?(r=t.total.color,l=t.total.fontSize,h=t.total.fontFamily,c=t.total.fontWeight,g=t.total.label,f=t.total.formatter(i)):1===i.globals.series.length&&(f=p(i.globals.series[0],i),g=i.globals.seriesNames[0]),g=g&&t.name.formatter(g,t.total.show,i),t.name.show&&((o=a.drawText({x:n,y:e+parseFloat(t.name.offsetY),text:g,textAnchor:"middle",foreColor:r,fontSize:l,fontWeight:c,fontFamily:h})).node.classList.add("apexcharts-datalabel-label"),s.add(o)),t.value.show&&(p=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,(i=a.drawText({x:n,y:e+p,text:f,textAnchor:"middle",foreColor:d,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily})).node.classList.add("apexcharts-datalabel-value"),s.add(i)),s}},{key:"printInnerLabels",value:function(t,e,i,a){var s,o=this.w,n=(a?s=void 0===t.name.color?o.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:t.name.color:1<o.globals.series.length&&t.total.show&&(s=t.total.color),o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label")),r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value"),a=(i=(0,t.value.formatter)(i,o),a||"function"!=typeof t.total.formatter||(i=t.total.formatter(o)),e===t.total.label);e=t.name.formatter(e,a,o),null!==n&&(n.textContent=e),null!==r&&(r.textContent=i),null!==n&&(n.style.fill=s)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,a=t.getAttribute("data:value"),s=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1],e=(1<i.globals.series.length&&this.printInnerLabels(e,s,a,t),i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"));null!==e&&(e.style.opacity=1)}},{key:"drawSpokes",value:function(i){var a=this,t=this.w,s=new E(this.ctx),o=t.config.plotOptions.polarArea.spokes;if(0!==o.strokeWidth){for(var e=[],n=360/t.globals.series.length,r=0;r<t.globals.series.length;r++)e.push(M.polarToCartesian(this.centerX,this.centerY,t.globals.radialSize,t.config.plotOptions.pie.startAngle+n*r));e.forEach(function(t,e){t=s.drawLine(t.x,t.y,a.centerX,a.centerY,Array.isArray(o.connectorColors)?o.connectorColors[e]:o.connectorColors);i.add(t)})}}},{key:"revertDataLabelsInner",value:function(t,a,e){function i(t){var e=t.makeSliceOut,i=t.printLabel;Array.prototype.forEach.call(h,function(t){"true"===t.getAttribute("data:pieClicked")&&(e&&(l=!0),i)&&o.printDataLabelsInner(t,a)})}var s,o=this,n=this.w,r=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),l=!1,h=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");i({makeSliceOut:!0,printLabel:!1}),a.total.show&&1<n.globals.series.length?l&&!a.total.showAlways?i({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(a,a.total.label,a.total.formatter(n)):(i({makeSliceOut:!1,printLabel:!0}),l||(n.globals.selectedDataPoints.length&&1<n.globals.series.length?0<n.globals.selectedDataPoints[0].length?(s=n.globals.selectedDataPoints[0],s=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(s)),this.printDataLabelsInner(s,a)):r&&n.globals.selectedDataPoints.length&&0===n.globals.selectedDataPoints[0].length&&(r.style.opacity=0):r&&1<n.globals.series.length&&(r.style.opacity=0)))}}]),be),he=(o(xe,[{key:"draw",value:function(t){var d,p,f=this,g=this.w,u=new S(this.ctx),x=[],b=new C(this.ctx),e=(t.length&&(this.dataPointsLen=t[g.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen,g.globals.gridWidth/2),i=g.globals.gridHeight/2,e=e+g.config.plotOptions.radar.offsetX,i=i+g.config.plotOptions.radar.offsetY,a=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(e||0,", ").concat(i||0,")")}),y=null;return this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach(function(t,s){var e=t.length===g.globals.dataPoints,o=f.graphics.group().attr({class:"apexcharts-series","data:longestSeries":e,seriesName:M.escapeString(g.globals.seriesNames[s]),rel:s+1,"data:realIndex":s}),i=(f.dataRadiusOfPercent[s]=[],f.dataRadius[s]=[],f.angleArr[s]=[],t.forEach(function(t,e){var i=Math.abs(f.maxValue-f.minValue);t+=Math.abs(f.minValue),f.isLog&&(t=f.coreUtils.getLogVal(t,0)),f.dataRadiusOfPercent[s][e]=t/i,f.dataRadius[s][e]=f.dataRadiusOfPercent[s][e]*f.size,f.angleArr[s][e]=e*f.disAngle}),d=f.getDataPointsPos(f.dataRadius[s],f.angleArr[s]),f.createPaths(d,{x:0,y:0})),a=(y=f.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=f.graphics.group({class:"apexcharts-datalabels","data:realIndex":s}),g.globals.delayedElements.push({el:y.node,index:s}),{i:s,realIndex:s,animationDelay:s,initialSpeed:g.config.chart.animations.speed,dataChangeSpeed:g.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:g.globals.stroke.colors[s],strokeLineCap:g.config.stroke.lineCap}),n=null;0<g.globals.previousPaths.length&&(n=f.getPreviousPath(s));for(var r=0;r<i.linePathsTo.length;r++){var l,h,c=f.graphics.renderPaths(z(z({},a),{},{pathFrom:null===n?i.linePathsFrom[r]:n,pathTo:i.linePathsTo[r],strokeWidth:Array.isArray(f.strokeWidth)?f.strokeWidth[s]:f.strokeWidth,fill:"none",drawShadow:!1})),c=(o.add(c),u.fillPath({seriesNumber:s})),c=f.graphics.renderPaths(z(z({},a),{},{pathFrom:null===n?i.areaPathsFrom[r]:n,pathTo:i.areaPathsTo[r],strokeWidth:0,fill:c,drawShadow:!1}));g.config.chart.dropShadow.enabled&&(l=new P(f.ctx),h=g.config.chart.dropShadow,l.dropShadow(c,Object.assign({},h,{noUserSpaceOnUse:!0}),s)),o.add(c)}t.forEach(function(t,e){var i=new k(f.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:s,dataPointIndex:e}),a=f.graphics.drawMarker(d[e].x,d[e].y,i),i=(a.attr("rel",e),a.attr("j",e),a.attr("index",s),a.node.setAttribute("default-marker-size",i.pSize),f.graphics.group({class:"apexcharts-series-markers"})),a=(i&&i.add(a),y.add(i),o.add(y),g.config.dataLabels);a.enabled&&(i=a.formatter(g.globals.series[s][e],{seriesIndex:s,dataPointIndex:e,w:g}),b.plotDataLabelsText({x:d[e].x,y:d[e].y,text:i,textAnchor:"middle",i:s,j:s,parent:p,offsetCorrection:!1,dataLabelsConfig:z({},a)})),o.add(p)}),x.push(o)}),this.drawPolygons({parent:a}),g.config.xaxis.labels.show&&(e=this.drawXAxisTexts(),a.add(e)),x.forEach(function(t){a.add(t)}),a.add(this.yaxisLabels),a}},{key:"drawPolygons",value:function(t){for(var o=this,s=this.w,n=t.parent,i=new re(this.ctx),a=s.globals.yAxisScale[0].result.reverse(),e=a.length,r=[],l=this.size/(e-1),h=0;h<e;h++)r[h]=l*h;r.reverse();var c=[],d=[];r.forEach(function(t,a){var t=M.getPolygonPos(t,o.dataPointsLen),s="";t.forEach(function(t,e){var i;0===a&&(i=o.graphics.drawLine(t.x,t.y,0,0,Array.isArray(o.polygons.connectorColors)?o.polygons.connectorColors[e]:o.polygons.connectorColors),d.push(i)),0===e&&o.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),s+=t.x+","+t.y+" "}),c.push(s)}),c.forEach(function(t,e){var i=o.polygons.strokeColors,a=o.polygons.strokeWidth,t=o.graphics.drawPolygon(t,Array.isArray(i)?i[e]:i,Array.isArray(a)?a[e]:a,s.globals.radarPolygons.fill.colors[e]);n.add(t)}),d.forEach(function(t){n.add(t)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(t,e){t=i.drawYAxisTexts(t.x,t.y,e,a[e]);o.yaxisLabels.add(t)})}},{key:"drawXAxisTexts",value:function(){var o=this,n=this.w,r=n.config.xaxis.labels,l=this.graphics.group({class:"apexcharts-xaxis"}),h=M.getPolygonPos(this.size,this.dataPointsLen);return n.globals.labels.forEach(function(t,e){var i,a=n.config.xaxis.labels.formatter,s=new C(o.ctx);h[e]&&(i=o.getTextPos(h[e],o.size),a=a(t,{seriesIndex:-1,dataPointIndex:e,w:n}),s.plotDataLabelsText({x:i.newX,y:i.newY,text:a,textAnchor:i.textAnchor,i:e,j:e,parent:l,color:Array.isArray(r.style.colors)&&r.style.colors[e]?r.style.colors[e]:"#a8a8a8",dataLabelsConfig:z({textAnchor:i.textAnchor,dropShadow:{enabled:!1}},r),offsetCorrection:!1}))}),l}},{key:"createPaths",value:function(i,t){var a,s,o=this,e=[],n=[],r=[],l=[];return i.length&&(n=[this.graphics.move(t.x,t.y)],l=[this.graphics.move(t.x,t.y)],a=this.graphics.move(i[0].x,i[0].y),s=this.graphics.move(i[0].x,i[0].y),i.forEach(function(t,e){a+=o.graphics.line(t.x,t.y),s+=o.graphics.line(t.x,t.y),e===i.length-1&&(a+="Z",s+="Z")}),e.push(a),r.push(s)),{linePathsFrom:n,linePathsTo:e,areaPathsFrom:l,areaPathsTo:r}}},{key:"getTextPos",value:function(t,e){var i="middle",a=t.x,s=t.y;return 10<=Math.abs(t.x)?0<t.x?(i="start",a+=10):t.x<0&&(i="end",a-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?s-=10:0<t.y&&(s+=10)),{textAnchor:i,newX:a,newY:s}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,a=0;a<e.globals.previousPaths.length;a++){var s=e.globals.previousPaths[a];0<s.paths.length&&parseInt(s.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[a].paths[0]&&(i=e.globals.previousPaths[a].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var a=[],s=0;s<i;s++){var o={};o.x=t[s]*Math.sin(e[s]),o.y=-t[s]*Math.cos(e[s]),a.push(o)}return a}}]),xe),ce=(n(ue,le),bt=r(ue),o(ue,[{key:"draw",value:function(t){var e,i,a,s,o,n=this.w,r=new E(this.ctx),l=r.group({class:"apexcharts-radialbar"});return n.globals.noData||(r=r.group(),s=this.defaultSize/2,a=n.globals.gridWidth/2,e=this.defaultSize/2.05,n.config.chart.sparkline.enabled||(e=e-n.config.stroke.width-n.config.chart.dropShadow.blur),o=n.globals.fill.colors,n.config.plotOptions.radialBar.track.show&&(i=this.drawTracks({size:e,centerX:a,centerY:s,colorArr:o,series:t}),r.add(i)),i=this.drawArcs({size:e,centerX:a,centerY:s,colorArr:o,series:t}),s=((a=360)-(a=n.config.plotOptions.radialBar.startAngle<0?this.totalAngle:a))/360,n.globals.radialSize=e-e*s,this.radialDataLabels.value.show&&(o=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY),n.globals.radialSize+=o*s),r.add(i.g),"front"===n.config.plotOptions.radialBar.hollow.position&&(i.g.add(i.elHollow),i.dataLabels)&&i.g.add(i.dataLabels),l.add(r)),l}},{key:"drawTracks",value:function(t){var e=this.w,i=new E(this.ctx),a=i.group({class:"apexcharts-tracks"}),s=new P(this.ctx),o=new S(this.ctx),n=this.getStrokeWidth(t);t.size=t.size-n/2;for(var r=0;r<t.series.length;r++){var l=i.group({class:"apexcharts-radialbar-track apexcharts-track"}),h=(a.add(l),l.attr({rel:r+1}),t.size=t.size-n-this.margin,e.config.plotOptions.radialBar.track),c=o.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(h.background)?h.background[r]:h.background,solid:!0}),d=this.trackStartAngle,p=this.trackEndAngle,c=(360<=Math.abs(p)+Math.abs(d)&&(p=360-Math.abs(this.startAngle)-.1),i.drawPath({d:"",stroke:c,strokeWidth:n*parseInt(h.strokeWidth,10)/100,fill:"none",strokeOpacity:h.opacity,classes:"apexcharts-radialbar-area"}));h.dropShadow.enabled&&(h=h.dropShadow,s.dropShadow(c,h)),l.add(c),c.attr("id","apexcharts-radialbarTrack-"+r),this.animatePaths(c,{centerX:t.centerX,centerY:t.centerY,endAngle:p,startAngle:d,size:t.size,i:r,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return a}},{key:"drawArcs",value:function(t){for(var e=this.w,i=new E(this.ctx),a=new S(this.ctx),s=new P(this.ctx),o=i.group(),n=this.getStrokeWidth(t),r=(t.size=t.size-n/2,e.config.plotOptions.radialBar.hollow.background),l=t.size-n*t.series.length-this.margin*t.series.length-n*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,h=l-e.config.plotOptions.radialBar.hollow.margin,h=(void 0!==e.config.plotOptions.radialBar.hollow.image&&(r=this.drawHollowImage(t,o,l,r)),this.drawHollow({size:h,centerX:t.centerX,centerY:t.centerY,fill:r||"transparent"})),r=(e.config.plotOptions.radialBar.hollow.dropShadow.enabled&&(r=e.config.plotOptions.radialBar.hollow.dropShadow,s.dropShadow(h,r)),1),c=(!this.radialDataLabels.total.show&&1<e.globals.series.length&&(r=0),null),d=(this.radialDataLabels.show&&(c=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:r})),"back"===e.config.plotOptions.radialBar.hollow.position&&(o.add(h),c)&&o.add(c),!1),p=(d=e.config.plotOptions.radialBar.inverseOrder?!0:d)?t.series.length-1:0;d?0<=p:p<t.series.length;d?p--:p++){var f=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:M.escapeString(e.globals.seriesNames[p])}),g=(o.add(f),f.attr({rel:p+1,"data:realIndex":p}),this.ctx.series.addCollapsedClassToSeries(f,p),t.size=t.size-n-this.margin,a.fillPath({seriesNumber:p,size:t.size,value:t.series[p]})),u=this.startAngle,x=void 0,b=M.negToZero(100<t.series[p]?100:t.series[p])/100,b=Math.round(this.totalAngle*b)+this.startAngle,y=void 0,m=(e.globals.dataChanged&&(x=this.startAngle,y=Math.round(this.totalAngle*M.negToZero(e.globals.previousPaths[p])/100)+x),360<=Math.abs(b)+Math.abs(u)&&(b-=.01),360<=Math.abs(y)+Math.abs(x)&&(y-=.01),b-u),v=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[p]:e.config.stroke.dashArray,g=i.drawPath({d:"",stroke:g,strokeWidth:n,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+p,strokeDashArray:v}),m=(E.setAttrs(g.node,{"data:angle":m,"data:value":t.series[p]}),e.config.chart.dropShadow.enabled&&(v=e.config.chart.dropShadow,s.dropShadow(g,v,p)),s.setSelectionFilter(g,0,p),this.addListeners(g,this.radialDataLabels),f.add(g),g.attr({index:0,j:p}),0);!this.initialAnim||e.globals.resized||e.globals.dataChanged||(m=e.config.chart.animations.speed),e.globals.dataChanged&&(m=e.config.chart.animations.dynamicAnimation.speed),this.animDur=m/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(g,{centerX:t.centerX,centerY:t.centerY,endAngle:b,startAngle:u,prevEndAngle:y,prevStartAngle:x,size:t.size,i:p,totalItems:2,animBeginArr:this.animBeginArr,dur:m,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:o,elHollow:h,dataLabels:c}}},{key:"drawHollow",value:function(t){var e=new E(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(e,t,i,a){var s,o,n=this.w,r=new S(this.ctx),l=M.randomId(),h=n.config.plotOptions.radialBar.hollow.image;return n.config.plotOptions.radialBar.hollow.imageClipped?(r.clippedImgArea({width:i,height:i,image:h,patternID:"pattern".concat(n.globals.cuid).concat(l)}),a="url(#pattern".concat(n.globals.cuid).concat(l,")")):(s=n.config.plotOptions.radialBar.hollow.imageWidth,o=n.config.plotOptions.radialBar.hollow.imageHeight,void 0===s&&void 0===o?(r=n.globals.dom.Paper.image(h).loaded(function(t){this.move(e.centerX-t.width/2+n.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+n.config.plotOptions.radialBar.hollow.imageOffsetY)}),t.add(r)):(i=n.globals.dom.Paper.image(h).loaded(function(t){this.move(e.centerX-s/2+n.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-o/2+n.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(s,o)}),t.add(i))),a}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),ue),de=(n(ge,T),xt=r(ge),o(ge,[{key:"draw",value:function(t,e){var i=this.w,a=new E(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var s=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),o=0;o<t.length;o++){var n=void 0,r=void 0,l=i.globals.comboCharts?e[o]:o,h=a.group({class:"apexcharts-series",seriesName:M.escapeString(i.globals.seriesNames[l]),rel:o+1,"data:realIndex":l}),c=(this.ctx.series.addCollapsedClassToSeries(h,l),0<t[o].length&&(this.visibleI=this.visibleI+1),0),d=0,p=(1<this.yRatio.length&&(this.yaxisIndex=l),this.barHelpers.initialPositions()),r=p.y,f=p.zeroW,n=p.x;d=p.barWidth,c=p.barHeight;for(var g=p.xDivision,u=p.yDivision,x=p.zeroH,b=a.group({class:"apexcharts-datalabels","data:realIndex":l}),y=a.group({class:"apexcharts-rangebar-goals-markers"}),m=0;m<i.globals.dataPoints;m++){var v,w=this.barHelpers.getStrokeWidth(o,m,l),k=this.seriesRangeStart[o][m],A=this.seriesRangeEnd[o][m],S=null,C=null,O=null,P={x:n,y:r,strokeWidth:w,elSeries:h},L=this.seriesLen;if(i.config.plotOptions.bar.rangeBarGroupRows&&(L=1),void 0===i.config.series[o].data[m])break;this.isHorizontal?(O=r+c*this.visibleI,i.config.series[o].data[m].x&&(c=(v=this.detectOverlappingBars({i:o,j:m,barYPosition:O,srty:(u-c*L)/2,barHeight:c,yDivision:u,initPositions:p})).barHeight,O=v.barYPosition),d=(S=this.drawRangeBarPaths(z({indexes:{i:o,j:m,realIndex:l},barHeight:c,barYPosition:O,zeroW:f,yDivision:u,y1:k,y2:A},P))).barWidth):(C=(n=i.globals.isXNumeric?(i.globals.seriesX[o][m]-i.globals.minX)/this.xRatio-d/2:n)+d*this.visibleI,i.config.series[o].data[m].x&&(d=(v=this.detectOverlappingBars({i:o,j:m,barXPosition:C,srtx:(g-d*L)/2,barWidth:d,xDivision:g,initPositions:p})).barWidth,C=v.barXPosition),c=(S=this.drawRangeColumnPaths(z({indexes:{i:o,j:m,realIndex:l},barWidth:d,barXPosition:C,zeroH:x,xDivision:g},P))).barHeight);var L=this.barHelpers.drawGoalLine({barXPosition:S.barXPosition,barYPosition:O,goalX:S.goalX,goalY:S.goalY,barHeight:c,barWidth:d}),P=(L&&y.add(L),r=S.y,n=S.x,this.barHelpers.getPathFillColor(t,o,m,l)),L=i.globals.stroke.colors[l];this.renderSeries((I(P={realIndex:l,pathFill:P,lineFill:L,j:m,i:o,x:n,y:r,y1:k,y2:A,pathFrom:S.pathFrom,pathTo:S.pathTo,strokeWidth:w,elSeries:h,series:t,barHeight:c,barWidth:d,barXPosition:C,barYPosition:O},"barWidth",d),I(P,"elDataLabelsWrap",b),I(P,"elGoalsMarkers",y),I(P,"visibleSeries",this.visibleI),I(P,"type","rangebar"),P))}s.add(h)}return s}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,a=t.barYPosition,s=t.barXPosition,o=t.srty,n=t.srtx,r=t.barHeight,l=t.barWidth,h=t.yDivision,c=t.xDivision,t=t.initPositions,d=this.w,p=[],f=d.config.series[e].data[i].rangeName,i=d.config.series[e].data[i].x,g=Array.isArray(i)?i.join(" "):i,i=d.globals.labels.map(function(t){return Array.isArray(t)?t.join(" "):t}).indexOf(g),u=d.globals.seriesRange[e].findIndex(function(t){return t.x===g&&0<t.overlaps.length});return this.isHorizontal?(a=d.config.plotOptions.bar.rangeBarGroupRows?o+h*i:o+r*this.visibleI+h*i,-1<u&&!d.config.plotOptions.bar.rangeBarOverlap&&-1<(p=d.globals.seriesRange[e][u].overlaps).indexOf(f)&&(a=(r=t.barHeight/p.length)*this.visibleI+h*(100-parseInt(this.barOptions.barHeight,10))/100/2+r*(this.visibleI+p.indexOf(f))+h*i)):(-1<i&&(s=d.config.plotOptions.bar.rangeBarGroupRows?n+c*i:n+l*this.visibleI+c*i),-1<u&&!d.config.plotOptions.bar.rangeBarOverlap&&-1<(p=d.globals.seriesRange[e][u].overlaps).indexOf(f)&&(s=(l=t.barWidth/p.length)*this.visibleI+c*(100-parseInt(this.barOptions.barWidth,10))/100/2+l*(this.visibleI+p.indexOf(f))+c*i)),{barYPosition:a,barXPosition:s,barHeight:r,barWidth:l}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x,a=t.xDivision,s=t.barWidth,o=t.barXPosition,t=t.zeroH,n=this.w,r=e.i,l=e.j,h=this.yRatio[this.yaxisIndex],c=e.realIndex,d=this.getRangeValue(c,l),p=Math.min(d.start,d.end),d=Math.max(d.start,d.end),h=(void 0===this.series[r][l]||null===this.series[r][l]?p=t:(p=t-p/h,d=t-d/h),Math.abs(d-p)),s=this.barHelpers.getColumnPaths({barXPosition:o,barWidth:s,y1:p,y2:d,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:c,j:l,w:n});return n.globals.isXNumeric||(i+=a),{pathTo:s.pathTo,pathFrom:s.pathFrom,barHeight:h,x:i,y:d,goalY:this.barHelpers.getGoalValues("y",null,t,r,l),barXPosition:o}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,a=t.y1,s=t.y2,o=t.yDivision,n=t.barHeight,r=t.barYPosition,t=t.zeroW,l=this.w,a=t+a/this.invertedYRatio,s=t+s/this.invertedYRatio,h=Math.abs(s-a),r=this.barHelpers.getBarpaths({barYPosition:r,barHeight:n,x1:a,x2:s,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:l});return l.globals.isXNumeric||(i+=o),{pathTo:r.pathTo,pathFrom:r.pathFrom,barWidth:h,x:s,goalX:this.barHelpers.getGoalValues("x",t,null,e.realIndex,e.j),y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}}]),ge),pe=(o(fe,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;return"gradient"!==i.config.fill.type&&"gradient"!==i.config.fill.type[t]||!new _(this.lineCtx.ctx,i).seriesHaveSameValues(t)||((i=e[t].slice())[i.length-1]=i[i.length-1]+1e-6,e[t]=i),e}},{key:"calculatePoints",value:function(t){var e,i=t.series,a=t.realIndex,s=t.x,o=t.y,n=t.i,r=t.j,t=t.prevY,l=this.w,h=[],c=[];return 0===r&&(e=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX,l.globals.isXNumeric&&(e=(l.globals.seriesX[a][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),h.push(e),c.push(M.isNumber(i[n][0])?t+l.config.markers.offsetY:null)),h.push(s+l.config.markers.offsetX),c.push(M.isNumber(i[n][r+1])?o+l.config.markers.offsetY:null),{x:h,y:c}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,a=t.realIndex,s=this.w,o=0;o<s.globals.previousPaths.length;o++){var n=s.globals.previousPaths[o];("line"===n.type||"area"===n.type)&&0<n.paths.length&&parseInt(n.realIndex,10)===parseInt(a,10)&&("line"===n.type?(this.lineCtx.appendPathFrom=!1,e=s.globals.previousPaths[o].paths[0].d):"area"===n.type&&(this.lineCtx.appendPathFrom=!1,i=s.globals.previousPaths[o].paths[0].d,s.config.stroke.show)&&s.globals.previousPaths[o].paths[1]&&(e=s.globals.previousPaths[o].paths[1].d))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i=t.i,a=t.series,s=t.prevY,o=t.lineYPosition,t=this.w;if(void 0!==(null==(e=a[i])?void 0:e[0]))s=(o=t.config.chart.stacked&&0<i?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-a[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?a[i][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(t.config.chart.stacked&&0<i&&void 0===a[i][0])for(var n=i-1;0<=n;n--)if(null!==a[n][0]&&void 0!==a[n][0]){s=o=this.lineCtx.prevSeriesY[n][0];break}return{prevY:s,lineYPosition:o}}}]),fe);function fe(t){a(this,fe),this.w=t.w,this.lineCtx=t}function ge(){return a(this,ge),xt.apply(this,arguments)}function ue(t){a(this,ue),(e=bt.call(this,t)).ctx=t,e.w=t.w,e.animBeginArr=[0],e.animDur=0;var e,t=e.w;return e.startAngle=t.config.plotOptions.radialBar.startAngle,e.endAngle=t.config.plotOptions.radialBar.endAngle,e.totalAngle=Math.abs(t.config.plotOptions.radialBar.endAngle-t.config.plotOptions.radialBar.startAngle),e.trackStartAngle=t.config.plotOptions.radialBar.track.startAngle,e.trackEndAngle=t.config.plotOptions.radialBar.track.endAngle,e.donutDataLabels=e.w.config.plotOptions.radialBar.dataLabels,e.radialDataLabels=e.donutDataLabels,e.trackStartAngle||(e.trackStartAngle=e.startAngle),e.trackEndAngle||(e.trackEndAngle=e.endAngle),360===e.endAngle&&(e.endAngle=359.99),e.margin=parseInt(t.config.plotOptions.radialBar.track.margin,10),e}function xe(t){a(this,xe),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;t=this.w;this.graphics=new E(this.ctx),this.lineColorArr=(void 0!==t.globals.stroke.colors?t.globals.stroke:t.globals).colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight+1.5*t.globals.goldenPadding:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.coreUtils=new _(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),void 0!==t.config.plotOptions.radar.size&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}function be(t){a(this,be),this.ctx=t,this.w=t.w;t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=(void 0!==t.globals.stroke.colors?t.globals.stroke:t.globals).colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,"radialBar"===t.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}function ye(t){a(this,ye),this.ctx=t,this.w=t.w}function me(t,e){a(this,me),this.ctx=t,this.w=t.w,this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new oe(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}function ve(t){a(this,ve),this.ctx=t,this.w=t.w}function we(){return a(this,we),yt.apply(this,arguments)}function ke(){return a(this,ke),mt.apply(this,arguments)}function Ae(t,e){a(this,Ae),this.ctx=t,this.w=t.w;var t=this.w,t=(this.barOptions=t.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=t.config.stroke.width,this.isNullValue=!1,this.isRangeBar=t.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.globals.seriesRange.length&&t.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=e,null!==this.xyRatios&&(this.xRatio=e.xRatio,this.initialXRatio=e.initialXRatio,this.yRatio=e.yRatio,this.invertedXRatio=e.invertedXRatio,this.invertedYRatio=e.invertedYRatio,this.baseLineY=e.baseLineY,this.baseLineInvertedY=e.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[],new O(this.ctx)),i=(this.lastActiveBarSerieIndex=t.getActiveConfigSeriesIndex("desc",["bar","column"]),t.getBarSeriesIndices()),e=new _(this.ctx);this.stackedSeriesTotals=e.getStackedSeriesTotals(this.w.config.series.map(function(t,e){return-1===i.indexOf(e)?e:-1}).filter(function(t){return-1!==t})),this.barHelpers=new ie(this)}function Se(t){a(this,Se),this.w=t.w,this.barCtx=t}function Ce(t){a(this,Ce),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}function Oe(t){a(this,Oe),this.ctx=t,this.w=t.w;t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new qt(this),this.tooltipLabels=new $t(this),this.tooltipPosition=new Zt(this),this.marker=new Jt(this),this.intersect=new Qt(this),this.axesTooltip=new Kt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}function Pe(t){a(this,Pe),this.w=t.w,this.ttCtx=t}function Le(t){a(this,Le),this.w=t.w;var e=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!e.globals.isBarHorizontal&&"rangeBar"===e.config.chart.type&&e.config.plotOptions.bar.rangeBarGroupRows}function ze(t){a(this,ze),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new Zt(t)}function Ie(t){a(this,Ie),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}function _e(t){a(this,_e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new qt(t)}function Te(t){a(this,Te),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}function Me(t){var e;return a(this,Me),(e=vt.call(this,t)).ctx=t,e.w=t.w,e.dragged=!1,e.graphics=new E(e.ctx),e.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],e.clientX=0,e.clientY=0,e.startX=0,e.endX=0,e.dragX=0,e.startY=0,e.endY=0,e.dragY=0,e.moveDirection="none",e}function Ee(t){a(this,Ee),this.ctx=t,this.w=t.w;t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}function Xe(t){a(this,Xe),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Gt(this)}function Fe(t){a(this,Fe),this.w=t.w,this.lgCtx=t}function Ye(t){a(this,Ye),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Dt(this),this.dimYAxis=new Wt(this),this.dimXAxis=new Ht(this),this.dimGrid=new Bt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}function Re(t){a(this,Re),this.w=t.w,this.dCtx=t}function De(t){a(this,De),this.w=t.w,this.dCtx=t}function He(t){a(this,He),this.w=t.w,this.dCtx=t}function We(t){a(this,We),this.w=t.w,this.dCtx=t}function Be(t){a(this,Be),this.ctx=t,this.w=t.w}function Ne(t){a(this,Ne),this.ctx=t,this.colors=[],this.w=t.w;t=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===t.config.chart.type&&t.config.plotOptions.treemap.distributed||"heatmap"===t.config.chart.type&&t.config.plotOptions.heatmap.distributed,this.isBarDistributed=t.config.plotOptions.bar.distributed&&("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)}function Ge(t){a(this,Ge),this.ctx=t,this.w=t.w}function Ve(t){a(this,Ve),this.ctx=t,this.w=t.w}function je(t){a(this,je),this.ctx=t,this.w=t.w}function Ue(t){a(this,Ue),this.ctx=t,this.w=t.w}function qe(t){a(this,qe),this.ctx=t,this.w=t.w,this.documentEvent=M.bind(this.documentEvent,this)}function $e(t,e){a(this,$e),this.ctx=t,this.elgrid=e,this.w=t.w;e=this.w;this.xaxisFontSize=e.config.xaxis.labels.style.fontSize,this.axisFontFamily=e.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=e.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===e.config.chart.type&&e.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===e.config.xaxis.position&&(this.xAxisoffX=e.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new L(t)}function Ze(t){a(this,Ze),this.ctx=t,this.w=t.w,this.scales=new x(t)}function Je(t){a(this,Je),this.ctx=t,this.w=t.w}function Qe(t){a(this,Qe),this.ctx=t,this.w=t.w;var e=this.w;this.xaxisLabels=e.globals.labels.slice(),this.axesUtils=new L(t),this.isRangeBar=e.globals.seriesRange.length&&e.globals.isBarHorizontal,0<e.globals.timescaleLabels.length&&(this.xaxisLabels=e.globals.timescaleLabels.slice())}function Ke(t,e){a(this,Ke),this.ctx=t,this.elgrid=e,this.w=t.w;e=this.w;this.axesUtils=new L(t),this.xaxisLabels=e.globals.labels.slice(),0<e.globals.timescaleLabels.length&&!e.globals.isBarHorizontal&&(this.xaxisLabels=e.globals.timescaleLabels.slice()),e.config.xaxis.overwriteCategories&&(this.xaxisLabels=e.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===e.config.xaxis.position?this.offY=0:this.offY=e.globals.gridHeight+1,this.offY=this.offY+e.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===e.config.chart.type&&e.config.plotOptions.bar.horizontal,this.xaxisFontSize=e.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=e.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=e.config.xaxis.labels.style.colors,this.xaxisBorderWidth=e.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=e.config.yaxis[0].axisBorder.width.toString()),-1<this.xaxisBorderWidth.indexOf("%")?this.xaxisBorderWidth=e.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=e.config.xaxis.axisBorder.height,this.yaxis=e.config.yaxis[0]}function ti(t){a(this,ti),this.ctx=t,this.w=t.w}function ei(t){a(this,ei),this.ctx=t,this.w=t.w}function ii(t){a(this,ii),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new _(this.ctx)}function ai(t){a(this,ai),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}function si(t){a(this,si),this.ctx=t,this.w=t.w}function oi(t){a(this,oi),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}function ni(t,e){a(this,ni),this.ctx=t,this.w=t.w}function ri(t){a(this,ri),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}function li(t){a(this,li),this.opts=t}function hi(){a(this,hi)}function ci(t){a(this,ci),this.opts=t}function di(t){a(this,di),this.opts=t}function pi(t){a(this,pi),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}function fi(t){a(this,fi),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}function gi(t){a(this,gi),this.ctx=t,this.w=t.w,this.graphics=new E(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new tt(this),this.xAxisAnnotations=new et(this),this.yAxisAnnotations=new it(this),this.pointsAnnotations=new at(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}function ui(){a(this,ui),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}function xi(t,e){return(e[1]-t[1])/(e[0]-t[0])}o(yi,[{key:"draw",value:function(t,e,i,a){var s=this.w,o=new E(this.ctx),n=s.globals.comboCharts?e:s.config.chart.type,r=o.group({class:"apexcharts-".concat(n,"-series apexcharts-plot-series")}),e=new _(this.ctx,s);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=e.getLogSeries(t),this.yRatio=e.getLogYRatios(this.yRatio);for(var l=[],h=0;h<t.length;h++){t=this.lineHelpers.sameValueSeriesFix(h,t);var c=s.globals.comboCharts?i[h]:h,d=(this._initSerieVariables(t,h,c),[]),p=[],f=[],g=s.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,c),s.globals.isXNumeric&&0<s.globals.seriesX.length&&(g=(s.globals.seriesX[c][0]-s.globals.minX)/this.xRatio),f.push(g);var u,x=g,b=void 0,y=x,m=this.zeroY,v=this.zeroY,m=this.lineHelpers.determineFirstPrevY({i:h,series:t,prevY:m,lineYPosition:0}).prevY,g=(d.push(m),u=m,"rangeArea"===n&&(b=v=this.lineHelpers.determineFirstPrevY({i:h,series:a,prevY:v,lineYPosition:0}).prevY,p.push(v)),{type:n,series:t,realIndex:c,i:h,x:g,y:1,pX:x,pY:u,pathsFrom:this._calculatePathsFrom({type:n,series:t,i:h,realIndex:c,prevX:y,prevY:m,prevY2:v}),linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:f,yArrj:d,y2Arrj:p,seriesRangeEnd:a}),x=this._iterateOverDataPoints(z(z({},g),{},{iterations:"rangeArea"===n?t[h].length-1:void 0,isRangeStart:!0}));"rangeArea"===n&&(u=this._calculatePathsFrom({series:a,i:h,realIndex:c,prevX:y,prevY:v}),m=this._iterateOverDataPoints(z(z({},g),{},{series:a,pY:b,pathsFrom:u,iterations:a[h].length-1,isRangeStart:!1})),x.linePaths[0]=m.linePath+x.linePath,x.pathFromLine=m.pathFromLine+x.pathFromLine),this._handlePaths({type:n,realIndex:c,i:h,paths:x}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(s.config.chart.stacked)for(var w=l.length;0<w;w--)r.add(l[w-1]);else for(var k=0;k<l.length;k++)r.add(l[k]);return r}},{key:"_initSerieVariables",value:function(t,e,i){var a=this.w,s=new E(this.ctx),s=(this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-("on"===a.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[i]:a.config.stroke.width,1<this.yRatio.length&&(this.yaxisIndex=i),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||"end"===a.config.plotOptions.area.fillTo)&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",seriesName:M.escapeString(a.globals.seriesNames[i])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":i}),t[e].length===a.globals.dataPoints);this.elSeries.attr({"data:longestSeries":s,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,a=t.type,s=t.series,o=t.i,n=t.realIndex,r=t.prevX,l=t.prevY,t=t.prevY2,h=this.w,c=new E(this.ctx);if(null===s[o][0]){for(var d=0;d<s[o].length;d++)if(null!==s[o][d]){r=this.xDivision*d,l=this.zeroY-s[o][d]/this.yRatio[this.yaxisIndex],e=c.move(r,l),i=c.move(r,this.areaBottomY);break}}else e=c.move(r,l),"rangeArea"===a&&(e=c.move(r,t)+c.line(r,l)),i=c.move(r,this.areaBottomY)+c.line(r,l);return a=c.move(-1,this.zeroY)+c.line(-1,this.zeroY),t=c.move(-1,this.zeroY)+c.line(-1,this.zeroY),0<h.globals.previousPaths.length&&(a=(h=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:t,realIndex:n})).pathFromLine,t=h.pathFromArea),{prevX:r,prevY:l,linePath:e,areaPath:i,pathFromLine:a,pathFromArea:t}}},{key:"_handlePaths",value:function(t){var e,i=t.type,a=t.realIndex,s=t.i,o=t.paths,n=this.w,r=new E(this.ctx),l=new S(this.ctx),h=(this.prevSeriesY.push(o.yArrj),n.globals.seriesXvalues[a]=o.xArrj,n.globals.seriesYvalues[a]=o.yArrj,n.config.forecastDataPoints),c=(0<h.count&&"rangeArea"!==i&&(t=n.globals.seriesXvalues[a][n.globals.seriesXvalues[a].length-h.count-1],e=r.drawRect(t,0,n.globals.gridWidth,n.globals.gridHeight,0),n.globals.dom.elForecastMask.appendChild(e.node),e=r.drawRect(0,0,t,n.globals.gridHeight,0),n.globals.dom.elNonForecastMask.appendChild(e.node)),this.pointsChart||n.globals.delayedElements.push({el:this.elPointsMain.node,index:a}),{i:s,realIndex:a,animationDelay:s,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(i)});if("area"===i)for(var d=l.fillPath({seriesNumber:a}),p=0;p<o.areaPaths.length;p++){var f=r.renderPaths(z(z({},c),{},{pathFrom:o.pathFromArea,pathTo:o.areaPaths[p],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:d}));this.elSeries.add(f)}if(n.config.stroke.show&&!this.pointsChart){var g=null;"line"===i?g=l.fillPath({seriesNumber:a,i:s}):"solid"===n.config.stroke.fill.type?g=n.globals.stroke.colors[a]:(t=n.config.fill,n.config.fill=n.config.stroke.fill,g=l.fillPath({seriesNumber:a,i:s}),n.config.fill=t);for(var u=0;u<o.linePaths.length;u++){var x=g,x=("rangeArea"===i&&(x=l.fillPath({seriesNumber:a})),z(z({},c),{},{pathFrom:o.pathFromLine,pathTo:o.linePaths[u],stroke:g,strokeWidth:this.strokeWidth,strokeLineCap:n.config.stroke.lineCap,fill:"rangeArea"===i?x:"none"})),b=r.renderPaths(x);this.elSeries.add(b),b.attr("fill-rule","evenodd"),0<h.count&&"rangeArea"!==i&&((x=r.renderPaths(x)).node.setAttribute("stroke-dasharray",h.dashArray),h.strokeWidth&&x.node.setAttribute("stroke-width",h.strokeWidth),this.elSeries.add(x),x.attr("clip-path","url(#forecastMask".concat(n.globals.cuid,")")),b.attr("clip-path","url(#nonForecastMask".concat(n.globals.cuid,")")))}}}},{key:"_iterateOverDataPoints",value:function(t){for(var e=t.type,i=t.series,a=t.iterations,s=t.realIndex,o=t.i,n=t.x,r=t.y,l=t.pX,h=t.pY,c=t.pathsFrom,d=t.linePaths,p=t.areaPaths,f=t.seriesIndex,g=t.lineYPosition,u=t.xArrj,x=t.yArrj,b=t.y2Arrj,y=t.isRangeStart,m=t.seriesRangeEnd,v=this.w,w=new E(this.ctx),k=this.yRatio,A=c.prevY,S=c.linePath,C=c.areaPath,O=c.pathFromLine,P=c.pathFromArea,L=M.isNumber(v.globals.minYArr[s])?v.globals.minYArr[s]:v.globals.minY,a=a||(1<v.globals.dataPoints?v.globals.dataPoints-1:v.globals.dataPoints),z=r,I=0;I<a;I++){var _=void 0===i[o][I+1]||null===i[o][I+1],T=(v.globals.isXNumeric?(T=v.globals.seriesX[s][I+1],n=((T=void 0===v.globals.seriesX[s][I+1]?v.globals.seriesX[s][a-1]:T)-v.globals.minX)/this.xRatio):n+=this.xDivision,g=v.config.chart.stacked&&0<o&&v.globals.collapsedSeries.length<v.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<v.globals.series.length;i++)if(-1<v.globals.collapsedSeriesIndices.indexOf(t)){e--;break}return 0<=e?e:0}(o-1)][I+1]:this.zeroY,_?r=g-L/k[this.yaxisIndex]+2*(this.isReversed?L/k[this.yaxisIndex]:0):(r=g-i[o][I+1]/k[this.yaxisIndex]+2*(this.isReversed?i[o][I+1]/k[this.yaxisIndex]:0),"rangeArea"===e&&(z=g-m[o][I+1]/k[this.yaxisIndex]+2*(this.isReversed?m[o][I+1]/k[this.yaxisIndex]:0))),u.push(n),x.push(r),b.push(z),this.lineHelpers.calculatePoints({series:i,x:n,y:r,realIndex:s,i:o,j:I,prevY:A})),_=this._createPaths({type:e,series:i,i:o,realIndex:s,j:I,x:n,y:r,y2:z,xArrj:u,yArrj:x,y2Arrj:b,pX:l,pY:h,linePath:S,areaPath:C,linePaths:d,areaPaths:p,seriesIndex:f,isRangeStart:y}),p=_.areaPaths,d=_.linePaths,l=_.pX,h=_.pY,C=_.areaPath,S=_.linePath;!this.appendPathFrom||"monotoneCubic"===v.config.stroke.curve&&"rangeArea"===e||(O+=w.line(n,this.zeroY),P+=w.line(n,this.zeroY)),this.handleNullDataPoints(i,T,o,I,s),this._handleMarkersAndLabels({type:e,pointsPos:T,i:o,j:I,realIndex:s,isRangeStart:y})}return{yArrj:x,xArrj:u,pathFromArea:P,areaPaths:p,pathFromLine:O,linePaths:d,linePath:S,areaPath:C}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,a=t.isRangeStart,s=t.i,o=t.j,t=t.realIndex,n=this.w,r=new C(this.ctx),s=(this.pointsChart?this.scatter.draw(this.elSeries,o,{realIndex:t,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain}):(1<n.globals.series[s].length&&this.elPointsMain.node.classList.add("apexcharts-element-hidden"),null!==(n=this.markers.plotChartMarkers(i,t,o+1))&&this.elPointsMain.add(n)),r.drawDataLabel({type:e,isRangeStart:a,pos:i,i:t,j:o+1}));null!==s&&this.elDataLabelsWrap.add(s)}},{key:"_createPaths",value:function(t){var i,a,e=t.type,s=t.series,o=t.i,n=t.realIndex,r=t.j,l=t.x,h=t.y,c=t.xArrj,d=t.yArrj,p=t.y2,f=t.y2Arrj,g=t.pX,u=t.pY,x=t.linePath,b=t.areaPath,y=t.linePaths,m=t.areaPaths,v=t.seriesIndex,t=t.isRangeStart,w=this.w,k=new E(this.ctx),A=w.config.stroke.curve,S=this.areaBottomY;return Array.isArray(w.config.stroke.curve)&&(A=Array.isArray(v)?w.config.stroke.curve[v[o]]:w.config.stroke.curve[o]),"smooth"===(A=("rangeArea"===e&&(w.globals.hasNullValues||0<w.config.forecastDataPoints.count)||w.globals.hasNullValues)&&"monotoneCubic"===A?"straight":A)?(v=.35*(l-g),w.globals.hasNullValues?(null!==s[o][r]&&(b=null!==s[o][r+1]?(x=k.move(g,u)+k.curve(g+v,u,l-v,h,l+1,h),k.move(g+1,u)+k.curve(g+v,u,l-v,h,l+1,h)+k.line(l,S)+k.line(g,S)+"z"):(x=k.move(g,u),k.move(g,u)+"z")),y.push(x),m.push(b)):(x+=k.curve(g+v,u,l-v,h,l,h),b+=k.curve(g+v,u,l-v,h,l,h)),g=l,u=h,r===s[o].length-2&&(b+=k.curve(g,u,l,h,l,S)+k.move(l,h)+"z","rangeArea"===e&&t?x+=k.curve(g,u,l,h,l,p)+k.move(l,p)+"z":w.globals.hasNullValues||(y.push(x),m.push(b)))):"monotoneCubic"===A?("rangeArea"===e?c.length===w.globals.dataPoints:r===s[o].length-2)&&(v=c.map(function(t,e){return[c[e],d[e]]}),v=ut(v),x+=gt(v),b+=gt(v),g=l,u=h,"rangeArea"===e&&t?(x+=k.line(c[c.length-1],f[f.length-1]),i=c.slice().reverse(),a=f.slice().reverse(),v=i.map(function(t,e){return[i[e],a[e]]}),f=ut(v),b=x+=gt(f)):b+=k.curve(g,u,l,h,l,S)+k.move(l,h)+"z",y.push(x),m.push(b)):(null===s[o][r+1]&&(x+=k.move(l,h),v=w.globals.isXNumeric?(w.globals.seriesX[n][r]-w.globals.minX)/this.xRatio:l-this.xDivision,b=b+k.line(v,S)+k.move(l,h)+"z"),null===s[o][r]&&(x+=k.move(l,h),b+=k.move(l,S)),"stepline"===A?(x=x+k.line(l,null,"H")+k.line(null,h,"V"),b=b+k.line(l,null,"H")+k.line(null,h,"V")):"straight"===A&&(x+=k.line(l,h),b+=k.line(l,h)),r===s[o].length-2&&(b=b+k.line(l,S)+k.move(l,h)+"z","rangeArea"===e&&t?x=x+k.line(l,p)+k.move(l,p)+"z":(y.push(x),m.push(b)))),{linePaths:y,areaPaths:m,pX:g,pY:u,linePath:x,areaPath:b}}},{key:"handleNullDataPoints",value:function(t,e,i,a,s){var o=this.w;(null===t[i][a]&&o.config.markers.showNullDataPoints||1===t[i].length)&&null!==(t=this.markers.plotChartMarkers(e,s,a+1,this.strokeWidth-o.config.markers.strokeWidth/2,!0))&&this.elPointsMain.add(t)}}]);var bi=yi;function yi(t,e,i){a(this,yi),this.ctx=t,this.w=t.w,this.xyRatios=e,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new Ct(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new pe(this),this.markers=new k(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}function mi(t,e,i,a){this.xoffset=t,this.yoffset=e,this.height=a,this.width=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],a=this.xoffset,s=this.yoffset,o=c(t)/this.height,n=c(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([a,s,a+o,s+t[e]/o]),s+=t[e]/o;else for(e=0;e<t.length;e++)i.push([a,s,a+t[e]/n,s+n]),a+=t[e]/n;return i},this.cutArea=function(t){var e,i;return this.width>=this.height?(e=t/this.height,i=this.width-e,new mi(this.xoffset+e,this.yoffset,i,this.height)):(e=t/this.width,i=this.height-e,new mi(this.xoffset,this.yoffset+e,this.width,i))}}function vi(t,s,o,e,i){e=void 0===e?0:e,i=void 0===i?0:i;for(var a,n=function t(e,i,a,s){var o,n;if(0!==e.length)return n=a.shortestEdge(),function(t,e,i){var a;if(0===t.length)return 1;(a=t.slice()).push(e);e=wi(t,i),t=wi(a,i);return t<=e}(i,o=e[0],n)?(i.push(o),t(e.slice(1),i,a,s)):(n=a.cutArea(c(i),s),s.push(a.getCoordinates(i)),t(e,[],n,s)),s;s.push(a.getCoordinates(i))}(function(t){for(var e=[],i=s*o/c(t),a=0;a<t.length;a++)e[a]=t[a]*i;return e}(t),[],new mi(e,i,s,o),[]),r=[],l=0;l<n.length;l++)for(a=0;a<n[l].length;a++)r.push(n[l][a]);return r}function wi(t,e){var i=Math.min.apply(Math,t),a=Math.max.apply(Math,t),t=c(t);return Math.max(Math.pow(e,2)*a/Math.pow(t,2),Math.pow(t,2)/(Math.pow(e,2)*i))}function ki(t){return t&&t.constructor===Array}function c(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e}window.TreemapSquared={},window.TreemapSquared.generate=function t(e,i,a,s,o){s=void 0===s?0:s,o=void 0===o?0:o;var n,r,l=[],h=[];if(ki(e[0])){for(r=0;r<e.length;r++)l[r]=function t(e){var i,a=0;if(ki(e[0]))for(i=0;i<e.length;i++)a+=t(e[i]);else a=c(e);return a}(e[r]);for(n=vi(l,i,a,s,o),r=0;r<e.length;r++)h.push(t(e[r],n[r][2]-n[r][0],n[r][3]-n[r][1],n[r][0],n[r][1]))}else h=vi(e,i,a,s,o);return h};o(_i,[{key:"draw",value:function(f){var e,g=this,u=this.w,x=new E(this.ctx),b=new S(this.ctx),i=x.group({class:"apexcharts-treemap"});return u.globals.noData||(e=[],f.forEach(function(t){t=t.map(function(t){return Math.abs(t)});e.push(t)}),this.negRange=this.helpers.checkColorRange(),u.config.series.forEach(function(t,e){t.data.forEach(function(t){Array.isArray(g.labels[e])||(g.labels[e]=[]),g.labels[e].push(t.x)})}),window.TreemapSquared.generate(e,u.globals.gridWidth,u.globals.gridHeight).forEach(function(t,d){var p=x.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:M.escapeString(u.globals.seriesNames[d]),rel:d+1,"data:realIndex":d}),e=(u.config.chart.dropShadow.enabled&&(e=u.config.chart.dropShadow,new P(g.ctx).dropShadow(i,e,d)),x.group({class:"apexcharts-data-labels"}));t.forEach(function(t,e){var i=t[0],a=t[1],s=t[2],o=t[3],n=x.drawRect(i,a,s-i,o-a,0,"#fff",1,g.strokeWidth,u.config.plotOptions.treemap.useFillColorAsStroke?l:u.globals.stroke.colors[d]),r=(n.attr({cx:i,cy:a,index:d,i:d,j:e,width:s-i,height:o-a}),g.helpers.getShadeColor(u.config.chart.type,d,e,g.negRange)),l=r.color,l=(void 0!==u.config.series[d].data[e]&&u.config.series[d].data[e].fillColor&&(l=u.config.series[d].data[e].fillColor),b.fillPath({color:l,seriesNumber:d,dataPointIndex:e})),l=(n.node.classList.add("apexcharts-treemap-rect"),n.attr({fill:l}),g.helpers.addListeners(n),{x:i+(s-i)/2,y:a+(o-a)/2,width:0,height:0}),h={x:i,y:a,width:s-i,height:o-a},l=(u.config.chart.animations.enabled&&!u.globals.dataChanged&&(c=1,u.globals.resized||(c=u.config.chart.animations.speed),g.animateTreemap(n,l,h,c)),u.globals.dataChanged&&(c=1,g.dynamicAnim.enabled)&&u.globals.shouldAnimate&&(c=g.dynamicAnim.speed,u.globals.previousPaths[d]&&u.globals.previousPaths[d][e]&&u.globals.previousPaths[d][e].rect&&(l=u.globals.previousPaths[d][e].rect),g.animateTreemap(n,l,h,c)),g.getFontSize(t)),h=u.config.dataLabels.formatter(g.labels[d][e],{value:u.globals.series[d][e],seriesIndex:d,dataPointIndex:e,w:u}),c=("truncate"===u.config.plotOptions.treemap.dataLabels.format&&(l=parseInt(u.config.dataLabels.style.fontSize,10),h=g.truncateLabels(h,l,i,a,s,o)),g.helpers.calculateDataLabels({text:h,x:(i+s)/2,y:(a+o)/2+g.strokeWidth/2+l/3,i:d,j:e,colorProps:r,fontSize:l,series:f}));u.config.dataLabels.enabled&&c&&g.rotateToFitLabel(c,l,h,i,a,s,o),p.add(n),null!==c&&p.add(c)}),p.add(e),i.add(p)})),i}},{key:"getFontSize",value:function(t){var e=this.w,i=function t(e){var i,a=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)a+=t(e[i]);else for(i=0;i<e.length;i++)a+=e[i].length;return a}(this.labels)/function t(e){var i,a=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)a+=t(e[i]);else for(i=0;i<e.length;i++)a+=1;return a}(this.labels),a=t[2]-t[0],t=t[3]-t[1],a=Math.pow(a*t,.5);return Math.min(a/i,parseInt(e.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,a,s,o,n){var r=new E(this.ctx),i=r.getTextRects(i,e);i.width+this.w.config.stroke.width+5>o-a&&i.width<=n-s&&(e=r.rotateAroundCenter(t.node),t.node.setAttribute("transform","rotate(-90 ".concat(e.x," ").concat(e.y,") translate(").concat(i.height/3,")")))}},{key:"truncateLabels",value:function(t,e,i,a,s,o){var n=new E(this.ctx),o=n.getTextRects(t,e).width+this.w.config.stroke.width+5>s-i&&s-i<o-a?o-a:s-i,a=n.getTextBasedOnMaxWidth({text:t,maxWidth:o,fontSize:e});return t.length!==a.length&&o/e<5?"":a}},{key:"animateTreemap",value:function(t,e,i,a){var s=new A(this.ctx);s.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},a,function(){s.animationCompleted(t)})}}]);var p,Ai,Si=_i,Ci=(o(Ii,[{key:"calculateTimeScaleTicks",value:function(t,e){var n=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var i=new w(this.ctx),a=(e-t)/864e5,i=(this.determineInterval(a),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,a<.00011574074074074075?r.globals.disableZoomIn=!0:5e4<a&&(r.globals.disableZoomOut=!0),i.getTimeUnitsfromTimestamp(t,e,this.utc)),t=r.globals.gridWidth/a,e=t/24,s=e/60,o=s/60,l=Math.floor(24*a),h=Math.floor(1440*a),c=Math.floor(86400*a),d=Math.floor(a),p=Math.floor(a/30),a=Math.floor(a/365),i={minMillisecond:i.minMillisecond,minSecond:i.minSecond,minMinute:i.minMinute,minHour:i.minHour,minDate:i.minDate,minMonth:i.minMonth,minYear:i.minYear},f={firstVal:i,currentMillisecond:i.minMillisecond,currentSecond:i.minSecond,currentMinute:i.minMinute,currentHour:i.minHour,currentMonthDate:i.minDate,currentDate:i.minDate,currentMonth:i.minMonth,currentYear:i.minYear,daysWidthOnXAxis:t,hoursWidthOnXAxis:e,minutesWidthOnXAxis:s,secondsWidthOnXAxis:o,numberOfSeconds:c,numberOfMinutes:h,numberOfHours:l,numberOfDays:d,numberOfMonths:p,numberOfYears:a};switch(this.tickInterval){case"years":this.generateYearScale(f);break;case"months":case"half_year":this.generateMonthScale(f);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(f);break;case"hours":this.generateHourScale(f);break;case"minutes_fives":case"minutes":this.generateMinuteScale(f);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(f)}var g=this.timeScaleArray.map(function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day||1,hour:t.hour||0,month:t.month+1};return"month"===t.unit?z(z({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?z(z({},e),{},{value:t.value}):"minute"===t.unit?z(z({},e),{},{value:t.value,minute:t.value}):"second"===t.unit?z(z({},e),{},{value:t.value,minute:t.minute,second:t.second}):t});return g.filter(function(t){var e=1,i=Math.ceil(r.globals.gridWidth/120),a=t.value,s=(void 0!==r.config.xaxis.tickAmount&&(i=r.config.xaxis.tickAmount),g.length>i&&(e=Math.floor(g.length/i)),!1),o=!1;switch(n.tickInterval){case"years":"year"===t.unit&&(s=!0);break;case"half_year":e=7,"year"===t.unit&&(s=!0);break;case"months":e=1,"year"===t.unit&&(s=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(s=!0),30===a&&(o=!0);break;case"months_days":e=10,"month"===t.unit&&(s=!0),30===a&&(o=!0);break;case"week_days":e=8,"month"===t.unit&&(s=!0);break;case"days":e=1,"month"===t.unit&&(s=!0);break;case"hours":"day"===t.unit&&(s=!0);break;case"minutes_fives":case"seconds_fives":a%5!=0&&(o=!0);break;case"seconds_tens":a%10!=0&&(o=!0)}if("hours"===n.tickInterval||"minutes_fives"===n.tickInterval||"seconds_tens"===n.tickInterval||"seconds_fives"===n.tickInterval){if(!o)return!0}else if((a%e==0||s)&&!o)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,t=this.formatDates(t),t=this.removeOverlappingTS(t);i.globals.timescaleLabels=t.slice(),new Nt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case 5<t/365:this.tickInterval="years";break;case 800<t:this.tickInterval="half_year";break;case 180<t:this.tickInterval="months";break;case 90<t:this.tickInterval="months_fortnight";break;case 60<t:this.tickInterval="months_days";break;case 30<t:this.tickInterval="week_days";break;case 2<t:this.tickInterval="days";break;case 2.4<e:this.tickInterval="hours";break;case 15<i:this.tickInterval="minutes_fives";break;case 5<i:this.tickInterval="minutes";break;case 1<i:this.tickInterval="seconds_tens";break;case 20<60*i:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e,i=t.firstVal,a=t.currentMonth,s=t.currentYear,o=t.daysWidthOnXAxis,n=t.numberOfYears,t=i.minYear,r=0,l=new w(this.ctx);1<i.minDate||0<i.minMonth?(e=l.determineRemainingDaysOfYear(i.minYear,i.minMonth,i.minDate),r=(l.determineDaysOfYear(i.minYear)-e+1)*o,t=i.minYear+1,this.timeScaleArray.push({position:r,value:t,unit:"year",year:t,month:M.monthMod(a+1)})):1===i.minDate&&0===i.minMonth&&this.timeScaleArray.push({position:r,value:t,unit:"year",year:s,month:M.monthMod(a+1)});for(var h=t,c=r,d=0;d<n;d++)c=l.determineDaysOfYear(++h-1)*o+c,this.timeScaleArray.push({position:c,value:h,unit:"year",year:h,month:1})}},{key:"generateMonthScale",value:function(t){var e,i=t.firstVal,a=t.currentMonthDate,s=t.currentMonth,o=t.currentYear,n=t.daysWidthOnXAxis,r=t.numberOfMonths,t=s,l=0,h=new w(this.ctx),c="month",d=0;1<i.minDate?(l=(h.determineDaysOfMonths(s+1,i.minYear)-a+1)*n,t=M.monthMod(s+1),i=o+d,a=M.monthMod(t),0===(e=t)&&(c="year",e=i,i+=d+=a=1),this.timeScaleArray.push({position:l,value:e,unit:c,year:i,month:a})):this.timeScaleArray.push({position:l,value:t,unit:c,year:o,month:M.monthMod(s)});for(var p=t+1,f=l,g=0;g<r;g++,0){0===(p=M.monthMod(p))?(c="year",d+=1):c="month";var u=this._getYear(o,p,d),f=h.determineDaysOfMonths(p,u)*n+f;this.timeScaleArray.push({position:f,value:0===p?u:p,unit:c,year:u,month:0===p?1:p}),p++}}},{key:"generateDayScale",value:function(t){function e(t,e,i){return t>r.determineDaysOfMonths(e+1,i)&&(l="month",d=e+=h=1),e}var i=t.firstVal,a=t.currentMonth,s=t.currentYear,o=t.hoursWidthOnXAxis,n=t.numberOfDays,r=new w(this.ctx),l="day",t=i.minDate+1,h=t,c=(24-i.minHour)*o,d=t,p=e(h,a,s);0===i.minHour&&1===i.minDate?(c=0,d=M.monthMod(i.minMonth),l="month",h=i.minDate,n++):1!==i.minDate&&0===i.minHour&&0===i.minMinute&&(c=0,t=i.minDate,p=e(h=d=t,a,s)),this.timeScaleArray.push({position:c,value:d,unit:l,year:this._getYear(s,p,0),month:M.monthMod(p),day:h});for(var f=c,g=0;g<n;g++){var l="day",p=e(h+=1,p,this._getYear(s,p,0)),u=this._getYear(s,p,0),f=24*o+f,x=1===h?M.monthMod(p):h;this.timeScaleArray.push({position:f,value:x,unit:l,year:u,month:M.monthMod(p),day:x})}}},{key:"generateHourScale",value:function(t){function e(t,e){return t>l.determineDaysOfMonths(e+1,o)?e+1:e}var i=t.firstVal,a=t.currentDate,s=t.currentMonth,o=t.currentYear,n=t.minutesWidthOnXAxis,r=t.numberOfHours,l=new w(this.ctx),h="hour",t=60-(i.minMinute+i.minSecond/60),c=t*n,d=i.minHour+1,p=d+1,f=(60==t&&(c=0,p=(d=i.minHour)+1),a),g=e(f,s);this.timeScaleArray.push({position:c,value:d,unit:h,day:f,hour:p,year:o,month:M.monthMod(g)});for(var u=c,x=0;x<r;x++){h="hour",24<=p&&(p=0,h="day",b=f+=1,y=g,b>l.determineDaysOfMonths(y+1,o)&&(y+=f=1),g=e(f,g=y));var b=this._getYear(o,g,0),u=60*n+u,y=0===p?f:p;this.timeScaleArray.push({position:u,value:y,unit:h,hour:p,day:f,year:b,month:M.monthMod(g)}),p++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,a=t.currentMinute,s=t.currentHour,o=t.currentDate,n=t.currentMonth,r=t.currentYear,l=t.minutesWidthOnXAxis,h=t.secondsWidthOnXAxis,c=t.numberOfMinutes,d=a+1,p=o,f=n,g=r,u=s,x=(60-i-e/1e3)*h,b=0;b<c;b++)60<=d&&(d=0,24===(u+=1))&&(u=0),this.timeScaleArray.push({position:x,value:d,unit:"minute",hour:u,minute:d,day:p,year:this._getYear(g,f,0),month:M.monthMod(f)}),x+=l,d++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,a=t.currentMinute,s=t.currentHour,o=t.currentDate,n=t.currentMonth,r=t.currentYear,l=t.secondsWidthOnXAxis,h=t.numberOfSeconds,c=i+1,d=a,p=o,f=n,g=r,u=s,x=(1e3-e)/1e3*l,b=0;b<h;b++)60<=c&&(c=0,60<=++d)&&(d=0,24==++u)&&(u=0),this.timeScaleArray.push({position:x,value:c,unit:"second",hour:u,minute:d,second:c,day:p,year:this._getYear(g,f,0),month:M.monthMod(f)}),x+=l,c++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day||"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour||"0")).slice(-2),"minute"===t.unit?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),"second"===t.unit?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var r=this,l=this.w;return t.map(function(t){var e,i,a=t.value.toString(),s=new w(r.ctx),o=r.createRawDateString(t,a),n=s.getDate(s.parseDate(o));return r.utc||(n=s.getDate(s.parseDateWithTimezone(o))),a=void 0===l.config.xaxis.labels.format?(e="dd MMM",i=l.config.xaxis.labels.datetimeFormatter,"year"===t.unit&&(e=i.year),"month"===t.unit&&(e=i.month),"day"===t.unit&&(e=i.day),"hour"===t.unit&&(e=i.hour),"minute"===t.unit&&(e=i.minute),"second"===t.unit&&(e=i.second),s.formatDate(n,e)):s.formatDate(n,l.config.xaxis.labels.format),{dateString:o,position:t.position,value:a,unit:t.unit,year:t.year,month:t.month}})}},{key:"removeOverlappingTS",value:function(s){var o,n=this,r=new E(this.ctx),l=!1,h=(0<s.length&&s[0].value&&s.every(function(t){return t.value.length===s[0].value.length})&&(l=!0,o=r.getTextRects(s[0].value).width),0),t=s.map(function(t,e){var i,a;return 0<e&&n.w.config.xaxis.labels.hideOverlappingLabels?(i=l?o:r.getTextRects(s[h].value).width,a=s[h].position,t.position>a+i+10?(h=e,t):null):t});return t.filter(function(t){return null!==t})}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),Ii),Oi=(o(zi,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=-1<["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(i),t.xyCharts=-1<["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(i),t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type||"boxPlot"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),E.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),E.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.dom.elLegendForeign.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(a,t){var e,s=this.w,o=s.config,n=s.globals,r={series:[],i:[]},l={series:[],i:[]},h={series:[],i:[]},c={series:[],i:[]},d={series:[],i:[]},p={series:[],i:[]},f={series:[],i:[]},g={series:[],i:[]},u={series:[],seriesRangeEnd:[],i:[]},i=(n.series.map(function(t,e){var i=0;void 0!==a[e].type?("column"===a[e].type||"bar"===a[e].type?(1<n.series.length&&o.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),d.series.push(t),d.i.push(e),i++,s.globals.columnSeries=d.series):"area"===a[e].type?(l.series.push(t),l.i.push(e),i++):"line"===a[e].type?(r.series.push(t),r.i.push(e),i++):"scatter"===a[e].type?(h.series.push(t),h.i.push(e)):"bubble"===a[e].type?(c.series.push(t),c.i.push(e),i++):"candlestick"===a[e].type?(p.series.push(t),p.i.push(e),i++):"boxPlot"===a[e].type?(f.series.push(t),f.i.push(e),i++):"rangeBar"===a[e].type?(g.series.push(t),g.i.push(e),i++):"rangeArea"===a[e].type?(u.series.push(n.seriesRangeStart[e]),u.seriesRangeEnd.push(n.seriesRangeEnd[e]),u.i.push(e),i++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),1<i&&(n.comboCharts=!0)):(r.series.push(t),r.i.push(e))}),new bi(this.ctx,t)),x=new se(this.ctx,t),b=(this.ctx.pie=new le(this.ctx),new ce(this.ctx)),y=(this.ctx.rangeBar=new de(this.ctx,t),new he(this.ctx)),m=[];if(n.comboCharts)0<l.series.length&&m.push(i.draw(l.series,"area",l.i)),0<d.series.length&&(s.config.chart.stacked?(e=new ae(this.ctx,t),m.push(e.draw(d.series,d.i))):(this.ctx.bar=new T(this.ctx,t),m.push(this.ctx.bar.draw(d.series,d.i)))),0<u.series.length&&m.push(i.draw(u.series,"rangeArea",u.i,u.seriesRangeEnd)),0<r.series.length&&m.push(i.draw(r.series,"line",r.i)),0<p.series.length&&m.push(x.draw(p.series,"candlestick",p.i)),0<f.series.length&&m.push(x.draw(f.series,"boxPlot",f.i)),0<g.series.length&&m.push(this.ctx.rangeBar.draw(g.series,g.i)),0<h.series.length&&(e=new bi(this.ctx,t,!0),m.push(e.draw(h.series,"scatter",h.i))),0<c.series.length&&(x=new bi(this.ctx,t,!0),m.push(x.draw(c.series,"bubble",c.i)));else switch(o.chart.type){case"line":m=i.draw(n.series,"line");break;case"area":m=i.draw(n.series,"area");break;case"bar":m=(o.chart.stacked?new ae(this.ctx,t):(this.ctx.bar=new T(this.ctx,t),this.ctx.bar)).draw(n.series);break;case"candlestick":m=new se(this.ctx,t).draw(n.series,"candlestick");break;case"boxPlot":m=new se(this.ctx,t).draw(n.series,o.chart.type);break;case"rangeBar":m=this.ctx.rangeBar.draw(n.series);break;case"rangeArea":m=i.draw(n.seriesRangeStart,"rangeArea",void 0,n.seriesRangeEnd);break;case"heatmap":m=new ne(this.ctx,t).draw(n.series);break;case"treemap":m=new Si(this.ctx,t).draw(n.series);break;case"pie":case"donut":case"polarArea":m=this.ctx.pie.draw(n.series);break;case"radialBar":m=b.draw(n.series);break;case"radar":m=y.draw(n.series);break;default:m=i.draw(n.series)}return m}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config,i=(t.svgWidth=e.chart.width,t.svgHeight=e.chart.height,M.getDimensions(this.el)),a=e.chart.width.toString().split(/[0-9]+/g).pop(),i=("%"===a?M.isNumber(i[0])&&(0===i[0].width&&(i=M.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==a&&""!==a||(t.svgWidth=parseInt(e.chart.width,10)),e.chart.height.toString().split(/[0-9]+/g).pop());"auto"!==t.svgHeight&&""!==t.svgHeight?"%"===i?(a=M.getDimensions(this.el.parentNode),t.svgHeight=a[1]*parseInt(e.chart.height,10)/100):t.svgHeight=parseInt(e.chart.height,10):t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2,t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),E.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==i&&(a=!e.chart.sparkline.enabled&&t.axisCharts?e.chart.parentHeightOffset:0,t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+a+"px"),t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,e={transform:"translate("+t.translateX+", "+e+")"};E.setAttrs(t.dom.elGraphical.node,e)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,a=t.config.chart.sparkline.enabled?1:15,s=(a+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new Vt(this.ctx).legendHelpers.getLegendBBox().clwh+10),t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie")),o=2.05*t.globals.radialSize,s=(s&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle&&(o=(s=M.getBoundingClientRect(s)).bottom,s=s.bottom-s.top,o=Math.max(2.05*t.globals.radialSize,s)),o+e.translateY+i+a);e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",s),t.config.chart.height&&0<String(t.config.chart.height).indexOf("%")||(e.dom.elWrap.style.height=s+"px",E.setAttrs(e.dom.Paper.node,{height:s}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=s+"px")}},{key:"coreCalculations",value:function(){new It(this.ctx).init()}},{key:"resetGlobals",value:function(){function t(){return e.w.config.series.map(function(t){return[]})}var e=this,i=new At,a=this.w.globals;i.initGlobalVars(a),a.seriesXvalues=t(),a.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&1<this.w.config.yaxis.length)return this.w.globals.isMultipleYAxis=!0}},{key:"xySettings",value:function(){var t,e=null,i=this.w;return i.globals.axisCharts&&("back"===i.config.xaxis.crosshairs.position&&new Xt(this.ctx).drawXCrosshairs(),"back"===i.config.yaxis[0].crosshairs.position&&new Xt(this.ctx).drawYCrosshairs(),"datetime"===i.config.xaxis.type&&void 0===i.config.xaxis.labels.formatter&&(this.ctx.timeScale=new Ci(this.ctx),t=[],isFinite(i.globals.minX)&&isFinite(i.globals.maxX)&&!i.globals.isBarHorizontal?t=this.ctx.timeScale.calculateTimeScaleTicks(i.globals.minX,i.globals.maxX):i.globals.isBarHorizontal&&(t=this.ctx.timeScale.calculateTimeScaleTicks(i.globals.minY,i.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(t)),e=new _(this.ctx).getCalculatedRatios()),e}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var i,a=this,o=this.w;o.config.chart.brush.enabled&&"function"!=typeof o.config.chart.events.selection&&((i=Array.isArray(o.config.chart.brush.targets)||[o.config.chart.brush.target]).forEach(function(t){var e=ApexCharts.getChartByID(t);e.w.globals.brushSource=a.ctx,"function"!=typeof e.w.config.chart.events.zoomed&&(e.w.config.chart.events.zoomed=function(){a.updateSourceChart(e)}),"function"!=typeof e.w.config.chart.events.scrolled&&(e.w.config.chart.events.scrolled=function(){a.updateSourceChart(e)})}),o.config.chart.events.selection=function(t,e){i.forEach(function(t){var a=ApexCharts.getChartByID(t),s=M.clone(o.config.yaxis),t=(o.config.chart.brush.autoScaleYaxis&&1===a.w.globals.series.length&&(s=new x(a).autoScaleY(a,s,e)),a.w.config.yaxis.reduce(function(t,e,i){return[].concat(v(t),[z(z({},a.w.config.yaxis[i]),{},{min:s[0].min,max:s[0].max})])},[]));a.ctx.updateHelpers._updateOptions({xaxis:{min:e.xaxis.min,max:e.xaxis.max},yaxis:t},!1,!1,!1,!1)})})}}]),zi),Pi=(o(Li,[{key:"_updateOptions",value:function(h){var c=this,d=1<arguments.length&&void 0!==arguments[1]&&arguments[1],p=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],t=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],f=4<arguments.length&&void 0!==arguments[4]&&arguments[4];return new Promise(function(r){var l=[c.ctx];t&&(l=c.ctx.getSyncedCharts()),c.ctx.w.globals.isExecCalled&&(l=[c.ctx],c.ctx.w.globals.isExecCalled=!1),l.forEach(function(t,e){var i=t.w;if(i.globals.shouldAnimate=p,d||(i.globals.resized=!0,i.globals.dataChanged=!0,p&&t.series.getPreviousPaths()),h&&"object"===m(h)&&(t.config=new g(h),h=_.extendArrayProps(t.config,h,i),t.w.globals.chartID!==c.ctx.w.globals.chartID&&delete h.series,i.config=M.extend(i.config,h),f)&&(i.globals.lastXAxis=h.xaxis?M.clone(h.xaxis):[],i.globals.lastYAxis=h.yaxis?M.clone(h.yaxis):[],i.globals.initialConfig=M.extend({},i.config),i.globals.initialSeries=M.clone(i.config.series),h.series)){for(var a=0;a<i.globals.collapsedSeriesIndices.length;a++){var s=i.config.series[i.globals.collapsedSeriesIndices[a]];i.globals.collapsedSeries[a].data=i.globals.axisCharts?s.data.slice():s}for(var o=0;o<i.globals.ancillaryCollapsedSeriesIndices.length;o++){var n=i.config.series[i.globals.ancillaryCollapsedSeriesIndices[o]];i.globals.ancillaryCollapsedSeries[o].data=i.globals.axisCharts?n.data.slice():n}t.series.emptyCollapsedSeries(i.config.series)}return t.update(h).then(function(){e===l.length-1&&r(t)})})})}},{key:"_updateSeries",value:function(a,s){var o=this,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new Promise(function(t){var e,i=o.w;return i.globals.shouldAnimate=s,i.globals.dataChanged=!0,s&&o.ctx.series.getPreviousPaths(),i.globals.axisCharts?(0===(e=a.map(function(t,e){return o._extendSeries(t,e)})).length&&(e=[{data:[]}]),i.config.series=e):i.config.series=a.slice(),n&&(i.globals.initialConfig.series=M.clone(i.config.series),i.globals.initialSeries=M.clone(i.config.series)),o.ctx.update().then(function(){t(o.ctx)})})}},{key:"_extendSeries",value:function(t,e){var i=this.w,a=i.config.series[e];return z(z({},i.config.series[e]),{},{name:t.name||a&&a.name,color:t.color||a&&a.color,type:t.type||a&&a.type,group:t.group||a&&a.group,data:t.data||a&&a.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,a=null,s=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?a=i.globals.dom.Paper.select("".concat(s," path[j='").concat(e,"'], ").concat(s," circle[j='").concat(e,"'], ").concat(s," rect[j='").concat(e,"']")).members[0]:void 0===e&&(a=i.globals.dom.Paper.select("".concat(s," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),a?(new E(this.ctx).pathMouseDown(a,null),a.node||null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t,i=this.w;return["min","max"].forEach(function(t){void 0!==e.xaxis[t]&&(i.config.xaxis[t]=e.xaxis[t],i.globals.lastXAxis[t]=e.xaxis[t])}),e.xaxis.categories&&e.xaxis.categories.length&&(i.config.xaxis.categories=e.xaxis.categories),i.config.xaxis.convertedCatToNumeric&&(t=new h(e),e=t.convertCatToNumericXaxis(e,this.ctx)),e}},{key:"forceYAxisUpdate",value:function(i){return i.chart&&i.chart.stacked&&"100%"===i.chart.stackType&&(Array.isArray(i.yaxis)?i.yaxis.forEach(function(t,e){i.yaxis[e].min=0,i.yaxis[e].max=100}):(i.yaxis.min=0,i.yaxis.max=100)),i}},{key:"revertDefaultAxisMinMax",value:function(t){var a=this,s=this.w,e=s.globals.lastXAxis,o=s.globals.lastYAxis;t&&t.xaxis&&(e=t.xaxis),t&&t.yaxis&&(o=t.yaxis),s.config.xaxis.min=e.min,s.config.xaxis.max=e.max;s.config.yaxis.map(function(t,e){var i;s.globals.zoomed||void 0!==o[e]?void 0!==o[i=e]&&(s.config.yaxis[i].min=o[i].min,s.config.yaxis[i].max=o[i].max):void 0!==a.ctx.opts.yaxis[e]&&(t.min=a.ctx.opts.yaxis[e].min,t.max=a.ctx.opts.yaxis[e].max)})}}]),Li);function Li(t){a(this,Li),this.ctx=t,this.w=t.w}function zi(t,e){a(this,zi),this.ctx=e,this.w=e.w,this.el=t}function Ii(t){a(this,Ii),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}function _i(t,e){a(this,_i),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new oe(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}function f(t){(this.el=t).remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){e="string"!=typeof t?t:e[t];return i?e/2:e},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}function Ti(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function Mi(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function Ei(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=+t[4]/3+2*t[2]/3,t[3]=+t[3]/3+2*t[1]/3,t[2]=+this.pos[1]/3+2*t[2]/3,t[1]=+this.pos[0]/3+2*t[1]/3;break;case"A":t=(e=function(t,e){var i,a,s,o,n,r,l,h,c,d,p,f,g,u,x,b,y,m,v,w=Math.abs(e[1]),k=Math.abs(e[2]),A=e[3]%360,S=e[4],C=e[5],O=e[6],P=e[7],e=new SVG.Point(t),t=new SVG.Point(O,P),L=[];if(0===w||0===k||e.x===t.x&&e.y===t.y)return[["C",e.x,e.y,t.x,t.y,t.x,t.y]];for(1<(n=(n=new SVG.Point((e.x-t.x)/2,(e.y-t.y)/2).transform((new SVG.Matrix).rotate(A))).x*n.x/(w*w)+n.y*n.y/(k*k))&&(w*=n=Math.sqrt(n),k*=n),i=(new SVG.Matrix).rotate(A).scale(1/w,1/k).rotate(-A),e=e.transform(i),s=(n=[(t=t.transform(i)).x-e.x,t.y-e.y])[0]*n[0]+n[1]*n[1],o=Math.sqrt(s),n[0]/=o,n[1]/=o,o=s<4?Math.sqrt(1-s/4):0,S===C&&(o*=-1),a=new SVG.Point((t.x+e.x)/2+o*-n[1],(t.y+e.y)/2+o*n[0]),s=new SVG.Point(e.x-a.x,e.y-a.y),S=new SVG.Point(t.x-a.x,t.y-a.y),o=Math.acos(s.x/Math.sqrt(s.x*s.x+s.y*s.y)),s.y<0&&(o*=-1),n=Math.acos(S.x/Math.sqrt(S.x*S.x+S.y*S.y)),S.y<0&&(n*=-1),C&&n<o&&(n+=2*Math.PI),!C&&o<n&&(n-=2*Math.PI),c=[],r=(n-(d=o))/(l=Math.ceil(2*Math.abs(o-n)/Math.PI)),h=4*Math.tan(r/4)/3,u=0;u<=l;u++)f=Math.cos(d),p=Math.sin(d),g=new SVG.Point(a.x+f,a.y+p),c[u]=[new SVG.Point(g.x+h*p,g.y-h*f),g,new SVG.Point(g.x-h*p,g.y+h*f)],d+=r;for(c[0][0]=c[0][1].clone(),c[c.length-1][2]=c[c.length-1][1].clone(),i=(new SVG.Matrix).rotate(A).scale(w,k).rotate(-A),u=0,x=c.length;u<x;u++)c[u][0]=c[u][0].transform(i),c[u][1]=c[u][1].transform(i),c[u][2]=c[u][2].transform(i);for(u=1,x=c.length;u<x;u++)b=(g=c[u-1][2]).x,y=g.y,m=(g=c[u][0]).x,v=g.y,O=(g=c[u][1]).x,P=g.y,L.push(["C",b,y,m,v,O,P]);return L}(this.pos,t))[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function Xi(t,e){if(!1!==e)for(var i=e,a=t.length;i<a;++i)if("M"==t[i][0])return i;return!1}p="undefined"!=typeof window?window:void 0,Ai=function(s,o){var h=(void 0!==this?this:s).SVG=function(t){if(h.supported)return t=new h.Doc(t),h.parser.draw||h.prepare(),t};if(h.ns="http://www.w3.org/2000/svg",h.xmlns="http://www.w3.org/2000/xmlns/",h.xlink="http://www.w3.org/1999/xlink",h.svgjs="http://svgjs.dev",h.supported=!0,!h.supported)return!1;h.did=1e3,h.eid=function(t){return"Svgjs"+r(t)+h.did++},h.create=function(t){var e=o.createElementNS(this.ns,t);return e.setAttribute("id",this.eid(t)),e},h.extend=function(){for(var t,e=(t=[].slice.call(arguments)).pop(),i=t.length-1;0<=i;i--)if(t[i])for(var a in e)t[i].prototype[a]=e[a];h.Set&&h.Set.inherit&&h.Set.inherit()},h.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,h.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&h.extend(e,t.extend),t.construct&&h.extend(t.parent||h.Container,t.construct),e},h.adopt=function(t){return t?t.instance||((e="svg"==t.nodeName?new(t.parentNode instanceof s.SVGElement?h.Nested:h.Doc):"linearGradient"==t.nodeName?new h.Gradient("linear"):"radialGradient"==t.nodeName?new h.Gradient("radial"):h[r(t.nodeName)]?new h[r(t.nodeName)]:new h.Element(t)).type=t.nodeName,((e.node=t).instance=e)instanceof h.Doc&&e.namespace().defs(),e.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),e):null;var e},h.prepare=function(){var t=o.getElementsByTagName("body")[0],e=(t?new h.Doc(t):h.adopt(o.documentElement).nested()).size(2,0);h.parser={body:t||o.documentElement,draw:e.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:e.polyline().node,path:e.path().node,native:h.create("svg")}},h.parser={native:h.create("svg")},o.addEventListener("DOMContentLoaded",function(){h.parser.draw||h.prepare()},!1),h.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},h.utils={map:function(t,e){for(var i=t.length,a=[],s=0;s<i;s++)a.push(e(t[s]));return a},filter:function(t,e){for(var i=t.length,a=[],s=0;s<i;s++)e(t[s])&&a.push(t[s]);return a},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof s.SVGElement})}},h.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},h.Color=function(t){var e,i;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?h.regex.isRgb.test(t)?(e=h.regex.rgb.exec(t.replace(h.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):h.regex.isHex.test(t)&&(e=h.regex.hex.exec(4==(i=t).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===m(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},h.extend(h.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new h.Color(t),this},at:function(t){return this.destination?new h.Color({r:~~(this.r+(this.destination.r-this.r)*(t=t<0?0:1<t?1:t)),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)}):this}}),h.Color.test=function(t){return h.regex.isHex.test(t+="")||h.regex.isRgb.test(t)},h.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},h.Color.isColor=function(t){return h.Color.isRgb(t)||h.Color.test(t)},h.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},h.extend(h.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),h.PointArray=function(t,e){h.Array.call(this,t,e||[[0,0]])},h.PointArray.prototype=new h.Array,h.PointArray.prototype.constructor=h.PointArray;for(var l={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},t="mlhvqtcsaz".split(""),e=0,i=t.length;e<i;++e)l[t[e]]=function(o){return function(t,e,i){if("H"==o)t[0]=t[0]+e.x;else if("V"==o)t[0]=t[0]+e.y;else if("A"==o)t[5]=t[5]+e.x,t[6]=t[6]+e.y;else for(var a=0,s=t.length;a<s;++a)t[a]=t[a]+(a%2?e.y:e.x);if(l&&"function"==typeof l[o])return l[o](t,e,i)}}(t[e].toUpperCase());h.PathArray=function(t,e){h.Array.call(this,t,e||[["M",0,0]])},h.PathArray.prototype=new h.Array,h.PathArray.prototype.constructor=h.PathArray,h.extend(h.PathArray,{toString:function(){for(var t=this.value,e=0,i=t.length,a="";e<i;e++)a+=t[e][0],null!=t[e][1]&&(a+=t[e][1],null!=t[e][2])&&(a=a+" "+t[e][2],null!=t[e][3])&&(a=(a=a+" "+t[e][3])+" "+t[e][4],null!=t[e][5])&&(a=(a=a+" "+t[e][5])+" "+t[e][6],null!=t[e][7])&&(a=a+" "+t[e][7]);return a+" "},move:function(t,e){var i=this.bbox();return i.x,i.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,i=this.destination.value,a=[],s=new h.PathArray,o=0,n=e.length;o<n;o++){a[o]=[e[o][0]];for(var r=1,l=e[o].length;r<l;r++)a[o][r]=e[o][r]+(i[o][r]-e[o][r])*t;"A"===a[o][0]&&(a[o][4]=+(0!=a[o][4]),a[o][5]=+(0!=a[o][5]))}return s.value=a,s},parse:function(t){if(t instanceof h.PathArray)return t.valueOf();for(var e,i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},a=(t="string"==typeof t?t.replace(h.regex.numbersWithDots,c).replace(h.regex.pathLetters," $& ").replace(h.regex.hyphen,"$1 -").trim().split(h.regex.delimiter):t.reduce(function(t,e){return[].concat.call(t,e)},[]),[]),s=new h.Point,o=new h.Point,n=0,r=t.length;h.regex.isPathLetter.test(t[n])?(e=t[n],++n):"M"==e?e="L":"m"==e&&(e="l"),a.push(l[e].call(null,t.slice(n,n+=i[e.toUpperCase()]).map(parseFloat),s,o)),n<r;);return a},bbox:function(){return h.parser.draw||h.prepare(),h.parser.path.setAttribute("d",this.toString()),h.parser.path.getBBox()}}),h.Number=h.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(h.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof h.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new h.Number(t),new h.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new h.Number(t),new h.Number(this-t,this.unit||t.unit)},times:function(t){return t=new h.Number(t),new h.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new h.Number(t),new h.Number(this/t,this.unit||t.unit)},to:function(t){var e=new h.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new h.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new h.Number(this.destination).minus(this).times(t).plus(this):this}}}),h.Element=h.invent({create:function(t){this._stroke=h.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,(this.node.instance=this)._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){t=p(this,t,e);return this.width(new h.Number(t.width)).height(new h.Number(t.height))},clone:function(t){this.writeDataToDom();var e=u(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(h.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){var e;return this.hasClass(t)||((e=this.classes()).push(t),this.attr("class",e.join(" "))),this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!=e}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return h.get(this.attr(t))},parent:function(t){var e=this;if(!e.node.parentNode)return null;if(e=h.adopt(e.node.parentNode),!t)return e;for(;e&&e.node instanceof s.SVGElement;){if("string"==typeof t?e.matches(t):e instanceof t)return e;if(!e.node.parentNode||"#document"==e.node.parentNode.nodeName)return null;e=h.adopt(e.node.parentNode)}},doc:function(){return this instanceof h.Doc?this:this.parent(h.Doc)},parents:function(t){for(var e=[],i=this;(i=i.parent(t))&&i.node&&(e.push(i),i.parent););return e},matches:function(t){return((e=this.node).matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t);var e},native:function(){return this.node},svg:function(t){var e=o.createElement("svg");if(!(t&&this instanceof h.Parent))return e.appendChild(t=o.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),e.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");e.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var i=0,a=e.firstChild.childNodes.length;i<a;i++)this.node.appendChild(e.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return this instanceof t}}}),h.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},h.morph=function(i){return function(t,e){return new h.MorphObj(t,e).at(i)}},h.Situation=h.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new h.Number(t.duration).valueOf(),this.delay=new h.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),h.FX=h.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,i){"object"===m(t)&&(e=t.ease,i=t.delay,t=t.duration);t=new h.Situation({duration:t||1e3,delay:i||0,ease:h.easing[e||"-"]||e});return this.queue(t),this},target:function(t){return t&&t instanceof h.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=s.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){s.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof h.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof h.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(!e.init){for(var i in e.animations){t=this.target()[i](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[i])||(e.animations[i]=[e.animations[i]]);for(var a=t.length;a--;)e.animations[i][a]instanceof h.Number&&(t[a]=new h.Number(t[a])),e.animations[i][a]=t[a].morph(e.animations[i][a])}for(var i in e.attrs)e.attrs[i]=new h.MorphObj(this.target().attr(i),e.attrs[i]);for(var i in e.styles)e.styles[i]=new h.MorphObj(this.target().style(i),e.styles[i]);e.initialTransformation=this.target().matrixify(),e.init=!0}return this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(i||this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(i){var a=this.last();return this.target().on("finished.fx",function t(e){e.detail.situation==a&&(i.call(this,a),this.off("finished.fx",t))}),this._callStart()},during:function(e){function t(t){t.detail.situation==i&&e.call(this,t.detail.pos,h.morph(t.detail.pos),t.detail.eased,i)}var i=this.last();return this.target().off("during.fx",t).on("during.fx",t),this.after(function(){this.off("during.fx",t)}),this._callStart()},afterAll:function(e){function i(t){e.call(this),this.off("allfinished.fx",i)}return this.target().off("allfinished.fx",i).on("allfinished.fx",i),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),e=Math.floor(t),!0===this.situation.loops||e<this.situation.loops?(this.pos=t-e,i=this.situation.loop,this.situation.loop=e):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var e,i,a,s=this.situation.ease(this.pos);for(a in this.situation.once)a>this.lastPos&&a<=s&&(this.situation.once[a].call(this.target(),this.pos,s),delete this.situation.once[a]);return this.active&&this.target().fire("during",{pos:this.pos,eased:s,fx:this,situation:this.situation}),this.situation&&(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length)||(this.target().off(".fx"),this.active=!1),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=s),this},eachAt:function(){var t,e=this,i=this.target(),a=this.situation;for(t in a.animations)n=[].concat(a.animations[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t}),i[t].apply(i,n);for(t in a.attrs)n=[t].concat(a.attrs[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t}),i.attr.apply(i,n);for(t in a.styles)n=[t].concat(a.styles[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(a.ease(e.pos),e.pos):t}),i.style.apply(i,n);if(a.transforms.length){n=a.initialTransformation,t=0;for(var s=a.transforms.length;t<s;t++)var o=a.transforms[t],n=o instanceof h.Matrix?o.relative?n.multiply((new h.Matrix).morph(o).at(a.ease(this.pos))):n.morph(o).at(a.ease(this.pos)):(o.relative||o.undo(n.extract()),n.multiply(o.at(a.ease(this.pos))));i.matrix(n)}return this},once:function(t,e,i){var a=this.last();return i||(t=a.ease(t)),a.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:h.Element,construct:{animate:function(t,e,i){return(this.fx||(this.fx=new h.FX(this))).animate(t,e,i)},delay:function(t){return(this.fx||(this.fx=new h.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),h.MorphObj=h.invent({create:function(t,e){return h.Color.isColor(e)?new h.Color(t).morph(e):h.regex.delimiter.test(t)?new(h.regex.pathLetters.test(t)?h.PathArray:h.Array)(t).morph(e):h.regex.numberAndUnit.test(e)?new h.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),h.extend(h.FX,{attr:function(t,e,i){if("object"===m(t))for(var a in t)this.attr(a,t[a]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,a){return 4==arguments.length?this.plot([t,e,i,a]):this.add("plot",new(this.target().morphArray)(t))}}),h.Box=h.invent({create:function(t,e,i,a){if(!("object"!==m(t)||t instanceof h.Element))return h.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=i,this.height=a),null==(t=this).x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2}}),h.BBox=h.invent({create:function(e){if(h.Box.apply(this,[].slice.call(arguments)),e instanceof h.Element){var i,a;try{if(!o.documentElement.contains){for(var t=e.node;t.parentNode;)t=t.parentNode;if(t!=o)throw new Error("Element not in the dom")}i=e.node.getBBox()}catch(t){e instanceof h.Shape?(h.parser.draw||h.prepare(),(a=e.clone(h.parser.draw.instance).show())&&a.node&&"function"==typeof a.node.getBBox&&(i=a.node.getBBox()),a&&"function"==typeof a.remove&&a.remove()):i={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}h.Box.call(this,i)}},inherit:h.Box,parent:h.Element,construct:{bbox:function(){return new h.BBox(this)}}}),h.BBox.prototype.constructor=h.BBox,h.Matrix=h.invent({create:function(t){var e=g([1,0,0,1,0,0]);t=null===t?e:t instanceof h.Element?t.matrixify():"string"==typeof t?g(t.split(h.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(t)?g(t):t&&"object"===m(t)?t:e;for(var i=y.length-1;0<=i;--i)this[y[i]]=(null!=t[y[i]]?t:e)[y[i]]},extend:{extract:function(){var t=f(this,0,1),t=(f(this,1,0),180/Math.PI*Math.atan2(t.y,t.x)-90);return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new h.Matrix(this)}},clone:function(){return new h.Matrix(this)},morph:function(t){return this.destination=new h.Matrix(t),this},multiply:function(t){return new h.Matrix(this.native().multiply((t=(t=t)instanceof h.Matrix?t:new h.Matrix(t)).native()))},inverse:function(){return new h.Matrix(this.native().inverse())},translate:function(t,e){return new h.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=h.parser.native.createSVGMatrix(),e=y.length-1;0<=e;e--)t[y[e]]=this[y[e]];return t},toString:function(){return"matrix("+x(this.a)+","+x(this.b)+","+x(this.c)+","+x(this.d)+","+x(this.e)+","+x(this.f)+")"}},parent:h.Element,construct:{ctm:function(){return new h.Matrix(this.node.getCTM())},screenCTM:function(){var t,e;return this instanceof h.Nested?(e=(t=this.rect(1,1)).node.getScreenCTM(),t.remove(),new h.Matrix(e)):new h.Matrix(this.node.getScreenCTM())}}}),h.Point=h.invent({create:function(t,e){e=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===m(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0};this.x=e.x,this.y=e.y},extend:{clone:function(){return new h.Point(this)},morph:function(t,e){return this.destination=new h.Point(t,e),this}}}),h.extend(h.Element,{point:function(t,e){return new h.Point(t,e).transform(this.screenCTM().inverse())}}),h.extend(h.Element,{attr:function(t,e,i){if(null==t){for(t={},i=(e=this.node.attributes).length-1;0<=i;i--)t[e[i].nodeName]=h.regex.isNumber.test(e[i].nodeValue)?parseFloat(e[i].nodeValue):e[i].nodeValue;return t}if("object"===m(t))for(var a in t)this.attr(a,t[a]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?h.defaults.attrs[t]:h.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",0<parseFloat(e)?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(e=h.regex.isImage.test(e)?this.doc().defs().image(e,0,0):e)instanceof h.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)})),"number"==typeof e?e=new h.Number(e):h.Color.isColor(e)?e=new h.Color(e):Array.isArray(e)&&(e=new h.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof i?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),h.extend(h.Element,{transform:function(t,e){var i;return"object"!==m(t)?(i=new h.Matrix(this).extract(),"string"==typeof t?i[t]:i):(i=new h.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(i=e?i.multiply(new h.Matrix(t)):new h.Matrix(t)),this.attr("transform",i))}}),h.extend(h.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(h.regex.transforms).slice(0,-1).map(function(t){t=t.trim().split("(");return[t[0],t[1].split(h.regex.delimiter).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(g(e[1])):t[e[0]].apply(t,e[1])},new h.Matrix)},toParent:function(t){var e,i;return this!=t&&(e=this.screenCTM(),i=t.screenCTM().inverse(),this.addTo(t).untransform().transform(i.multiply(e))),this},toDoc:function(){return this.toParent(this.doc())}}),h.Transformation=h.invent({create:function(t,e){if(1<arguments.length&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,a=this.arguments.length;i<a;++i)this[this.arguments[i]]=t[i];else if(t&&"object"===m(t))for(i=0,a=this.arguments.length;i<a;++i)this[this.arguments[i]]=t[this.arguments[i]];!(this.inversed=!1)===e&&(this.inversed=!0)}}),h.Translate=h.invent({parent:h.Matrix,inherit:h.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),h.extend(h.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===m(t))for(var i in t)this.style(i,t[i]);else{if(!h.regex.isCss.test(t))return this.node.style[n(t)];for(t=t.split(/\s*;\s*/).filter(function(t){return!!t}).map(function(t){return t.split(/\s*:\s*/)});e=t.pop();)this.style(e[0],e[1])}else this.node.style[n(t)]=null===e||h.regex.isBlank.test(e)?"":e;return this}}),h.Parent=h.invent({create:function(t){this.constructor.call(this,t)},inherit:h.Element,extend:{children:function(){return h.utils.map(h.utils.filterSVGElements(this.node.childNodes),function(t){return h.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return 0<=this.index(t)},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return h.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var i=this.children(),a=0,s=i.length;a<s;a++)i[a]instanceof h.Element&&t.apply(i[a],[a,i]),e&&i[a]instanceof h.Container&&i[a].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),h.extend(h.Parent,{ungroup:function(t,e){return 0===e||this instanceof h.Defs||this.node==h.parser.draw||(t=t||(this instanceof h.Doc?this:this.parent(h.Parent)),e=e||1/0,this.each(function(){return this instanceof h.Defs?this:this instanceof h.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild)||this.remove(),this},flatten:function(t,e){return this.ungroup(t,e)}}),h.Container=h.invent({create:function(t){this.constructor.call(this,t)},inherit:h.Parent}),h.ViewBox=h.invent({parent:h.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){h.Element.prototype[e]=function(t){return h.on(this.node,e,t),this}}),h.listeners=[],h.handlerMap=[],h.listenerId=0,h.on=function(t,e,i,a,s){var a=i.bind(a||t.instance||t),o=(h.handlerMap.indexOf(t)+1||h.handlerMap.push(t))-1,n=e.split(".")[0],e=e.split(".")[1]||"*";h.listeners[o]=h.listeners[o]||{},h.listeners[o][n]=h.listeners[o][n]||{},h.listeners[o][n][e]=h.listeners[o][n][e]||{},i._svgjsListenerId||(i._svgjsListenerId=++h.listenerId),h.listeners[o][n][e][i._svgjsListenerId]=a,t.addEventListener(n,a,s||{passive:!0})},h.off=function(t,e,i){var a=h.handlerMap.indexOf(t),s=e&&e.split(".")[0],o=e&&e.split(".")[1],n="";if(-1!=a)if(i)!(i="function"==typeof i?i._svgjsListenerId:i)||h.listeners[a][s]&&h.listeners[a][s][o||"*"]&&(t.removeEventListener(s,h.listeners[a][s][o||"*"][i],!1),delete h.listeners[a][s][o||"*"][i]);else if(o&&s){if(h.listeners[a][s]&&h.listeners[a][s][o]){for(var r in h.listeners[a][s][o])h.off(t,[s,o].join("."),r);delete h.listeners[a][s][o]}}else if(o)for(var l in h.listeners[a])for(var n in h.listeners[a][l])o===n&&h.off(t,[l,o].join("."));else if(s){if(h.listeners[a][s]){for(var n in h.listeners[a][s])h.off(t,[s,n].join("."));delete h.listeners[a][s]}}else{for(var l in h.listeners[a])h.off(t,l);delete h.listeners[a],delete h.handlerMap[a]}},h.extend(h.Element,{on:function(t,e,i,a){return h.on(this.node,t,e,i,a),this},off:function(t,e){return h.off(this.node,t,e),this},fire:function(t,e){return t instanceof s.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new h.CustomEvent(t,{detail:e,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),h.Defs=h.invent({create:"defs",inherit:h.Container}),h.G=h.invent({create:"g",inherit:h.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new h.G)}}}),h.Doc=h.invent({create:function(t){t&&("svg"==(t="string"==typeof t?o.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,h.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:h.Container,extend:{namespace:function(){return this.attr({xmlns:h.ns,version:"1.1"}).attr("xmlns:xlink",h.xlink,h.xmlns).attr("xmlns:svgjs",h.svgjs,h.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=h.adopt(t):this._defs=new h.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,h.parser.draw&&!h.parser.draw.parentNode&&this.node.appendChild(h.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=u(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),h.extend(h.Element,{}),h.Gradient=h.invent({create:function(t){this.constructor.call(this,h.create(t+"Gradient")),this.type=t},inherit:h.Container,extend:{at:function(t,e,i){return this.put(new h.Stop).update(t,e,i)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,i){return h.Container.prototype.attr.call(this,t="transform"==t?"gradientTransform":t,e,i)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),h.extend(h.Gradient,h.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new h.Number(t),fy:new h.Number(e)}):this.attr({x1:new h.Number(t),y1:new h.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new h.Number(t),cy:new h.Number(e)}):this.attr({x2:new h.Number(t),y2:new h.Number(e)})}}),h.extend(h.Defs,{gradient:function(t,e){return this.put(new h.Gradient(t)).update(e)}}),h.Stop=h.invent({create:"stop",inherit:h.Element,extend:{update:function(t){return null!=(t="number"==typeof t||t instanceof h.Number?{offset:arguments[0],color:arguments[1],opacity:arguments[2]}:t).opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new h.Number(t.offset)),this}}}),h.Pattern=h.invent({create:"pattern",inherit:h.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,i){return h.Container.prototype.attr.call(this,t="transform"==t?"patternTransform":t,e,i)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),h.extend(h.Defs,{pattern:function(t,e,i){return this.put(new h.Pattern).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),h.Shape=h.invent({create:function(t){this.constructor.call(this,t)},inherit:h.Element}),h.Symbol=h.invent({create:"symbol",inherit:h.Container,construct:{symbol:function(){return this.put(new h.Symbol)}}}),h.Use=h.invent({create:"use",inherit:h.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,h.xlink)}},construct:{use:function(t,e){return this.put(new h.Use).element(t,e)}}}),h.Rect=h.invent({create:"rect",inherit:h.Shape,construct:{rect:function(t,e){return this.put(new h.Rect).size(t,e)}}}),h.Circle=h.invent({create:"circle",inherit:h.Shape,construct:{circle:function(t){return this.put(new h.Circle).rx(new h.Number(t).divide(2)).move(0,0)}}}),h.extend(h.Circle,h.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),h.Ellipse=h.invent({create:"ellipse",inherit:h.Shape,construct:{ellipse:function(t,e){return this.put(new h.Ellipse).size(t,e).move(0,0)}}}),h.extend(h.Ellipse,h.Rect,h.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),h.extend(h.Circle,h.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new h.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new h.Number(t).divide(2))},size:function(t,e){t=p(this,t,e);return this.rx(new h.Number(t.width).divide(2)).ry(new h.Number(t.height).divide(2))}}),h.Line=h.invent({create:"line",inherit:h.Shape,extend:{array:function(){return new h.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,i,a){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:i,y2:a}:new h.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){t=p(this,t,e);return this.attr(this.array().size(t.width,t.height).toLine())}},construct:{line:function(t,e,i,a){return h.Line.prototype.plot.apply(this.put(new h.Line),null!=t?[t,e,i,a]:[0,0,0,0])}}}),h.Polyline=h.invent({create:"polyline",inherit:h.Shape,construct:{polyline:function(t){return this.put(new h.Polyline).plot(t||new h.PointArray)}}}),h.Polygon=h.invent({create:"polygon",inherit:h.Shape,construct:{polygon:function(t){return this.put(new h.Polygon).plot(t||new h.PointArray)}}}),h.extend(h.Polyline,h.Polygon,{array:function(){return this._array||(this._array=new h.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new h.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){t=p(this,t,e);return this.attr("points",this.array().size(t.width,t.height))}}),h.extend(h.Line,h.Polyline,h.Polygon,{morphArray:h.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),h.Path=h.invent({create:"path",inherit:h.Shape,extend:{morphArray:h.PathArray,array:function(){return this._array||(this._array=new h.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new h.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new h.Path).plot(t||new h.PathArray)}}}),h.Image=h.invent({create:"image",inherit:h.Shape,extend:{load:function(e){var i,a;return e?(i=this,a=new s.Image,h.on(a,"load",function(){h.off(a);var t=i.parent(h.Pattern);null!==t&&(0==i.width()&&0==i.height()&&i.size(a.width,a.height),t&&0==t.width()&&0==t.height()&&t.size(i.width(),i.height()),"function"==typeof i._loaded)&&i._loaded.call(i,{width:a.width,height:a.height,ratio:a.width/a.height,url:e})}),h.on(a,"error",function(t){h.off(a),"function"==typeof i._error&&i._error.call(i,t)}),this.attr("href",a.src=this.src=e,h.xlink)):this},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,i){return this.put(new h.Image).load(t).size(e||0,i||e||0)}}}),h.Text=h.invent({create:function(){this.constructor.call(this,h.create("text")),this.dom.leading=new h.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",h.defaults.attrs["font-family"])},inherit:h.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,i=0,a=e.length;i<a;++i)0!=i&&3!=e[i].nodeType&&1==h.adopt(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(var i=0,s=(t=t.split("\n")).length;i<s;i++)this.tspan(t[i]).newLine();return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new h.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,t=h.utils.map(h.utils.filterSVGElements(t.childNodes),function(t){return h.adopt(t)});return new h.Set(t)},rebuild:function(t){var e,i,a;return"boolean"==typeof t&&(this._rebuild=t),this._rebuild&&(i=0,a=(e=this).dom.leading*new h.Number(this.attr("font-size")),this.lines().each(function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?i+=a:(this.attr("dy",a+i),i=0))}),this.fire("rebuild")),this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new h.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new h.Text).text(t)},plain:function(t){return this.put(new h.Text).plain(t)}}}),h.Tspan=h.invent({create:"tspan",inherit:h.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(h.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),h.extend(h.Text,h.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(o.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,i=new h.Tspan;return!1===this._build&&this.clear(),e.appendChild(i.node),i.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),h.TextPath=h.invent({create:"textPath",inherit:h.Parent,parent:h.Text,construct:{morphArray:h.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return h.adopt(this.node.firstChild)}}}),h.Nested=h.invent({create:function(){this.constructor.call(this,h.create("svg")),this.style("overflow","visible")},inherit:h.Container,construct:{nested:function(){return this.put(new h.Nested)}}});var a={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,i,a){return i+a.replace(h.regex.dots," .")}function n(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function d(t){t=t.toString(16);return 1==t.length?"0"+t:t}function p(t,e,i){return null!=e&&null!=i||(t=t.bbox(),null==e?e=t.width/t.height*i:null==i&&(i=t.height/t.width*e)),{width:e,height:i}}function f(t,e,i){return{x:e*t.a+i*t.c,y:e*t.b+i*t.d}}function g(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function u(t){for(var e=t.childNodes.length-1;0<=e;e--)t.childNodes[e]instanceof s.SVGElement&&u(t.childNodes[e]);return h.adopt(t).id(h.eid(t.nodeName))}function x(t){return 1e-37<Math.abs(t)?t:0}["fill","stroke"].forEach(function(i){var t={};t[i]=function(t){if(void 0!==t)if("string"==typeof t||h.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(i,t);else for(var e=a[i].length-1;0<=e;e--)null!=t[a[i][e]]&&this.attr(a.prefix(i,a[i][e]),t[a[i][e]]);return this},h.extend(h.Element,h.FX,t)}),h.extend(h.Element,h.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new h.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new h.Number(t).plus(this instanceof h.FX?0:this.x()),!0)},dy:function(t){return this.y(new h.Number(t).plus(this instanceof h.FX?0:this.y()),!0)}}),h.extend(h.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),h.Set=h.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){t=this.index(t);return-1<t&&this.members.splice(t,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return 0<=this.index(t)},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new h.Set(t)}}}),h.FX.Set=h.invent({create:function(t){this.set=t}}),h.Set.inherit=function(){var t,e=[];for(t in h.Shape.prototype)"function"==typeof h.Shape.prototype[t]&&"function"!=typeof h.Set.prototype[t]&&e.push(t);for(t in e.forEach(function(i){h.Set.prototype[i]=function(){for(var t=0,e=this.members.length;t<e;t++)this.members[t]&&"function"==typeof this.members[t][i]&&this.members[t][i].apply(this.members[t],arguments);return"animate"==i?this.fx||(this.fx=new h.FX.Set(this)):this}}),e=[],h.FX.prototype)"function"==typeof h.FX.prototype[t]&&"function"!=typeof h.FX.Set.prototype[t]&&e.push(t);e.forEach(function(i){h.FX.Set.prototype[i]=function(){for(var t=0,e=this.set.members.length;t<e;t++)this.set.members[t].fx[i].apply(this.set.members[t].fx,arguments);return this}})},h.extend(h.Element,{}),h.extend(h.Element,{remember:function(t,e){if("object"===m(t))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;0<=t;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),h.get=function(e){var t=o.getElementById(function(){var t=(e||"").toString().match(h.regex.reference);if(t)return t[1]}()||e);return h.adopt(t)},h.select=function(t,e){return new h.Set(h.utils.map((e||o).querySelectorAll(t),function(t){return h.adopt(t)}))},h.extend(h.Parent,{select:function(t){return h.select(t,this.node)}});var b,y="abcdef".split("");return"function"!=typeof s.CustomEvent?((b=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=o.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}).prototype=s.Event.prototype,h.CustomEvent=b):h.CustomEvent=s.CustomEvent,h},"function"==typeof define&&define.amd?define(function(){return Ai(p,p.document)}):"object"===("undefined"==typeof exports?"undefined":m(exports))&&"undefined"!=typeof module?module.exports=p.document?Ai(p,p.document):function(t){return Ai(t,t.document)}:p.SVG=Ai(p,p.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t,e=[void 0];for(t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,a,s){return this.put(new SVG.DisplacementMapEffect(t,e,i,a,s))},specularLighting:function(t,e,i,a){return this.put(new SVG.SpecularLightingEffect(t,e,i,a))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,a,s){return this.put(new SVG.TurbulenceEffect(t,e,i,a,s))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i).in(this)},displacementMap:function(t,e,i,a){return this.parent()&&this.parent().displacementMap(this,t,e,i,a)},specularLighting:function(t,e,i,a){return this.parent()&&this.parent().specularLighting(t,e,i,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,a,s){return this.parent()&&this.parent().turbulence(t,e,i,a,s).in(this)}},t=(SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}}),{blend:function(t,e,i){this.attr({in:t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=a(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=a(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({in:t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,a,s){this.attr({in:t,in2:e,scale:i,xChannelSelector:a,yChannelSelector:s})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",function(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,a=[];e<i;e++)a.push(t[e]);return a.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,a,s){this.attr({numOctaves:e,seed:i,stitchTiles:a,baseFrequency:t,type:s})}}),e={merge:function(){if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each(function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))})}else for(var t=Array.isArray(arguments[0])?arguments[0]:arguments,i=0;i<t.length;i++)t[i]instanceof SVG.MergeNode?this.put(t[i]):this.put(new SVG.MergeNode(t[i]))},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new SVG["Func"+t.toUpperCase()]("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,a){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:a})}},i={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,a,s,o){this.attr({x:t,y:e,z:i,pointsAtX:a,pointsAtY:s,pointsAtZ:o})},mergeNode:function(t){this.attr("in",t)}};function a(t){return(t=Array.isArray(t)?new SVG.Array(t):t).toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function s(){var t,e=function(){};for(t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[t])e(arguments[t][i],i,arguments[t])}["r","g","b","a"].forEach(function(t){i["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),s(t,function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),s(e,function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),s(i,function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),SVG.extend(SVG.PathArray,{morph:function(t){for(var e=this.value,i=this.parse(t),a=0,s=0;!1!==a||!1!==s;)var o,n=Xi(e,!1!==a&&a+1),r=Xi(i,!1!==s&&s+1),l=(!1===a&&(a=0==(o=new SVG.PathArray(l.start).bbox()).height||0==o.width?e.push(e[0])-1:e.push(["M",o.x+o.width/2,o.y+o.height/2])-1),!1===s&&(s=0==(o=new SVG.PathArray(l.dest).bbox()).height||0==o.width?i.push(i[0])-1:i.push(["M",o.x+o.width/2,o.y+o.height/2])-1),function(t,e,i,a,s,o,n){for(var r=t.slice(e,i||n),l=a.slice(s,o||n),h=0,c={pos:[0,0],start:[0,0]},d={pos:[0,0],start:[0,0]};r[h]=Ti.call(c,r[h]),l[h]=Ti.call(d,l[h]),r[h][0]!=l[h][0]||"M"==r[h][0]||"A"==r[h][0]&&(r[h][4]!=l[h][4]||r[h][5]!=l[h][5])?(Array.prototype.splice.apply(r,[h,1].concat(Ei.call(c,r[h]))),Array.prototype.splice.apply(l,[h,1].concat(Ei.call(d,l[h])))):(r[h]=Mi.call(c,r[h]),l[h]=Mi.call(d,l[h])),++h!=r.length||h!=l.length;)h==r.length&&r.push(["C",c.pos[0],c.pos[1],c.pos[0],c.pos[1],c.pos[0],c.pos[1]]),h==l.length&&l.push(["C",d.pos[0],d.pos[1],d.pos[0],d.pos[1],d.pos[0],d.pos[1]]);return{start:r,dest:l}}(e,a,n,i,s,r)),e=e.slice(0,a).concat(l.start,!1===n?[]:e.slice(n)),i=i.slice(0,s).concat(l.dest,!1===r?[]:i.slice(r)),a=!1!==n&&a+l.start.length,s=!1!==r&&s+l.dest.length;return this.value=e,this.destination=new SVG.PathArray,this.destination.value=i,this}}),function(){function a(t){t.remember("_draggable",this),this.el=t}a.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",function(t){i.start(t)}),this.el.on("touchstart.drag",function(t){i.start(t)})},a.prototype.transformPoint=function(t,e){t=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=t.clientX-(e||0),this.p.y=t.clientY,this.p.matrixTransform(this.m)},a.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},a.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,a=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:a,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(t){e.drag(t)}),SVG.on(window,"touchmove.drag",function(t){e.drag(t)}),SVG.on(window,"mouseup.drag",function(t){e.end(t)}),SVG.on(window,"touchend.drag",function(t){e.end(t)}),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},a.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),a=this.startPoints.box.x+i.x-this.startPoints.point.x,s=this.startPoints.box.y+i.y-this.startPoints.point.y,o=this.constraint,n=i.x-this.startPoints.point.x,r=i.y-this.startPoints.point.y;return this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented||("function"==typeof o?(!0===(t="boolean"==typeof(t=o.call(this.el,a,s,this.m))?{x:t,y:t}:t).x?this.el.x(a):!1!==t.x&&this.el.x(t.x),!0===t.y?this.el.y(s):!1!==t.y&&this.el.y(t.y)):"object"==typeof o&&(null!=o.minX&&a<o.minX?n=(a=o.minX)-this.startPoints.box.x:null!=o.maxX&&a>o.maxX-e.width&&(n=(a=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&s<o.minY?r=(s=o.minY)-this.startPoints.box.y:null!=o.maxY&&s>o.maxY-e.height&&(r=(s=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(a-=a%o.snapToGrid,s-=s%o.snapToGrid,n-=n%o.snapToGrid,r-=r%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:n,y:r},!0):this.el.move(a,s))),i},a.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,e){"function"!=typeof t&&"object"!=typeof t||(e=t,t=!0);var i=this.remember("_draggable")||new a(this);return(t=void 0===t||t)?i.init(e||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),f.prototype.init=function(t,e){var i=this.el.bbox(),a=(this.options={},this.el.selectize.defaults.points);for(s in this.el.selectize.defaults)this.options[s]=this.el.selectize.defaults[s],void 0!==e[s]&&(this.options[s]=e[s]);var s,o=["points","pointsExclude"];for(s in o){var n=this.options[o[s]];"string"==typeof n?n=0<n.length?n.split(/\s*,\s*/i):[]:"boolean"==typeof n&&"points"===o[s]&&(n=n?a:[]),this.options[o[s]]=n}this.options.points=[a,this.options.points].reduce(function(t,e){return t.filter(function(t){return-1<e.indexOf(t)})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(t,e){return t.filter(function(t){return e.indexOf(t)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},f.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},f.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},f.prototype.drawPoints=function(){for(var s=this,t=this.getPointArray(),e=0,i=t.length;e<i;++e){var a=function(a){return function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var e=t.pageX||t.touches[0].pageX,i=t.pageY||t.touches[0].pageY;s.el.fire("point",{x:e,y:i,i:a,event:t})}}(e),a=this.drawPoint(t[e][0],t[e][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(a)}},f.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},f.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},f.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},f.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},f.prototype.updateRectSelection=function(){var t,i=this,a=this.el.bbox();this.rectSelection.set.get(0).attr({width:a.width,height:a.height}),this.options.points.length&&this.options.points.map(function(t,e){t=i.pointCoords(t,a);i.rectSelection.set.get(e+1).center(t.x,t.y)}),this.options.rotationPoint&&(t=this.rectSelection.set.length(),this.rectSelection.set.get(t-1).center(a.width/2,20))},f.prototype.selectRect=function(t){var s=this,a=this.el.bbox();function o(a){return function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var e=t.pageX||t.touches[0].pageX,i=t.pageY||t.touches[0].pageY;s.el.fire(a,{x:e,y:i,event:t})}}this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(a.width,a.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(t,e){var i=s.pointCoords(t,a),i=s.drawPoint(i.x,i.y).attr("class",s.options.classPoints+"_"+t).on("mousedown",o(t)).on("touchstart",o(t));s.rectSelection.set.add(i)}),this.rectSelection.set.each(function(){this.addClass(s.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))&&(t=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var e=t.pageX||t.touches[0].pageX,i=t.pageY||t.touches[0].pageY;s.el.fire("rot",{x:e,y:i,event:t})},t=this.drawPoint(a.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",t).on("mousedown",t),this.rectSelection.set.add(t))},f.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},f.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){t.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){t.handler()})},f.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,e){return"object"==typeof t&&(e=t,t=!0),(this.remember("_selectHandler")||new f(this)).init(void 0===t||t,e||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"},function(){!function(){function e(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}e.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},e.prototype._extractPosition=function(t){return{x:(null!=t.clientX?t:t.touches[0]).clientX,y:(null!=t.clientY?t:t.touches[0]).clientY}},e.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",function(t){e.resize(t||window.event)}),this.el.on("rt.resize",function(t){e.resize(t||window.event)}),this.el.on("rb.resize",function(t){e.resize(t||window.event)}),this.el.on("lb.resize",function(t){e.resize(t||window.event)}),this.el.on("t.resize",function(t){e.resize(t||window.event)}),this.el.on("r.resize",function(t){e.resize(t||window.event)}),this.el.on("b.resize",function(t){e.resize(t||window.event)}),this.el.on("l.resize",function(t){e.resize(t||window.event)}),this.el.on("rot.resize",function(t){e.resize(t||window.event)}),this.el.on("point.resize",function(t){e.resize(t||window.event)}),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(t){var e=this,i=(this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset},this._extractPosition(t.detail.event));switch(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i&&(i=this.el.array().valueOf(),this.parameters.i=t.detail.i,this.parameters.pointCoords=[i[t.detail.i][0],i[t.detail.i][1]]),t.type){case"lt":this.calc=function(t,e){t=this.snapToGrid(t,e);0<this.parameters.box.width-t[0]&&0<this.parameters.box.height-t[1]&&("text"===this.parameters.type?(this.el.move(this.parameters.box.x+t[0],this.parameters.box.y),this.el.attr("font-size",this.parameters.fontSize-t[0])):(t=this.checkAspectRatio(t),this.el.move(this.parameters.box.x+t[0],this.parameters.box.y+t[1]).size(this.parameters.box.width-t[0],this.parameters.box.height-t[1])))};break;case"rt":this.calc=function(t,e){t=this.snapToGrid(t,e,2);0<this.parameters.box.width+t[0]&&0<this.parameters.box.height-t[1]&&("text"===this.parameters.type?(this.el.move(this.parameters.box.x-t[0],this.parameters.box.y),this.el.attr("font-size",this.parameters.fontSize+t[0])):(t=this.checkAspectRatio(t,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+t[1]).size(this.parameters.box.width+t[0],this.parameters.box.height-t[1])))};break;case"rb":this.calc=function(t,e){t=this.snapToGrid(t,e,0);0<this.parameters.box.width+t[0]&&0<this.parameters.box.height+t[1]&&("text"===this.parameters.type?(this.el.move(this.parameters.box.x-t[0],this.parameters.box.y),this.el.attr("font-size",this.parameters.fontSize+t[0])):(t=this.checkAspectRatio(t),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+t[0],this.parameters.box.height+t[1])))};break;case"lb":this.calc=function(t,e){t=this.snapToGrid(t,e,1);0<this.parameters.box.width-t[0]&&0<this.parameters.box.height+t[1]&&("text"===this.parameters.type?(this.el.move(this.parameters.box.x+t[0],this.parameters.box.y),this.el.attr("font-size",this.parameters.fontSize-t[0])):(t=this.checkAspectRatio(t,!0),this.el.move(this.parameters.box.x+t[0],this.parameters.box.y).size(this.parameters.box.width-t[0],this.parameters.box.height+t[1])))};break;case"t":this.calc=function(t,e){t=this.snapToGrid(t,e,2);0<this.parameters.box.height-t[1]&&"text"!==this.parameters.type&&this.el.move(this.parameters.box.x,this.parameters.box.y+t[1]).height(this.parameters.box.height-t[1])};break;case"r":this.calc=function(t,e){t=this.snapToGrid(t,e,0);0<this.parameters.box.width+t[0]&&"text"!==this.parameters.type&&this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+t[0])};break;case"b":this.calc=function(t,e){t=this.snapToGrid(t,e,0);0<this.parameters.box.height+t[1]&&"text"!==this.parameters.type&&this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+t[1])};break;case"l":this.calc=function(t,e){t=this.snapToGrid(t,e,1);0<this.parameters.box.width-t[0]&&"text"!==this.parameters.type&&this.el.move(this.parameters.box.x+t[0],this.parameters.box.y).width(this.parameters.box.width-t[0])};break;case"rot":this.calc=function(t,e){var t=t+this.parameters.p.x,e=e+this.parameters.p.y,i=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),e=Math.atan2(e-this.parameters.box.y-this.parameters.box.height/2,t-this.parameters.box.x-this.parameters.box.width/2),t=this.parameters.rotation+180*(e-i)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(t-t%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){t=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),e=this.el.array().valueOf();e[this.parameters.i][0]=this.parameters.pointCoords[0]+t[0],e[this.parameters.i][1]=this.parameters.pointCoords[1]+t[1],this.el.plot(e)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",function(t){e.update(t||window.event)}),SVG.on(window,"touchend.resize",function(){e.done()}),SVG.on(window,"mousemove.resize",function(t){e.update(t||window.event)}),SVG.on(window,"mouseup.resize",function(){e.done()})},e.prototype.update=function(t){var e,i;t?(i=this._extractPosition(t),e=(i=this.transformPoint(i.x,i.y)).x-this.parameters.p.x,i=i.y-this.parameters.p.y,this.lastUpdateCall=[e,i],this.calc(e,i),this.el.fire("resizing",{dx:e,dy:i,event:t})):this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(t,e,i,a){var s=void 0!==a?[(i+t)%this.options.snapToGrid,(a+e)%this.options.snapToGrid]:[(this.parameters.box.x+t+(1&(i=null==i?3:i)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid];return t<0&&(s[0]-=this.options.snapToGrid),e<0&&(s[1]-=this.options.snapToGrid),t-=Math.abs(s[0])<this.options.snapToGrid/2?s[0]:s[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(s[1])<this.options.snapToGrid/2?s[1]:s[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,a)},e.prototype.constraintToBox=function(t,e,i,a){var s,o=this.options.constraint||{},a=void 0!==a?(s=i,a):(s=this.parameters.box.x+(1&i?0:this.parameters.box.width),this.parameters.box.y+(2&i?0:this.parameters.box.height));return void 0!==o.minX&&s+t<o.minX&&(t=o.minX-s),void 0!==o.maxX&&s+t>o.maxX&&(t=o.maxX-s),void 0!==o.minY&&a+e<o.minY&&(e=o.minY-a),[t,e=void 0!==o.maxY&&a+e>o.maxY?o.maxY-a:e]},e.prototype.checkAspectRatio=function(t,e){var i,a,s,o,n;return this.options.saveAspectRatio?(i=t.slice(),a=this.parameters.box.width/this.parameters.box.height,(n=(s=this.parameters.box.width+t[0])/(o=this.parameters.box.height-t[1]))<a?(i[1]=s/a-this.parameters.box.height,e&&(i[1]=-i[1])):a<n&&(i[0]=this.parameters.box.width-o*a,e)&&(i[0]=-i[0]),i):t},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}.call(this)}(),void 0===window.Apex&&(window.Apex={});o(Hi,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new A(this.ctx),this.ctx.axes=new Et(this.ctx),this.ctx.core=new Oi(this.ctx.el,this.ctx),this.ctx.config=new g({}),this.ctx.data=new Ot(this.ctx),this.ctx.grid=new zt(this.ctx),this.ctx.graphics=new E(this.ctx),this.ctx.coreUtils=new _(this.ctx),this.ctx.crosshairs=new Xt(this.ctx),this.ctx.events=new Tt(this.ctx),this.ctx.exports=new Pt(this.ctx),this.ctx.localization=new Mt(this.ctx),this.ctx.options=new d,this.ctx.responsive=new Ft(this.ctx),this.ctx.series=new O(this.ctx),this.ctx.theme=new Yt(this.ctx),this.ctx.formatters=new u(this.ctx),this.ctx.titleSubtitle=new Rt(this.ctx),this.ctx.legend=new Vt(this.ctx),this.ctx.toolbar=new jt(this.ctx),this.ctx.tooltip=new te(this.ctx),this.ctx.dimensions=new Nt(this.ctx),this.ctx.updateHelpers=new Pi(this.ctx),this.ctx.zoomPanSelection=new Ut(this.ctx),this.ctx.w.globals.tooltip=new te(this.ctx)}}]);var Fi=Hi,Yi=(o(Di,[{key:"clear",value:function(t){t=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(t){t.each(function(t,e){this.removeClass("*"),this.off(),this.stop()},!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,t=t.isUpdating,i=this.w.globals.dom.Paper.node,a=(i.parentNode&&i.parentNode.parentNode&&!t&&(i.parentNode.parentNode.style.minHeight="unset"),this.w.globals.dom.baseEl),t=(a&&this.ctx.eventList.forEach(function(t){a.removeEventListener(t,e.ctx.events.documentEvent)}),this.w.globals.dom);if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(t.Paper),t.Paper.remove(),t.elWrap=null,t.elGraphical=null,t.elLegendWrap=null,t.elLegendForeign=null,t.baseEl=null,t.elGridRect=null,t.elGridRectMask=null,t.elGridRectMarkerMask=null,t.elForecastMask=null,t.elNonForecastMask=null,t.elDefs=null}}]),Di),Ri=new WeakMap;function Di(t){a(this,Di),this.ctx=t,this.w=t.w}function Hi(t){a(this,Hi),this.ctx=t,this.w=t.w}o(Wi,[{key:"render",value:function(){var d=this;return new Promise(function(t,e){if(null!==d.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),d.w.config.chart.id&&Apex._chartInstances.push({id:d.w.globals.chartID,group:d.w.config.chart.group,chart:d}),d.setLocale(d.w.config.chart.defaultLocale);var i,a,s,o=d.w.config.chart.events.beforeMount,n=("function"==typeof o&&o(d,d.w),d.events.fireEvent("beforeMount",[d,d.w]),window.addEventListener("resize",d.windowResizeHandler),r=d.el.parentNode,l=d.parentResizeHandler,h=!1,r.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(o=r.getBoundingClientRect(),"none"!==r.style.display&&0!==o.width||(h=!0)),c=new ResizeObserver(function(t){h&&l.call(r,t),h=!0}),r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(r.children).forEach(function(t){return c.observe(t)}):c.observe(r),Ri.set(l,c),d.css||(o=d.el.getRootNode&&d.el.getRootNode(),i=M.is("ShadowRoot",o),s=(a=d.el.ownerDocument).getElementById("apexcharts-css"),!i&&s)||(d.css=document.createElement("style"),d.css.id="apexcharts-css",d.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}',i?o.prepend(d.css):a.head.appendChild(d.css)),d.create(d.w.config.series,{}));if(!n)return t(d);d.mount(n).then(function(){"function"==typeof d.w.config.chart.events.mounted&&d.w.config.chart.events.mounted(d,d.w),d.events.fireEvent("mounted",[d,d.w]),t(n)}).catch(function(t){e(t)})}else e(new Error("Element not found"));var r,l,h,c})}},{key:"create",value:function(t,e){var i=this.w,a=(new Fi(this).initModules(),this.w.globals);return a.noData=!1,a.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new h(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===a.svgWidth)?(a.animationEnded=!0,null):(e=_.checkComboSeries(t),a.comboCharts=e.comboCharts,a.comboBarCount=e.comboBarCount,e=t.every(function(t){return t.data&&0===t.data.length}),0!==t.length&&!e||this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new k(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),a.noData&&a.collapsedSeries.length!==a.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),a.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new _(this).getLargestMarkerSize(),this.dimensions.plotCoords(),e=this.core.xySettings(),this.grid.createGridMask(),a=this.core.plotChartType(t,e),(t=new C(this)).bringForward(),i.config.dataLabels.background.enabled&&t.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:a,xyRatios:e,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}})}},{key:"mount",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,l=this,h=l.w;return new Promise(function(t,e){if(null===l.el)return e(new Error("Not enough data to display or target element not found"));null!==r&&!h.globals.allSeriesCollapsed||l.series.handleNoData(),l.grid=new zt(l);e=l.grid.drawGrid();if(l.annotations=new kt(l),l.annotations.drawImageAnnos(),l.annotations.drawTextAnnos(),"back"===h.config.grid.position&&(e&&h.globals.dom.elGraphical.add(e.el),null!=e)&&null!=(s=e.elGridBorders)&&s.node&&h.globals.dom.elGraphical.add(e.elGridBorders),Array.isArray(r.elGraph))for(var i=0;i<r.elGraph.length;i++)h.globals.dom.elGraphical.add(r.elGraph[i]);else h.globals.dom.elGraphical.add(r.elGraph);"front"===h.config.grid.position&&(e&&h.globals.dom.elGraphical.add(e.el),null!=e)&&null!=(s=e.elGridBorders)&&s.node&&h.globals.dom.elGraphical.add(e.elGridBorders),"front"===h.config.xaxis.crosshairs.position&&l.crosshairs.drawXCrosshairs(),"front"===h.config.yaxis[0].crosshairs.position&&l.crosshairs.drawYCrosshairs(),"treemap"!==h.config.chart.type&&l.axes.drawAxis(h.config.chart.type,e);var a,s=new Lt(n.ctx,e),o=new _t(n.ctx,e);null!==e&&(s.xAxisLabelCorrections(e.xAxisTickWidth),o.setYAxisTextAlignments(),h.config.yaxis.map(function(t,e){-1===h.globals.ignoreYAxisIndexes.indexOf(e)&&o.yAxisTitleRotate(e,t.opposite)})),l.annotations.drawAxesAnnotations(),h.globals.noData||(h.config.tooltip.enabled&&!h.globals.noData&&l.w.globals.tooltip.drawTooltip(r.xyRatios),h.globals.axisCharts&&(h.globals.isXNumeric||h.config.xaxis.convertedCatToNumeric||h.globals.isRangeBar)?(h.config.chart.zoom.enabled||h.config.chart.selection&&h.config.chart.selection.enabled||h.config.chart.pan&&h.config.chart.pan.enabled)&&l.zoomPanSelection.init({xyRatios:r.xyRatios}):(a=h.config.chart.toolbar.tools,["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(t){a[t]=!1})),h.config.chart.toolbar.show&&!h.globals.allSeriesCollapsed&&l.toolbar.createToolbar()),0<h.globals.memory.methodsToExec.length&&h.globals.memory.methodsToExec.forEach(function(t){t.method(t.params,!1,t.context)}),h.globals.axisCharts||h.globals.noData||l.core.resizeNonAxisCharts(),t(l)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,t=this.parentResizeHandler,(e=Ri.get(t))&&(e.disconnect(),Ri.delete(t));var t,e,i=this.w.config.chart.id;i&&Apex._chartInstances.forEach(function(t,e){t.id===M.escapeString(i)&&Apex._chartInstances.splice(e,1)}),new Yi(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var i=this,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],n=this.w;return n.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map(function(t,e){return i.updateHelpers._extendSeries(t,e)})),this.updateHelpers.revertDefaultAxisMinMax()),(t=t.xaxis?this.updateHelpers.forceXAxisUpdate(t):t).yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),0<n.globals.collapsedSeriesIndices.length&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,e,a,s,o)}},{key:"updateSeries",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=this.w.config.series.slice();return a.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,e,i)}},{key:"appendData",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.w.globals.dataChanged=!0,this.series.getPreviousPaths();for(var i=this.w.config.series.slice(),a=0;a<i.length;a++)if(null!==t[a]&&void 0!==t[a])for(var s=0;s<t[a].data.length;s++)i[a].data.push(t[a].data[s]);return this.w.config.series=i,e&&(this.w.globals.initialSeries=M.clone(this.w.config.series)),this.update()}},{key:"update",value:function(a){var s=this;return new Promise(function(t,e){new Yi(s.ctx).clear({isUpdating:!0});var i=s.create(s.w.config.series,a);if(!i)return t(s);s.mount(i).then(function(){"function"==typeof s.w.config.chart.events.updated&&s.w.config.chart.events.updated(s,s.w),s.events.fireEvent("updated",[s,s.w]),s.w.globals.isDirty=!0,t(s)}).catch(function(t){e(t)})})}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach(function(t){e.push(t)})),e}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(0<arguments.length&&void 0!==arguments[0])||arguments[0],!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,i=i?i:this;i.annotations.addXaxisAnnotationExternal(t,e,i)}},{key:"addYaxisAnnotation",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,i=i?i:this;i.annotations.addYaxisAnnotationExternal(t,e,i)}},{key:"addPointAnnotation",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,i=i?i:this;i.annotations.addPointAnnotationExternal(t,e,i)}},{key:"clearAnnotations",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=t?t:this;t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,e=e?e:this;e.annotations.removeAnnotation(e,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new It(this.ctx).getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new It(this.ctx).getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new Pt(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Pt(this.ctx).exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;(t="function"==typeof t?t():t)&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=M.escapeString(t),t=Apex._chartInstances.filter(function(t){return t.id===e})[0];return t&&t.chart}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),e=0;e<t.length;e++)new Wi(t[e],JSON.parse(t[e].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){t=this.getChartByID(t);if(t){t.w.globals.isExecCalled=!0;var i=null;if(-1!==t.publicMethods.indexOf(e)){for(var a=arguments.length,s=new Array(2<a?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];i=t[e].apply(t,s)}return i}}},{key:"merge",value:function(t,e){return M.extend(t,e)}}]);var X=Wi;function Wi(t,e){a(this,Wi),this.opts=e,(this.ctx=this).w=new St(e).init(),this.el=t,this.w.globals.cuid=M.randomId(),this.w.globals.chartID=this.w.config.chart.id?M.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Fi(this).initModules(),this.create=M.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return s.type.pie={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var e,i,a=this,s="pie",o={},t="solid",n=.9,r=0,l="#fff",h="#f2f2f2";this._apexOptions.colors=Object.values(this._colors),this._apexOptions.chart.type="pie",this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&(o=this._options.options.style),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&$.each(this._options.datasets,function(t,e){return y.isObject(e)&&e.hasOwnProperty("type")&&"string"==typeof e.type&&0<=["pie","donut","radialBar"].indexOf(e.type)?(s=e.type,a._apexOptions.chart.type=e.type,a._apexOptions.series=e.data,!1):void 0}),o.hasOwnProperty("startAngle")&&"number"==typeof o.startAngle&&(o.startAngle<-360?o.startAngle=-360:360<o.startAngle&&(o.startAngle=360),this._apexOptions.plotOptions.pie.startAngle=o.startAngle,this._apexOptions.plotOptions.radialBar.startAngle=o.startAngle),o.hasOwnProperty("endAngle")&&"number"==typeof o.endAngle&&(o.endAngle<-360?o.endAngle=-360:360<o.endAngle&&(o.endAngle=360),this._apexOptions.plotOptions.pie.endAngle=o.endAngle,this._apexOptions.plotOptions.radialBar.endAngle=o.endAngle),o.hasOwnProperty("size")&&"number"==typeof o.size&&(o.size<1?o.size=0:100<o.size&&(o.size=100),this._apexOptions.plotOptions.pie.donut.size=o.size+"%",this._apexOptions.plotOptions.radialBar.hollow.size=o.size+"%"),o.hasOwnProperty("labelColor")&&"string"==typeof o.labelColor&&(l=o.labelColor),o.hasOwnProperty("trackBackground")&&"string"==typeof o.trackBackground&&(h=o.trackBackground),o.hasOwnProperty("gradient")&&!0===o.gradient&&(t="gradient"),o.hasOwnProperty("labels")&&!0===o.labels&&(this._apexOptions.dataLabels.enabled=!0),o.hasOwnProperty("fill")&&"number"==typeof o.fill&&(o.fill<1?o.fill=1:100<o.fill&&(o.fill=100),n=o.fill/100),o.hasOwnProperty("shadowOpacity")&&"number"==typeof o.shadowOpacity&&(o.shadowOpacity<0?o.shadowOpacity=0:1<o.shadowOpacity&&(o.shadowOpacity=1),r=o.shadowOpacity),o.hasOwnProperty("total")&&"object"===b(o.total)&&o.total.hasOwnProperty("label")&&"string"==typeof o.total.label&&""!==o.total.label&&("donut"===s?(this._apexOptions.plotOptions.pie.donut.labels.show=!0,this._apexOptions.plotOptions.pie.donut.labels.value.show=!0,this._apexOptions.plotOptions.pie.donut.labels.total.show=!0,this._apexOptions.plotOptions.pie.donut.labels.total.showAlways=!0,this._apexOptions.plotOptions.pie.donut.labels.total.label=o.total.label,o.total.hasOwnProperty("color")&&"string"==typeof o.total.color&&(this._apexOptions.plotOptions.pie.donut.labels.total.color=o.total.color,this._apexOptions.plotOptions.pie.donut.labels.value.color=o.total.color),o.total.hasOwnProperty("formatter")&&("function"==typeof o.total.formatter?this._apexOptions.plotOptions.pie.donut.labels.total.formatter=function(t){return o.total.formatter(t.globals.seriesTotals)}:"string"==typeof o.total.formatter&&"function"==typeof(e=y.getFunctionByName(o.total.formatter))&&(this._apexOptions.plotOptions.pie.donut.labels.total.formatter=function(t){return e(t.globals.seriesTotals)}))):"radialBar"===s&&(this._apexOptions.plotOptions.radialBar.dataLabels.show=!0,this._apexOptions.plotOptions.radialBar.dataLabels.value.show=!0,this._apexOptions.plotOptions.radialBar.dataLabels.total.show=!0,this._apexOptions.plotOptions.radialBar.dataLabels.total.label=o.total.label,o.total.hasOwnProperty("labelSize")&&"string"==typeof o.total.labelSize&&(this._apexOptions.plotOptions.radialBar.dataLabels.total.fontSize=o.total.labelSize),o.total.hasOwnProperty("valueSize")&&"string"==typeof o.total.valueSize&&(this._apexOptions.plotOptions.radialBar.dataLabels.value.fontSize=o.total.valueSize),o.total.hasOwnProperty("offsetY")&&"number"==typeof o.total.offsetY&&(this._apexOptions.plotOptions.radialBar.dataLabels.name.offsetY=o.total.offsetY-10,this._apexOptions.plotOptions.radialBar.dataLabels.value.offsetY=o.total.offsetY),o.total.hasOwnProperty("color")&&"string"==typeof o.total.color&&(this._apexOptions.plotOptions.radialBar.dataLabels.total.color=o.total.color,this._apexOptions.plotOptions.radialBar.dataLabels.value.color=o.total.color),o.total.hasOwnProperty("formatter"))&&("function"==typeof o.total.formatter?this._apexOptions.plotOptions.radialBar.dataLabels.total.formatter=function(t){return o.total.formatter(t.globals.seriesTotals)}:"string"==typeof o.total.formatter&&"function"==typeof(i=y.getFunctionByName(o.total.formatter))&&(this._apexOptions.plotOptions.radialBar.dataLabels.total.formatter=function(t){return i(t.globals.seriesTotals)}))),"radialBar"===s&&(this._apexOptions.plotOptions.radialBar.track.background=h,0<r)&&(this._apexOptions.plotOptions.radialBar.track.dropShadow.enabled=!0,this._apexOptions.plotOptions.radialBar.track.dropShadow.opacity=r),this._apexOptions.fill.type=t,this._apexOptions.fill.gradient.opacityFrom=n,this._apexOptions.fill.gradient.opacityTo=0,this._apexOptions.fill.opacity=n,this._apexOptions.dataLabels.style.colors=[l]}},s.type.line={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],_annotations:{},init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},addDatasets:function(t){var a;Array.isArray(t)&&(a=this,$.each(t,function(t,e){var i=a._getDatasetOptions(e);null!==i&&(a._apexOptions=i,a._datasets.push(e))}),this._fixMarkers(this._apexOptions),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex.updateOptions($.extend(!0,{},this._apexOptions)))},appendDataset:function(e){var s=[];$.each(this._datasets,function(t,i){var a=[];$.each(e,function(t,e){if(i.hasOwnProperty("name")&&i.name===t&&Array.isArray(e))return a=e,!1}),s.push({data:a})}),0!==s.length&&this._apex.appendData(s)},removeDataset:function(i){var a=null;$.each(this._datasets,function(t,e){if(e.hasOwnProperty("name")&&e.name===i)return a=t,!1}),null!==a&&(this._datasets.splice(a,1),this._apexOptions.dataLabels.enabledOnSeries.splice(a,1),this._apexOptions.dataLabels.style.colors.splice(a,1),this._apexOptions.fill.gradient.opacityFrom.splice(a,1),this._apexOptions.fill.opacity.splice(a,1),this._apexOptions.fill.type.splice(a,1),this._apexOptions.stroke.width.splice(a,1),this._apexOptions.stroke.dashArray.splice(a,1),this._apexOptions.stroke.curve.splice(a,1),this._apexOptions.markers.size.splice(a,1),this._apexOptions.colors.splice(a,1),this._apexOptions.series.splice(a,1),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex.updateOptions($.extend(!0,{},this._apexOptions)))},clearDatasets:function(){this._datasets=[],this._apexOptions.dataLabels.enabledOnSeries=[],this._apexOptions.dataLabels.style.colors=[],this._apexOptions.fill.gradient.opacityFrom=[],this._apexOptions.fill.opacity=[],this._apexOptions.fill.type=[],this._apexOptions.stroke.width=[],this._apexOptions.stroke.dashArray=[],this._apexOptions.stroke.curve=[],this._apexOptions.markers.size=[],this._apexOptions.colors=[],this._apexOptions.series=[],this._apex.updateSeries([])},getDatasets:function(){return $.extend(!0,[],this._datasets)},getDataset:function(i){var a=null;return $.each(this._datasets,function(t,e){if(e.name===i)return a=e,!1}),a},getAnnotations:function(){return Object.values(this._annotations)},getAnnotation:function(t){return this._annotations.hasOwnProperty(t)?this._annotations(t):null},addAnnotation:function(t){if(!y.isObject(t)||!t.hasOwnProperty("type")||"string"!=typeof t.type||["yLine","xLine","point"].indexOf(t.type)<0)return null;switch("string"!=typeof t.id&&(t.id=y.hashCode()),t.type){case"yLine":if(!t.hasOwnProperty("y"))return null;this._apex.addYaxisAnnotation(this._getAnnotationsYLine(t));break;case"xLine":if(!t.hasOwnProperty("x"))return null;this._apex.addXaxisAnnotation(this._getAnnotationsXLine(t));break;case"point":if(!t.hasOwnProperty("x")||!t.hasOwnProperty("y"))return null;this._apex.addPointAnnotation(this._getAnnotationsPoint(t))}return(this._annotations[t.id]=t).id},removeAnnotation:function(t){this._annotations.hasOwnProperty(t)&&(this._apex.removeAnnotation(t),delete this._annotations[t])},clearAnnotations:function(){this._annotations={},this._apex.clearAnnotations()},_buildApexOptions:function(){var a=this;this._apexOptions.chart.type="area",this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&this._setOptionsStyles(this._options.options.style),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&($.each(this._options.datasets,function(t,e){var i=a._getDatasetOptions(e);null!==i&&(a._apexOptions=$.extend(!0,{},a._apexOptions,i),a._datasets.push(e))}),this._fixMarkers(this._apexOptions)),this._options.hasOwnProperty("annotations")&&y.isArray(this._options.annotations)&&$.each(this._options.annotations,function(t,e){if(y.isObject(e)&&e.hasOwnProperty("type")&&"string"==typeof e.type&&0<=["yLine","xLine","point"].indexOf(e.type)){switch("string"!=typeof e.id&&(e.id=y.hashCode()),e.type){case"yLine":if(!e.hasOwnProperty("y"))return;a._apexOptions.annotations.yaxis.push(a._getAnnotationsYLine(e));break;case"xLine":if(!e.hasOwnProperty("x"))return;a._apexOptions.annotations.xaxis.push(a._getAnnotationsXLine(e));break;case"point":if(!e.hasOwnProperty("x")||!e.hasOwnProperty("y"))return;a._apexOptions.annotations.points.push(a._getAnnotationsPoint(e))}a._annotations[e.id]=e}})},_setOptionsStyles:function(t){var i=!1;this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&$.each(this._options.datasets,function(t,e){e.hasOwnProperty("type")&&"bar"!==e.type&&(i=!0)}),i||(this._apexOptions.chart.type="bar"),t.hasOwnProperty("markerType")&&"string"==typeof t.markerType&&(this._apexOptions.markers.shape=t.markerType),t.hasOwnProperty("labelTotal")&&!0===t.labelTotal&&(this._apexOptions.plotOptions.bar.dataLabels.total.enabled=!0),t.hasOwnProperty("borderRadius")&&"number"==typeof t.borderRadius&&(t.borderRadius<0?t.borderRadius=0:10<t.borderRadius&&(t.borderRadius=10),this._apexOptions.plotOptions.bar.borderRadius=t.borderRadius),t.hasOwnProperty("stacked")&&!1!==t.stacked&&0<=["string","boolean"].indexOf(b(t.stacked))&&"bar"===this._apexOptions.chart.type&&(!0===t.stacked?this._apexOptions.chart.stacked=!0:"100%"===t.stacked&&(this._apexOptions.chart.stacked=!0,this._apexOptions.chart.stackType="100%"))},_getDatasetOptions:function(t){if(!y.isObject(t)||!t.hasOwnProperty("type")||!t.hasOwnProperty("name")||"string"!=typeof t.type||"string"!=typeof t.name||["line","bar","points"].indexOf(t.type)<0)return null;var e=null,i=!1,a="#333",s=0,o=1,n=0,r="solid",l=.4,h="straight",c="area",d={},p=$.extend(!0,{},this._apexOptions);switch(this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&(d=this._options.options.style),t.type){case"line":c="area";break;case"points":c="scatter";break;case"bar":c="column"}return this._colors.hasOwnProperty(this._datasets.length)&&(e=this._colors[this._datasets.length]),d.hasOwnProperty("width")&&"number"==typeof d.width&&(d.width<0?d.width=0:10<d.width&&(d.width=10),o=d.width),d.hasOwnProperty("dash")&&"number"==typeof d.dash&&(d.dash<0?d.dash=0:100<d.dash&&(d.dash=100),n=d.dash),d.hasOwnProperty("markerSize")&&"number"==typeof d.markerSize&&(d.markerSize<0?d.markerSize=0:10<d.markerSize&&(d.markerSize=10),s=d.markerSize),d.hasOwnProperty("theme")&&"string"==typeof d.theme&&(h=d.theme),d.hasOwnProperty("labelColor")&&"string"==typeof d.labelColor&&(a=d.labelColor),d.hasOwnProperty("gradient")&&!0===d.gradient&&(r="gradient"),d.hasOwnProperty("fill")&&"number"==typeof d.fill&&(d.fill<1?d.fill=1:100<d.fill&&(d.fill=100),l=d.fill/100),d.hasOwnProperty("labels")&&!0===d.labels&&(i=!0),t.hasOwnProperty("style")&&y.isObject(t.style)&&(t.style.hasOwnProperty("color")&&"string"==typeof t.style.color&&(e=t.style.color),t.style.hasOwnProperty("labels")&&!0===t.style.labels&&(i=!0),t.style.hasOwnProperty("labelColor")&&"string"==typeof t.style.labelColor&&(a=t.style.labelColor),t.style.hasOwnProperty("dash")&&"number"==typeof t.style.dash&&(t.style.dash<0?t.style.dash=0:100<t.style.dash&&(t.style.dash=100),n=t.style.dash),t.style.hasOwnProperty("width")&&"number"==typeof t.style.width&&(t.style.width<0?t.style.width=0:10<t.style.width&&(t.style.width=10),o=t.style.width),t.style.hasOwnProperty("markerSize")&&"number"==typeof t.style.markerSize&&(t.style.markerSize<0?t.style.markerSize=0:10<t.style.markerSize&&(t.style.markerSize=10),s=t.style.markerSize),t.style.hasOwnProperty("fill")&&"number"==typeof t.style.fill&&(t.style.fill<1?t.style.fill=1:100<t.style.fill&&(t.style.fill=100),l=t.style.fill/100),t.style.hasOwnProperty("gradient")&&(r=!0===t.style.gradient?"gradient":"solid"),t.style.hasOwnProperty("theme"))&&"string"==typeof t.style.theme&&(h=t.style.theme),i&&(p.dataLabels.enabledOnSeries.push(this._datasets.length),p.dataLabels.enabled=!0),p.dataLabels.style.colors.push(a),p.fill.gradient.opacityFrom.push(l),p.fill.opacity.push(l),p.fill.type.push(r),p.stroke.width.push(o),p.stroke.dashArray.push(n),p.stroke.curve.push(h),p.markers.size.push(s),p.colors.push(e||"#66a61e"),p.series.push({type:c,name:t.name,data:t.data}),p},_fixMarkers:function(i){var a=!1;$.each(i.markers.size,function(t,e){0<e&&(a=!0)}),a&&$.each(i.markers.size,function(t,e){0===e&&(i.markers.size[t]=.1)})},_getAnnotationsYLine:function(t){var e,i,a,s={label:{style:{}}};return s.y=t.y,t.hasOwnProperty("id")&&(s.id=t.id),t.hasOwnProperty("y2")&&(s.y2=t.y2),t.hasOwnProperty("text")&&"string"==typeof t.text&&(s.label.text=t.text),t.hasOwnProperty("events")&&y.isObject(t.events)&&(t.events.hasOwnProperty("mouseEnter")&&("function"==typeof t.events.mouseEnter?s.label.mouseEnter=function(){t.events.mouseEnter(t)}:"string"==typeof t.events.mouseEnter&&"function"==typeof(e=y.getFunctionByName(t.events.mouseEnter))&&(s.label.mouseEnter=function(){e(t)})),t.events.hasOwnProperty("mouseLeave")&&("function"==typeof t.events.mouseLeave?s.label.mouseLeave=function(){t.events.mouseLeave(t)}:"string"==typeof t.events.mouseLeave&&"function"==typeof(i=y.getFunctionByName(t.events.mouseLeave))&&(s.label.mouseLeave=function(){i(t)})),t.events.hasOwnProperty("click"))&&("function"==typeof t.events.click?s.label.click=function(){t.events.click(t)}:"string"==typeof t.events.click&&"function"==typeof(a=y.getFunctionByName(t.events.click))&&(s.label.click=function(){a(t)})),t.hasOwnProperty("style")&&y.isObject(t.style)&&(t.style.hasOwnProperty("fillColor")&&"string"==typeof t.style.fillColor&&(s.fillColor=t.style.fillColor),t.style.hasOwnProperty("borderColor")&&"string"==typeof t.style.borderColor&&(s.borderColor=t.style.borderColor),t.style.hasOwnProperty("opacity")&&"number"==typeof t.style.opacity&&(t.style.opacity<0?t.style.opacity=0:10<t.style.opacity&&(t.style.opacity=10),s.opacity=t.style.opacity),t.style.hasOwnProperty("dash")&&"number"==typeof t.style.dash&&(t.style.dash<0?t.style.dash=0:100<t.style.dash&&(t.style.dash=100),s.strokeDashArray=t.style.dash),t.style.hasOwnProperty("label"))&&y.isObject(t.style.label)&&(t.style.label.hasOwnProperty("color")&&"string"==typeof t.style.label.color&&(s.label.style.color=t.style.label.color),t.style.label.hasOwnProperty("background")&&"string"==typeof t.style.label.background&&(s.label.style.background=t.style.label.background),t.style.label.hasOwnProperty("borderColor")&&"string"==typeof t.style.label.borderColor&&(s.label.borderColor=t.style.label.borderColor),t.style.label.hasOwnProperty("borderWidth")&&"number"==typeof t.style.label.borderWidth&&(t.style.label.borderWidth<0?t.style.label.borderWidth=0:10<t.style.label.borderWidth&&(t.style.label.borderWidth=10),s.label.borderWidth=t.style.label.borderWidth),t.style.label.hasOwnProperty("align")&&"string"==typeof t.style.label.align&&(s.label.position=t.style.label.align),t.style.label.hasOwnProperty("offsetY")&&"number"==typeof t.style.label.offsetY&&(s.label.offsetY=t.style.label.offsetY),t.style.label.hasOwnProperty("offsetX"))&&"number"==typeof t.style.label.offsetX&&(s.label.offsetX=t.style.label.offsetX),s},_getAnnotationsXLine:function(t){var e,i,a,s={label:{style:{}}};return s.x=t.x,t.hasOwnProperty("id")&&(s.id=t.id),t.hasOwnProperty("x2")&&(s.x2=t.x2),t.hasOwnProperty("text")&&"string"==typeof t.text&&(s.label.text=t.text),t.hasOwnProperty("events")&&y.isObject(t.events)&&(t.events.hasOwnProperty("mouseEnter")&&("function"==typeof t.events.mouseEnter?s.label.mouseEnter=function(){t.events.mouseEnter(t)}:"string"==typeof t.events.mouseEnter&&"function"==typeof(e=y.getFunctionByName(t.events.mouseEnter))&&(s.label.mouseEnter=function(){e(t)})),t.events.hasOwnProperty("mouseLeave")&&("function"==typeof t.events.mouseLeave?s.label.mouseLeave=function(){t.events.mouseLeave(t)}:"string"==typeof t.events.mouseLeave&&"function"==typeof(i=y.getFunctionByName(t.events.mouseLeave))&&(s.label.mouseLeave=function(){i(t)})),t.events.hasOwnProperty("click"))&&("function"==typeof t.events.click?s.label.click=function(){t.events.click(t)}:"string"==typeof t.events.click&&"function"==typeof(a=y.getFunctionByName(t.events.click))&&(s.label.click=function(){a(t)})),t.hasOwnProperty("style")&&y.isObject(t.style)&&(t.style.hasOwnProperty("fillColor")&&"string"==typeof t.style.fillColor&&(s.fillColor=t.style.fillColor),t.style.hasOwnProperty("borderColor")&&"string"==typeof t.style.borderColor&&(s.borderColor=t.style.borderColor),t.style.hasOwnProperty("opacity")&&"number"==typeof t.style.opacity&&(t.style.opacity<0?t.style.opacity=0:10<t.style.opacity&&(t.style.opacity=10),s.opacity=t.style.opacity),t.style.hasOwnProperty("dash")&&"number"==typeof t.style.dash&&(t.style.dash<0?t.style.dash=0:100<t.style.dash&&(t.style.dash=100),s.strokeDashArray=t.style.dash),t.style.hasOwnProperty("label"))&&y.isObject(t.style.label)&&(t.style.label.hasOwnProperty("color")&&"string"==typeof t.style.label.color&&(s.label.style.color=t.style.label.color),t.style.label.hasOwnProperty("background")&&"string"==typeof t.style.label.background&&(s.label.style.background=t.style.label.background),t.style.label.hasOwnProperty("borderColor")&&"string"==typeof t.style.label.borderColor&&(s.label.borderColor=t.style.label.borderColor),t.style.label.hasOwnProperty("borderWidth")&&"number"==typeof t.style.label.borderWidth&&(t.style.label.borderWidth<0?t.style.label.borderWidth=0:10<t.style.label.borderWidth&&(t.style.label.borderWidth=10),s.label.borderWidth=t.style.label.borderWidth),t.style.label.hasOwnProperty("align")&&"string"==typeof t.style.label.align&&(s.label.position=t.style.label.align),t.style.label.hasOwnProperty("orientation")&&"string"==typeof t.style.label.orientation&&(s.label.orientation=t.style.label.orientation),t.style.label.hasOwnProperty("offsetY")&&"number"==typeof t.style.label.offsetY&&(s.label.offsetY=t.style.label.offsetY),t.style.label.hasOwnProperty("offsetX"))&&"number"==typeof t.style.label.offsetX&&(s.label.offsetX=t.style.label.offsetX),s},_getAnnotationsPoint:function(t){var e,i,a,s={marker:{},label:{style:{}},image:{}};return s.x=t.x,s.y=t.y,t.hasOwnProperty("id")&&(s.id=t.id),t.hasOwnProperty("text")&&"string"==typeof t.text&&(s.label.text=t.text),t.hasOwnProperty("events")&&y.isObject(t.events)&&(t.events.hasOwnProperty("mouseEnter")&&("function"==typeof t.events.mouseEnter?s.mouseEnter=function(){t.events.mouseEnter(t)}:"string"==typeof t.events.mouseEnter&&"function"==typeof(e=y.getFunctionByName(t.events.mouseEnter))&&(s.mouseEnter=function(){e(t)})),t.events.hasOwnProperty("mouseLeave")&&("function"==typeof t.events.mouseLeave?s.mouseLeave=function(){t.events.mouseLeave(t)}:"string"==typeof t.events.mouseLeave&&"function"==typeof(i=y.getFunctionByName(t.events.mouseLeave))&&(s.mouseLeave=function(){i(t)})),t.events.hasOwnProperty("click"))&&("function"==typeof t.events.click?s.click=function(){t.events.click(t)}:"string"==typeof t.events.click&&"function"==typeof(a=y.getFunctionByName(t.events.click))&&(s.click=function(){a(t)})),t.hasOwnProperty("style")&&y.isObject(t.style)&&(t.style.hasOwnProperty("fillColor")&&"string"==typeof t.style.fillColor&&(s.marker.fillColor=t.style.fillColor),t.style.hasOwnProperty("borderColor")&&"string"==typeof t.style.borderColor&&(s.marker.strokeColor=t.style.borderColor),t.style.hasOwnProperty("imagePath")&&"string"==typeof t.style.imagePath&&(s.image.path=t.style.imagePath),t.style.hasOwnProperty("borderWidth")&&"number"==typeof t.style.borderWidth&&(t.style.borderWidth<0?t.style.borderWidth=0:10<t.style.borderWidth&&(t.style.borderWidth=10),s.marker.strokeWidth=t.style.borderWidth),t.style.hasOwnProperty("size")&&"number"==typeof t.style.size&&(t.style.size<0?t.style.size=0:100<t.style.size&&(t.style.size=100),s.marker.size=t.style.size),t.style.hasOwnProperty("label"))&&y.isObject(t.style.label)&&(t.style.label.hasOwnProperty("color")&&"string"==typeof t.style.label.color&&(s.label.style.color=t.style.label.color),t.style.label.hasOwnProperty("background")&&"string"==typeof t.style.label.background&&(s.label.style.background=t.style.label.background),t.style.label.hasOwnProperty("borderColor")&&"string"==typeof t.style.label.borderColor&&(s.label.borderColor=t.style.label.borderColor),t.style.label.hasOwnProperty("borderWidth")&&"number"==typeof t.style.label.borderWidth&&(t.style.label.borderWidth<0?t.style.label.borderWidth=0:10<t.style.label.borderWidth&&(t.style.label.borderWidth=10),s.label.borderWidth=t.style.label.borderWidth),t.style.label.hasOwnProperty("offsetY")&&"number"==typeof t.style.label.offsetY&&(s.label.offsetY=t.style.label.offsetY),t.style.label.hasOwnProperty("offsetX"))&&"number"==typeof t.style.label.offsetX&&(s.label.offsetX=t.style.label.offsetX),s}},s.type.box={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var d,p=this,f={};this._apexOptions.chart.type="boxPlot",this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&((f=this._options.options.style).hasOwnProperty("colorUpper")&&"string"==typeof f.colorUpper&&(this._apexOptions.plotOptions.boxPlot.colors.upper=f.colorUpper),f.hasOwnProperty("colorLower")&&"string"==typeof f.colorLower&&(this._apexOptions.plotOptions.boxPlot.colors.lower=f.colorLower),f.hasOwnProperty("horizontal")&&!0===f.horizontal&&(this._apexOptions.plotOptions.bar.horizontal=!0),f.hasOwnProperty("size"))&&"number"==typeof f.size&&(f.size<1?f.size=1:100<f.size&&(f.size=100),this._apexOptions.plotOptions.bar.barHeight=f.size+"%",this._apexOptions.plotOptions.bar.columnWidth=f.size+"%"),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&(d=0,$.each(this._options.datasets,function(t,e){var i,a,s,o,n,r,l,h,c;y.isObject(e)&&e.hasOwnProperty("type")&&e.hasOwnProperty("name")&&"string"==typeof e.type&&"string"==typeof e.name&&0<=["box"].indexOf(e.type)&&(i=null,s=!(a=[]),o="#333",n=1,r=0,l=.4,h="box"===e.type?"boxPlot":"",p._colors.hasOwnProperty(d)&&(i=p._colors[d]),f.hasOwnProperty("width")&&"number"==typeof f.width&&(f.width<0?f.width=0:10<f.width&&(f.width=10),n=f.width),f.hasOwnProperty("dash")&&"number"==typeof f.dash&&(f.dash<0?f.dash=0:100<f.dash&&(f.dash=100),r=f.dash),f.hasOwnProperty("labels")&&!0===f.labels&&(s=!0),f.hasOwnProperty("fill")&&"number"==typeof f.fill&&(f.fill<1?f.fill=1:100<f.fill&&(f.fill=100),l=f.fill/100),e.hasOwnProperty("style")&&y.isObject(e.style)&&(e.style.hasOwnProperty("color")&&"string"==typeof e.style.color&&(i=e.style.color),e.style.hasOwnProperty("labels")&&"boolean"==typeof e.style.labels&&(s=e.style.labels),e.style.hasOwnProperty("labelColor")&&"string"==typeof e.style.labelColor&&(o=e.style.labelColor),e.style.hasOwnProperty("fill")&&"number"==typeof e.style.fill&&(e.style.fill<1?e.style.fill=1:100<e.style.fill&&(e.style.fill=100),l=e.style.fill/100),e.style.hasOwnProperty("width")&&"number"==typeof e.style.width&&(e.style.width<0?e.style.width=0:10<e.style.width&&(e.style.width=10),n=e.style.width),e.style.hasOwnProperty("dash"))&&"number"==typeof e.style.dash&&(e.style.dash<0?e.style.dash=0:100<e.style.dash&&(e.style.dash=100),r=e.style.dash),c=0,$.each(e.data,function(t,e){var i;y.isObject(e)&&e.hasOwnProperty("y")?(i="",i=e.hasOwnProperty("x")?e.x:p._options.hasOwnProperty("labels")&&y.isArray(p._options.labels)&&p._options.labels.hasOwnProperty(c)?p._options.labels[c]:c+1,a.push({x:i,y:e.y}),c++):Array.isArray(e)&&(i="",i=p._options.hasOwnProperty("labels")&&y.isArray(p._options.labels)&&p._options.labels.hasOwnProperty(c)?p._options.labels[c]:c+1,a.push({x:i,y:e}),c++)}),s&&(p._apexOptions.dataLabels.enabledOnSeries.push(d),p._apexOptions.dataLabels.enabled=!0),p._apexOptions.dataLabels.style.colors.push(o),p._apexOptions.fill.gradient.opacityFrom.push(l),p._apexOptions.fill.opacity.push(l),p._apexOptions.stroke.width.push(n),p._apexOptions.stroke.dashArray.push(r),p._apexOptions.colors.push(i||"#66a61e"),p._apexOptions.series.push({type:h,name:e.name,data:a}),d++)}))}},s.type.hBar={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var h,c=this,d={};this._apexOptions.chart.type="bar",this._apexOptions.plotOptions.bar.horizontal=!0,this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&((d=this._options.options.style).hasOwnProperty("stacked")&&0<=["string","boolean"].indexOf(b(d.stacked))&&(!0===d.stacked?this._apexOptions.chart.stacked=!0:"100%"===d.stacked&&(this._apexOptions.chart.stacked=!0,this._apexOptions.chart.stackType="100%")),d.hasOwnProperty("borderRadius")&&"number"==typeof d.borderRadius&&(d.borderRadius<0?d.borderRadius=0:10<d.borderRadius&&(d.borderRadius=10),this._apexOptions.plotOptions.bar.borderRadius=d.borderRadius),d.hasOwnProperty("size")&&"number"==typeof d.size&&(d.size<1?d.size=1:100<d.size&&(d.size=100),this._apexOptions.plotOptions.bar.barHeight=d.size+"%"),d.hasOwnProperty("isFunnel"))&&!0===d.isFunnel&&(this._apexOptions.plotOptions.bar.isFunnel=!0,this._apexOptions.xaxis.crosshairs.show=!1,this._apexOptions.dataLabels.formatter=function(t,e){return e.w.globals.labels[e.dataPointIndex]+":  "+t}),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&(h=0,$.each(this._options.datasets,function(t,e){var i,a,s,o,n,r,l;y.isObject(e)&&e.hasOwnProperty("type")&&e.hasOwnProperty("name")&&"string"==typeof e.type&&"string"==typeof e.name&&0<=["bar"].indexOf(e.type)&&(i=null,a=!1,s="#fff",o=1,n=0,r="solid",l=.4,c._colors.hasOwnProperty(h)&&(i=c._colors[h]),d.hasOwnProperty("width")&&"number"==typeof d.width&&(d.width<0?d.width=0:10<d.width&&(d.width=10),o=d.width),d.hasOwnProperty("dash")&&"number"==typeof d.dash&&(d.dash<0?d.dash=0:100<d.dash&&(d.dash=100),n=d.dash),d.hasOwnProperty("gradient")&&!0===d.gradient&&(r="gradient"),d.hasOwnProperty("fill")&&"number"==typeof d.fill&&(d.fill<1?d.fill=1:100<d.fill&&(d.fill=100),l=d.fill/100),d.hasOwnProperty("labels")&&!0===d.labels&&(a=!0),d.hasOwnProperty("labelColor")&&"string"==typeof d.labelColor&&(s=d.labelColor),e.hasOwnProperty("style")&&y.isObject(e.style)&&(e.style.hasOwnProperty("color")&&"string"==typeof e.style.color&&(i=e.style.color),e.style.hasOwnProperty("labels")&&"boolean"==typeof e.style.labels&&(a=e.style.labels),e.style.hasOwnProperty("labelColor")&&"string"==typeof e.style.labelColor&&(s=e.style.labelColor),e.style.hasOwnProperty("dash")&&"number"==typeof e.style.dash&&(e.style.dash<0?e.style.dash=0:100<e.style.dash&&(e.style.dash=100),n=e.style.dash),e.style.hasOwnProperty("width")&&"number"==typeof e.style.width&&(e.style.width<0?e.style.width=0:10<e.style.width&&(e.style.width=10),o=e.style.width),e.style.hasOwnProperty("fill")&&"number"==typeof e.style.fill&&(e.style.fill<1?e.style.fill=1:100<e.style.fill&&(e.style.fill=100),l=e.style.fill/100),e.style.hasOwnProperty("gradient"))&&(r=!0===e.style.gradient?"gradient":"solid"),a&&(c._apexOptions.dataLabels.enabledOnSeries.push(h),c._apexOptions.dataLabels.enabled=!0),c._apexOptions.dataLabels.style.colors.push(s),c._apexOptions.fill.gradient.opacityFrom.push(l),c._apexOptions.fill.opacity.push(l),c._apexOptions.fill.type.push(r),c._apexOptions.stroke.width.push(o),c._apexOptions.stroke.dashArray.push(n),c._apexOptions.colors.push(i||"#66a61e"),c._apexOptions.series.push({type:"bar",name:e.name,data:e.data}),h++)}))}},s.type.radar={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var l,h=this,c={};this._apexOptions.chart.type="radar",this._apexOptions.tooltip.intersect=!0,this._apexOptions.tooltip.shared=!1,this._apexOptions.grid.show=!1,this._apexOptions.xaxis.crosshairs.show=!1,this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&(c=this._options.options.style),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&(l=0,$.each(this._options.datasets,function(t,e){var i,a,s,o,n,r;y.isObject(e)&&e.hasOwnProperty("type")&&"string"==typeof e.type&&e.hasOwnProperty("name")&&"string"==typeof e.name&&0<=["radar"].indexOf(e.type)&&(i=null,a=4,s=0,n=!(o="#333"),r=.4,h._colors.hasOwnProperty(l)&&(i=h._colors[l]),c.hasOwnProperty("markerSize")&&"number"==typeof c.markerSize&&(c.markerSize<0?c.markerSize=0:10<c.markerSize&&(c.markerSize=10),a=c.markerSize),c.hasOwnProperty("fill")&&"number"==typeof c.fill&&(c.fill<1?c.fill=1:100<c.fill&&(c.fill=100),r=c.fill/100),c.hasOwnProperty("dash")&&"number"==typeof c.dash&&(c.dash<0?c.dash=0:100<c.dash&&(c.dash=100),s=c.dash),e.hasOwnProperty("style")&&y.isObject(e.style)&&(e.style.hasOwnProperty("color")&&"string"==typeof e.style.color&&(i=e.style.color),e.style.hasOwnProperty("labelColor")&&"string"==typeof e.style.labelColor&&(o=e.style.labelColor),e.style.hasOwnProperty("labels")&&!0===e.style.labels&&(n=!0),e.style.hasOwnProperty("markerSize")&&"number"==typeof e.style.markerSize&&(e.style.markerSize<0?e.style.markerSize=0:10<e.style.markerSize&&(e.style.markerSize=10),a=e.style.markerSize),e.style.hasOwnProperty("dash")&&"number"==typeof e.style.dash&&(e.style.dash<0?e.style.dash=0:100<e.style.dash&&(e.style.dash=100),s=e.style.dash),e.style.hasOwnProperty("fill"))&&"number"==typeof e.style.fill&&(e.style.fill<1?e.style.fill=1:100<e.style.fill&&(e.style.fill=100),r=e.style.fill/100),n&&h._apexOptions.dataLabels.hasOwnProperty("enabled")&&(h._apexOptions.dataLabels.enabledOnSeries.push(l),h._apexOptions.dataLabels.enabled=!0),h._apexOptions.dataLabels.style.colors.push(o),h._apexOptions.fill.opacity.push(r),h._apexOptions.stroke.dashArray.push(s),h._apexOptions.markers.size.push(a),h._apexOptions.colors.push(i||"#66a61e"),h._apexOptions.series.push({name:e.name,data:e.data}),l++)})),this._apexOptions.dataLabels.hasOwnProperty("enabled")&&this._apexOptions.dataLabels.enabled||(this._apexOptions.dataLabels.enabledOnSeries=void 0)},getDatasets:function(){return this.datasets},getAnnotations:function(){return{}}},s.type.candlestick={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var c,d=this,p={};this._apexOptions.chart.type="candlestick",this._apexOptions.tooltip.intersect=!1,this._apexOptions.tooltip.shared=!1,this._apexOptions.xaxis.crosshairs.show=!1,this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&((p=this._options.options.style).hasOwnProperty("colorUpward")&&"string"==typeof p.colorUpward&&(this._apexOptions.plotOptions.candlestick.colors.upward=p.colorUpward),p.hasOwnProperty("colorDownward"))&&"string"==typeof p.colorDownward&&(this._apexOptions.plotOptions.candlestick.colors.downward=p.colorDownward),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&(c=0,$.each(this._options.datasets,function(t,e){var i,a,s,o,n,r,l,h;y.isObject(e)&&e.hasOwnProperty("type")&&e.hasOwnProperty("name")&&"string"==typeof e.type&&"string"==typeof e.name&&0<=["candlestick"].indexOf(e.type)&&(i=null,s=!(a=[]),o="#333",n=1,r=0,l=.4,d._colors.hasOwnProperty(c)&&(i=d._colors[c]),p.hasOwnProperty("width")&&"number"==typeof p.width&&(p.width<0?p.width=0:10<p.width&&(p.width=10),n=p.width),p.hasOwnProperty("dash")&&"number"==typeof p.dash&&(p.dash<0?p.dash=0:100<p.dash&&(p.dash=100),r=p.dash),p.hasOwnProperty("labels")&&!0===p.labels&&(s=!0),p.hasOwnProperty("fill")&&"number"==typeof p.fill&&(p.fill<1?p.fill=1:100<p.fill&&(p.fill=100),l=p.fill/100),e.hasOwnProperty("style")&&y.isObject(e.style)&&(e.style.hasOwnProperty("color")&&"string"==typeof e.style.color&&(i=e.style.color),e.style.hasOwnProperty("labels")&&"boolean"==typeof e.style.labels&&(s=e.style.labels),e.style.hasOwnProperty("labelColor")&&"string"==typeof e.style.labelColor&&(o=e.style.labelColor),e.style.hasOwnProperty("fill")&&"number"==typeof e.style.fill&&(e.style.fill<1?e.style.fill=1:100<e.style.fill&&(e.style.fill=100),l=e.style.fill/100),e.style.hasOwnProperty("width"))&&"number"==typeof e.style.width&&(e.style.width<0?e.style.width=0:10<e.style.width&&(e.style.width=10),n=e.style.width),h=0,$.each(e.data,function(t,e){var i;y.isObject(e)&&e.hasOwnProperty("y")?(i="",i=e.hasOwnProperty("x")?e.x:d._options.hasOwnProperty("labels")&&y.isArray(d._options.labels)&&d._options.labels.hasOwnProperty(h)?d._options.labels[h]:h+1,a.push({x:i,y:e.y}),h++):Array.isArray(e)&&(a.push(e),h++)}),s&&(d._apexOptions.dataLabels.enabledOnSeries.push(c),d._apexOptions.dataLabels.enabled=!0),d._apexOptions.dataLabels.style.colors.push(o),d._apexOptions.fill.gradient.opacityFrom.push(l),d._apexOptions.fill.opacity.push(l),d._apexOptions.stroke.width.push(n),d._apexOptions.stroke.dashArray.push(r),d._apexOptions.colors.push(i||"#66a61e"),d._apexOptions.series.push({type:e.type,name:e.name,data:a}),c++)}))}},s.type.polarArea={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var t,i=this;this._apexOptions.chart.type="polarArea",this._apexOptions.colors=Object.values(this._colors),this._apexOptions.fill.opacity=.7,this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&((t=this._options.options.style).hasOwnProperty("fill")&&"number"==typeof t.fill&&(t.fill<1?t.fill=1:100<t.fill&&(t.fill=100),this._apexOptions.fill.opacity=t.fill/100),t.hasOwnProperty("labels")&&!0===t.labels&&(this._apexOptions.dataLabels.enabled=!0),t.hasOwnProperty("labelColor"))&&"string"==typeof t.labelColor&&this._apexOptions.dataLabels.style.colors.push(t.labelColor),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&$.each(this._options.datasets,function(t,e){return y.isObject(e)&&e.hasOwnProperty("type")&&"string"==typeof e.type&&0<=["polarArea"].indexOf(e.type)?(i._apexOptions.chart.type=e.type,i._apexOptions.series=e.data,!1):void 0})}},s.type.rangeArea={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var g,i,u=this,x={};this._apexOptions.chart.type="rangeArea",this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&(x=this._options.options.style).hasOwnProperty("markerType")&&"string"==typeof x.markerType&&(this._apexOptions.markers.shape=x.markerType),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&(g=0,$.each(this._options.datasets,function(t,e){var i,a,s,o,n,r,l,h,c,d,p,f;y.isObject(e)&&e.hasOwnProperty("type")&&e.hasOwnProperty("name")&&"string"==typeof e.type&&"string"==typeof e.name&&0<=["line","rangeArea"].indexOf(e.type)&&(i=null,s=!(a=[]),o="#333",r=1,l=n=0,h="solid",c=.4,d="straight",p="rangeArea"===e.type?"":e.type,u._colors.hasOwnProperty(g)&&(i=u._colors[g]),x.hasOwnProperty("width")&&"number"==typeof x.width&&(x.width<0?x.width=0:10<x.width&&(x.width=10),r=x.width),x.hasOwnProperty("dash")&&"number"==typeof x.dash&&(x.dash<0?x.dash=0:100<x.dash&&(x.dash=100),l=x.dash),x.hasOwnProperty("markerSize")&&"number"==typeof x.markerSize&&(x.markerSize<0?x.markerSize=0:10<x.markerSize&&(x.markerSize=10),n=x.markerSize),x.hasOwnProperty("theme")&&"string"==typeof x.theme&&(d=x.theme),x.hasOwnProperty("gradient")&&!0===x.gradient&&(h="gradient"),x.hasOwnProperty("fill")&&"number"==typeof x.fill&&(x.fill<0?x.fill=0:100<x.fill&&(x.fill=100),c=x.fill/100),x.hasOwnProperty("labels")&&!0===x.labels&&(s=!0),e.hasOwnProperty("style")&&y.isObject(e.style)&&(e.style.hasOwnProperty("color")&&"string"==typeof e.style.color&&(i=e.style.color),e.style.hasOwnProperty("labels")&&!0===e.style.labels&&(s=!0),e.style.hasOwnProperty("labelColor")&&"string"==typeof e.style.labelColor&&(o=e.style.labelColor),e.style.hasOwnProperty("dash")&&"number"==typeof e.style.dash&&(e.style.dash<0?e.style.dash=0:100<e.style.dash&&(e.style.dash=100),l=e.style.dash),e.style.hasOwnProperty("width")&&"number"==typeof e.style.width&&(e.style.width<0?e.style.width=0:10<e.style.width&&(e.style.width=10),r=e.style.width),e.style.hasOwnProperty("markerSize")&&"number"==typeof e.style.markerSize&&(e.style.markerSize<0?e.style.markerSize=0:10<e.style.markerSize&&(e.style.markerSize=10),n=e.style.markerSize),e.style.hasOwnProperty("fill")&&"number"==typeof e.style.fill&&(e.style.fill<1?e.style.fill=1:100<e.style.fill&&(e.style.fill=100),c=e.style.fill/100),e.style.hasOwnProperty("gradient")&&(h=!0===e.style.gradient?"gradient":"solid"),e.style.hasOwnProperty("theme"))&&"string"==typeof e.style.theme&&(d=e.style.theme),f=0,$.each(e.data,function(t,e){var i;(y.isArray(e)||0<=["number","string"].indexOf(b(e)))&&(i=f+1,u._options.hasOwnProperty("labels")&&y.isArray(u._options.labels)&&u._options.labels.hasOwnProperty(f)&&(i=u._options.labels[f]),a.push({x:i,y:e}),f++)}),e={name:e.name,data:a},p&&(e.type=p),s&&(u._apexOptions.dataLabels.enabledOnSeries.push(g),u._apexOptions.dataLabels.enabled=!0),u._apexOptions.dataLabels.style.colors.push(o),u._apexOptions.plotOptions.bar.borderRadius=0,u._apexOptions.fill.gradient.opacityFrom.push(c),u._apexOptions.fill.opacity.push(c),u._apexOptions.fill.type.push(h),u._apexOptions.stroke.width.push(r),u._apexOptions.stroke.dashArray.push(l),u._apexOptions.stroke.curve.push(d),u._apexOptions.markers.size.push(n),u._apexOptions.colors.push(i||"#66a61e"),u._apexOptions.series.push(e),g++)}),i=!1,$.each(this._apexOptions.markers.size,function(t,e){0<e&&(i=!0)}),i)&&$.each(this._apexOptions.markers.size,function(t,e){0===e&&(u._apexOptions.markers.size[t]=.1)})}},s.type.rangeBar={_options:{},_apexOptions:{},_apex:null,_colors:[],_datasets:[],init:function(t,e,i){this._options=$.extend(!0,{},t),this._apexOptions=$.extend(!0,{},e),this._colors=$.extend(!0,{},i)},render:function(t){this._buildApexOptions(),this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.debug&&console.log($.extend(!0,{},this._apexOptions)),this._apex=new X(t,this._apexOptions),this._apex.render()},_buildApexOptions:function(){var d,i,p=this,f={};this._apexOptions.chart.type="rangeBar",this._apexOptions.tooltip.intersect=!1,this._apexOptions.tooltip.shared=!1,this._apexOptions.plotOptions.bar.horizontal=!1,this._options.hasOwnProperty("options")&&y.isObject(this._options.options)&&this._options.options.hasOwnProperty("style")&&y.isObject(this._options.options.style)&&((f=this._options.options.style).hasOwnProperty("horizontal")&&!0===f.horizontal&&(this._apexOptions.plotOptions.bar.horizontal=!0),f.hasOwnProperty("borderRadius")&&"number"==typeof f.borderRadius&&(f.borderRadius<0?f.borderRadius=0:10<f.borderRadius&&(f.borderRadius=10),this._apexOptions.plotOptions.bar.borderRadius=f.borderRadius),f.hasOwnProperty("size"))&&"number"==typeof f.size&&(f.size<1?f.size=1:100<f.size&&(f.size=100),this._apexOptions.plotOptions.bar.barHeight=f.size+"%",this._apexOptions.plotOptions.bar.columnWidth=f.size+"%"),this._options.hasOwnProperty("datasets")&&y.isArray(this._options.datasets)&&(d=0,$.each(this._options.datasets,function(t,e){var i,a,s,o,n,r,l,h,c;y.isObject(e)&&e.hasOwnProperty("type")&&e.hasOwnProperty("name")&&"string"==typeof e.type&&"string"==typeof e.name&&0<=["bar"].indexOf(e.type)&&(i=null,s=!(a=[]),o="#333",n=1,r=0,l="solid",h=.4,p._colors.hasOwnProperty(d)&&(i=p._colors[d]),f.hasOwnProperty("width")&&"number"==typeof f.width&&(f.width<0?f.width=0:10<f.width&&(f.width=10),n=f.width),f.hasOwnProperty("dash")&&"number"==typeof f.dash&&(f.dash<0?f.dash=0:100<f.dash&&(f.dash=100),r=f.dash),f.hasOwnProperty("gradient")&&!0===f.gradient&&(l="gradient"),f.hasOwnProperty("fill")&&"number"==typeof f.fill&&(f.fill<0?f.fill=0:100<f.fill&&(f.fill=100),h=f.fill/100),f.hasOwnProperty("labels")&&!0===f.labels&&(s=!0),e.hasOwnProperty("style")&&y.isObject(e.style)&&(e.style.hasOwnProperty("color")&&"string"==typeof e.style.color&&(i=e.style.color),e.style.hasOwnProperty("labels")&&"boolean"==typeof e.style.labels&&(s=e.style.labels),e.style.hasOwnProperty("labelColor")&&"string"==typeof e.style.labelColor&&(o=e.style.labelColor),e.style.hasOwnProperty("dash")&&"number"==typeof e.style.dash&&(e.style.dash<0?e.style.dash=0:100<e.style.dash&&(e.style.dash=100),r=e.style.dash),e.style.hasOwnProperty("width")&&"number"==typeof e.style.width&&(e.style.width<0?e.style.width=0:10<e.style.width&&(e.style.width=10),n=e.style.width),e.style.hasOwnProperty("fill")&&"number"==typeof e.style.fill&&(e.style.fill<1?e.style.fill=1:100<e.style.fill&&(e.style.fill=100),h=e.style.fill/100),e.style.hasOwnProperty("gradient"))&&(l=!0===e.style.gradient?"gradient":"solid"),c=0,$.each(e.data,function(t,e){var i;y.isArray(e)&&(i=c+1,p._options.hasOwnProperty("labels")&&y.isArray(p._options.labels)&&p._options.labels.hasOwnProperty(c)&&(i=p._options.labels[c]),a.push({x:i,y:e}),c++)}),s&&(p._apexOptions.dataLabels.enabledOnSeries.push(d),p._apexOptions.dataLabels.enabled=!0),p._apexOptions.dataLabels.style.colors.push(o),p._apexOptions.fill.gradient.opacityFrom.push(h),p._apexOptions.fill.opacity.push(h),p._apexOptions.fill.type.push(l),p._apexOptions.stroke.width.push(n),p._apexOptions.stroke.dashArray.push(r),p._apexOptions.colors.push(i||"#66a61e"),p._apexOptions.series.push({name:e.name,data:a}),d++)}),i=!1,$.each(this._apexOptions.markers.size,function(t,e){0<e&&(i=!0)}),i)&&$.each(this._apexOptions.markers.size,function(t,e){0===e&&(p._apexOptions.markers.size[t]=.1)})}},s.lang.en={loading:"Loading",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}},s.lang.ru={loading:"Загрузка",months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],shortMonths:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],shortDays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],toolbar:{exportToSVG:"Сохранить SVG",exportToPNG:"Сохранить PNG",exportToCSV:"Сохранить CSV",menu:"Меню",selection:"Выбор",selectionZoom:"Выбор с увеличением",zoomIn:"Увеличить",zoomOut:"Уменьшить",pan:"Перемещение",reset:"Сбросить увеличение"}},s});
//# sourceMappingURL=coreui-chart.min.js.map
;
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):((t="undefined"!=typeof globalThis?globalThis:t||self).CoreUI=t.CoreUI||{},t.CoreUI.breadcrumb=i())}(this,function(){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s={isObject:function(t){return"object"===i(t)&&!Array.isArray(t)&&null!==t},hashCode:function(){return this.crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},crc32:function(t){for(var i=[],e=0;e<256;e++){for(var n=e,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;i[e]=n}for(var s=-1,o=0;o<t.length;o++)s=s>>>8^i[255&(s^t.charCodeAt(o))];return(-1^s)>>>0}},e={_id:null,_options:{id:null,options:{divider:null,items:[]}},_init:function(t){this._options=$.extend(!0,{},this._options,t),this._id=this._options.hasOwnProperty("id")&&"string"==typeof this._options.id&&this._options.id?this._options.id:s.hashCode()},render:function(t){var e=this,n=[],i="",i=(this._options.hasOwnProperty("divider")&&"string"==typeof this._options.divider&&this._options.divider&&(i="url("===this._options.divider.substring(0,4)?' style="--bs-breadcrumb-divider: '+this._options.divider+'"':" style=\"--bs-breadcrumb-divider: '"+this._options.divider+"'\""),Array.isArray(this._options.items)&&$.each(this._options.items,function(t,i){s.isObject(i)&&i.hasOwnProperty("text")&&"string"==typeof i.text&&(i.hasOwnProperty("url")&&"string"==typeof i.url?n.push('<li class="breadcrumb-item"><a href="'+i.url+'">'+i.text+"</a></li>"):(t=i.hasOwnProperty("active")&&i.active||e._options.items.length-1===t?" active":"",n.push('<li class="breadcrumb-item'+t+'">'+i.text+"</li>")))}),'<nav id="coreui-braedcrumb-'+this.getId()+'" class="coreui-breadcrumb"'+i+'><ol class="breadcrumb">'+n.join("")+"</ol></div>");if(void 0===t)return i;var r=null;if("string"==typeof t){if(!(r=document.getElementById(t)))return}else t instanceof HTMLElement&&(r=t);r&&$(r).append(i)},initEvents:function(){},getId:function(){return this._id},getOptions:function(){return $.extend(!0,{},this._options)}},n={_instances:{},_settings:{divider:null},create:function(t){var i=$.extend(!0,{},e),t=(t.hasOwnProperty("divider")||(t.divider=n.getSetting("divider")),i._init(s.isObject(t)?t:{}),i.getId());return this._instances[t]=i},get:function(t){return this._instances.hasOwnProperty(t)?$("#coreui-breadcrumb-"+t)[0]?this._instances[t]:(delete this._instances[t],null):null},setSettings:function(t){this._settings=$.extend({},this._settings,t)},getSetting:function(t){var i=null;return i=this._settings.hasOwnProperty(t)?this._settings[t]:i}};return n});
//# sourceMappingURL=coreui-breadcrumb.min.js.map
;
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.Core = factory());
}(this, (function () { 'use strict';

function _AsyncGenerator(e) {
  var r, t;
  function resume(r, t) {
    try {
      var n = e[r](t),
        o = n.value,
        u = o instanceof _OverloadYield;
      Promise.resolve(u ? o.v : o).then(function (t) {
        if (u) {
          var i = "return" === r ? "return" : "next";
          if (!o.k || t.done) return resume(i, t);
          t = e[i](t).value;
        }
        settle(n.done ? "return" : "normal", t);
      }, function (e) {
        resume("throw", e);
      });
    } catch (e) {
      settle("throw", e);
    }
  }
  function settle(e, n) {
    switch (e) {
      case "return":
        r.resolve({
          value: n,
          done: !0
        });
        break;
      case "throw":
        r.reject(n);
        break;
      default:
        r.resolve({
          value: n,
          done: !1
        });
    }
    (r = r.next) ? resume(r.key, r.arg) : t = null;
  }
  this._invoke = function (e, n) {
    return new Promise(function (o, u) {
      var i = {
        key: e,
        arg: n,
        resolve: o,
        reject: u,
        next: null
      };
      t ? t = t.next = i : (r = t = i, resume(e, n));
    });
  }, "function" != typeof e.return && (this.return = void 0);
}
_AsyncGenerator.prototype["function" == typeof Symbol && Symbol.asyncIterator || "@@asyncIterator"] = function () {
  return this;
}, _AsyncGenerator.prototype.next = function (e) {
  return this._invoke("next", e);
}, _AsyncGenerator.prototype.throw = function (e) {
  return this._invoke("throw", e);
}, _AsyncGenerator.prototype.return = function (e) {
  return this._invoke("return", e);
};
function _OverloadYield(t, e) {
  this.v = t, this.k = e;
}
function _regeneratorRuntime() {
  "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  _regeneratorRuntime = function () {
    return e;
  };
  var t,
    e = {},
    r = Object.prototype,
    n = r.hasOwnProperty,
    o = Object.defineProperty || function (t, e, r) {
      t[e] = r.value;
    },
    i = "function" == typeof Symbol ? Symbol : {},
    a = i.iterator || "@@iterator",
    c = i.asyncIterator || "@@asyncIterator",
    u = i.toStringTag || "@@toStringTag";
  function define(t, e, r) {
    return Object.defineProperty(t, e, {
      value: r,
      enumerable: !0,
      configurable: !0,
      writable: !0
    }), t[e];
  }
  try {
    define({}, "");
  } catch (t) {
    define = function (t, e, r) {
      return t[e] = r;
    };
  }
  function wrap(t, e, r, n) {
    var i = e && e.prototype instanceof Generator ? e : Generator,
      a = Object.create(i.prototype),
      c = new Context(n || []);
    return o(a, "_invoke", {
      value: makeInvokeMethod(t, r, c)
    }), a;
  }
  function tryCatch(t, e, r) {
    try {
      return {
        type: "normal",
        arg: t.call(e, r)
      };
    } catch (t) {
      return {
        type: "throw",
        arg: t
      };
    }
  }
  e.wrap = wrap;
  var h = "suspendedStart",
    l = "suspendedYield",
    f = "executing",
    s = "completed",
    y = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  var p = {};
  define(p, a, function () {
    return this;
  });
  var d = Object.getPrototypeOf,
    v = d && d(d(values([])));
  v && v !== r && n.call(v, a) && (p = v);
  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);
  function defineIteratorMethods(t) {
    ["next", "throw", "return"].forEach(function (e) {
      define(t, e, function (t) {
        return this._invoke(e, t);
      });
    });
  }
  function AsyncIterator(t, e) {
    function invoke(r, o, i, a) {
      var c = tryCatch(t[r], t, o);
      if ("throw" !== c.type) {
        var u = c.arg,
          h = u.value;
        return h && "object" == typeof h && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) {
          invoke("next", t, i, a);
        }, function (t) {
          invoke("throw", t, i, a);
        }) : e.resolve(h).then(function (t) {
          u.value = t, i(u);
        }, function (t) {
          return invoke("throw", t, i, a);
        });
      }
      a(c.arg);
    }
    var r;
    o(this, "_invoke", {
      value: function (t, n) {
        function callInvokeWithMethodAndArg() {
          return new e(function (e, r) {
            invoke(t, n, e, r);
          });
        }
        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      }
    });
  }
  function makeInvokeMethod(e, r, n) {
    var o = h;
    return function (i, a) {
      if (o === f) throw new Error("Generator is already running");
      if (o === s) {
        if ("throw" === i) throw a;
        return {
          value: t,
          done: !0
        };
      }
      for (n.method = i, n.arg = a;;) {
        var c = n.delegate;
        if (c) {
          var u = maybeInvokeDelegate(c, n);
          if (u) {
            if (u === y) continue;
            return u;
          }
        }
        if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {
          if (o === h) throw o = s, n.arg;
          n.dispatchException(n.arg);
        } else "return" === n.method && n.abrupt("return", n.arg);
        o = f;
        var p = tryCatch(e, r, n);
        if ("normal" === p.type) {
          if (o = n.done ? s : l, p.arg === y) continue;
          return {
            value: p.arg,
            done: n.done
          };
        }
        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
      }
    };
  }
  function maybeInvokeDelegate(e, r) {
    var n = r.method,
      o = e.iterator[n];
    if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
    var i = tryCatch(o, e.iterator, r.arg);
    if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y;
    var a = i.arg;
    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);
  }
  function pushTryEntry(t) {
    var e = {
      tryLoc: t[0]
    };
    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);
  }
  function resetTryEntry(t) {
    var e = t.completion || {};
    e.type = "normal", delete e.arg, t.completion = e;
  }
  function Context(t) {
    this.tryEntries = [{
      tryLoc: "root"
    }], t.forEach(pushTryEntry, this), this.reset(!0);
  }
  function values(e) {
    if (e || "" === e) {
      var r = e[a];
      if (r) return r.call(e);
      if ("function" == typeof e.next) return e;
      if (!isNaN(e.length)) {
        var o = -1,
          i = function next() {
            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;
            return next.value = t, next.done = !0, next;
          };
        return i.next = i;
      }
    }
    throw new TypeError(typeof e + " is not iterable");
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
    value: GeneratorFunctionPrototype,
    configurable: !0
  }), o(GeneratorFunctionPrototype, "constructor", {
    value: GeneratorFunction,
    configurable: !0
  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) {
    var e = "function" == typeof t && t.constructor;
    return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
  }, e.mark = function (t) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t;
  }, e.awrap = function (t) {
    return {
      __await: t
    };
  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {
    return this;
  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {
    void 0 === i && (i = Promise);
    var a = new AsyncIterator(wrap(t, r, n, o), i);
    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {
      return t.done ? t.value : a.next();
    });
  }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () {
    return this;
  }), define(g, "toString", function () {
    return "[object Generator]";
  }), e.keys = function (t) {
    var e = Object(t),
      r = [];
    for (var n in e) r.push(n);
    return r.reverse(), function next() {
      for (; r.length;) {
        var t = r.pop();
        if (t in e) return next.value = t, next.done = !1, next;
      }
      return next.done = !0, next;
    };
  }, e.values = values, Context.prototype = {
    constructor: Context,
    reset: function (e) {
      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);
    },
    stop: function () {
      this.done = !0;
      var t = this.tryEntries[0].completion;
      if ("throw" === t.type) throw t.arg;
      return this.rval;
    },
    dispatchException: function (e) {
      if (this.done) throw e;
      var r = this;
      function handle(n, o) {
        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o;
      }
      for (var o = this.tryEntries.length - 1; o >= 0; --o) {
        var i = this.tryEntries[o],
          a = i.completion;
        if ("root" === i.tryLoc) return handle("end");
        if (i.tryLoc <= this.prev) {
          var c = n.call(i, "catchLoc"),
            u = n.call(i, "finallyLoc");
          if (c && u) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          } else if (c) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
          } else {
            if (!u) throw new Error("try statement without catch or finally");
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          }
        }
      }
    },
    abrupt: function (t, e) {
      for (var r = this.tryEntries.length - 1; r >= 0; --r) {
        var o = this.tryEntries[r];
        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
          var i = o;
          break;
        }
      }
      i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
      var a = i ? i.completion : {};
      return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a);
    },
    complete: function (t, e) {
      if ("throw" === t.type) throw t.arg;
      return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y;
    },
    finish: function (t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;
      }
    },
    catch: function (t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.tryLoc === t) {
          var n = r.completion;
          if ("throw" === n.type) {
            var o = n.arg;
            resetTryEntry(r);
          }
          return o;
        }
      }
      throw new Error("illegal catch attempt");
    },
    delegateYield: function (e, r, n) {
      return this.delegate = {
        iterator: values(e),
        resultName: r,
        nextLoc: n
      }, "next" === this.method && (this.arg = t), y;
    }
  }, e;
}
function _typeof(o) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, _typeof(o);
}
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}
function _asyncToGenerator(fn) {
  return function () {
    var self = this,
      args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}
function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
  return arr2;
}
function _createForOfIteratorHelper(o, allowArrayLike) {
  var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
  if (!it) {
    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;
      var F = function () {};
      return {
        s: F,
        n: function () {
          if (i >= o.length) return {
            done: true
          };
          return {
            done: false,
            value: o[i++]
          };
        },
        e: function (e) {
          throw e;
        },
        f: F
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var normalCompletion = true,
    didErr = false,
    err;
  return {
    s: function () {
      it = it.call(o);
    },
    n: function () {
      var step = it.next();
      normalCompletion = step.done;
      return step;
    },
    e: function (e) {
      didErr = true;
      err = e;
    },
    f: function () {
      try {
        if (!normalCompletion && it.return != null) it.return();
      } finally {
        if (didErr) throw err;
      }
    }
  };
}
function _toPrimitive(input, hint) {
  if (typeof input !== "object" || input === null) return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== undefined) {
    var res = prim.call(input, hint || "default");
    if (typeof res !== "object") return res;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
function _toPropertyKey(arg) {
  var key = _toPrimitive(arg, "string");
  return typeof key === "symbol" ? key : String(key);
}

function e(e) {
  this.message = e;
}
e.prototype = new Error(), e.prototype.name = "InvalidCharacterError";
var r = "undefined" != typeof window && window.atob && window.atob.bind(window) || function (r) {
  var t = String(r).replace(/=+$/, "");
  if (t.length % 4 == 1) throw new e("'atob' failed: The string to be decoded is not correctly encoded.");
  for (var n, o, a = 0, i = 0, c = ""; o = t.charAt(i++); ~o && (n = a % 4 ? 64 * n + o : o, a++ % 4) ? c += String.fromCharCode(255 & n >> (-2 * a & 6)) : 0) o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);
  return c;
};
function t(e) {
  var t = e.replace(/-/g, "+").replace(/_/g, "/");
  switch (t.length % 4) {
    case 0:
      break;
    case 2:
      t += "==";
      break;
    case 3:
      t += "=";
      break;
    default:
      throw "Illegal base64url string!";
  }
  try {
    return function (e) {
      return decodeURIComponent(r(e).replace(/(.)/g, function (e, r) {
        var t = r.charCodeAt(0).toString(16).toUpperCase();
        return t.length < 2 && (t = "0" + t), "%" + t;
      }));
    }(t);
  } catch (e) {
    return r(t);
  }
}
function n(e) {
  this.message = e;
}
function o(e, r) {
  if ("string" != typeof e) throw new n("Invalid token specified");
  var o = !0 === (r = r || {}).header ? 0 : 1;
  try {
    return JSON.parse(t(e.split(".")[o]));
  } catch (e) {
    throw new n("Invalid token specified: " + e.message);
  }
}
n.prototype = new Error(), n.prototype.name = "InvalidTokenError";

/**
 * FingerprintJS v3.3.3 - Copyright (c) FingerprintJS, Inc, 2022 (https://fingerprintjs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 *
 * This software contains code from open-source projects:
 * MurmurHash3 by Karan Lyons (https://github.com/karanlyons/murmurHash3.js)
 */

!function (e, t) {
  "object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t((e = "undefined" != typeof globalThis ? globalThis : e || self).FingerprintJS = {});
}(window, function (e) {
  "use strict";

  var t = function () {
    return (t = Object.assign || function (e) {
      for (var t, n = 1, r = arguments.length; n < r; n++) for (var a in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
      return e;
    }).apply(this, arguments);
  };
  function n(e, t, n, r) {
    return new (n || (n = Promise))(function (a, o) {
      function i(e) {
        try {
          u(r.next(e));
        } catch (t) {
          o(t);
        }
      }
      function c(e) {
        try {
          u(r.throw(e));
        } catch (t) {
          o(t);
        }
      }
      function u(e) {
        var t;
        e.done ? a(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {
          e(t);
        })).then(i, c);
      }
      u((r = r.apply(e, t || [])).next());
    });
  }
  function r(e, t) {
    var n,
      r,
      a,
      o,
      i = {
        label: 0,
        sent: function () {
          if (1 & a[0]) throw a[1];
          return a[1];
        },
        trys: [],
        ops: []
      };
    return o = {
      next: c(0),
      throw: c(1),
      return: c(2)
    }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
      return this;
    }), o;
    function c(o) {
      return function (c) {
        return function (o) {
          if (n) throw new TypeError("Generator is already executing.");
          for (; i;) try {
            if (n = 1, r && (a = 2 & o[0] ? r.return : o[0] ? r.throw || ((a = r.return) && a.call(r), 0) : r.next) && !(a = a.call(r, o[1])).done) return a;
            switch (r = 0, a && (o = [2 & o[0], a.value]), o[0]) {
              case 0:
              case 1:
                a = o;
                break;
              case 4:
                return i.label++, {
                  value: o[1],
                  done: !1
                };
              case 5:
                i.label++, r = o[1], o = [0];
                continue;
              case 7:
                o = i.ops.pop(), i.trys.pop();
                continue;
              default:
                if (!(a = i.trys, (a = a.length > 0 && a[a.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                  i = 0;
                  continue;
                }
                if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
                  i.label = o[1];
                  break;
                }
                if (6 === o[0] && i.label < a[1]) {
                  i.label = a[1], a = o;
                  break;
                }
                if (a && i.label < a[2]) {
                  i.label = a[2], i.ops.push(o);
                  break;
                }
                a[2] && i.ops.pop(), i.trys.pop();
                continue;
            }
            o = t.call(e, i);
          } catch (c) {
            o = [6, c], r = 0;
          } finally {
            n = a = 0;
          }
          if (5 & o[0]) throw o[1];
          return {
            value: o[0] ? o[1] : void 0,
            done: !0
          };
        }([o, c]);
      };
    }
  }
  function a() {
    for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
    var r = Array(e),
      a = 0;
    for (t = 0; t < n; t++) for (var o = arguments[t], i = 0, c = o.length; i < c; i++, a++) r[a] = o[i];
    return r;
  }
  function o(e, t) {
    return new Promise(function (n) {
      return setTimeout(n, e, t);
    });
  }
  function i(e, t) {
    try {
      var n = e();
      (r = n) && "function" == typeof r.then ? n.then(function (e) {
        return t(!0, e);
      }, function (e) {
        return t(!1, e);
      }) : t(!0, n);
    } catch (a) {
      t(!1, a);
    }
    var r;
  }
  function c(e, t, a) {
    return void 0 === a && (a = 16), n(this, void 0, void 0, function () {
      var n, i, c;
      return r(this, function (r) {
        switch (r.label) {
          case 0:
            n = Date.now(), i = 0, r.label = 1;
          case 1:
            return i < e.length ? (t(e[i], i), (c = Date.now()) >= n + a ? (n = c, [4, o(0)]) : [3, 3]) : [3, 4];
          case 2:
            r.sent(), r.label = 3;
          case 3:
            return ++i, [3, 1];
          case 4:
            return [2];
        }
      });
    });
  }
  function u(e, t) {
    e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
    var n = [0, 0, 0, 0];
    return n[3] += e[3] + t[3], n[2] += n[3] >>> 16, n[3] &= 65535, n[2] += e[2] + t[2], n[1] += n[2] >>> 16, n[2] &= 65535, n[1] += e[1] + t[1], n[0] += n[1] >>> 16, n[1] &= 65535, n[0] += e[0] + t[0], n[0] &= 65535, [n[0] << 16 | n[1], n[2] << 16 | n[3]];
  }
  function s(e, t) {
    e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
    var n = [0, 0, 0, 0];
    return n[3] += e[3] * t[3], n[2] += n[3] >>> 16, n[3] &= 65535, n[2] += e[2] * t[3], n[1] += n[2] >>> 16, n[2] &= 65535, n[2] += e[3] * t[2], n[1] += n[2] >>> 16, n[2] &= 65535, n[1] += e[1] * t[3], n[0] += n[1] >>> 16, n[1] &= 65535, n[1] += e[2] * t[2], n[0] += n[1] >>> 16, n[1] &= 65535, n[1] += e[3] * t[1], n[0] += n[1] >>> 16, n[1] &= 65535, n[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0], n[0] &= 65535, [n[0] << 16 | n[1], n[2] << 16 | n[3]];
  }
  function l(e, t) {
    return 32 === (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32, [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t]);
  }
  function d(e, t) {
    return 0 === (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0];
  }
  function f(e, t) {
    return [e[0] ^ t[0], e[1] ^ t[1]];
  }
  function h(e) {
    return e = f(e, [0, e[0] >>> 1]), e = f(e = s(e, [4283543511, 3981806797]), [0, e[0] >>> 1]), e = f(e = s(e, [3301882366, 444984403]), [0, e[0] >>> 1]);
  }
  function v(e, t) {
    t = t || 0;
    var n,
      r = (e = e || "").length % 16,
      a = e.length - r,
      o = [0, t],
      i = [0, t],
      c = [0, 0],
      v = [0, 0],
      p = [2277735313, 289559509],
      m = [1291169091, 658871167];
    for (n = 0; n < a; n += 16) c = [255 & e.charCodeAt(n + 4) | (255 & e.charCodeAt(n + 5)) << 8 | (255 & e.charCodeAt(n + 6)) << 16 | (255 & e.charCodeAt(n + 7)) << 24, 255 & e.charCodeAt(n) | (255 & e.charCodeAt(n + 1)) << 8 | (255 & e.charCodeAt(n + 2)) << 16 | (255 & e.charCodeAt(n + 3)) << 24], v = [255 & e.charCodeAt(n + 12) | (255 & e.charCodeAt(n + 13)) << 8 | (255 & e.charCodeAt(n + 14)) << 16 | (255 & e.charCodeAt(n + 15)) << 24, 255 & e.charCodeAt(n + 8) | (255 & e.charCodeAt(n + 9)) << 8 | (255 & e.charCodeAt(n + 10)) << 16 | (255 & e.charCodeAt(n + 11)) << 24], c = l(c = s(c, p), 31), o = u(o = l(o = f(o, c = s(c, m)), 27), i), o = u(s(o, [0, 5]), [0, 1390208809]), v = l(v = s(v, m), 33), i = u(i = l(i = f(i, v = s(v, p)), 31), o), i = u(s(i, [0, 5]), [0, 944331445]);
    switch (c = [0, 0], v = [0, 0], r) {
      case 15:
        v = f(v, d([0, e.charCodeAt(n + 14)], 48));
      case 14:
        v = f(v, d([0, e.charCodeAt(n + 13)], 40));
      case 13:
        v = f(v, d([0, e.charCodeAt(n + 12)], 32));
      case 12:
        v = f(v, d([0, e.charCodeAt(n + 11)], 24));
      case 11:
        v = f(v, d([0, e.charCodeAt(n + 10)], 16));
      case 10:
        v = f(v, d([0, e.charCodeAt(n + 9)], 8));
      case 9:
        v = s(v = f(v, [0, e.charCodeAt(n + 8)]), m), i = f(i, v = s(v = l(v, 33), p));
      case 8:
        c = f(c, d([0, e.charCodeAt(n + 7)], 56));
      case 7:
        c = f(c, d([0, e.charCodeAt(n + 6)], 48));
      case 6:
        c = f(c, d([0, e.charCodeAt(n + 5)], 40));
      case 5:
        c = f(c, d([0, e.charCodeAt(n + 4)], 32));
      case 4:
        c = f(c, d([0, e.charCodeAt(n + 3)], 24));
      case 3:
        c = f(c, d([0, e.charCodeAt(n + 2)], 16));
      case 2:
        c = f(c, d([0, e.charCodeAt(n + 1)], 8));
      case 1:
        c = s(c = f(c, [0, e.charCodeAt(n)]), p), o = f(o, c = s(c = l(c, 31), m));
    }
    return o = u(o = f(o, [0, e.length]), i = f(i, [0, e.length])), i = u(i, o), o = u(o = h(o), i = h(i)), i = u(i, o), ("00000000" + (o[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (o[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (i[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (i[1] >>> 0).toString(16)).slice(-8);
  }
  function p(e) {
    return parseInt(e);
  }
  function m(e) {
    return parseFloat(e);
  }
  function g(e, t) {
    return "number" == typeof e && isNaN(e) ? t : e;
  }
  function b(e) {
    return e.reduce(function (e, t) {
      return e + (t ? 1 : 0);
    }, 0);
  }
  function w(e, t) {
    if (void 0 === t && (t = 1), Math.abs(t) >= 1) return Math.round(e / t) * t;
    var n = 1 / t;
    return Math.round(e * n) / n;
  }
  function y(e) {
    return e && "object" == typeof e && "message" in e ? e : {
      message: e
    };
  }
  function k(e, t, a) {
    var u = Object.keys(e).filter(function (e) {
        return !function (e, t) {
          for (var n = 0, r = e.length; n < r; ++n) if (e[n] === t) return !0;
          return !1;
        }(a, e);
      }),
      s = Array(u.length);
    return c(u, function (n, r) {
      s[r] = function (e, t) {
        var n = function (e) {
            return "function" != typeof e;
          },
          r = new Promise(function (r) {
            var a = Date.now();
            i(e.bind(null, t), function () {
              for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
              var o = Date.now() - a;
              if (!e[0]) return r(function () {
                return {
                  error: y(e[1]),
                  duration: o
                };
              });
              var c = e[1];
              if (n(c)) return r(function () {
                return {
                  value: c,
                  duration: o
                };
              });
              r(function () {
                return new Promise(function (e) {
                  var t = Date.now();
                  i(c, function () {
                    for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                    var a = o + Date.now() - t;
                    if (!n[0]) return e({
                      error: y(n[1]),
                      duration: a
                    });
                    e({
                      value: n[1],
                      duration: a
                    });
                  });
                });
              });
            });
          });
        return function () {
          return r.then(function (e) {
            return e();
          });
        };
      }(e[n], t);
    }), function () {
      return n(this, void 0, void 0, function () {
        var e, t, n, a, i, l;
        return r(this, function (d) {
          switch (d.label) {
            case 0:
              for (e = {}, t = 0, n = u; t < n.length; t++) a = n[t], e[a] = void 0;
              i = Array(u.length), l = function () {
                var t;
                return r(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return t = !0, [4, c(u, function (n, r) {
                        i[r] || (s[r] ? i[r] = s[r]().then(function (t) {
                          return e[n] = t;
                        }) : t = !1);
                      })];
                    case 1:
                      return n.sent(), t ? [2, "break"] : [4, o(1)];
                    case 2:
                      return n.sent(), [2];
                  }
                });
              }, d.label = 1;
            case 1:
              return [5, l()];
            case 2:
              if ("break" === d.sent()) return [3, 4];
              d.label = 3;
            case 3:
              return [3, 1];
            case 4:
              return [4, Promise.all(i)];
            case 5:
              return d.sent(), [2, e];
          }
        });
      });
    };
  }
  function C() {
    var e = window,
      t = navigator;
    return b(["MSCSSMatrix" in e, "msSetImmediate" in e, "msIndexedDB" in e, "msMaxTouchPoints" in t, "msPointerEnabled" in t]) >= 4;
  }
  function A() {
    var e = window,
      t = navigator;
    return b(["msWriteProfilerMark" in e, "MSStream" in e, "msLaunchUri" in t, "msSaveBlob" in t]) >= 3 && !C();
  }
  function S() {
    var e = window,
      t = navigator;
    return b(["webkitPersistentStorage" in t, "webkitTemporaryStorage" in t, 0 === t.vendor.indexOf("Google"), "webkitResolveLocalFileSystemURL" in e, "BatteryManager" in e, "webkitMediaStream" in e, "webkitSpeechGrammar" in e]) >= 5;
  }
  function x() {
    var e = window,
      t = navigator;
    return b(["ApplePayError" in e, "CSSPrimitiveValue" in e, "Counter" in e, 0 === t.vendor.indexOf("Apple"), "getStorageUpdates" in t, "WebKitMediaKeys" in e]) >= 4;
  }
  function M() {
    var e = window;
    return b(["safari" in e, !("DeviceMotionEvent" in e), !("ongestureend" in e), !("standalone" in navigator)]) >= 3;
  }
  function P() {
    var e,
      t,
      n = window;
    return b(["buildID" in navigator, "MozAppearance" in (null !== (t = null === (e = document.documentElement) || void 0 === e ? void 0 : e.style) && void 0 !== t ? t : {}), "onmozfullscreenchange" in n, "mozInnerScreenX" in n, "CSSMozDocumentRule" in n, "CanvasCaptureMediaStream" in n]) >= 4;
  }
  function _() {
    var e = document;
    return e.fullscreenElement || e.msFullscreenElement || e.mozFullScreenElement || e.webkitFullscreenElement || null;
  }
  function T() {
    var e = S(),
      t = P();
    if (!e && !t) return !1;
    var n = window;
    return b(["onorientationchange" in n, "orientation" in n, e && !("SharedWorker" in n), t && /android/i.test(navigator.appVersion)]) >= 2;
  }
  function E(e) {
    var t = new Error(e);
    return t.name = e, t;
  }
  function D(e, t, a) {
    var i, c, u;
    return void 0 === a && (a = 50), n(this, void 0, void 0, function () {
      var n, s;
      return r(this, function (r) {
        switch (r.label) {
          case 0:
            n = document, r.label = 1;
          case 1:
            return n.body ? [3, 3] : [4, o(a)];
          case 2:
            return r.sent(), [3, 1];
          case 3:
            s = n.createElement("iframe"), r.label = 4;
          case 4:
            return r.trys.push([4,, 10, 11]), [4, new Promise(function (e, r) {
              var a = !1,
                o = function () {
                  a = !0, e();
                };
              s.onload = o, s.onerror = function (e) {
                a = !0, r(e);
              };
              var i = s.style;
              i.setProperty("display", "block", "important"), i.position = "absolute", i.top = "0", i.left = "0", i.visibility = "hidden", t && "srcdoc" in s ? s.srcdoc = t : s.src = "about:blank", n.body.appendChild(s);
              var c = function () {
                var e, t;
                a || ("complete" === (null === (t = null === (e = s.contentWindow) || void 0 === e ? void 0 : e.document) || void 0 === t ? void 0 : t.readyState) ? o() : setTimeout(c, 10));
              };
              c();
            })];
          case 5:
            r.sent(), r.label = 6;
          case 6:
            return (null === (c = null === (i = s.contentWindow) || void 0 === i ? void 0 : i.document) || void 0 === c ? void 0 : c.body) ? [3, 8] : [4, o(a)];
          case 7:
            return r.sent(), [3, 6];
          case 8:
            return [4, e(s, s.contentWindow)];
          case 9:
            return [2, r.sent()];
          case 10:
            return null === (u = s.parentNode) || void 0 === u || u.removeChild(s), [7];
          case 11:
            return [2];
        }
      });
    });
  }
  function L(e) {
    for (var t = function (e) {
        for (var t, n, r = "Unexpected syntax '" + e + "'", a = /^\s*([a-z-]*)(.*)$/i.exec(e), o = a[1] || void 0, i = {}, c = /([.:#][\w-]+|\[.+?\])/gi, u = function (e, t) {
            i[e] = i[e] || [], i[e].push(t);
          };;) {
          var s = c.exec(a[2]);
          if (!s) break;
          var l = s[0];
          switch (l[0]) {
            case ".":
              u("class", l.slice(1));
              break;
            case "#":
              u("id", l.slice(1));
              break;
            case "[":
              var d = /^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l);
              if (!d) throw new Error(r);
              u(d[1], null !== (n = null !== (t = d[4]) && void 0 !== t ? t : d[5]) && void 0 !== n ? n : "");
              break;
            default:
              throw new Error(r);
          }
        }
        return [o, i];
      }(e), n = t[0], r = t[1], a = document.createElement(null != n ? n : "div"), o = 0, i = Object.keys(r); o < i.length; o++) {
      var c = i[o],
        u = r[c].join(" ");
      "style" === c ? z(a.style, u) : a.setAttribute(c, u);
    }
    return a;
  }
  function z(e, t) {
    for (var n = 0, r = t.split(";"); n < r.length; n++) {
      var a = r[n],
        o = /^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);
      if (o) {
        var i = o[1],
          c = o[2],
          u = o[4];
        e.setProperty(i, c, u || "");
      }
    }
  }
  var I = ["monospace", "sans-serif", "serif"],
    B = ["sans-serif-thin", "ARNO PRO", "Agency FB", "Arabic Typesetting", "Arial Unicode MS", "AvantGarde Bk BT", "BankGothic Md BT", "Batang", "Bitstream Vera Sans Mono", "Calibri", "Century", "Century Gothic", "Clarendon", "EUROSTILE", "Franklin Gothic", "Futura Bk BT", "Futura Md BT", "GOTHAM", "Gill Sans", "HELV", "Haettenschweiler", "Helvetica Neue", "Humanst521 BT", "Leelawadee", "Letter Gothic", "Levenim MT", "Lucida Bright", "Lucida Sans", "Menlo", "MS Mincho", "MS Outlook", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MYRIAD PRO", "Marlett", "Meiryo UI", "Microsoft Uighur", "Minion Pro", "Monotype Corsiva", "PMingLiU", "Pristina", "SCRIPTINA", "Segoe UI Light", "Serifa", "SimHei", "Small Fonts", "Staccato222 BT", "TRAJAN PRO", "Univers CE 55 Medium", "Vrinda", "ZWAdobeF"];
  function F(e) {
    return e.rect(0, 0, 10, 10), e.rect(2, 2, 6, 6), !e.isPointInPath(5, 5, "evenodd");
  }
  function O(e, t) {
    e.width = 240, e.height = 60, t.textBaseline = "alphabetic", t.fillStyle = "#f60", t.fillRect(100, 1, 62, 20), t.fillStyle = "#069", t.font = '11pt "Times New Roman"';
    var n = "Cwm fjordbank gly " + String.fromCharCode(55357, 56835);
    return t.fillText(n, 2, 15), t.fillStyle = "rgba(102, 204, 0, 0.2)", t.font = "18pt Arial", t.fillText(n, 4, 45), G(e);
  }
  function R(e, t) {
    e.width = 122, e.height = 110, t.globalCompositeOperation = "multiply";
    for (var n = 0, r = [["#f2f", 40, 40], ["#2ff", 80, 40], ["#ff2", 60, 80]]; n < r.length; n++) {
      var a = r[n],
        o = a[0],
        i = a[1],
        c = a[2];
      t.fillStyle = o, t.beginPath(), t.arc(i, c, 40, 0, 2 * Math.PI, !0), t.closePath(), t.fill();
    }
    return t.fillStyle = "#f9c", t.arc(60, 60, 60, 0, 2 * Math.PI, !0), t.arc(60, 60, 20, 0, 2 * Math.PI, !0), t.fill("evenodd"), G(e);
  }
  function G(e) {
    return e.toDataURL();
  }
  var j, U;
  function W() {
    var e = this;
    return function () {
      if (void 0 === U) {
        var e = function () {
          var t = N();
          q(t) ? U = setTimeout(e, 2500) : (j = t, U = void 0);
        };
        e();
      }
    }(), function () {
      return n(e, void 0, void 0, function () {
        var e;
        return r(this, function (t) {
          switch (t.label) {
            case 0:
              return q(e = N()) ? j ? [2, a(j)] : _() ? [4, (n = document, (n.exitFullscreen || n.msExitFullscreen || n.mozCancelFullScreen || n.webkitExitFullscreen).call(n))] : [3, 2] : [3, 2];
            case 1:
              t.sent(), e = N(), t.label = 2;
            case 2:
              return q(e) || (j = e), [2, e];
          }
          var n;
        });
      });
    };
  }
  function N() {
    var e = screen;
    return [g(m(e.availTop), null), g(m(e.width) - m(e.availWidth) - g(m(e.availLeft), 0), null), g(m(e.height) - m(e.availHeight) - g(m(e.availTop), 0), null), g(m(e.availLeft), null)];
  }
  function q(e) {
    for (var t = 0; t < 4; ++t) if (e[t]) return !1;
    return !0;
  }
  var H = {
    abpIndo: ["#Iklan-Melayang", "#Kolom-Iklan-728", "#SidebarIklan-wrapper", 'a[title="7naga poker" i]', '[title="ALIENBOLA" i]'],
    abpvn: ["#quangcaomb", ".iosAdsiosAds-layout", ".quangcao", '[href^="https://r88.vn/"]', '[href^="https://zbet.vn/"]'],
    adBlockFinland: [".mainostila", ".sponsorit", ".ylamainos", 'a[href*="/clickthrgh.asp?"]', 'a[href^="https://app.readpeak.com/ads"]'],
    adBlockPersian: ["#navbar_notice_50", 'a[href^="http://g1.v.fwmrm.net/ad/"]', ".kadr", 'TABLE[width="140px"]', "#divAgahi"],
    adBlockWarningRemoval: ["#adblock-honeypot", ".adblocker-root", ".wp_adblock_detect"],
    adGuardAnnoyances: ['amp-embed[type="zen"]', ".hs-sosyal", "#cookieconsentdiv", 'div[class^="app_gdpr"]', ".as-oil"],
    adGuardBase: ["#ad-after", "#ad-p3", ".BetterJsPopOverlay", "#ad_300X250", "#bannerfloat22"],
    adGuardChinese: ['a[href*=".ttz5.cn"]', 'a[href*=".yabovip2027.com/"]', ".tm3all2h4b", ".cc5278_banner_ad"],
    adGuardFrench: [".zonepub", '[class*="_adLeaderboard"]', '[id^="block-xiti_oas-"]', 'a[href^="http://ptapjmp.com/"]', 'a[href^="https://go.alvexo.com/"]'],
    adGuardGerman: [".banneritemwerbung_head_1", ".boxstartwerbung", ".werbung3", 'a[href^="http://www.eis.de/index.phtml?refid="]', 'a[href^="https://www.tipico.com/?affiliateId="]'],
    adGuardJapanese: ["#kauli_yad_1", "#ad-giftext", "#adsSPRBlock", 'a[href^="http://ad2.trafficgate.net/"]', 'a[href^="http://www.rssad.jp/"]'],
    adGuardMobile: ["amp-auto-ads", "#mgid_iframe", ".amp_ad", 'amp-embed[type="24smi"]', "#mgid_iframe1"],
    adGuardRussian: ['a[href^="https://ya-distrib.ru/r/"]', 'a[href^="https://ad.letmeads.com/"]', ".reclama", 'div[id^="smi2adblock"]', 'div[id^="AdFox_banner_"]'],
    adGuardSocial: ['a[href^="//www.stumbleupon.com/submit?url="]', 'a[href^="//telegram.me/share/url?"]', ".etsy-tweet", "#inlineShare", ".popup-social"],
    adGuardSpanishPortuguese: ["#barraPublicidade", "#Publicidade", "#publiEspecial", "#queTooltip", '[href^="http://ads.glispa.com/"]'],
    adGuardTrackingProtection: ['amp-embed[type="taboola"]', "#qoo-counter", 'a[href^="http://click.hotlog.ru/"]', 'a[href^="http://hitcounter.ru/top/stat.php"]', 'a[href^="http://top.mail.ru/jump"]'],
    adGuardTurkish: ["#backkapat", "#reklami", 'a[href^="http://adserv.ontek.com.tr/"]', 'a[href^="http://izlenzi.com/campaign/"]', 'a[href^="http://www.installads.net/"]'],
    bulgarian: ["td#freenet_table_ads", "#adbody", "#ea_intext_div", ".lapni-pop-over", "#xenium_hot_offers"],
    easyList: ["#AD_banner_bottom", "#Ads_google_02", "#N-ad-article-rightRail-1", "#ad-fullbanner2", "#ad-zone-2"],
    easyListChina: ['a[href*=".wensixuetang.com/"]', 'A[href*="/hth107.com/"]', '.appguide-wrap[onclick*="bcebos.com"]', ".frontpageAdvM", "#taotaole"],
    easyListCookie: ["#adtoniq-msg-bar", "#CoockiesPage", "#CookieModal_cookiemodal", "#DO_CC_PANEL", "#ShowCookie"],
    easyListCzechSlovak: ["#onlajny-stickers", "#reklamni-box", ".reklama-megaboard", ".sklik", '[id^="sklikReklama"]'],
    easyListDutch: ["#advertentie", "#vipAdmarktBannerBlock", ".adstekst", 'a[href^="https://xltube.nl/click/"]', "#semilo-lrectangle"],
    easyListGermany: ['a[href^="http://www.hw-area.com/?dp="]', 'a[href^="https://ads.sunmaker.com/tracking.php?"]', ".werbung-skyscraper2", ".bannergroup_werbung", ".ads_rechts"],
    easyListItaly: [".box_adv_annunci", ".sb-box-pubbliredazionale", 'a[href^="http://affiliazioniads.snai.it/"]', 'a[href^="https://adserver.html.it/"]', 'a[href^="https://affiliazioniads.snai.it/"]'],
    easyListLithuania: [".reklamos_tarpas", ".reklamos_nuorodos", 'img[alt="Reklaminis skydelis"]', 'img[alt="Dedikuoti.lt serveriai"]', 'img[alt="Hostingas Serveriai.lt"]'],
    estonian: ['A[href*="http://pay4results24.eu"]'],
    fanboyAnnoyances: ["#feedback-tab", "#taboola-below-article", ".feedburnerFeedBlock", ".widget-feedburner-counter", '[title="Subscribe to our blog"]'],
    fanboyAntiFacebook: [".util-bar-module-firefly-visible"],
    fanboyEnhancedTrackers: [".open.pushModal", "#issuem-leaky-paywall-articles-zero-remaining-nag", "#sovrn_container", 'div[class$="-hide"][zoompage-fontsize][style="display: block;"]', ".BlockNag__Card"],
    fanboySocial: [".td-tags-and-social-wrapper-box", ".twitterContainer", ".youtube-social", 'a[title^="Like us on Facebook"]', 'img[alt^="Share on Digg"]'],
    frellwitSwedish: ['a[href*="casinopro.se"][target="_blank"]', 'a[href*="doktor-se.onelink.me"]', "article.category-samarbete", "div.holidAds", "ul.adsmodern"],
    greekAdBlock: ['A[href*="adman.otenet.gr/click?"]', 'A[href*="http://axiabanners.exodus.gr/"]', 'A[href*="http://interactive.forthnet.gr/click?"]', "DIV.agores300", "TABLE.advright"],
    hungarian: ['A[href*="ad.eval.hu"]', 'A[href*="ad.netmedia.hu"]', 'A[href*="daserver.ultraweb.hu"]', "#cemp_doboz", ".optimonk-iframe-container"],
    iDontCareAboutCookies: ['.alert-info[data-block-track*="CookieNotice"]', ".ModuleTemplateCookieIndicator", ".o--cookies--container", ".cookie-msg-info-container", "#cookies-policy-sticky"],
    icelandicAbp: ['A[href^="/framework/resources/forms/ads.aspx"]'],
    latvian: ['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]', 'a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],
    listKr: ['a[href*="//kingtoon.slnk.kr"]', 'a[href*="//playdsb.com/kr"]', "div.logly-lift-adz", 'div[data-widget_id="ml6EJ074"]', "ins.daum_ddn_area"],
    listeAr: [".geminiLB1Ad", ".right-and-left-sponsers", 'a[href*=".aflam.info"]', 'a[href*="booraq.org"]', 'a[href*="dubizzle.com/ar/?utm_source="]'],
    listeFr: ['a[href^="http://promo.vador.com/"]', "#adcontainer_recherche", 'a[href*="weborama.fr/fcgi-bin/"]', ".site-pub-interstitiel", 'div[id^="crt-"][data-criteo-id]'],
    officialPolish: ["#ceneo-placeholder-ceneo-12", '[href^="https://aff.sendhub.pl/"]', 'a[href^="http://advmanager.techfun.pl/redirect/"]', 'a[href^="http://www.trizer.pl/?utm_source"]', "div#skapiec_ad"],
    ro: ['a[href^="//afftrk.altex.ro/Counter/Click"]', 'a[href^="/magazin/"]', 'a[href^="https://blackfridaysales.ro/trk/shop/"]', 'a[href^="https://event.2performant.com/events/click"]', 'a[href^="https://l.profitshare.ro/"]'],
    ruAd: ['a[href*="//febrare.ru/"]', 'a[href*="//utimg.ru/"]', 'a[href*="://chikidiki.ru"]', "#pgeldiz", ".yandex-rtb-block"],
    thaiAds: ["a[href*=macau-uta-popup]", "#ads-google-middle_rectangle-group", ".ads300s", ".bumq", ".img-kosana"],
    webAnnoyancesUltralist: ["#mod-social-share-2", "#social-tools", ".ctpl-fullbanner", ".zergnet-recommend", ".yt.btn-link.btn-md.btn"]
  };
  function J(e) {
    var t;
    return n(this, void 0, void 0, function () {
      var n, a, i, c, u, s, l;
      return r(this, function (r) {
        switch (r.label) {
          case 0:
            for (n = document, a = n.createElement("div"), i = new Array(e.length), c = {}, $(a), l = 0; l < e.length; ++l) u = L(e[l]), $(s = n.createElement("div")), s.appendChild(u), a.appendChild(s), i[l] = u;
            r.label = 1;
          case 1:
            return n.body ? [3, 3] : [4, o(50)];
          case 2:
            return r.sent(), [3, 1];
          case 3:
            n.body.appendChild(a);
            try {
              for (l = 0; l < e.length; ++l) i[l].offsetParent || (c[e[l]] = !0);
            } finally {
              null === (t = a.parentNode) || void 0 === t || t.removeChild(a);
            }
            return [2, c];
        }
      });
    });
  }
  function $(e) {
    e.style.setProperty("display", "block", "important");
  }
  function V(e) {
    return matchMedia("(inverted-colors: " + e + ")").matches;
  }
  function K(e) {
    return matchMedia("(forced-colors: " + e + ")").matches;
  }
  function X(e) {
    return matchMedia("(prefers-contrast: " + e + ")").matches;
  }
  function Y(e) {
    return matchMedia("(prefers-reduced-motion: " + e + ")").matches;
  }
  function Z(e) {
    return matchMedia("(dynamic-range: " + e + ")").matches;
  }
  var Q = Math,
    ee = function () {
      return 0;
    };
  var te = {
    default: [],
    apple: [{
      font: "-apple-system-body"
    }],
    serif: [{
      fontFamily: "serif"
    }],
    sans: [{
      fontFamily: "sans-serif"
    }],
    mono: [{
      fontFamily: "monospace"
    }],
    min: [{
      fontSize: "1px"
    }],
    system: [{
      fontFamily: "system-ui"
    }]
  };
  var ne = {
    fonts: function () {
      return D(function (e, t) {
        var n = t.document,
          r = n.body;
        r.style.fontSize = "48px";
        var a = n.createElement("div"),
          o = {},
          i = {},
          c = function (e) {
            var t = n.createElement("span"),
              r = t.style;
            return r.position = "absolute", r.top = "0", r.left = "0", r.fontFamily = e, t.textContent = "mmMwWLliI0O&1", a.appendChild(t), t;
          },
          u = I.map(c),
          s = function () {
            for (var e = {}, t = function (t) {
                e[t] = I.map(function (e) {
                  return function (e, t) {
                    return c("'" + e + "'," + t);
                  }(t, e);
                });
              }, n = 0, r = B; n < r.length; n++) {
              t(r[n]);
            }
            return e;
          }();
        r.appendChild(a);
        for (var l = 0; l < I.length; l++) o[I[l]] = u[l].offsetWidth, i[I[l]] = u[l].offsetHeight;
        return B.filter(function (e) {
          return t = s[e], I.some(function (e, n) {
            return t[n].offsetWidth !== o[e] || t[n].offsetHeight !== i[e];
          });
          var t;
        });
      });
    },
    domBlockers: function (e) {
      var t = (void 0 === e ? {} : e).debug;
      return n(this, void 0, void 0, function () {
        var e, n, a, o;
        return r(this, function (r) {
          switch (r.label) {
            case 0:
              return x() || T() ? (e = Object.keys(H), [4, J((o = []).concat.apply(o, e.map(function (e) {
                return H[e];
              })))]) : [2, void 0];
            case 1:
              return n = r.sent(), t && function (e) {
                for (var t = "DOM blockers debug:\n```", n = 0, r = Object.keys(H); n < r.length; n++) {
                  var a = r[n];
                  t += "\n" + a + ":";
                  for (var o = 0, i = H[a]; o < i.length; o++) {
                    var c = i[o];
                    t += "\n  " + c + " " + (e[c] ? "🚫" : "➡️");
                  }
                }
                console.log(t + "\n```");
              }(n), (a = e.filter(function (e) {
                var t = H[e];
                return b(t.map(function (e) {
                  return n[e];
                })) > .6 * t.length;
              })).sort(), [2, a];
          }
        });
      });
    },
    fontPreferences: function () {
      return function (e, t) {
        void 0 === t && (t = 4e3);
        return D(function (n, r) {
          var o = r.document,
            i = o.body,
            c = i.style;
          c.width = t + "px", c.webkitTextSizeAdjust = c.textSizeAdjust = "none", S() ? i.style.zoom = "" + 1 / r.devicePixelRatio : x() && (i.style.zoom = "reset");
          var u = o.createElement("div");
          return u.textContent = a(Array(t / 20 << 0)).map(function () {
            return "word";
          }).join(" "), i.appendChild(u), e(o, i);
        }, '<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');
      }(function (e, t) {
        for (var n = {}, r = {}, a = 0, o = Object.keys(te); a < o.length; a++) {
          var i = o[a],
            c = te[i],
            u = c[0],
            s = void 0 === u ? {} : u,
            l = c[1],
            d = void 0 === l ? "mmMwWLliI0fiflO&1" : l,
            f = e.createElement("span");
          f.textContent = d, f.style.whiteSpace = "nowrap";
          for (var h = 0, v = Object.keys(s); h < v.length; h++) {
            var p = v[h],
              m = s[p];
            void 0 !== m && (f.style[p] = m);
          }
          n[i] = f, t.appendChild(e.createElement("br")), t.appendChild(f);
        }
        for (var g = 0, b = Object.keys(te); g < b.length; g++) {
          r[i = b[g]] = n[i].getBoundingClientRect().width;
        }
        return r;
      });
    },
    audio: function () {
      var e = window,
        t = e.OfflineAudioContext || e.webkitOfflineAudioContext;
      if (!t) return -2;
      if (x() && !M() && !function () {
        var e = window;
        return b(["DOMRectList" in e, "RTCPeerConnectionIceEvent" in e, "SVGGeometryElement" in e, "ontransitioncancel" in e]) >= 3;
      }()) return -1;
      var n = new t(1, 5e3, 44100),
        r = n.createOscillator();
      r.type = "triangle", r.frequency.value = 1e4;
      var a = n.createDynamicsCompressor();
      a.threshold.value = -50, a.knee.value = 40, a.ratio.value = 12, a.attack.value = 0, a.release.value = .25, r.connect(a), a.connect(n.destination), r.start(0);
      var o = function (e) {
          var t = 3,
            n = 500,
            r = 500,
            a = 5e3,
            o = function () {};
          return [new Promise(function (i, c) {
            var u = !1,
              s = 0,
              l = 0;
            e.oncomplete = function (e) {
              return i(e.renderedBuffer);
            };
            var d = function () {
                setTimeout(function () {
                  return c(E("timeout"));
                }, Math.min(r, l + a - Date.now()));
              },
              f = function () {
                try {
                  switch (e.startRendering(), e.state) {
                    case "running":
                      l = Date.now(), u && d();
                      break;
                    case "suspended":
                      document.hidden || s++, u && s >= t ? c(E("suspended")) : setTimeout(f, n);
                  }
                } catch (r) {
                  c(r);
                }
              };
            f(), o = function () {
              u || (u = !0, l > 0 && d());
            };
          }), o];
        }(n),
        i = o[0],
        c = o[1],
        u = i.then(function (e) {
          return function (e) {
            for (var t = 0, n = 0; n < e.length; ++n) t += Math.abs(e[n]);
            return t;
          }(e.getChannelData(0).subarray(4500));
        }, function (e) {
          if ("timeout" === e.name || "suspended" === e.name) return -3;
          throw e;
        });
      return u.catch(function () {}), function () {
        return c(), u;
      };
    },
    screenFrame: function () {
      var e = this,
        t = W();
      return function () {
        return n(e, void 0, void 0, function () {
          var e, n;
          return r(this, function (r) {
            switch (r.label) {
              case 0:
                return [4, t()];
              case 1:
                return e = r.sent(), [2, [(n = function (e) {
                  return null === e ? null : w(e, 10);
                })(e[0]), n(e[1]), n(e[2]), n(e[3])]];
            }
          });
        });
      };
    },
    osCpu: function () {
      return navigator.oscpu;
    },
    languages: function () {
      var e,
        t = navigator,
        n = [],
        r = t.language || t.userLanguage || t.browserLanguage || t.systemLanguage;
      if (void 0 !== r && n.push([r]), Array.isArray(t.languages)) S() && b([!("MediaSettingsRange" in (e = window)), "RTCEncodedAudioFrame" in e, "" + e.Intl == "[object Intl]", "" + e.Reflect == "[object Reflect]"]) >= 3 || n.push(t.languages);else if ("string" == typeof t.languages) {
        var a = t.languages;
        a && n.push(a.split(","));
      }
      return n;
    },
    colorDepth: function () {
      return window.screen.colorDepth;
    },
    deviceMemory: function () {
      return g(m(navigator.deviceMemory), void 0);
    },
    screenResolution: function () {
      var e = screen,
        t = function (e) {
          return g(p(e), null);
        },
        n = [t(e.width), t(e.height)];
      return n.sort().reverse(), n;
    },
    hardwareConcurrency: function () {
      return g(p(navigator.hardwareConcurrency), void 0);
    },
    timezone: function () {
      var e,
        t = null === (e = window.Intl) || void 0 === e ? void 0 : e.DateTimeFormat;
      if (t) {
        var n = new t().resolvedOptions().timeZone;
        if (n) return n;
      }
      var r,
        a = (r = new Date().getFullYear(), -Math.max(m(new Date(r, 0, 1).getTimezoneOffset()), m(new Date(r, 6, 1).getTimezoneOffset())));
      return "UTC" + (a >= 0 ? "+" : "") + Math.abs(a);
    },
    sessionStorage: function () {
      try {
        return !!window.sessionStorage;
      } catch (e) {
        return !0;
      }
    },
    localStorage: function () {
      try {
        return !!window.localStorage;
      } catch (e) {
        return !0;
      }
    },
    indexedDB: function () {
      if (!C() && !A()) try {
        return !!window.indexedDB;
      } catch (e) {
        return !0;
      }
    },
    openDatabase: function () {
      return !!window.openDatabase;
    },
    cpuClass: function () {
      return navigator.cpuClass;
    },
    platform: function () {
      var e = navigator.platform;
      return "MacIntel" === e && x() && !M() ? function () {
        if ("iPad" === navigator.platform) return !0;
        var e = screen,
          t = e.width / e.height;
        return b(["MediaSource" in window, !!Element.prototype.webkitRequestFullscreen, t > .65 && t < 1.53]) >= 2;
      }() ? "iPad" : "iPhone" : e;
    },
    plugins: function () {
      var e = navigator.plugins;
      if (e) {
        for (var t = [], n = 0; n < e.length; ++n) {
          var r = e[n];
          if (r) {
            for (var a = [], o = 0; o < r.length; ++o) {
              var i = r[o];
              a.push({
                type: i.type,
                suffixes: i.suffixes
              });
            }
            t.push({
              name: r.name,
              description: r.description,
              mimeTypes: a
            });
          }
        }
        return t;
      }
    },
    canvas: function () {
      var e = function () {
          var e = document.createElement("canvas");
          return e.width = 1, e.height = 1, [e, e.getContext("2d")];
        }(),
        t = e[0],
        n = e[1];
      return function (e, t) {
        return !(!t || !e.toDataURL);
      }(t, n) ? {
        winding: F(n),
        geometry: R(t, n),
        text: O(t, n)
      } : {
        winding: !1,
        geometry: "",
        text: ""
      };
    },
    touchSupport: function () {
      var e,
        t = navigator,
        n = 0;
      void 0 !== t.maxTouchPoints ? n = p(t.maxTouchPoints) : void 0 !== t.msMaxTouchPoints && (n = t.msMaxTouchPoints);
      try {
        document.createEvent("TouchEvent"), e = !0;
      } catch (r) {
        e = !1;
      }
      return {
        maxTouchPoints: n,
        touchEvent: e,
        touchStart: "ontouchstart" in window
      };
    },
    vendor: function () {
      return navigator.vendor || "";
    },
    vendorFlavors: function () {
      for (var e = [], t = 0, n = ["chrome", "safari", "__crWeb", "__gCrWeb", "yandex", "__yb", "__ybro", "__firefox__", "__edgeTrackingPreventionStatistics", "webkit", "oprt", "samsungAr", "ucweb", "UCShellJava", "puffinDevice"]; t < n.length; t++) {
        var r = n[t],
          a = window[r];
        a && "object" == typeof a && e.push(r);
      }
      return e.sort();
    },
    cookiesEnabled: function () {
      var e = document;
      try {
        e.cookie = "cookietest=1; SameSite=Strict;";
        var t = -1 !== e.cookie.indexOf("cookietest=");
        return e.cookie = "cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT", t;
      } catch (n) {
        return !1;
      }
    },
    colorGamut: function () {
      for (var e = 0, t = ["rec2020", "p3", "srgb"]; e < t.length; e++) {
        var n = t[e];
        if (matchMedia("(color-gamut: " + n + ")").matches) return n;
      }
    },
    invertedColors: function () {
      return !!V("inverted") || !V("none") && void 0;
    },
    forcedColors: function () {
      return !!K("active") || !K("none") && void 0;
    },
    monochrome: function () {
      if (matchMedia("(min-monochrome: 0)").matches) {
        for (var e = 0; e <= 100; ++e) if (matchMedia("(max-monochrome: " + e + ")").matches) return e;
        throw new Error("Too high value");
      }
    },
    contrast: function () {
      return X("no-preference") ? 0 : X("high") || X("more") ? 1 : X("low") || X("less") ? -1 : X("forced") ? 10 : void 0;
    },
    reducedMotion: function () {
      return !!Y("reduce") || !Y("no-preference") && void 0;
    },
    hdr: function () {
      return !!Z("high") || !Z("standard") && void 0;
    },
    math: function () {
      var e,
        t = Q.acos || ee,
        n = Q.acosh || ee,
        r = Q.asin || ee,
        a = Q.asinh || ee,
        o = Q.atanh || ee,
        i = Q.atan || ee,
        c = Q.sin || ee,
        u = Q.sinh || ee,
        s = Q.cos || ee,
        l = Q.cosh || ee,
        d = Q.tan || ee,
        f = Q.tanh || ee,
        h = Q.exp || ee,
        v = Q.expm1 || ee,
        p = Q.log1p || ee;
      return {
        acos: t(.12312423423423424),
        acosh: n(1e308),
        acoshPf: (e = 1e154, Q.log(e + Q.sqrt(e * e - 1))),
        asin: r(.12312423423423424),
        asinh: a(1),
        asinhPf: function (e) {
          return Q.log(e + Q.sqrt(e * e + 1));
        }(1),
        atanh: o(.5),
        atanhPf: function (e) {
          return Q.log((1 + e) / (1 - e)) / 2;
        }(.5),
        atan: i(.5),
        sin: c(-1e300),
        sinh: u(1),
        sinhPf: function (e) {
          return Q.exp(e) - 1 / Q.exp(e) / 2;
        }(1),
        cos: s(10.000000000123),
        cosh: l(1),
        coshPf: function (e) {
          return (Q.exp(e) + 1 / Q.exp(e)) / 2;
        }(1),
        tan: d(-1e300),
        tanh: f(1),
        tanhPf: function (e) {
          return (Q.exp(2 * e) - 1) / (Q.exp(2 * e) + 1);
        }(1),
        exp: h(1),
        expm1: v(1),
        expm1Pf: function (e) {
          return Q.exp(e) - 1;
        }(1),
        log1p: p(10),
        log1pPf: function (e) {
          return Q.log(1 + e);
        }(10),
        powPI: function (e) {
          return Q.pow(Q.PI, e);
        }(-100)
      };
    }
  };
  function re(e) {
    var t = function (e) {
        if (T()) return .4;
        if (x()) return M() ? .5 : .3;
        var t = e.platform.value || "";
        if (/^Win/.test(t)) return .6;
        if (/^Mac/.test(t)) return .5;
        return .7;
      }(e),
      n = function (e) {
        return w(.99 + .01 * e, 1e-4);
      }(t);
    return {
      score: t,
      comment: "$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g, "" + n)
    };
  }
  function ae(e) {
    return JSON.stringify(e, function (e, n) {
      return n instanceof Error ? t({
        name: (r = n).name,
        message: r.message,
        stack: null === (a = r.stack) || void 0 === a ? void 0 : a.split("\n")
      }, r) : n;
      var r, a;
    }, 2);
  }
  function oe(e) {
    return v(function (e) {
      for (var t = "", n = 0, r = Object.keys(e).sort(); n < r.length; n++) {
        var a = r[n],
          o = e[a],
          i = o.error ? "error" : JSON.stringify(o.value);
        t += (t ? "|" : "") + a.replace(/([:|\\])/g, "\\$1") + ":" + i;
      }
      return t;
    }(e));
  }
  function ie(e) {
    return void 0 === e && (e = 50), function (e, t) {
      void 0 === t && (t = 1 / 0);
      var n = window.requestIdleCallback;
      return n ? new Promise(function (e) {
        return n.call(window, function () {
          return e();
        }, {
          timeout: t
        });
      }) : o(Math.min(e, t));
    }(e, 2 * e);
  }
  function ce(e, t) {
    var a = Date.now();
    return {
      get: function (o) {
        return n(this, void 0, void 0, function () {
          var n, i, c;
          return r(this, function (r) {
            switch (r.label) {
              case 0:
                return n = Date.now(), [4, e()];
              case 1:
                return i = r.sent(), c = function (e) {
                  var t;
                  return {
                    get visitorId() {
                      return void 0 === t && (t = oe(this.components)), t;
                    },
                    set visitorId(e) {
                      t = e;
                    },
                    confidence: re(e),
                    components: e,
                    version: "3.3.3"
                  };
                }(i), (t || (null == o ? void 0 : o.debug)) && console.log("Copy the text below to get the debug data:\n\n```\nversion: " + c.version + "\nuserAgent: " + navigator.userAgent + "\ntimeBetweenLoadAndGet: " + (n - a) + "\nvisitorId: " + c.visitorId + "\ncomponents: " + ae(i) + "\n```"), [2, c];
            }
          });
        });
      }
    };
  }
  function ue(e) {
    var t = void 0 === e ? {} : e,
      a = t.delayFallback,
      o = t.debug;
    t.monitoring;
    return n(this, void 0, void 0, function () {
      return r(this, function (e) {
        switch (e.label) {
          case 0:
            return [4, ie(a)];
          case 1:
            return e.sent(), [2, ce(k(ne, {
              debug: o
            }, []), o)];
        }
      });
    });
  }
  var se = {
      load: ue,
      hashComponents: oe,
      componentsToDebugString: ae
    },
    le = v;
  e.componentsToDebugString = ae, e.default = se, e.getFullscreenElement = _, e.getScreenFrame = W, e.hashComponents = oe, e.isAndroid = T, e.isChromium = S, e.isDesktopSafari = M, e.isEdgeHTML = A, e.isGecko = P, e.isTrident = C, e.isWebKit = x, e.load = ue, e.loadSources = k, e.murmurX64Hash128 = le, e.prepareForSources = ie, e.sources = ne, Object.defineProperty(e, "__esModule", {
    value: !0
  });
});

var coreTools = {
  /**
   * Получение паравметров из хэша
   * @param url
   * @returns {{module: string, action: string, params: string}}
   */
  getParams: function getParams(url) {
    if (typeof url === 'undefined') {
      url = '/mod' + location.hash.substring(1);
    }
    var params = url.match(/^\/mod\/([a-z0-9_]*)(?:\/|)([a-z0-9_]*)(?:(\?[^?]*)|)/);
    var result = {
      module: params !== null && typeof params[1] === 'string' ? params[1] : '',
      section: params !== null && typeof params[2] === 'string' ? params[2] : '',
      query: params !== null && typeof params[3] === 'string' ? params[3] : ''
    };
    result.query = coreTools.parseQuery(result.query);
    return result;
  },
  /**
   * @param {String} query
   * @returns {{}}
   */
  parseQuery: function parseQuery(query) {
    query = typeof query === 'string' ? query.replace(/^\?/, '') : '';
    var vars = query.split("&");
    var query_string = {};
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split("=");
      var key = decodeURIComponent(pair[0]);
      var value = decodeURIComponent(pair[1]);
      if (typeof query_string[key] === "undefined") {
        query_string[key] = decodeURIComponent(value);
      } else if (typeof query_string[key] === "string") {
        query_string[key] = [query_string[key], decodeURIComponent(value)];
      } else {
        query_string[key].push(decodeURIComponent(value));
      }
    }
    return query_string;
  },
  /**
   *
   */
  toggleFullscreen: function toggleFullscreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      }
    }
  },
  /**
   * Форматирование числа
   * @param   {number|string} numb
   * @returns {string}
   * @private
   */
  formatNumber: function formatNumber(numb) {
    numb = numb.toString();
    return numb.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ');
  },
  /**
   * Форматирование числа
   * @param   {number|string} numb
   * @param   {string}       divider
   * @returns {string}
   * @private
   */
  formatMoney: function formatMoney(numb, divider) {
    if (isNaN(numb)) {
      return this.formatNumber(numb);
    } else {
      divider = divider || ' ';
      numb = Number(numb).toFixed(2).toString();
      return numb.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1' + divider);
    }
  },
  /**
   * Копирование
   * @param text
   * @returns {Promise<unknown>|Promise<void>}
   */
  clipboardText: function clipboardText(text) {
    /**
     * Старый вариант копирования
     * @param text
     */
    function fallbackCopyTextToClipboard(text) {
      return new Promise(function (resolve, reject) {
        var textArea = document.createElement("textarea");
        textArea.value = text;

        // Avoid scrolling to bottom
        textArea.style.top = "0";
        textArea.style.left = "0";
        textArea.style.position = "fixed";
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
          var successful = document.execCommand('copy');
          document.body.removeChild(textArea);
          if (successful) {
            resolve();
          } else {
            reject();
          }
        } catch (err) {
          document.body.removeChild(textArea);
          reject();
        }
      });
    }

    /**
     * @param text
     * @returns {Promise<void>|Promise<unknown>}
     */
    function copyTextToClipboard(text) {
      if (!navigator.clipboard) {
        return fallbackCopyTextToClipboard(text);
      }
      return navigator.clipboard.writeText(text);
    }
    return copyTextToClipboard(text);
  },
  /**
   * @returns {number}
   * @private
   */
  hashCode: function hashCode() {
    var string = 'A' + new Date().getTime();
    for (var h = 0, i = 0; i < string.length; h &= h) {
      h = 31 * h + string.charCodeAt(i++);
    }
    return Math.abs(h);
  },
  /**
   * @returns Promise
   */
  getFingerprint: function getFingerprint() {
    return FingerprintJS.load().then(function (fp) {
      return fp.get();
    }).then(function (result) {
      return result.visitorId;
    });
  },
  /**
   * @param token
   * @returns {*}
   */
  jwtDecode: function jwtDecode(token) {
    return o(token);
  }
};

var coreTokens = {
  _refreshInterval: 0,
  /**
   *
   */
  initRefresh: function initRefresh() {
    this.deinitRefresh();
    this._refreshInterval = setInterval(this.refreshToken, 300000); // 5 минут
  },
  /**
   * s
   */
  deinitRefresh: function deinitRefresh() {
    if (this._refreshInterval) {
      clearInterval(this._refreshInterval);
    }
  },
  /**
   * @param success
   * @param fail
   * @returns {Promise<void>}
   */
  refreshToken: function () {
    var _refreshToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(success, fail) {
      var refreshToken, tokenData;
      return _regeneratorRuntime().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            refreshToken = coreTokens.getRefreshToken();
            tokenData = coreTools.jwtDecode(refreshToken);
            if (!(new Date(tokenData.exp * 1000) <= new Date())) {
              _context.next = 6;
              break;
            }
            coreTokens.clearRefreshToken();
            if (typeof fail === 'function') {
              fail();
            }
            return _context.abrupt("return");
          case 6:
            _context.t0 = $;
            _context.t1 = coreMain.options.basePath + "/auth/refresh";
            _context.t2 = JSON;
            _context.t3 = refreshToken;
            _context.next = 12;
            return coreTools.getFingerprint();
          case 12:
            _context.t4 = _context.sent;
            _context.t5 = {
              refresh_token: _context.t3,
              fp: _context.t4
            };
            _context.t6 = _context.t2.stringify.call(_context.t2, _context.t5);
            _context.t7 = {
              url: _context.t1,
              method: "POST",
              dataType: "json",
              contentType: "application/json; charset=utf-8",
              data: _context.t6
            };
            _context.t0.ajax.call(_context.t0, _context.t7).done(function (response) {
              if (typeof response.access_token !== 'string' || typeof response.refresh_token !== 'string' || !response.access_token || !response.refresh_token) {
                var errorMessage = response.error_message || "Ошибка. Попробуйте позже, либо обратитесь к администратору";
                CoreUI.notice.danger(errorMessage);
                if (typeof fail === 'function') {
                  fail();
                }
              } else {
                coreTokens.setAccessToken(response.access_token);
                coreTokens.setRefreshToken(response.refresh_token);
                if (typeof success === 'function') {
                  success();
                }
              }
            }).fail(function (response) {
              var errorMessage = '';
              if (response.responseJSON && response.responseJSON.error_message) {
                errorMessage = response.responseJSON.error_message;
              } else {
                errorMessage = $("<div>" + response.responseText + "</div>").text();
              }
              errorMessage = errorMessage || 'Ошибка. Попробуйте позже, либо обратитесь к администратору';
              CoreUI.notice.danger(errorMessage);
              if (typeof fail === 'function') {
                fail();
              }
            });
          case 17:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    function refreshToken(_x, _x2) {
      return _refreshToken.apply(this, arguments);
    }
    return refreshToken;
  }(),
  /**
   * Получение аутентификации
   * @param accessToken
   * @returns {boolean}
   */
  setAccessToken: function setAccessToken(accessToken) {
    localStorage.setItem('core3_access_token', accessToken);
    var tokenData = coreTools.jwtDecode(coreTokens.getAccessToken());
    var dateExpired = new Date(tokenData.exp * 1000);
    if (dateExpired > new Date()) {
      var expires = "; expires=" + dateExpired.toUTCString();
      document.cookie = "Core-Access-Token=" + accessToken + expires + "; path=/" + coreMain.options.basePath;
    }
  },
  /**
   * Получение аутентификации
   * @param refreshToken
   * @returns {boolean}
   */
  setRefreshToken: function setRefreshToken(refreshToken) {
    localStorage.setItem('core3_refresh_token', refreshToken);
  },
  /**
   * Получение аутентификации
   * @returns {String|boolean}
   */
  getAccessToken: function getAccessToken() {
    var authToken = localStorage.getItem('core3_access_token');
    if (!authToken) {
      coreTokens.clearAccessToken();
      authToken = false;
    }
    return authToken;
  },
  /**
   * Получение аутентификации
   * @returns {String|boolean}
   */
  getRefreshToken: function getRefreshToken() {
    var refreshToken = localStorage.getItem('core3_refresh_token');
    if (!refreshToken) {
      coreTokens.clearRefreshToken();
      refreshToken = false;
    }
    return refreshToken;
  },
  /**
   * Очистка аутентификации
   */
  clearAccessToken: function clearAccessToken() {
    localStorage.removeItem('core3_access_token');
    document.cookie = 'Core-Access-Token=; Path=/' + coreMain.options.basePath + '; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
  },
  /**
   * Очистка аутентификации
   */
  clearRefreshToken: function clearRefreshToken() {
    localStorage.removeItem('core3_refresh_token');
  }
};

var coreMain = {
  activePage: null,
  options: {
    basePath: 'core3'
  },
  /**
   *
   */
  install: {
    event: null,
    promise: null
  },
  /**
   *
   */
  _hashChangeCallbacks: [],
  /**
   * @param pageName
   */
  viewPage: function viewPage(pageName) {
    if (Core[pageName]) {
      var pageContent = Core[pageName].getPageContent();
      $('.main').append('<div class="page page-' + pageName + '">' + pageContent + '</div>');
      Core[pageName].init();
      coreMain.activePage = pageName;
      var $otherPages = $('.main > .page:not(.page-' + pageName + ')');
      if ($otherPages[0]) {
        $otherPages.fadeOut('fast', function () {
          $otherPages.remove();
          $('.main > .page-' + pageName).fadeIn('fast');
        });
      } else {
        $('.main > .page-' + pageName).fadeIn('fast');
      }
    } else {
      CoreUI.alert.danger('Ошибка', 'Страница ' + pageName + ' не найдена');
    }
  },
  /**
   * @param eventName
   * @param callback
   */
  on: function on(eventName, callback) {
    if (eventName === 'hashchange') {
      coreMain._hashChangeCallbacks.push(callback);
    }
  },
  /**
   *
   */
  hashChange: function hashChange() {
    if (coreMain._hashChangeCallbacks.length > 0) {
      for (var i = 0; i < coreMain._hashChangeCallbacks.length; i++) {
        coreMain._hashChangeCallbacks[i]();
      }
    }
  },
  /**
   * @param text
   * @param options
   * @private
   */
  _: function _(text, options) {
    return text;
  }
};
$(function () {
  // Событие установки
  coreMain.install.promise = new Promise(function (resolve, reject) {
    window.addEventListener('beforeinstallprompt', function (event) {
      event.preventDefault();
      coreMain.install.event = event;
      resolve(event);
    });
  });
  var accessToken = coreTokens.getAccessToken();
  if (!accessToken) {
    coreMain.viewPage('auth');
  } else {
    coreTokens.refreshToken(function () {
      coreTokens.initRefresh();
      coreMain.viewPage('menu');
    }, function () {
      coreMain.viewPage('auth');
    });
  }
  if ("onhashchange" in window) {
    window.onhashchange = coreMain.hashChange;
  }
});

var coreTpl = Object.create(null);
coreTpl['menu/loader.html'] = '<div id="loader"> <div role="progressbar" class="mdc-linear-progress loader-progress" aria-label="Example Progress Bar" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0"> <div class="mdc-linear-progress__buffer"> <div class="mdc-linear-progress__buffer-bar"></div> <div class="mdc-linear-progress__buffer-dots"></div> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> </div> <div class="loader-block"></div> </div>';
coreTpl['menu/main.html'] = '<header class="mdc-top-app-bar mdc-top-app-bar--fixed app-bar"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"> <button class="mdc-ripple-surface open-menu"><i class="fa-solid fa-bars"></i></button> <div class="header-title-container"> <span class="mdc-top-app-bar__title"></span> <span class="mdc-top-app-bar__subtitle"></span> </div> </section> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar"></section> </div> </header> <aside class="menu-drawer"> <div class="menu-drawer__content"> <div class="menu-drawer__header"> <a class="module-home" href="#/"> <span class="fa-solid fa-house"></span> <h3 class="system-title"></h3> </a> </div> <ul class="menu-list level-1"></ul> </div> </aside> <div class="menu-drawer-scrim"></div> <div class="menu-drawer-swipe"></div> <div class="menu-drawer-app"> <main class="main-content"> <div class="main-wrapper"></div> </main> </div>';
coreTpl['menu/module.html'] = '<li class="menu-list-item core-module core-module-<%= module.name %> <% if (module.sections && module.sections.length > 0) { %>menu-item-nested<% } %>"> <div class="item-control"> <a href="#/<%= module.name %>/<%= module.index %>" class="mdc-ripple-surface" data-module="<%= module.name %>" data-section="<%= module.index %>"> <% if (module.icon) { %> <i class="<%= module.icon %>"></i> <% } else { %> <span class="module-icon-letter"><%= module.title.trim().substring(0, 1) %></span> <% } %> <span class="menu-list-item__text"><%= module.title %></span> </a> <% if (module.sections && module.sections.length > 0) { %> <button class="menu-icon-button mdc-ripple-surface"><i class="fa-solid fa-sort-down"></i></button> <% } %> </div> <ul class="menu-list level-2"> <li class="menu-list-item core-module-section-index"> <a href="#/<%= module.name %>/<%= module.index %>" class="mdc-ripple-surface" data-module="<%= module.name %>" data-section="<%= module.index %>"> <%= module.title %> </a> </li> <% if (module.sections && module.sections.length > 0) { %> <% module.sections.forEach(function(section) { %> <li class="menu-list-item core-module-section core-module-<%= module.name %>-<%= section.name %>"> <a href="#/<%= module.name %>/<%= section.name %>" class="mdc-ripple-surface" data-module="<%= module.name %>" data-section="<%= section.name %>"> <span class="menu-list-item__text"><%= section.title %></span> </a> </li> <% }); %> <% } %> </ul> </li>';
coreTpl['menu/navbar.html'] = '<ul class="navbar-nav"> <li class="nav-item dropdown cabinet-user"> <button class="btn btn-link text-dark dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown"> <% if (user.avatar) { %> <img src="<%= user.avatar %>" alt="avatar" class="rounded-circle" loading="lazy"/> <% } else { %> <i class="fa-solid fa-circle-user"></i> <% } %> </button> <ul class="dropdown-menu shadow"> <li class="cabinet-user-info"> <b class="cabinet-user-name"><%= user.name %></b><br> <span class="cabinet-user-login"><%= user.login %></span> </li> <li> <hr class="dropdown-divider"/> </li> <li> <a class="dropdown-item menu-logout" href="#"> <i class="fa-solid fa-arrow-right-from-bracket"></i> Выйти </a> </li> </ul> </li> </ul>';
coreTpl['menu/preloader.html'] = '<div id="preloader"> <div class="loading-lock"></div> <div class="loading-block"> <div class="spinner-border text-secondary"> <span class="visually-hidden"></span> </div> <div class="loading-text"><%= text %></div> </div> </div>';
coreTpl['auth/main.html'] = '<div class="container container-login" style="display: none"> <div class="mdc-card"> <div class="mdc-card__content"> <img src="" alt="logo" class="logo" style="display: none"> <form class="mb-5" novalidate> <span class="text-danger"></span> <div class="form-controls mb-5"> <div class="mb-3 text-start"> <label class="form-label" for="auth-login">Логин или Email</label> <div class="control-icon position-relative"> <input type="text" name="login" class="form-control" id="auth-login" required> <i class="bi bi-person-fill"></i> </div> </div> <div class="mb-5 text-start"> <label class="form-label" for="auth-password">Пароль</label> <div class="control-icon position-relative"> <input type="password" name="password" class="form-control" id="auth-password" required> <i class="bi bi-shield-lock"></i> </div> </div> <button class="btn btn-primary w-100 py-2" type="submit">Войти</button> </div> </form> <div class="links-container"> <a class="install-button" style="display: none">Установить</a> <a href="#/registration" class="reg-button">Регистрация</a> </div> </div> </div> </div> <div class="container container-registration" style="display: none"> <div class="mdc-card"> <div class="mdc-card__content"> <img src="" alt="logo" class="logo" style="display: none"> <p class="mdc-typography--headline5">Регистрация</p> <div class="text-danger mdc-typography--subtitle2"></div> <div class="text-success mdc-typography--subtitle2"></div> <form class="mb-5" novalidate> <div class="form-controls mb-5"> <div class="mb-3 text-start"> <label class="form-label" for="registration-name">Имя</label> <input type="text" name="name" class="form-control" id="registration-name" required> </div> <div class="mb-3 text-start"> <label class="form-label" for="registration-email">Email</label> <input type="email" name="email" class="form-control" id="registration-email" required> </div> <div class="mb-3 text-start"> <label class="form-label" for="registration-pass">Пароль</label> <input type="password" name="password" class="form-control" id="registration-pass" required> </div> <div class="mb-5 text-start"> <label class="form-label" for="registration-pass2">Пароль еще раз</label> <input type="password" class="form-control" id="registration-pass2" required> </div> <button class="btn btn-primary w-100 py-2" type="submit">Зарегистрироваться</button> </div> </form> <div class="links-container"> <a class="install-button" style="display: none">Установить</a> <a href="#" class="login-button">Войти</a> </div> </div> </div> </div>';

/*
 * JavaScript MD5
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 *
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */
const safeAdd = (x, y) => {
  let lsw = (x & 0xFFFF) + (y & 0xFFFF);
  return (x >> 16) + (y >> 16) + (lsw >> 16) << 16 | lsw & 0xFFFF;
};

/*
 * Bitwise rotate a 32-bit number to the left.
 */
const bitRotateLeft = (num, cnt) => num << cnt | num >>> 32 - cnt;

/*
 * These functions implement the four basic operations the algorithm uses.
 */
const md5cmn = (q, a, b, x, s, t) => safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);
const md5ff = (a, b, c, d, x, s, t) => md5cmn(b & c | ~b & d, a, b, x, s, t);
const md5gg = (a, b, c, d, x, s, t) => md5cmn(b & d | c & ~d, a, b, x, s, t);
const md5hh = (a, b, c, d, x, s, t) => md5cmn(b ^ c ^ d, a, b, x, s, t);
const md5ii = (a, b, c, d, x, s, t) => md5cmn(c ^ (b | ~d), a, b, x, s, t);
const firstChunk = (chunks, x, i) => {
    let [a, b, c, d] = chunks;
    a = md5ff(a, b, c, d, x[i + 0], 7, -680876936);
    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);
    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);
    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);
    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);
    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);
    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);
    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);
    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);
    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);
    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);
    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);
    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);
    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);
    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);
    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);
    return [a, b, c, d];
  };
const secondChunk = (chunks, x, i) => {
    let [a, b, c, d] = chunks;
    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);
    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);
    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);
    b = md5gg(b, c, d, a, x[i], 20, -373897302);
    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);
    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);
    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);
    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);
    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);
    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);
    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);
    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);
    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);
    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);
    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);
    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);
    return [a, b, c, d];
  };
const thirdChunk = (chunks, x, i) => {
    let [a, b, c, d] = chunks;
    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);
    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);
    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);
    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);
    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);
    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);
    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);
    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);
    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);
    d = md5hh(d, a, b, c, x[i], 11, -358537222);
    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);
    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);
    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);
    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);
    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);
    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);
    return [a, b, c, d];
  };
const fourthChunk = (chunks, x, i) => {
    let [a, b, c, d] = chunks;
    a = md5ii(a, b, c, d, x[i], 6, -198630844);
    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);
    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);
    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);
    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);
    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);
    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);
    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);
    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);
    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);
    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);
    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);
    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);
    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);
    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);
    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);
    return [a, b, c, d];
  };
/*
 * Calculate the MD5 of an array of little-endian words, and a bit length.
 */
const binlMD5 = (x, len) => {
  /* append padding */
  x[len >> 5] |= 0x80 << len % 32;
  x[(len + 64 >>> 9 << 4) + 14] = len;
  let commands = [firstChunk, secondChunk, thirdChunk, fourthChunk],
    initialChunks = [1732584193, -271733879, -1732584194, 271733878];
  return Array.from({
    length: Math.floor(x.length / 16) + 1
  }, (v, i) => i * 16).reduce((chunks, i) => commands.reduce((newChunks, apply) => apply(newChunks, x, i), chunks.slice()).map((chunk, index) => safeAdd(chunk, chunks[index])), initialChunks);
};

/*
 * Convert an array of little-endian words to a string
 */
const binl2rstr = input => Array(input.length * 4).fill(8).reduce((output, k, i) => output + String.fromCharCode(input[i * k >> 5] >>> i * k % 32 & 0xFF), '');

/*
 * Convert a raw string to an array of little-endian words
 * Characters >255 have their high-byte silently ignored.
 */
const rstr2binl = input => Array.from(input).map(i => i.charCodeAt(0)).reduce((output, cc, i) => {
  let resp = output.slice();
  resp[i * 8 >> 5] |= (cc & 0xFF) << i * 8 % 32;
  return resp;
}, []);

/*
 * Calculate the MD5 of a raw string
 */
const rstrMD5 = string => binl2rstr(binlMD5(rstr2binl(string), string.length * 8));
/*
 * Calculate the HMAC-MD5, of a key and some data (raw strings)
 */
const strHMACMD5 = (key, data) => {
  let bkey = rstr2binl(key),
    ipad = Array(16).fill(undefined ^ 0x36363636),
    opad = Array(16).fill(undefined ^ 0x5C5C5C5C);
  if (bkey.length > 16) {
    bkey = binlMD5(bkey, key.length * 8);
  }
  bkey.forEach((k, i) => {
    ipad[i] = k ^ 0x36363636;
    opad[i] = k ^ 0x5C5C5C5C;
  });
  return binl2rstr(binlMD5(opad.concat(binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)), 512 + 128));
};

/*
 * Convert a raw string to a hex string
 */
const rstr2hex = input => {
  const hexTab = pos => '0123456789abcdef'.charAt(pos);
  return Array.from(input).map(c => c.charCodeAt(0)).reduce((output, x, i) => output + hexTab(x >>> 4 & 0x0F) + hexTab(x & 0x0F), '');
};

/*
 * Encode a string as utf-8
 */

const str2rstrUTF8 = unicodeString => {
  if (typeof unicodeString !== 'string') throw new TypeError('parameter ‘unicodeString’ is not a string');
  const cc = c => c.charCodeAt(0);
  return unicodeString.replace(/[\u0080-\u07ff]/g,
  // U+0080 - U+07FF => 2 bytes 110yyyyy, 10zzzzzz
  c => String.fromCharCode(0xc0 | cc(c) >> 6, 0x80 | cc(c) & 0x3f)).replace(/[\u0800-\uffff]/g,
  // U+0800 - U+FFFF => 3 bytes 1110xxxx, 10yyyyyy, 10zzzzzz
  c => String.fromCharCode(0xe0 | cc(c) >> 12, 0x80 | cc(c) >> 6 & 0x3F, 0x80 | cc(c) & 0x3f));
};

/*
 * Take string arguments and return either raw or hex encoded strings
 */
const rawMD5 = s => rstrMD5(str2rstrUTF8(s));
const hexMD5 = s => rstr2hex(rawMD5(s));
const rawHMACMD5 = (k, d) => strHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d));
const hexHMACMD5 = (k, d) => rstr2hex(rawHMACMD5(k, d));
var MD5 = ((string, key, raw) => {
  if (!key) {
    if (!raw) {
      return hexMD5(string);
    }
    return rawMD5(string);
  }
  if (!raw) {
    return hexHMACMD5(key, string);
  }
  return rawHMACMD5(key, string);
});

!function (t, e) {
  "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define("@material/ripple", [], e) : "object" == typeof exports ? exports.ripple = e() : (t.mdc = t.mdc || {}, t.mdc.ripple = e());
}(window, function () {
  return i = {}, r.m = n = {
    0: function (t, e, n) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCFoundation = void 0;
      var i = (Object.defineProperty(r, "cssClasses", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(r, "strings", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(r, "numbers", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(r, "defaultAdapter", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), r.prototype.init = function () {}, r.prototype.destroy = function () {}, r);
      function r(t) {
        void 0 === t && (t = {}), this.adapter = t;
      }
      e.MDCFoundation = i, e.default = i;
    },
    1: function (t, e, n) {
      "use strict";

      var r = this && this.__read || function (t, e) {
          var n = "function" == typeof Symbol && t[Symbol.iterator];
          if (!n) return t;
          var i,
            r,
            a = n.call(t),
            o = [];
          try {
            for (; (void 0 === e || 0 < e--) && !(i = a.next()).done;) o.push(i.value);
          } catch (t) {
            r = {
              error: t
            };
          } finally {
            try {
              i && !i.done && (n = a.return) && n.call(a);
            } finally {
              if (r) throw r.error;
            }
          }
          return o;
        },
        a = this && this.__spreadArray || function (t, e) {
          for (var n = 0, i = e.length, r = t.length; n < i; n++, r++) t[r] = e[n];
          return t;
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCComponent = void 0;
      var i = n(0),
        o = (s.attachTo = function (t) {
          return new s(t, new i.MDCFoundation({}));
        }, s.prototype.initialize = function () {
          for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        }, s.prototype.getDefaultFoundation = function () {
          throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");
        }, s.prototype.initialSyncWithDOM = function () {}, s.prototype.destroy = function () {
          this.foundation.destroy();
        }, s.prototype.listen = function (t, e, n) {
          this.root.addEventListener(t, e, n);
        }, s.prototype.unlisten = function (t, e, n) {
          this.root.removeEventListener(t, e, n);
        }, s.prototype.emit = function (t, e, n) {
          var i;
          void 0 === n && (n = !1), "function" == typeof CustomEvent ? i = new CustomEvent(t, {
            bubbles: n,
            detail: e
          }) : (i = document.createEvent("CustomEvent")).initCustomEvent(t, n, !1, e), this.root.dispatchEvent(i);
        }, s);
      function s(t, e) {
        for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
        this.root = t, this.initialize.apply(this, a([], r(n))), this.foundation = void 0 === e ? this.getDefaultFoundation() : e, this.foundation.init(), this.initialSyncWithDOM();
      }
      e.MDCComponent = o, e.default = o;
    },
    2: function (t, e, n) {
      "use strict";

      function i(t, e) {
        return (t.matches || t.webkitMatchesSelector || t.msMatchesSelector).call(t, e);
      }
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.estimateScrollWidth = e.matches = e.closest = void 0, e.closest = function (t, e) {
        if (t.closest) return t.closest(e);
        for (var n = t; n;) {
          if (i(n, e)) return n;
          n = n.parentElement;
        }
        return null;
      }, e.matches = i, e.estimateScrollWidth = function (t) {
        var e = t;
        if (null !== e.offsetParent) return e.scrollWidth;
        var n = e.cloneNode(!0);
        n.style.setProperty("position", "absolute"), n.style.setProperty("transform", "translate(-9999px, -9999px)"), document.documentElement.appendChild(n);
        var i = n.scrollWidth;
        return document.documentElement.removeChild(n), i;
      };
    },
    211: function (t, e, n) {
      "use strict";

      var i = this && this.__createBinding || (Object.create ? function (t, e, n, i) {
          void 0 === i && (i = n), Object.defineProperty(t, i, {
            enumerable: !0,
            get: function () {
              return e[n];
            }
          });
        } : function (t, e, n, i) {
          void 0 === i && (i = n), t[i] = e[n];
        }),
        r = this && this.__setModuleDefault || (Object.create ? function (t, e) {
          Object.defineProperty(t, "default", {
            enumerable: !0,
            value: e
          });
        } : function (t, e) {
          t.default = e;
        }),
        a = this && this.__importStar || function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var n in t) "default" !== n && Object.prototype.hasOwnProperty.call(t, n) && i(e, t, n);
          return r(e, t), e;
        },
        o = this && this.__exportStar || function (t, e) {
          for (var n in t) "default" === n || Object.prototype.hasOwnProperty.call(e, n) || i(e, t, n);
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.util = void 0;
      var s = a(n(3));
      e.util = s, o(n(212), e), o(n(6), e), o(n(7), e), o(n(4), e), o(n(213), e);
    },
    212: function (t, e, n) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      });
    },
    213: function (t, e, n) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      });
    },
    3: function (t, e, n) {
      "use strict";

      var o;
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.getNormalizedEventCoords = e.supportsCssVariables = void 0, e.supportsCssVariables = function (t, e) {
        void 0 === e && (e = !1);
        var n,
          i = t.CSS;
        if ("boolean" == typeof o && !e) return o;
        if (!(i && "function" == typeof i.supports)) return !1;
        var r = i.supports("--css-vars", "yes"),
          a = i.supports("(--css-vars: yes)") && i.supports("color", "#00000000");
        return n = r || a, e || (o = n), n;
      }, e.getNormalizedEventCoords = function (t, e, n) {
        if (!t) return {
          x: 0,
          y: 0
        };
        var i,
          r,
          a = e.x,
          o = e.y,
          s = a + n.left,
          u = o + n.top;
        if ("touchstart" === t.type) {
          var c = t;
          i = c.changedTouches[0].pageX - s, r = c.changedTouches[0].pageY - u;
        } else {
          var d = t;
          i = d.pageX - s, r = d.pageY - u;
        }
        return {
          x: i,
          y: r
        };
      };
    },
    4: function (t, e, n) {
      "use strict";

      var i,
        r = this && this.__extends || (i = function (t, e) {
          return (i = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function (t, e) {
            t.__proto__ = e;
          } || function (t, e) {
            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
          })(t, e);
        }, function (t, e) {
          if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          function n() {
            this.constructor = t;
          }
          i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());
        }),
        a = this && this.__assign || function () {
          return (a = Object.assign || function (t) {
            for (var e, n = 1, i = arguments.length; n < i; n++) for (var r in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
            return t;
          }).apply(this, arguments);
        },
        o = this && this.__values || function (t) {
          var e = "function" == typeof Symbol && Symbol.iterator,
            n = e && t[e],
            i = 0;
          if (n) return n.call(t);
          if (t && "number" == typeof t.length) return {
            next: function () {
              return t && i >= t.length && (t = void 0), {
                value: t && t[i++],
                done: !t
              };
            }
          };
          throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.");
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCRippleFoundation = void 0;
      var s,
        u = n(0),
        c = n(7),
        d = n(3),
        l = ["touchstart", "pointerdown", "mousedown", "keydown"],
        p = ["touchend", "pointerup", "mouseup", "contextmenu"],
        f = [],
        v = (s = u.MDCFoundation, r(h, s), Object.defineProperty(h, "cssClasses", {
          get: function () {
            return c.cssClasses;
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(h, "strings", {
          get: function () {
            return c.strings;
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(h, "numbers", {
          get: function () {
            return c.numbers;
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(h, "defaultAdapter", {
          get: function () {
            return {
              addClass: function () {},
              browserSupportsCssVars: function () {
                return !0;
              },
              computeBoundingRect: function () {
                return {
                  top: 0,
                  right: 0,
                  bottom: 0,
                  left: 0,
                  width: 0,
                  height: 0
                };
              },
              containsEventTarget: function () {
                return !0;
              },
              deregisterDocumentInteractionHandler: function () {},
              deregisterInteractionHandler: function () {},
              deregisterResizeHandler: function () {},
              getWindowPageOffset: function () {
                return {
                  x: 0,
                  y: 0
                };
              },
              isSurfaceActive: function () {
                return !0;
              },
              isSurfaceDisabled: function () {
                return !0;
              },
              isUnbounded: function () {
                return !0;
              },
              registerDocumentInteractionHandler: function () {},
              registerInteractionHandler: function () {},
              registerResizeHandler: function () {},
              removeClass: function () {},
              updateCssVariable: function () {}
            };
          },
          enumerable: !1,
          configurable: !0
        }), h.prototype.init = function () {
          var t = this,
            e = this.supportsPressRipple();
          if (this.registerRootHandlers(e), e) {
            var n = h.cssClasses,
              i = n.ROOT,
              r = n.UNBOUNDED;
            requestAnimationFrame(function () {
              t.adapter.addClass(i), t.adapter.isUnbounded() && (t.adapter.addClass(r), t.layoutInternal());
            });
          }
        }, h.prototype.destroy = function () {
          var t = this;
          if (this.supportsPressRipple()) {
            this.activationTimer && (clearTimeout(this.activationTimer), this.activationTimer = 0, this.adapter.removeClass(h.cssClasses.FG_ACTIVATION)), this.fgDeactivationRemovalTimer && (clearTimeout(this.fgDeactivationRemovalTimer), this.fgDeactivationRemovalTimer = 0, this.adapter.removeClass(h.cssClasses.FG_DEACTIVATION));
            var e = h.cssClasses,
              n = e.ROOT,
              i = e.UNBOUNDED;
            requestAnimationFrame(function () {
              t.adapter.removeClass(n), t.adapter.removeClass(i), t.removeCssVars();
            });
          }
          this.deregisterRootHandlers(), this.deregisterDeactivationHandlers();
        }, h.prototype.activate = function (t) {
          this.activateImpl(t);
        }, h.prototype.deactivate = function () {
          this.deactivateImpl();
        }, h.prototype.layout = function () {
          var t = this;
          this.layoutFrame && cancelAnimationFrame(this.layoutFrame), this.layoutFrame = requestAnimationFrame(function () {
            t.layoutInternal(), t.layoutFrame = 0;
          });
        }, h.prototype.setUnbounded = function (t) {
          var e = h.cssClasses.UNBOUNDED;
          t ? this.adapter.addClass(e) : this.adapter.removeClass(e);
        }, h.prototype.handleFocus = function () {
          var t = this;
          requestAnimationFrame(function () {
            return t.adapter.addClass(h.cssClasses.BG_FOCUSED);
          });
        }, h.prototype.handleBlur = function () {
          var t = this;
          requestAnimationFrame(function () {
            return t.adapter.removeClass(h.cssClasses.BG_FOCUSED);
          });
        }, h.prototype.supportsPressRipple = function () {
          return this.adapter.browserSupportsCssVars();
        }, h.prototype.defaultActivationState = function () {
          return {
            activationEvent: void 0,
            hasDeactivationUXRun: !1,
            isActivated: !1,
            isProgrammatic: !1,
            wasActivatedByPointer: !1,
            wasElementMadeActive: !1
          };
        }, h.prototype.registerRootHandlers = function (t) {
          var e, n;
          if (t) {
            try {
              for (var i = o(l), r = i.next(); !r.done; r = i.next()) {
                var a = r.value;
                this.adapter.registerInteractionHandler(a, this.activateHandler);
              }
            } catch (t) {
              e = {
                error: t
              };
            } finally {
              try {
                r && !r.done && (n = i.return) && n.call(i);
              } finally {
                if (e) throw e.error;
              }
            }
            this.adapter.isUnbounded() && this.adapter.registerResizeHandler(this.resizeHandler);
          }
          this.adapter.registerInteractionHandler("focus", this.focusHandler), this.adapter.registerInteractionHandler("blur", this.blurHandler);
        }, h.prototype.registerDeactivationHandlers = function (t) {
          var e, n;
          if ("keydown" === t.type) this.adapter.registerInteractionHandler("keyup", this.deactivateHandler);else try {
            for (var i = o(p), r = i.next(); !r.done; r = i.next()) {
              var a = r.value;
              this.adapter.registerDocumentInteractionHandler(a, this.deactivateHandler);
            }
          } catch (t) {
            e = {
              error: t
            };
          } finally {
            try {
              r && !r.done && (n = i.return) && n.call(i);
            } finally {
              if (e) throw e.error;
            }
          }
        }, h.prototype.deregisterRootHandlers = function () {
          var e, t;
          try {
            for (var n = o(l), i = n.next(); !i.done; i = n.next()) {
              var r = i.value;
              this.adapter.deregisterInteractionHandler(r, this.activateHandler);
            }
          } catch (t) {
            e = {
              error: t
            };
          } finally {
            try {
              i && !i.done && (t = n.return) && t.call(n);
            } finally {
              if (e) throw e.error;
            }
          }
          this.adapter.deregisterInteractionHandler("focus", this.focusHandler), this.adapter.deregisterInteractionHandler("blur", this.blurHandler), this.adapter.isUnbounded() && this.adapter.deregisterResizeHandler(this.resizeHandler);
        }, h.prototype.deregisterDeactivationHandlers = function () {
          var e, t;
          this.adapter.deregisterInteractionHandler("keyup", this.deactivateHandler);
          try {
            for (var n = o(p), i = n.next(); !i.done; i = n.next()) {
              var r = i.value;
              this.adapter.deregisterDocumentInteractionHandler(r, this.deactivateHandler);
            }
          } catch (t) {
            e = {
              error: t
            };
          } finally {
            try {
              i && !i.done && (t = n.return) && t.call(n);
            } finally {
              if (e) throw e.error;
            }
          }
        }, h.prototype.removeCssVars = function () {
          var e = this,
            n = h.strings;
          Object.keys(n).forEach(function (t) {
            0 === t.indexOf("VAR_") && e.adapter.updateCssVariable(n[t], null);
          });
        }, h.prototype.activateImpl = function (t) {
          var e = this;
          if (!this.adapter.isSurfaceDisabled()) {
            var n = this.activationState;
            if (!n.isActivated) {
              var i = this.previousActivationEvent;
              i && void 0 !== t && i.type !== t.type || (n.isActivated = !0, n.isProgrammatic = void 0 === t, n.activationEvent = t, n.wasActivatedByPointer = !n.isProgrammatic && void 0 !== t && ("mousedown" === t.type || "touchstart" === t.type || "pointerdown" === t.type), void 0 !== t && 0 < f.length && f.some(function (t) {
                return e.adapter.containsEventTarget(t);
              }) ? this.resetActivationState() : (void 0 !== t && (f.push(t.target), this.registerDeactivationHandlers(t)), n.wasElementMadeActive = this.checkElementMadeActive(t), n.wasElementMadeActive && this.animateActivation(), requestAnimationFrame(function () {
                f = [], n.wasElementMadeActive || void 0 === t || " " !== t.key && 32 !== t.keyCode || (n.wasElementMadeActive = e.checkElementMadeActive(t), n.wasElementMadeActive && e.animateActivation()), n.wasElementMadeActive || (e.activationState = e.defaultActivationState());
              })));
            }
          }
        }, h.prototype.checkElementMadeActive = function (t) {
          return void 0 === t || "keydown" !== t.type || this.adapter.isSurfaceActive();
        }, h.prototype.animateActivation = function () {
          var t = this,
            e = h.strings,
            n = e.VAR_FG_TRANSLATE_START,
            i = e.VAR_FG_TRANSLATE_END,
            r = h.cssClasses,
            a = r.FG_DEACTIVATION,
            o = r.FG_ACTIVATION,
            s = h.numbers.DEACTIVATION_TIMEOUT_MS;
          this.layoutInternal();
          var u = "",
            c = "";
          if (!this.adapter.isUnbounded()) {
            var d = this.getFgTranslationCoordinates(),
              l = d.startPoint,
              p = d.endPoint;
            u = l.x + "px, " + l.y + "px", c = p.x + "px, " + p.y + "px";
          }
          this.adapter.updateCssVariable(n, u), this.adapter.updateCssVariable(i, c), clearTimeout(this.activationTimer), clearTimeout(this.fgDeactivationRemovalTimer), this.rmBoundedActivationClasses(), this.adapter.removeClass(a), this.adapter.computeBoundingRect(), this.adapter.addClass(o), this.activationTimer = setTimeout(function () {
            t.activationTimerCallback();
          }, s);
        }, h.prototype.getFgTranslationCoordinates = function () {
          var t,
            e = this.activationState,
            n = e.activationEvent;
          return {
            startPoint: t = {
              x: (t = e.wasActivatedByPointer ? d.getNormalizedEventCoords(n, this.adapter.getWindowPageOffset(), this.adapter.computeBoundingRect()) : {
                x: this.frame.width / 2,
                y: this.frame.height / 2
              }).x - this.initialSize / 2,
              y: t.y - this.initialSize / 2
            },
            endPoint: {
              x: this.frame.width / 2 - this.initialSize / 2,
              y: this.frame.height / 2 - this.initialSize / 2
            }
          };
        }, h.prototype.runDeactivationUXLogicIfReady = function () {
          var t = this,
            e = h.cssClasses.FG_DEACTIVATION,
            n = this.activationState,
            i = n.hasDeactivationUXRun,
            r = n.isActivated;
          !i && r || !this.activationAnimationHasEnded || (this.rmBoundedActivationClasses(), this.adapter.addClass(e), this.fgDeactivationRemovalTimer = setTimeout(function () {
            t.adapter.removeClass(e);
          }, c.numbers.FG_DEACTIVATION_MS));
        }, h.prototype.rmBoundedActivationClasses = function () {
          var t = h.cssClasses.FG_ACTIVATION;
          this.adapter.removeClass(t), this.activationAnimationHasEnded = !1, this.adapter.computeBoundingRect();
        }, h.prototype.resetActivationState = function () {
          var t = this;
          this.previousActivationEvent = this.activationState.activationEvent, this.activationState = this.defaultActivationState(), setTimeout(function () {
            return t.previousActivationEvent = void 0;
          }, h.numbers.TAP_DELAY_MS);
        }, h.prototype.deactivateImpl = function () {
          var t = this,
            e = this.activationState;
          if (e.isActivated) {
            var n = a({}, e);
            e.isProgrammatic ? (requestAnimationFrame(function () {
              t.animateDeactivation(n);
            }), this.resetActivationState()) : (this.deregisterDeactivationHandlers(), requestAnimationFrame(function () {
              t.activationState.hasDeactivationUXRun = !0, t.animateDeactivation(n), t.resetActivationState();
            }));
          }
        }, h.prototype.animateDeactivation = function (t) {
          var e = t.wasActivatedByPointer,
            n = t.wasElementMadeActive;
          (e || n) && this.runDeactivationUXLogicIfReady();
        }, h.prototype.layoutInternal = function () {
          var t = this;
          this.frame = this.adapter.computeBoundingRect();
          var e = Math.max(this.frame.height, this.frame.width);
          this.maxRadius = this.adapter.isUnbounded() ? e : Math.sqrt(Math.pow(t.frame.width, 2) + Math.pow(t.frame.height, 2)) + h.numbers.PADDING;
          var n = Math.floor(e * h.numbers.INITIAL_ORIGIN_SCALE);
          this.adapter.isUnbounded() && n % 2 != 0 ? this.initialSize = n - 1 : this.initialSize = n, this.fgScale = "" + this.maxRadius / this.initialSize, this.updateLayoutCssVars();
        }, h.prototype.updateLayoutCssVars = function () {
          var t = h.strings,
            e = t.VAR_FG_SIZE,
            n = t.VAR_LEFT,
            i = t.VAR_TOP,
            r = t.VAR_FG_SCALE;
          this.adapter.updateCssVariable(e, this.initialSize + "px"), this.adapter.updateCssVariable(r, this.fgScale), this.adapter.isUnbounded() && (this.unboundedCoords = {
            left: Math.round(this.frame.width / 2 - this.initialSize / 2),
            top: Math.round(this.frame.height / 2 - this.initialSize / 2)
          }, this.adapter.updateCssVariable(n, this.unboundedCoords.left + "px"), this.adapter.updateCssVariable(i, this.unboundedCoords.top + "px"));
        }, h);
      function h(t) {
        var e = s.call(this, a(a({}, h.defaultAdapter), t)) || this;
        return e.activationAnimationHasEnded = !1, e.activationTimer = 0, e.fgDeactivationRemovalTimer = 0, e.fgScale = "0", e.frame = {
          width: 0,
          height: 0
        }, e.initialSize = 0, e.layoutFrame = 0, e.maxRadius = 0, e.unboundedCoords = {
          left: 0,
          top: 0
        }, e.activationState = e.defaultActivationState(), e.activationTimerCallback = function () {
          e.activationAnimationHasEnded = !0, e.runDeactivationUXLogicIfReady();
        }, e.activateHandler = function (t) {
          e.activateImpl(t);
        }, e.deactivateHandler = function () {
          e.deactivateImpl();
        }, e.focusHandler = function () {
          e.handleFocus();
        }, e.blurHandler = function () {
          e.handleBlur();
        }, e.resizeHandler = function () {
          e.layout();
        }, e;
      }
      e.MDCRippleFoundation = v, e.default = v;
    },
    5: function (t, e, n) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.applyPassive = void 0, e.applyPassive = function (t) {
        return void 0 === t && (t = window), !!function (t) {
          void 0 === t && (t = window);
          var e = !1;
          try {
            var n = {
                get passive() {
                  return !(e = !0);
                }
              },
              i = function () {};
            t.document.addEventListener("test", i, n), t.document.removeEventListener("test", i, n);
          } catch (t) {
            e = !1;
          }
          return e;
        }(t) && {
          passive: !0
        };
      };
    },
    6: function (t, e, n) {
      "use strict";

      var i,
        r = this && this.__extends || (i = function (t, e) {
          return (i = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function (t, e) {
            t.__proto__ = e;
          } || function (t, e) {
            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
          })(t, e);
        }, function (t, e) {
          if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          function n() {
            this.constructor = t;
          }
          i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());
        }),
        a = this && this.__createBinding || (Object.create ? function (t, e, n, i) {
          void 0 === i && (i = n), Object.defineProperty(t, i, {
            enumerable: !0,
            get: function () {
              return e[n];
            }
          });
        } : function (t, e, n, i) {
          void 0 === i && (i = n), t[i] = e[n];
        }),
        o = this && this.__setModuleDefault || (Object.create ? function (t, e) {
          Object.defineProperty(t, "default", {
            enumerable: !0,
            value: e
          });
        } : function (t, e) {
          t.default = e;
        }),
        s = this && this.__importStar || function (t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t) for (var n in t) "default" !== n && Object.prototype.hasOwnProperty.call(t, n) && a(e, t, n);
          return o(e, t), e;
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCRipple = void 0;
      var u,
        c = n(1),
        d = n(5),
        l = n(2),
        p = n(4),
        f = s(n(3)),
        v = (u = c.MDCComponent, r(h, u), h.attachTo = function (t, e) {
          void 0 === e && (e = {
            isUnbounded: void 0
          });
          var n = new h(t);
          return void 0 !== e.isUnbounded && (n.unbounded = e.isUnbounded), n;
        }, h.createAdapter = function (n) {
          return {
            addClass: function (t) {
              return n.root.classList.add(t);
            },
            browserSupportsCssVars: function () {
              return f.supportsCssVariables(window);
            },
            computeBoundingRect: function () {
              return n.root.getBoundingClientRect();
            },
            containsEventTarget: function (t) {
              return n.root.contains(t);
            },
            deregisterDocumentInteractionHandler: function (t, e) {
              return document.documentElement.removeEventListener(t, e, d.applyPassive());
            },
            deregisterInteractionHandler: function (t, e) {
              return n.root.removeEventListener(t, e, d.applyPassive());
            },
            deregisterResizeHandler: function (t) {
              return window.removeEventListener("resize", t);
            },
            getWindowPageOffset: function () {
              return {
                x: window.pageXOffset,
                y: window.pageYOffset
              };
            },
            isSurfaceActive: function () {
              return l.matches(n.root, ":active");
            },
            isSurfaceDisabled: function () {
              return Boolean(n.disabled);
            },
            isUnbounded: function () {
              return Boolean(n.unbounded);
            },
            registerDocumentInteractionHandler: function (t, e) {
              return document.documentElement.addEventListener(t, e, d.applyPassive());
            },
            registerInteractionHandler: function (t, e) {
              return n.root.addEventListener(t, e, d.applyPassive());
            },
            registerResizeHandler: function (t) {
              return window.addEventListener("resize", t);
            },
            removeClass: function (t) {
              return n.root.classList.remove(t);
            },
            updateCssVariable: function (t, e) {
              return n.root.style.setProperty(t, e);
            }
          };
        }, Object.defineProperty(h.prototype, "unbounded", {
          get: function () {
            return Boolean(this.isUnbounded);
          },
          set: function (t) {
            this.isUnbounded = Boolean(t), this.setUnbounded();
          },
          enumerable: !1,
          configurable: !0
        }), h.prototype.activate = function () {
          this.foundation.activate();
        }, h.prototype.deactivate = function () {
          this.foundation.deactivate();
        }, h.prototype.layout = function () {
          this.foundation.layout();
        }, h.prototype.getDefaultFoundation = function () {
          return new p.MDCRippleFoundation(h.createAdapter(this));
        }, h.prototype.initialSyncWithDOM = function () {
          var t = this.root;
          this.isUnbounded = "mdcRippleIsUnbounded" in t.dataset;
        }, h.prototype.setUnbounded = function () {
          this.foundation.setUnbounded(Boolean(this.isUnbounded));
        }, h);
      function h() {
        var t = null !== u && u.apply(this, arguments) || this;
        return t.disabled = !1, t;
      }
      e.MDCRipple = v;
    },
    7: function (t, e, n) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.numbers = e.strings = e.cssClasses = void 0, e.cssClasses = {
        BG_FOCUSED: "mdc-ripple-upgraded--background-focused",
        FG_ACTIVATION: "mdc-ripple-upgraded--foreground-activation",
        FG_DEACTIVATION: "mdc-ripple-upgraded--foreground-deactivation",
        ROOT: "mdc-ripple-upgraded",
        UNBOUNDED: "mdc-ripple-upgraded--unbounded"
      }, e.strings = {
        VAR_FG_SCALE: "--mdc-ripple-fg-scale",
        VAR_FG_SIZE: "--mdc-ripple-fg-size",
        VAR_FG_TRANSLATE_END: "--mdc-ripple-fg-translate-end",
        VAR_FG_TRANSLATE_START: "--mdc-ripple-fg-translate-start",
        VAR_LEFT: "--mdc-ripple-left",
        VAR_TOP: "--mdc-ripple-top"
      }, e.numbers = {
        DEACTIVATION_TIMEOUT_MS: 225,
        FG_DEACTIVATION_MS: 150,
        INITIAL_ORIGIN_SCALE: .6,
        PADDING: 10,
        TAP_DELAY_MS: 300
      };
    }
  }, r.c = i, r.d = function (t, e, n) {
    r.o(t, e) || Object.defineProperty(t, e, {
      enumerable: !0,
      get: n
    });
  }, r.r = function (t) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(t, "__esModule", {
      value: !0
    });
  }, r.t = function (e, t) {
    if (1 & t && (e = r(e)), 8 & t) return e;
    if (4 & t && "object" == typeof e && e && e.__esModule) return e;
    var n = Object.create(null);
    if (r.r(n), Object.defineProperty(n, "default", {
      enumerable: !0,
      value: e
    }), 2 & t && "string" != typeof e) for (var i in e) r.d(n, i, function (t) {
      return e[t];
    }.bind(null, i));
    return n;
  }, r.n = function (t) {
    var e = t && t.__esModule ? function () {
      return t.default;
    } : function () {
      return t;
    };
    return r.d(e, "a", e), e;
  }, r.o = function (t, e) {
    return Object.prototype.hasOwnProperty.call(t, e);
  }, r.p = "", r(r.s = 211);
  function r(t) {
    if (i[t]) return i[t].exports;
    var e = i[t] = {
      i: t,
      l: !1,
      exports: {}
    };
    return n[t].call(e.exports, e, e.exports, r), e.l = !0, e.exports;
  }
  var n, i;
});

var coreAuth = {
  /**
   * Получение страницы входа и регистрации
   * @returns {*}
   */
  getPageContent: function getPageContent() {
    return coreTpl['auth/main.html'];
  },
  /**
   * Инициализация страницы входа и регистрации
   */
  init: function init() {
    var that = this;

    // Инициализация кнопок
    var buttons = document.querySelectorAll('.page-auth .mdc-button');
    var _iterator = _createForOfIteratorHelper(buttons),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var button = _step.value;
        new mdc.ripple.MDCRipple(button);
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    $('.container-login form').on('submit', function () {
      coreAuth.login(this);
      return false;
    });
    $('.container-registration form').on('submit', function () {
      coreAuth.registration(this);
      return false;
    });
    var conf = localStorage.getItem('core3_conf');
    if (typeof conf === 'string') {
      try {
        conf = JSON.parse(conf);
        if (typeof conf.name === 'string') {
          $('head title').text(conf.name);
        }
        if (typeof conf.logo === 'string') {
          this._setLogo(conf.logo);
        }
        if (_typeof(conf.theme) === 'object') {
          this._setTheme(conf.theme);
        }
      } catch (e) {}
    }
    coreAuth.loadConfig().then(function (conf) {
      localStorage.setItem('core3_conf', JSON.stringify(conf));
      if (typeof conf.name === 'string') {
        $('head title').text(conf.name);
      }
      if (typeof conf.logo === 'string') {
        that._setLogo(conf.logo);
      } else {
        that._setLogo('');
      }
      if (_typeof(conf.theme) === 'object') {
        that._setTheme(conf.theme);
      }
    });
    coreAuth.viewActualContainer();

    // Установка
    var install = function install(event) {
      event.preventDefault();
      var button = $('.page-auth .install-button');
      if (event.platforms.includes('web')) {
        button.show();
        button.on('click', function () {
          event.prompt();
        });
      }
      event.userChoice.then(function (choiceResult) {
        switch (choiceResult.outcome) {
          case "accepted":
            button.hide();
            break;
          case "dismissed":
            // ignore
            break;
        }
      });
    };
    if (coreMain.install.event) {
      install(coreMain.install.event);
    } else {
      coreMain.install.promise.then(install);
    }
  },
  /**
   * Показ текущего контейнера
   */
  viewActualContainer: function viewActualContainer() {
    var params = coreTools.getParams();
    var authPanel = params.module;
    if (['login', 'registration', 'registration_complete'].indexOf(authPanel) === -1) {
      authPanel = 'login';
    }
    coreAuth._viewContainer(authPanel);
  },
  /**
   * @param action
   */
  preloader: function preloader(action) {
    var $btn = $('.page-auth button[type=submit]:visible');
    switch (action) {
      case 'show':
        $btn.attr("disabled", "disabled");
        if ($btn.find('.spinner-border').length === 0) {
          $btn.prepend('<div class="spinner-border spinner-border-sm"></div> ');
        }
        break;
      case 'hide':
        $btn.find('.spinner-border').remove();
        $btn.removeAttr("disabled");
        break;
    }
  },
  /**
   * Получение конфигурации
   * @return {Promise}
   */
  loadConfig: function loadConfig() {
    return new Promise(function (resolve, reject) {
      $.ajax({
        url: coreMain.options.basePath + "/conf",
        method: "GET",
        dataType: "json",
        success: function success(response) {
          resolve(response);
        }
      });
    });
  },
  /**
   * @param form
   * @returns {Promise<boolean>}
   */
  login: function () {
    var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(form) {
      var fp;
      return _regeneratorRuntime().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            if (form.checkValidity()) {
              _context.next = 5;
              break;
            }
            $(form).addClass('was-validated');
            return _context.abrupt("return", false);
          case 5:
            $(form).removeClass('was-validated');
          case 6:
            coreAuth.preloader('show');
            $('.page-auth form .text-danger').text('');
            _context.next = 10;
            return coreTools.getFingerprint();
          case 10:
            fp = _context.sent;
            if (fp) {
              _context.next = 15;
              break;
            }
            coreAuth.preloader('hide');
            $('.page-auth form .text-danger').text('Не удалось получить отпечаток');
            return _context.abrupt("return", false);
          case 15:
            $.ajax({
              url: coreMain.options.basePath + "/auth/login",
              method: "POST",
              dataType: "json",
              contentType: "application/json; charset=utf-8",
              data: JSON.stringify({
                login: $('[name=login]', form).val(),
                password: MD5($('[name=password]', form).val()),
                fp: fp
              }),
              success: function success(response) {
                if (typeof response.access_token !== 'string' || typeof response.refresh_token !== 'string' || !response.access_token || !response.refresh_token) {
                  var errorMessage = response.error_message || "Ошибка. Попробуйте позже, либо обратитесь к администратору";
                  $('.page-auth form .text-danger').text(errorMessage);
                } else {
                  $('.page-auth form .text-danger').text('');
                  coreTokens.setAccessToken(response.access_token);
                  coreTokens.setRefreshToken(response.refresh_token);
                  $('.page-auth [name=login]').val('');
                  $('.page-auth [name=password]').val('');
                  coreMain.viewPage('menu');
                  coreTokens.initRefresh();
                }
              },
              error: function error(response) {
                coreAuth.preloader('hide');
                var errorMessage = '';
                if (response.status === 0) {
                  errorMessage = 'Проверьте подключение к интернету';
                } else if (response.responseJSON && response.responseJSON.error_message) {
                  errorMessage = response.responseJSON.error_message;
                } else {
                  errorMessage = $("<div>" + response.responseText + "</div>").text();
                }
                errorMessage = errorMessage || 'Ошибка. Попробуйте позже, либо обратитесь к администратору';
                $('.container-login .text-danger').text(errorMessage);
              },
              complete: function complete(jqXHR, textStatus) {
                coreAuth.preloader('hide');
              }
            });
          case 16:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    function login(_x) {
      return _login.apply(this, arguments);
    }
    return login;
  }(),
  /**
   *
   */
  logout: function logout() {
    $.ajax({
      url: coreMain.options.basePath + '/auth/logout',
      method: "PUT",
      headers: {
        'Access-Token': coreTokens.getAccessToken()
      },
      dataType: "json",
      success: function success(response) {
        coreTokens.clearAccessToken();
        coreTokens.deinitRefresh();
        coreMain.viewPage('auth');
        $('.page-menu > aside .menu-logout').removeClass('mdc-list-item--activated');
      },
      error: function error(response) {
        if (response.status === 0) {
          CoreUI.alert.danger('Ошибка', 'Проверьте подключение к интернету');
        } else {
          CoreUI.alert.danger('Ошибка', 'Обновите приложение или обратитесь к администратору');
        }
      }
    });
  },
  /**
   * @param form
   */
  registration: function registration(form) {
    if (!form.checkValidity()) {
      $(form).addClass('was-validated');
      return false;
    } else {
      $(form).removeClass('was-validated');
    }
    coreAuth.preloader('show');
    $('.container-registration .text-danger').text('');
    $.ajax({
      url: coreMain.options.basePath + "/auth/registration/email",
      dataType: "json",
      method: "POST",
      data: $(form).serialize(),
      success: function success(response) {
        coreAuth.preloader('hide');
        if (typeof response.access_token !== 'string' || typeof response.refresh_token !== 'string' || !response.access_token || !response.refresh_token) {
          var errorMessage = response.error_message || "Ошибка. Попробуйте позже, либо обратитесь к администратору";
          $('.container-registration .text-danger').text(errorMessage);
        } else {
          $('.page-auth form .text-danger').text('');
          coreTokens.setAccessToken(response.access_token);
          coreTokens.setRefreshToken(response.refresh_token);
          $('.page-auth [name=login]').val('');
          $('.page-auth [name=password]').val('');
          coreMain.viewPage('menu');
          coreTokens.initRefresh();
        }
      },
      error: function error(response) {
        coreAuth.preloader('hide');
        var errorMessage = '';
        if (response.status === 0) {
          errorMessage = 'Проверьте подключение к интернету';
        } else if (response.responseJSON && response.responseJSON.error_message) {
          errorMessage = response.responseJSON.error_message;
        } else {
          errorMessage = $(response.responseText).text();
        }
        errorMessage = errorMessage || 'Ошибка. Попробуйте позже, либо обратитесь к администратору';
        $('.container-registration .text-danger').text(errorMessage);
      },
      complete: function complete(jqXHR, textStatus) {
        coreAuth.preloader('hide');
      }
    });
  },
  /**
   * @param form
   * @constructor
   */
  registrationComplete: function registrationComplete(form) {
    var pass1 = $("[name=password]", form).val();
    var pass2 = $("[name=password2]", form).val();
    if (!pass1 || !pass2) {
      $('.container-registration_complete .text-danger').text('Введите пароль');
      return false;
    }
    if (pass1 !== pass2) {
      $('.container-registration_complete .text-danger').text('Пароли не совпадают').show();
      return false;
    }
    coreAuth.preloader('show');
    $('.container-registration_complete .text-danger').text('');
    var params = coreTools.getParams();
    $.ajax({
      url: coreMain.options.basePath + "/auth/registration/email/check",
      dataType: "json",
      method: "POST",
      data: {
        key: params.query.key,
        password: MD5(form.password.value)
      },
      success: function success(data) {
        coreAuth.preloader('hide');
        if (data.status === 'success') {
          $('.container-registration_complete .text-success').html(data.message).css('margin-bottom', '50px');
          $(form).hide();
        } else {
          $('.container-registration_complete .text-danger').text(data.error_message);
        }
      },
      error: function error(response) {
        coreAuth.preloader('hide');
        var errorMessage = '';
        if (response.status === 0) {
          errorMessage = 'Ошибка. Проверьте подключение к интернету';
        } else {
          errorMessage = 'Ошибка. Попробуйте позже, либо обратитесь к администратору';
        }
        $('.container-registration_complete .text-danger').text(errorMessage);
      }
    });
  },
  /**
   * Показ указанного контейнера
   * @param name
   */
  _viewContainer: function _viewContainer(name) {
    $('.page-auth > .container').hide();
    $('.page-auth > .container-' + name).fadeIn('fast');
  },
  /**
   * Установка логотипа
   * @param {string} logo
   * @private
   */
  _setLogo: function _setLogo(logo) {
    if (logo) {
      $('.page-auth img.logo').attr('src', logo).show();
    } else {
      $('.page-auth img.logo').hide();
    }
  },
  /**
   * Установка темы
   * @param {object} theme
   * @private
   */
  _setTheme: function _setTheme(theme) {
    var styles = [];
    if (_typeof(theme.login) === 'object' && typeof theme.login.bg_video === 'string' && theme.login.bg_video) {
      if (!$('.page.page-auth > video')[0]) {
        $('.page.page-auth').prepend('<video autoplay muted loop><source src="' + theme.login.bg_video + '" type="video/mp4"></video>');
      }
    }
    if (_typeof(theme.login) === 'object' && typeof theme.login.bg_img === 'string' && theme.login.bg_img) {
      styles.push('--login-bg:url("' + theme.login.bg_img + '");');
    } else if (_typeof(theme.login) === 'object' && typeof theme.login.bg_color === 'string' && theme.login.bg_color) {
      styles.push('--login-bg: ' + theme.login.bg_color + ';');
    }
    if (styles.length > 0) {
      var content = ':root{' + styles.join('') + '}';
      var coreTheme = $('head #theme-login');
      if (!coreTheme[0] || content !== coreTheme.html()) {
        if (coreTheme[0]) {
          coreTheme.remove();
        }
        $('head').append('<style id="theme-login">' + content + '</style>');
      }
    }
  }
};
$(function () {
  coreMain.on('hashchange', function () {
    if ($('.page-auth')[0]) {
      coreAuth.viewActualContainer();
    }
  });
});

(function (f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define([], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    g.ejs = f();
  }
})(function () {
  return function () {
    function r(e, n, t) {
      function o(i, f) {
        if (!n[i]) {
          if (!e[i]) {
            var c = "function" == typeof require && require;
            if (!f && c) return c(i, !0);
            if (u) return u(i, !0);
            var a = new Error("Cannot find module '" + i + "'");
            throw a.code = "MODULE_NOT_FOUND", a;
          }
          var p = n[i] = {
            exports: {}
          };
          e[i][0].call(p.exports, function (r) {
            var n = e[i][1][r];
            return o(n || r);
          }, p, p.exports, r, e, n, t);
        }
        return n[i].exports;
      }
      for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
      return o;
    }
    return r;
  }()({
    1: [function (require, module, exports) {
      "use strict";

      var fs = require("fs");
      var path = require("path");
      var utils = require("./utils");
      var scopeOptionWarned = false;
      var _VERSION_STRING = require("../package.json").version;
      var _DEFAULT_OPEN_DELIMITER = "<";
      var _DEFAULT_CLOSE_DELIMITER = ">";
      var _DEFAULT_DELIMITER = "%";
      var _DEFAULT_LOCALS_NAME = "locals";
      var _NAME = "ejs";
      var _REGEX_STRING = "(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";
      var _OPTS_PASSABLE_WITH_DATA = ["delimiter", "scope", "context", "debug", "compileDebug", "client", "_with", "rmWhitespace", "strict", "filename", "async"];
      var _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat("cache");
      var _BOM = /^\uFEFF/;
      var _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;
      exports.cache = utils.cache;
      exports.fileLoader = fs.readFileSync;
      exports.localsName = _DEFAULT_LOCALS_NAME;
      exports.promiseImpl = new Function("return this;")().Promise;
      exports.resolveInclude = function (name, filename, isDir) {
        var dirname = path.dirname;
        var extname = path.extname;
        var resolve = path.resolve;
        var includePath = resolve(isDir ? filename : dirname(filename), name);
        var ext = extname(name);
        if (!ext) {
          includePath += ".ejs";
        }
        return includePath;
      };
      function resolvePaths(name, paths) {
        var filePath;
        if (paths.some(function (v) {
          filePath = exports.resolveInclude(name, v, true);
          return fs.existsSync(filePath);
        })) {
          return filePath;
        }
      }
      function getIncludePath(path, options) {
        var includePath;
        var filePath;
        var views = options.views;
        var match = /^[A-Za-z]+:\\|^\//.exec(path);
        if (match && match.length) {
          path = path.replace(/^\/*/, "");
          if (Array.isArray(options.root)) {
            includePath = resolvePaths(path, options.root);
          } else {
            includePath = exports.resolveInclude(path, options.root || "/", true);
          }
        } else {
          if (options.filename) {
            filePath = exports.resolveInclude(path, options.filename);
            if (fs.existsSync(filePath)) {
              includePath = filePath;
            }
          }
          if (!includePath && Array.isArray(views)) {
            includePath = resolvePaths(path, views);
          }
          if (!includePath && typeof options.includer !== "function") {
            throw new Error('Could not find the include file "' + options.escapeFunction(path) + '"');
          }
        }
        return includePath;
      }
      function handleCache(options, template) {
        var func;
        var filename = options.filename;
        var hasTemplate = arguments.length > 1;
        if (options.cache) {
          if (!filename) {
            throw new Error("cache option requires a filename");
          }
          func = exports.cache.get(filename);
          if (func) {
            return func;
          }
          if (!hasTemplate) {
            template = fileLoader(filename).toString().replace(_BOM, "");
          }
        } else if (!hasTemplate) {
          if (!filename) {
            throw new Error("Internal EJS error: no file name or template " + "provided");
          }
          template = fileLoader(filename).toString().replace(_BOM, "");
        }
        func = exports.compile(template, options);
        if (options.cache) {
          exports.cache.set(filename, func);
        }
        return func;
      }
      function tryHandleCache(options, data, cb) {
        var result;
        if (!cb) {
          if (typeof exports.promiseImpl == "function") {
            return new exports.promiseImpl(function (resolve, reject) {
              try {
                result = handleCache(options)(data);
                resolve(result);
              } catch (err) {
                reject(err);
              }
            });
          } else {
            throw new Error("Please provide a callback function");
          }
        } else {
          try {
            result = handleCache(options)(data);
          } catch (err) {
            return cb(err);
          }
          cb(null, result);
        }
      }
      function fileLoader(filePath) {
        return exports.fileLoader(filePath);
      }
      function includeFile(path, options) {
        var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);
        opts.filename = getIncludePath(path, opts);
        if (typeof options.includer === "function") {
          var includerResult = options.includer(path, opts.filename);
          if (includerResult) {
            if (includerResult.filename) {
              opts.filename = includerResult.filename;
            }
            if (includerResult.template) {
              return handleCache(opts, includerResult.template);
            }
          }
        }
        return handleCache(opts);
      }
      function rethrow(err, str, flnm, lineno, esc) {
        var lines = str.split("\n");
        var start = Math.max(lineno - 3, 0);
        var end = Math.min(lines.length, lineno + 3);
        var filename = esc(flnm);
        var context = lines.slice(start, end).map(function (line, i) {
          var curr = i + start + 1;
          return (curr == lineno ? " >> " : "    ") + curr + "| " + line;
        }).join("\n");
        err.path = filename;
        err.message = (filename || "ejs") + ":" + lineno + "\n" + context + "\n\n" + err.message;
        throw err;
      }
      function stripSemi(str) {
        return str.replace(/;(\s*$)/, "$1");
      }
      exports.compile = function compile(template, opts) {
        var templ;
        if (opts && opts.scope) {
          if (!scopeOptionWarned) {
            console.warn("`scope` option is deprecated and will be removed in EJS 3");
            scopeOptionWarned = true;
          }
          if (!opts.context) {
            opts.context = opts.scope;
          }
          delete opts.scope;
        }
        templ = new Template(template, opts);
        return templ.compile();
      };
      exports.render = function (template, d, o) {
        var data = d || utils.createNullProtoObjWherePossible();
        var opts = o || utils.createNullProtoObjWherePossible();
        if (arguments.length == 2) {
          utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);
        }
        return handleCache(opts, template)(data);
      };
      exports.renderFile = function () {
        var args = Array.prototype.slice.call(arguments);
        var filename = args.shift();
        var cb;
        var opts = {
          filename: filename
        };
        var data;
        var viewOpts;
        if (typeof arguments[arguments.length - 1] == "function") {
          cb = args.pop();
        }
        if (args.length) {
          data = args.shift();
          if (args.length) {
            utils.shallowCopy(opts, args.pop());
          } else {
            if (data.settings) {
              if (data.settings.views) {
                opts.views = data.settings.views;
              }
              if (data.settings["view cache"]) {
                opts.cache = true;
              }
              viewOpts = data.settings["view options"];
              if (viewOpts) {
                utils.shallowCopy(opts, viewOpts);
              }
            }
            utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);
          }
          opts.filename = filename;
        } else {
          data = utils.createNullProtoObjWherePossible();
        }
        return tryHandleCache(opts, data, cb);
      };
      exports.Template = Template;
      exports.clearCache = function () {
        exports.cache.reset();
      };
      function Template(text, opts) {
        opts = opts || utils.createNullProtoObjWherePossible();
        var options = utils.createNullProtoObjWherePossible();
        this.templateText = text;
        this.mode = null;
        this.truncate = false;
        this.currentLine = 1;
        this.source = "";
        options.client = opts.client || false;
        options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;
        options.compileDebug = opts.compileDebug !== false;
        options.debug = !!opts.debug;
        options.filename = opts.filename;
        options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;
        options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;
        options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;
        options.strict = opts.strict || false;
        options.context = opts.context;
        options.cache = opts.cache || false;
        options.rmWhitespace = opts.rmWhitespace;
        options.root = opts.root;
        options.includer = opts.includer;
        options.outputFunctionName = opts.outputFunctionName;
        options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;
        options.views = opts.views;
        options.async = opts.async;
        options.destructuredLocals = opts.destructuredLocals;
        options.legacyInclude = typeof opts.legacyInclude != "undefined" ? !!opts.legacyInclude : true;
        if (options.strict) {
          options._with = false;
        } else {
          options._with = typeof opts._with != "undefined" ? opts._with : true;
        }
        this.opts = options;
        this.regex = this.createRegex();
      }
      Template.modes = {
        EVAL: "eval",
        ESCAPED: "escaped",
        RAW: "raw",
        COMMENT: "comment",
        LITERAL: "literal"
      };
      Template.prototype = {
        createRegex: function () {
          var str = _REGEX_STRING;
          var delim = utils.escapeRegExpChars(this.opts.delimiter);
          var open = utils.escapeRegExpChars(this.opts.openDelimiter);
          var close = utils.escapeRegExpChars(this.opts.closeDelimiter);
          str = str.replace(/%/g, delim).replace(/</g, open).replace(/>/g, close);
          return new RegExp(str);
        },
        compile: function () {
          var src;
          var fn;
          var opts = this.opts;
          var prepended = "";
          var appended = "";
          var escapeFn = opts.escapeFunction;
          var ctor;
          var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : "undefined";
          if (!this.source) {
            this.generateSource();
            prepended += '  var __output = "";\n' + "  function __append(s) { if (s !== undefined && s !== null) __output += s }\n";
            if (opts.outputFunctionName) {
              if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {
                throw new Error("outputFunctionName is not a valid JS identifier.");
              }
              prepended += "  var " + opts.outputFunctionName + " = __append;" + "\n";
            }
            if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {
              throw new Error("localsName is not a valid JS identifier.");
            }
            if (opts.destructuredLocals && opts.destructuredLocals.length) {
              var destructuring = "  var __locals = (" + opts.localsName + " || {}),\n";
              for (var i = 0; i < opts.destructuredLocals.length; i++) {
                var name = opts.destructuredLocals[i];
                if (!_JS_IDENTIFIER.test(name)) {
                  throw new Error("destructuredLocals[" + i + "] is not a valid JS identifier.");
                }
                if (i > 0) {
                  destructuring += ",\n  ";
                }
                destructuring += name + " = __locals." + name;
              }
              prepended += destructuring + ";\n";
            }
            if (opts._with !== false) {
              prepended += "  with (" + opts.localsName + " || {}) {" + "\n";
              appended += "  }" + "\n";
            }
            appended += "  return __output;" + "\n";
            this.source = prepended + this.source + appended;
          }
          if (opts.compileDebug) {
            src = "var __line = 1" + "\n" + "  , __lines = " + JSON.stringify(this.templateText) + "\n" + "  , __filename = " + sanitizedFilename + ";" + "\n" + "try {" + "\n" + this.source + "} catch (e) {" + "\n" + "  rethrow(e, __lines, __filename, __line, escapeFn);" + "\n" + "}" + "\n";
          } else {
            src = this.source;
          }
          if (opts.client) {
            src = "escapeFn = escapeFn || " + escapeFn.toString() + ";" + "\n" + src;
            if (opts.compileDebug) {
              src = "rethrow = rethrow || " + rethrow.toString() + ";" + "\n" + src;
            }
          }
          if (opts.strict) {
            src = '"use strict";\n' + src;
          }
          if (opts.debug) {
            console.log(src);
          }
          if (opts.compileDebug && opts.filename) {
            src = src + "\n" + "//# sourceURL=" + sanitizedFilename + "\n";
          }
          try {
            if (opts.async) {
              try {
                ctor = new Function("return (async function(){}).constructor;")();
              } catch (e) {
                if (e instanceof SyntaxError) {
                  throw new Error("This environment does not support async/await");
                } else {
                  throw e;
                }
              }
            } else {
              ctor = Function;
            }
            fn = new ctor(opts.localsName + ", escapeFn, include, rethrow", src);
          } catch (e) {
            if (e instanceof SyntaxError) {
              if (opts.filename) {
                e.message += " in " + opts.filename;
              }
              e.message += " while compiling ejs\n\n";
              e.message += "If the above error is not helpful, you may want to try EJS-Lint:\n";
              e.message += "https://github.com/RyanZim/EJS-Lint";
              if (!opts.async) {
                e.message += "\n";
                e.message += "Or, if you meant to create an async function, pass `async: true` as an option.";
              }
            }
            throw e;
          }
          var returnedFn = opts.client ? fn : function anonymous(data) {
            var include = function (path, includeData) {
              var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);
              if (includeData) {
                d = utils.shallowCopy(d, includeData);
              }
              return includeFile(path, opts)(d);
            };
            return fn.apply(opts.context, [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);
          };
          if (opts.filename && typeof Object.defineProperty === "function") {
            var filename = opts.filename;
            var basename = path.basename(filename, path.extname(filename));
            try {
              Object.defineProperty(returnedFn, "name", {
                value: basename,
                writable: false,
                enumerable: false,
                configurable: true
              });
            } catch (e) {}
          }
          return returnedFn;
        },
        generateSource: function () {
          var opts = this.opts;
          if (opts.rmWhitespace) {
            this.templateText = this.templateText.replace(/[\r\n]+/g, "\n").replace(/^\s+|\s+$/gm, "");
          }
          this.templateText = this.templateText.replace(/[ \t]*<%_/gm, "<%_").replace(/_%>[ \t]*/gm, "_%>");
          var self = this;
          var matches = this.parseTemplateText();
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          if (matches && matches.length) {
            matches.forEach(function (line, index) {
              var closing;
              if (line.indexOf(o + d) === 0 && line.indexOf(o + d + d) !== 0) {
                closing = matches[index + 2];
                if (!(closing == d + c || closing == "-" + d + c || closing == "_" + d + c)) {
                  throw new Error('Could not find matching close tag for "' + line + '".');
                }
              }
              self.scanLine(line);
            });
          }
        },
        parseTemplateText: function () {
          var str = this.templateText;
          var pat = this.regex;
          var result = pat.exec(str);
          var arr = [];
          var firstPos;
          while (result) {
            firstPos = result.index;
            if (firstPos !== 0) {
              arr.push(str.substring(0, firstPos));
              str = str.slice(firstPos);
            }
            arr.push(result[0]);
            str = str.slice(result[0].length);
            result = pat.exec(str);
          }
          if (str) {
            arr.push(str);
          }
          return arr;
        },
        _addOutput: function (line) {
          if (this.truncate) {
            line = line.replace(/^(?:\r\n|\r|\n)/, "");
            this.truncate = false;
          }
          if (!line) {
            return line;
          }
          line = line.replace(/\\/g, "\\\\");
          line = line.replace(/\n/g, "\\n");
          line = line.replace(/\r/g, "\\r");
          line = line.replace(/"/g, '\\"');
          this.source += '    ; __append("' + line + '")' + "\n";
        },
        scanLine: function (line) {
          var self = this;
          var d = this.opts.delimiter;
          var o = this.opts.openDelimiter;
          var c = this.opts.closeDelimiter;
          var newLineCount = 0;
          newLineCount = line.split("\n").length - 1;
          switch (line) {
            case o + d:
            case o + d + "_":
              this.mode = Template.modes.EVAL;
              break;
            case o + d + "=":
              this.mode = Template.modes.ESCAPED;
              break;
            case o + d + "-":
              this.mode = Template.modes.RAW;
              break;
            case o + d + "#":
              this.mode = Template.modes.COMMENT;
              break;
            case o + d + d:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(o + d + d, o + d) + '")' + "\n";
              break;
            case d + d + c:
              this.mode = Template.modes.LITERAL;
              this.source += '    ; __append("' + line.replace(d + d + c, d + c) + '")' + "\n";
              break;
            case d + c:
            case "-" + d + c:
            case "_" + d + c:
              if (this.mode == Template.modes.LITERAL) {
                this._addOutput(line);
              }
              this.mode = null;
              this.truncate = line.indexOf("-") === 0 || line.indexOf("_") === 0;
              break;
            default:
              if (this.mode) {
                switch (this.mode) {
                  case Template.modes.EVAL:
                  case Template.modes.ESCAPED:
                  case Template.modes.RAW:
                    if (line.lastIndexOf("//") > line.lastIndexOf("\n")) {
                      line += "\n";
                    }
                }
                switch (this.mode) {
                  case Template.modes.EVAL:
                    this.source += "    ; " + line + "\n";
                    break;
                  case Template.modes.ESCAPED:
                    this.source += "    ; __append(escapeFn(" + stripSemi(line) + "))" + "\n";
                    break;
                  case Template.modes.RAW:
                    this.source += "    ; __append(" + stripSemi(line) + ")" + "\n";
                    break;
                  case Template.modes.COMMENT:
                    break;
                  case Template.modes.LITERAL:
                    this._addOutput(line);
                    break;
                }
              } else {
                this._addOutput(line);
              }
          }
          if (self.opts.compileDebug && newLineCount) {
            this.currentLine += newLineCount;
            this.source += "    ; __line = " + this.currentLine + "\n";
          }
        }
      };
      exports.escapeXML = utils.escapeXML;
      exports.__express = exports.renderFile;
      exports.VERSION = _VERSION_STRING;
      exports.name = _NAME;
      if (typeof window != "undefined") {
        window.ejs = exports;
      }
    }, {
      "../package.json": 6,
      "./utils": 2,
      fs: 3,
      path: 4
    }],
    2: [function (require, module, exports) {
      "use strict";

      var regExpChars = /[|\\{}()[\]^$+*?.]/g;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var hasOwn = function (obj, key) {
        return hasOwnProperty.apply(obj, [key]);
      };
      exports.escapeRegExpChars = function (string) {
        if (!string) {
          return "";
        }
        return String(string).replace(regExpChars, "\\$&");
      };
      var _ENCODE_HTML_RULES = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&#34;",
        "'": "&#39;"
      };
      var _MATCH_HTML = /[&<>'"]/g;
      function encode_char(c) {
        return _ENCODE_HTML_RULES[c] || c;
      }
      var escapeFuncStr = "var _ENCODE_HTML_RULES = {\n" + '      "&": "&amp;"\n' + '    , "<": "&lt;"\n' + '    , ">": "&gt;"\n' + '    , \'"\': "&#34;"\n' + '    , "\'": "&#39;"\n' + "    }\n" + "  , _MATCH_HTML = /[&<>'\"]/g;\n" + "function encode_char(c) {\n" + "  return _ENCODE_HTML_RULES[c] || c;\n" + "};\n";
      exports.escapeXML = function (markup) {
        return markup == undefined ? "" : String(markup).replace(_MATCH_HTML, encode_char);
      };
      function escapeXMLToString() {
        return Function.prototype.toString.call(this) + ";\n" + escapeFuncStr;
      }
      try {
        if (typeof Object.defineProperty === "function") {
          Object.defineProperty(exports.escapeXML, "toString", {
            value: escapeXMLToString
          });
        } else {
          exports.escapeXML.toString = escapeXMLToString;
        }
      } catch (err) {
        console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)");
      }
      exports.shallowCopy = function (to, from) {
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var p in from) {
            if (!hasOwn(from, p)) {
              continue;
            }
            if (p === "__proto__" || p === "constructor") {
              continue;
            }
            to[p] = from[p];
          }
        }
        return to;
      };
      exports.shallowCopyFromList = function (to, from, list) {
        list = list || [];
        from = from || {};
        if (to !== null && to !== undefined) {
          for (var i = 0; i < list.length; i++) {
            var p = list[i];
            if (typeof from[p] != "undefined") {
              if (!hasOwn(from, p)) {
                continue;
              }
              if (p === "__proto__" || p === "constructor") {
                continue;
              }
              to[p] = from[p];
            }
          }
        }
        return to;
      };
      exports.cache = {
        _data: {},
        set: function (key, val) {
          this._data[key] = val;
        },
        get: function (key) {
          return this._data[key];
        },
        remove: function (key) {
          delete this._data[key];
        },
        reset: function () {
          this._data = {};
        }
      };
      exports.hyphenToCamel = function (str) {
        return str.replace(/-[a-z]/g, function (match) {
          return match[1].toUpperCase();
        });
      };
      exports.createNullProtoObjWherePossible = function () {
        if (typeof Object.create == "function") {
          return function () {
            return Object.create(null);
          };
        }
        if (!({
          __proto__: null
        } instanceof Object)) {
          return function () {
            return {
              __proto__: null
            };
          };
        }
        return function () {
          return {};
        };
      }();
    }, {}],
    3: [function (require, module, exports) {}, {}],
    4: [function (require, module, exports) {
      (function (process) {
        function normalizeArray(parts, allowAboveRoot) {
          var up = 0;
          for (var i = parts.length - 1; i >= 0; i--) {
            var last = parts[i];
            if (last === ".") {
              parts.splice(i, 1);
            } else if (last === "..") {
              parts.splice(i, 1);
              up++;
            } else if (up) {
              parts.splice(i, 1);
              up--;
            }
          }
          if (allowAboveRoot) {
            for (; up--; up) {
              parts.unshift("..");
            }
          }
          return parts;
        }
        exports.resolve = function () {
          var resolvedPath = "",
            resolvedAbsolute = false;
          for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
            var path = i >= 0 ? arguments[i] : process.cwd();
            if (typeof path !== "string") {
              throw new TypeError("Arguments to path.resolve must be strings");
            } else if (!path) {
              continue;
            }
            resolvedPath = path + "/" + resolvedPath;
            resolvedAbsolute = path.charAt(0) === "/";
          }
          resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function (p) {
            return !!p;
          }), !resolvedAbsolute).join("/");
          return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
        };
        exports.normalize = function (path) {
          var isAbsolute = exports.isAbsolute(path),
            trailingSlash = substr(path, -1) === "/";
          path = normalizeArray(filter(path.split("/"), function (p) {
            return !!p;
          }), !isAbsolute).join("/");
          if (!path && !isAbsolute) {
            path = ".";
          }
          if (path && trailingSlash) {
            path += "/";
          }
          return (isAbsolute ? "/" : "") + path;
        };
        exports.isAbsolute = function (path) {
          return path.charAt(0) === "/";
        };
        exports.join = function () {
          var paths = Array.prototype.slice.call(arguments, 0);
          return exports.normalize(filter(paths, function (p, index) {
            if (typeof p !== "string") {
              throw new TypeError("Arguments to path.join must be strings");
            }
            return p;
          }).join("/"));
        };
        exports.relative = function (from, to) {
          from = exports.resolve(from).substr(1);
          to = exports.resolve(to).substr(1);
          function trim(arr) {
            var start = 0;
            for (; start < arr.length; start++) {
              if (arr[start] !== "") break;
            }
            var end = arr.length - 1;
            for (; end >= 0; end--) {
              if (arr[end] !== "") break;
            }
            if (start > end) return [];
            return arr.slice(start, end - start + 1);
          }
          var fromParts = trim(from.split("/"));
          var toParts = trim(to.split("/"));
          var length = Math.min(fromParts.length, toParts.length);
          var samePartsLength = length;
          for (var i = 0; i < length; i++) {
            if (fromParts[i] !== toParts[i]) {
              samePartsLength = i;
              break;
            }
          }
          var outputParts = [];
          for (var i = samePartsLength; i < fromParts.length; i++) {
            outputParts.push("..");
          }
          outputParts = outputParts.concat(toParts.slice(samePartsLength));
          return outputParts.join("/");
        };
        exports.sep = "/";
        exports.delimiter = ":";
        exports.dirname = function (path) {
          if (typeof path !== "string") path = path + "";
          if (path.length === 0) return ".";
          var code = path.charCodeAt(0);
          var hasRoot = code === 47;
          var end = -1;
          var matchedSlash = true;
          for (var i = path.length - 1; i >= 1; --i) {
            code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                end = i;
                break;
              }
            } else {
              matchedSlash = false;
            }
          }
          if (end === -1) return hasRoot ? "/" : ".";
          if (hasRoot && end === 1) {
            return "/";
          }
          return path.slice(0, end);
        };
        function basename(path) {
          if (typeof path !== "string") path = path + "";
          var start = 0;
          var end = -1;
          var matchedSlash = true;
          var i;
          for (i = path.length - 1; i >= 0; --i) {
            if (path.charCodeAt(i) === 47) {
              if (!matchedSlash) {
                start = i + 1;
                break;
              }
            } else if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
          }
          if (end === -1) return "";
          return path.slice(start, end);
        }
        exports.basename = function (path, ext) {
          var f = basename(path);
          if (ext && f.substr(-1 * ext.length) === ext) {
            f = f.substr(0, f.length - ext.length);
          }
          return f;
        };
        exports.extname = function (path) {
          if (typeof path !== "string") path = path + "";
          var startDot = -1;
          var startPart = 0;
          var end = -1;
          var matchedSlash = true;
          var preDotState = 0;
          for (var i = path.length - 1; i >= 0; --i) {
            var code = path.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                startPart = i + 1;
                break;
              }
              continue;
            }
            if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
            if (code === 46) {
              if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
            } else if (startDot !== -1) {
              preDotState = -1;
            }
          }
          if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
            return "";
          }
          return path.slice(startDot, end);
        };
        function filter(xs, f) {
          if (xs.filter) return xs.filter(f);
          var res = [];
          for (var i = 0; i < xs.length; i++) {
            if (f(xs[i], i, xs)) res.push(xs[i]);
          }
          return res;
        }
        var substr = "ab".substr(-1) === "b" ? function (str, start, len) {
          return str.substr(start, len);
        } : function (str, start, len) {
          if (start < 0) start = str.length + start;
          return str.substr(start, len);
        };
      }).call(this, require("_process"));
    }, {
      _process: 5
    }],
    5: [function (require, module, exports) {
      var process = module.exports = {};
      var cachedSetTimeout;
      var cachedClearTimeout;
      function defaultSetTimout() {
        throw new Error("setTimeout has not been defined");
      }
      function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined");
      }
      (function () {
        try {
          if (typeof setTimeout === "function") {
            cachedSetTimeout = setTimeout;
          } else {
            cachedSetTimeout = defaultSetTimout;
          }
        } catch (e) {
          cachedSetTimeout = defaultSetTimout;
        }
        try {
          if (typeof clearTimeout === "function") {
            cachedClearTimeout = clearTimeout;
          } else {
            cachedClearTimeout = defaultClearTimeout;
          }
        } catch (e) {
          cachedClearTimeout = defaultClearTimeout;
        }
      })();
      function runTimeout(fun) {
        if (cachedSetTimeout === setTimeout) {
          return setTimeout(fun, 0);
        }
        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
          cachedSetTimeout = setTimeout;
          return setTimeout(fun, 0);
        }
        try {
          return cachedSetTimeout(fun, 0);
        } catch (e) {
          try {
            return cachedSetTimeout.call(null, fun, 0);
          } catch (e) {
            return cachedSetTimeout.call(this, fun, 0);
          }
        }
      }
      function runClearTimeout(marker) {
        if (cachedClearTimeout === clearTimeout) {
          return clearTimeout(marker);
        }
        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
          cachedClearTimeout = clearTimeout;
          return clearTimeout(marker);
        }
        try {
          return cachedClearTimeout(marker);
        } catch (e) {
          try {
            return cachedClearTimeout.call(null, marker);
          } catch (e) {
            return cachedClearTimeout.call(this, marker);
          }
        }
      }
      var queue = [];
      var draining = false;
      var currentQueue;
      var queueIndex = -1;
      function cleanUpNextTick() {
        if (!draining || !currentQueue) {
          return;
        }
        draining = false;
        if (currentQueue.length) {
          queue = currentQueue.concat(queue);
        } else {
          queueIndex = -1;
        }
        if (queue.length) {
          drainQueue();
        }
      }
      function drainQueue() {
        if (draining) {
          return;
        }
        var timeout = runTimeout(cleanUpNextTick);
        draining = true;
        var len = queue.length;
        while (len) {
          currentQueue = queue;
          queue = [];
          while (++queueIndex < len) {
            if (currentQueue) {
              currentQueue[queueIndex].run();
            }
          }
          queueIndex = -1;
          len = queue.length;
        }
        currentQueue = null;
        draining = false;
        runClearTimeout(timeout);
      }
      process.nextTick = function (fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
          for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
          }
        }
        queue.push(new Item(fun, args));
        if (queue.length === 1 && !draining) {
          runTimeout(drainQueue);
        }
      };
      function Item(fun, array) {
        this.fun = fun;
        this.array = array;
      }
      Item.prototype.run = function () {
        this.fun.apply(null, this.array);
      };
      process.title = "browser";
      process.browser = true;
      process.env = {};
      process.argv = [];
      process.version = "";
      process.versions = {};
      function noop() {}
      process.on = noop;
      process.addListener = noop;
      process.once = noop;
      process.off = noop;
      process.removeListener = noop;
      process.removeAllListeners = noop;
      process.emit = noop;
      process.prependListener = noop;
      process.prependOnceListener = noop;
      process.listeners = function (name) {
        return [];
      };
      process.binding = function (name) {
        throw new Error("process.binding is not supported");
      };
      process.cwd = function () {
        return "/";
      };
      process.chdir = function (dir) {
        throw new Error("process.chdir is not supported");
      };
      process.umask = function () {
        return 0;
      };
    }, {}],
    6: [function (require, module, exports) {
      module.exports = {
        name: "ejs",
        description: "Embedded JavaScript templates",
        keywords: ["template", "engine", "ejs"],
        version: "3.1.8",
        author: "Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",
        license: "Apache-2.0",
        bin: {
          ejs: "./bin/cli.js"
        },
        main: "./lib/ejs.js",
        jsdelivr: "ejs.min.js",
        unpkg: "ejs.min.js",
        repository: {
          type: "git",
          url: "git://github.com/mde/ejs.git"
        },
        bugs: "https://github.com/mde/ejs/issues",
        homepage: "https://github.com/mde/ejs",
        dependencies: {
          jake: "^10.8.5"
        },
        devDependencies: {
          browserify: "^16.5.1",
          eslint: "^6.8.0",
          "git-directory-deploy": "^1.5.1",
          jsdoc: "^4.0.2",
          "lru-cache": "^4.0.1",
          mocha: "^10.2.0",
          "uglify-js": "^3.3.16"
        },
        engines: {
          node: ">=0.10.0"
        },
        scripts: {
          test: "mocha -u tdd"
        }
      };
    }, {}]
  }, {}, [1])(1);
});

!function (t, e) {
  "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define("@material/linear-progress", [], e) : "object" == typeof exports ? exports["linear-progress"] = e() : (t.mdc = t.mdc || {}, t.mdc["linear-progress"] = e());
}(window, function () {
  return n = {}, o.m = r = {
    0: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCFoundation = void 0;
      var n = (Object.defineProperty(o, "cssClasses", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(o, "strings", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(o, "numbers", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(o, "defaultAdapter", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), o.prototype.init = function () {}, o.prototype.destroy = function () {}, o);
      function o(t) {
        void 0 === t && (t = {}), this.adapter = t;
      }
      e.MDCFoundation = n, e.default = n;
    },
    1: function (t, e, r) {
      "use strict";

      var o = this && this.__read || function (t, e) {
          var r = "function" == typeof Symbol && t[Symbol.iterator];
          if (!r) return t;
          var n,
            o,
            i = r.call(t),
            s = [];
          try {
            for (; (void 0 === e || 0 < e--) && !(n = i.next()).done;) s.push(n.value);
          } catch (t) {
            o = {
              error: t
            };
          } finally {
            try {
              n && !n.done && (r = i.return) && r.call(i);
            } finally {
              if (o) throw o.error;
            }
          }
          return s;
        },
        i = this && this.__spreadArray || function (t, e) {
          for (var r = 0, n = e.length, o = t.length; r < n; r++, o++) t[o] = e[r];
          return t;
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCComponent = void 0;
      var n = r(0),
        s = (a.attachTo = function (t) {
          return new a(t, new n.MDCFoundation({}));
        }, a.prototype.initialize = function () {
          for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        }, a.prototype.getDefaultFoundation = function () {
          throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");
        }, a.prototype.initialSyncWithDOM = function () {}, a.prototype.destroy = function () {
          this.foundation.destroy();
        }, a.prototype.listen = function (t, e, r) {
          this.root.addEventListener(t, e, r);
        }, a.prototype.unlisten = function (t, e, r) {
          this.root.removeEventListener(t, e, r);
        }, a.prototype.emit = function (t, e, r) {
          var n;
          void 0 === r && (r = !1), "function" == typeof CustomEvent ? n = new CustomEvent(t, {
            bubbles: r,
            detail: e
          }) : (n = document.createEvent("CustomEvent")).initCustomEvent(t, r, !1, e), this.root.dispatchEvent(n);
        }, a);
      function a(t, e) {
        for (var r = [], n = 2; n < arguments.length; n++) r[n - 2] = arguments[n];
        this.root = t, this.initialize.apply(this, i([], o(r))), this.foundation = void 0 === e ? this.getDefaultFoundation() : e, this.foundation.init(), this.initialSyncWithDOM();
      }
      e.MDCComponent = s, e.default = s;
    },
    10: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.getCorrectEventName = e.getCorrectPropertyName = void 0;
      var s = {
          animation: {
            prefixed: "-webkit-animation",
            standard: "animation"
          },
          transform: {
            prefixed: "-webkit-transform",
            standard: "transform"
          },
          transition: {
            prefixed: "-webkit-transition",
            standard: "transition"
          }
        },
        a = {
          animationend: {
            cssProperty: "animation",
            prefixed: "webkitAnimationEnd",
            standard: "animationend"
          },
          animationiteration: {
            cssProperty: "animation",
            prefixed: "webkitAnimationIteration",
            standard: "animationiteration"
          },
          animationstart: {
            cssProperty: "animation",
            prefixed: "webkitAnimationStart",
            standard: "animationstart"
          },
          transitionend: {
            cssProperty: "transition",
            prefixed: "webkitTransitionEnd",
            standard: "transitionend"
          }
        };
      function u(t) {
        return Boolean(t.document) && "function" == typeof t.document.createElement;
      }
      e.getCorrectPropertyName = function (t, e) {
        if (u(t) && e in s) {
          var r = t.document.createElement("div"),
            n = s[e],
            o = n.standard,
            i = n.prefixed;
          return o in r.style ? o : i;
        }
        return e;
      }, e.getCorrectEventName = function (t, e) {
        if (u(t) && e in a) {
          var r = t.document.createElement("div"),
            n = a[e],
            o = n.standard,
            i = n.prefixed;
          return n.cssProperty in r.style ? o : i;
        }
        return e;
      };
    },
    197: function (t, e, r) {
      "use strict";

      var n = this && this.__createBinding || (Object.create ? function (t, e, r, n) {
          void 0 === n && (n = r), Object.defineProperty(t, n, {
            enumerable: !0,
            get: function () {
              return e[r];
            }
          });
        } : function (t, e, r, n) {
          void 0 === n && (n = r), t[n] = e[r];
        }),
        o = this && this.__exportStar || function (t, e) {
          for (var r in t) "default" === r || Object.prototype.hasOwnProperty.call(e, r) || n(e, t, r);
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), o(r(198), e), o(r(57), e), o(r(46), e), o(r(45), e), o(r(199), e);
    },
    198: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      });
    },
    199: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      });
    },
    45: function (t, e, r) {
      "use strict";

      var n,
        o = this && this.__extends || (n = function (t, e) {
          return (n = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function (t, e) {
            t.__proto__ = e;
          } || function (t, e) {
            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
          })(t, e);
        }, function (t, e) {
          if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          function r() {
            this.constructor = t;
          }
          n(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());
        }),
        i = this && this.__assign || function () {
          return (i = Object.assign || function (t) {
            for (var e, r = 1, n = arguments.length; r < n; r++) for (var o in e = arguments[r]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t;
          }).apply(this, arguments);
        },
        a = this && this.__values || function (t) {
          var e = "function" == typeof Symbol && Symbol.iterator,
            r = e && t[e],
            n = 0;
          if (r) return r.call(t);
          if (t && "number" == typeof t.length) return {
            next: function () {
              return t && n >= t.length && (t = void 0), {
                value: t && t[n++],
                done: !t
              };
            }
          };
          throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.");
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCLinearProgressFoundation = void 0;
      var s,
        u = r(10),
        c = r(0),
        f = r(46),
        l = (s = c.MDCFoundation, o(d, s), Object.defineProperty(d, "cssClasses", {
          get: function () {
            return f.cssClasses;
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(d, "strings", {
          get: function () {
            return f.strings;
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(d, "defaultAdapter", {
          get: function () {
            return {
              addClass: function () {},
              attachResizeObserver: function () {
                return null;
              },
              forceLayout: function () {},
              getWidth: function () {
                return 0;
              },
              hasClass: function () {
                return !1;
              },
              setBufferBarStyle: function () {
                return null;
              },
              setPrimaryBarStyle: function () {
                return null;
              },
              setStyle: function () {},
              removeAttribute: function () {},
              removeClass: function () {},
              setAttribute: function () {}
            };
          },
          enumerable: !1,
          configurable: !0
        }), d.prototype.init = function () {
          var s = this;
          this.determinate = !this.adapter.hasClass(f.cssClasses.INDETERMINATE_CLASS), this.adapter.addClass(f.cssClasses.ANIMATION_READY_CLASS), this.progress = 0, this.buffer = 1, this.observer = this.adapter.attachResizeObserver(function (t) {
            var e, r;
            if (!s.determinate) try {
              for (var n = a(t), o = n.next(); !o.done; o = n.next()) {
                var i = o.value;
                i.contentRect && s.calculateAndSetDimensions(i.contentRect.width);
              }
            } catch (t) {
              e = {
                error: t
              };
            } finally {
              try {
                o && !o.done && (r = n.return) && r.call(n);
              } finally {
                if (e) throw e.error;
              }
            }
          }), !this.determinate && this.observer && this.calculateAndSetDimensions(this.adapter.getWidth());
        }, d.prototype.setDeterminate = function (t) {
          if (this.determinate = t, this.determinate) return this.adapter.removeClass(f.cssClasses.INDETERMINATE_CLASS), this.adapter.setAttribute(f.strings.ARIA_VALUENOW, this.progress.toString()), this.adapter.setAttribute(f.strings.ARIA_VALUEMAX, "1"), this.adapter.setAttribute(f.strings.ARIA_VALUEMIN, "0"), this.setPrimaryBarProgress(this.progress), void this.setBufferBarProgress(this.buffer);
          this.observer && this.calculateAndSetDimensions(this.adapter.getWidth()), this.adapter.addClass(f.cssClasses.INDETERMINATE_CLASS), this.adapter.removeAttribute(f.strings.ARIA_VALUENOW), this.adapter.removeAttribute(f.strings.ARIA_VALUEMAX), this.adapter.removeAttribute(f.strings.ARIA_VALUEMIN), this.setPrimaryBarProgress(1), this.setBufferBarProgress(1);
        }, d.prototype.isDeterminate = function () {
          return this.determinate;
        }, d.prototype.setProgress = function (t) {
          this.progress = t, this.determinate && (this.setPrimaryBarProgress(t), this.adapter.setAttribute(f.strings.ARIA_VALUENOW, t.toString()));
        }, d.prototype.getProgress = function () {
          return this.progress;
        }, d.prototype.setBuffer = function (t) {
          this.buffer = t, this.determinate && this.setBufferBarProgress(t);
        }, d.prototype.getBuffer = function () {
          return this.buffer;
        }, d.prototype.open = function () {
          this.adapter.removeClass(f.cssClasses.CLOSED_CLASS), this.adapter.removeClass(f.cssClasses.CLOSED_ANIMATION_OFF_CLASS), this.adapter.removeAttribute(f.strings.ARIA_HIDDEN);
        }, d.prototype.close = function () {
          this.adapter.addClass(f.cssClasses.CLOSED_CLASS), this.adapter.setAttribute(f.strings.ARIA_HIDDEN, "true");
        }, d.prototype.isClosed = function () {
          return this.adapter.hasClass(f.cssClasses.CLOSED_CLASS);
        }, d.prototype.handleTransitionEnd = function () {
          this.adapter.hasClass(f.cssClasses.CLOSED_CLASS) && this.adapter.addClass(f.cssClasses.CLOSED_ANIMATION_OFF_CLASS);
        }, d.prototype.destroy = function () {
          s.prototype.destroy.call(this), this.observer && this.observer.disconnect();
        }, d.prototype.restartAnimation = function () {
          this.adapter.removeClass(f.cssClasses.ANIMATION_READY_CLASS), this.adapter.forceLayout(), this.adapter.addClass(f.cssClasses.ANIMATION_READY_CLASS);
        }, d.prototype.setPrimaryBarProgress = function (t) {
          var e = "scaleX(" + t + ")",
            r = "undefined" != typeof window ? u.getCorrectPropertyName(window, "transform") : "transform";
          this.adapter.setPrimaryBarStyle(r, e);
        }, d.prototype.setBufferBarProgress = function (t) {
          var e = 100 * t + "%";
          this.adapter.setBufferBarStyle(f.strings.FLEX_BASIS, e);
        }, d.prototype.calculateAndSetDimensions = function (t) {
          var e = t * f.animationDimensionPercentages.PRIMARY_HALF,
            r = t * f.animationDimensionPercentages.PRIMARY_FULL,
            n = t * f.animationDimensionPercentages.SECONDARY_QUARTER,
            o = t * f.animationDimensionPercentages.SECONDARY_HALF,
            i = t * f.animationDimensionPercentages.SECONDARY_FULL;
          this.adapter.setStyle("--mdc-linear-progress-primary-half", e + "px"), this.adapter.setStyle("--mdc-linear-progress-primary-half-neg", -e + "px"), this.adapter.setStyle("--mdc-linear-progress-primary-full", r + "px"), this.adapter.setStyle("--mdc-linear-progress-primary-full-neg", -r + "px"), this.adapter.setStyle("--mdc-linear-progress-secondary-quarter", n + "px"), this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg", -n + "px"), this.adapter.setStyle("--mdc-linear-progress-secondary-half", o + "px"), this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg", -o + "px"), this.adapter.setStyle("--mdc-linear-progress-secondary-full", i + "px"), this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg", -i + "px"), this.restartAnimation();
        }, d);
      function d(t) {
        var e = s.call(this, i(i({}, d.defaultAdapter), t)) || this;
        return e.observer = null, e;
      }
      e.MDCLinearProgressFoundation = l, e.default = l;
    },
    46: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.animationDimensionPercentages = e.strings = e.cssClasses = void 0, e.cssClasses = {
        CLOSED_CLASS: "mdc-linear-progress--closed",
        CLOSED_ANIMATION_OFF_CLASS: "mdc-linear-progress--closed-animation-off",
        INDETERMINATE_CLASS: "mdc-linear-progress--indeterminate",
        REVERSED_CLASS: "mdc-linear-progress--reversed",
        ANIMATION_READY_CLASS: "mdc-linear-progress--animation-ready"
      }, e.strings = {
        ARIA_HIDDEN: "aria-hidden",
        ARIA_VALUEMAX: "aria-valuemax",
        ARIA_VALUEMIN: "aria-valuemin",
        ARIA_VALUENOW: "aria-valuenow",
        BUFFER_BAR_SELECTOR: ".mdc-linear-progress__buffer-bar",
        FLEX_BASIS: "flex-basis",
        PRIMARY_BAR_SELECTOR: ".mdc-linear-progress__primary-bar"
      }, e.animationDimensionPercentages = {
        PRIMARY_HALF: .8367142,
        PRIMARY_FULL: 2.00611057,
        SECONDARY_QUARTER: .37651913,
        SECONDARY_HALF: .84386165,
        SECONDARY_FULL: 1.60277782
      };
    },
    57: function (t, e, r) {
      "use strict";

      var n,
        o = this && this.__extends || (n = function (t, e) {
          return (n = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function (t, e) {
            t.__proto__ = e;
          } || function (t, e) {
            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
          })(t, e);
        }, function (t, e) {
          if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          function r() {
            this.constructor = t;
          }
          n(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());
        });
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCLinearProgress = void 0;
      var i,
        s = r(1),
        a = r(45),
        u = (i = s.MDCComponent, o(c, i), c.attachTo = function (t) {
          return new c(t);
        }, Object.defineProperty(c.prototype, "determinate", {
          set: function (t) {
            this.foundation.setDeterminate(t);
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(c.prototype, "progress", {
          set: function (t) {
            this.foundation.setProgress(t);
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(c.prototype, "buffer", {
          set: function (t) {
            this.foundation.setBuffer(t);
          },
          enumerable: !1,
          configurable: !0
        }), c.prototype.open = function () {
          this.foundation.open();
        }, c.prototype.close = function () {
          this.foundation.close();
        }, c.prototype.initialSyncWithDOM = function () {
          var t = this;
          this.root.addEventListener("transitionend", function () {
            t.foundation.handleTransitionEnd();
          });
        }, c.prototype.getDefaultFoundation = function () {
          var n = this,
            t = {
              addClass: function (t) {
                n.root.classList.add(t);
              },
              forceLayout: function () {
                n.root.getBoundingClientRect();
              },
              setBufferBarStyle: function (t, e) {
                var r = n.root.querySelector(a.MDCLinearProgressFoundation.strings.BUFFER_BAR_SELECTOR);
                r && r.style.setProperty(t, e);
              },
              setPrimaryBarStyle: function (t, e) {
                var r = n.root.querySelector(a.MDCLinearProgressFoundation.strings.PRIMARY_BAR_SELECTOR);
                r && r.style.setProperty(t, e);
              },
              hasClass: function (t) {
                return n.root.classList.contains(t);
              },
              removeAttribute: function (t) {
                n.root.removeAttribute(t);
              },
              removeClass: function (t) {
                n.root.classList.remove(t);
              },
              setAttribute: function (t, e) {
                n.root.setAttribute(t, e);
              },
              setStyle: function (t, e) {
                n.root.style.setProperty(t, e);
              },
              attachResizeObserver: function (t) {
                var e = window.ResizeObserver;
                if (e) {
                  var r = new e(t);
                  return r.observe(n.root), r;
                }
                return null;
              },
              getWidth: function () {
                return n.root.offsetWidth;
              }
            };
          return new a.MDCLinearProgressFoundation(t);
        }, c);
      function c() {
        return null !== i && i.apply(this, arguments) || this;
      }
      e.MDCLinearProgress = u;
    }
  }, o.c = n, o.d = function (t, e, r) {
    o.o(t, e) || Object.defineProperty(t, e, {
      enumerable: !0,
      get: r
    });
  }, o.r = function (t) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(t, "__esModule", {
      value: !0
    });
  }, o.t = function (e, t) {
    if (1 & t && (e = o(e)), 8 & t) return e;
    if (4 & t && "object" == typeof e && e && e.__esModule) return e;
    var r = Object.create(null);
    if (o.r(r), Object.defineProperty(r, "default", {
      enumerable: !0,
      value: e
    }), 2 & t && "string" != typeof e) for (var n in e) o.d(r, n, function (t) {
      return e[t];
    }.bind(null, n));
    return r;
  }, o.n = function (t) {
    var e = t && t.__esModule ? function () {
      return t.default;
    } : function () {
      return t;
    };
    return o.d(e, "a", e), e;
  }, o.o = function (t, e) {
    return Object.prototype.hasOwnProperty.call(t, e);
  }, o.p = "", o(o.s = 197);
  function o(t) {
    if (n[t]) return n[t].exports;
    var e = n[t] = {
      i: t,
      l: !1,
      exports: {}
    };
    return r[t].call(e.exports, e, e.exports, o), e.l = !0, e.exports;
  }
  var r, n;
});

!function (t, e) {
  "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define("@material/circular-progress", [], e) : "object" == typeof exports ? exports["circular-progress"] = e() : (t.mdc = t.mdc || {}, t.mdc["circular-progress"] = e());
}(window, function () {
  return n = {}, o.m = r = {
    0: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCFoundation = void 0;
      var n = (Object.defineProperty(o, "cssClasses", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(o, "strings", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(o, "numbers", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), Object.defineProperty(o, "defaultAdapter", {
        get: function () {
          return {};
        },
        enumerable: !1,
        configurable: !0
      }), o.prototype.init = function () {}, o.prototype.destroy = function () {}, o);
      function o(t) {
        void 0 === t && (t = {}), this.adapter = t;
      }
      e.MDCFoundation = n, e.default = n;
    },
    1: function (t, e, r) {
      "use strict";

      var o = this && this.__read || function (t, e) {
          var r = "function" == typeof Symbol && t[Symbol.iterator];
          if (!r) return t;
          var n,
            o,
            i = r.call(t),
            s = [];
          try {
            for (; (void 0 === e || 0 < e--) && !(n = i.next()).done;) s.push(n.value);
          } catch (t) {
            o = {
              error: t
            };
          } finally {
            try {
              n && !n.done && (r = i.return) && r.call(i);
            } finally {
              if (o) throw o.error;
            }
          }
          return s;
        },
        i = this && this.__spreadArray || function (t, e) {
          for (var r = 0, n = e.length, o = t.length; r < n; r++, o++) t[o] = e[r];
          return t;
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCComponent = void 0;
      var n = r(0),
        s = (u.attachTo = function (t) {
          return new u(t, new n.MDCFoundation({}));
        }, u.prototype.initialize = function () {
          for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        }, u.prototype.getDefaultFoundation = function () {
          throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");
        }, u.prototype.initialSyncWithDOM = function () {}, u.prototype.destroy = function () {
          this.foundation.destroy();
        }, u.prototype.listen = function (t, e, r) {
          this.root.addEventListener(t, e, r);
        }, u.prototype.unlisten = function (t, e, r) {
          this.root.removeEventListener(t, e, r);
        }, u.prototype.emit = function (t, e, r) {
          var n;
          void 0 === r && (r = !1), "function" == typeof CustomEvent ? n = new CustomEvent(t, {
            bubbles: r,
            detail: e
          }) : (n = document.createEvent("CustomEvent")).initCustomEvent(t, r, !1, e), this.root.dispatchEvent(n);
        }, u);
      function u(t, e) {
        for (var r = [], n = 2; n < arguments.length; n++) r[n - 2] = arguments[n];
        this.root = t, this.initialize.apply(this, i([], o(r))), this.foundation = void 0 === e ? this.getDefaultFoundation() : e, this.foundation.init(), this.initialSyncWithDOM();
      }
      e.MDCComponent = s, e.default = s;
    },
    168: function (t, e, r) {
      "use strict";

      var n = this && this.__createBinding || (Object.create ? function (t, e, r, n) {
          void 0 === n && (n = r), Object.defineProperty(t, n, {
            enumerable: !0,
            get: function () {
              return e[r];
            }
          });
        } : function (t, e, r, n) {
          void 0 === n && (n = r), t[n] = e[r];
        }),
        o = this && this.__exportStar || function (t, e) {
          for (var r in t) "default" === r || Object.prototype.hasOwnProperty.call(e, r) || n(e, t, r);
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), o(r(169), e), o(r(170), e), o(r(90), e), o(r(89), e);
    },
    169: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      });
    },
    170: function (t, e, r) {
      "use strict";

      var n,
        o = this && this.__extends || (n = function (t, e) {
          return (n = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function (t, e) {
            t.__proto__ = e;
          } || function (t, e) {
            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
          })(t, e);
        }, function (t, e) {
          if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          function r() {
            this.constructor = t;
          }
          n(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());
        });
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCCircularProgress = void 0;
      var i,
        s = r(1),
        u = r(89),
        a = (i = s.MDCComponent, o(c, i), c.prototype.initialize = function () {
          this.determinateCircle = this.root.querySelector(u.MDCCircularProgressFoundation.strings.DETERMINATE_CIRCLE_SELECTOR);
        }, c.attachTo = function (t) {
          return new c(t);
        }, Object.defineProperty(c.prototype, "determinate", {
          set: function (t) {
            this.foundation.setDeterminate(t);
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(c.prototype, "progress", {
          set: function (t) {
            this.foundation.setProgress(t);
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(c.prototype, "isClosed", {
          get: function () {
            return this.foundation.isClosed();
          },
          enumerable: !1,
          configurable: !0
        }), c.prototype.open = function () {
          this.foundation.open();
        }, c.prototype.close = function () {
          this.foundation.close();
        }, c.prototype.getDefaultFoundation = function () {
          var r = this,
            t = {
              addClass: function (t) {
                r.root.classList.add(t);
              },
              getDeterminateCircleAttribute: function (t) {
                return r.determinateCircle.getAttribute(t);
              },
              hasClass: function (t) {
                return r.root.classList.contains(t);
              },
              removeClass: function (t) {
                r.root.classList.remove(t);
              },
              removeAttribute: function (t) {
                r.root.removeAttribute(t);
              },
              setAttribute: function (t, e) {
                r.root.setAttribute(t, e);
              },
              setDeterminateCircleAttribute: function (t, e) {
                r.determinateCircle.setAttribute(t, e);
              }
            };
          return new u.MDCCircularProgressFoundation(t);
        }, c);
      function c() {
        return null !== i && i.apply(this, arguments) || this;
      }
      e.MDCCircularProgress = a;
    },
    89: function (t, e, r) {
      "use strict";

      var n,
        o = this && this.__extends || (n = function (t, e) {
          return (n = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function (t, e) {
            t.__proto__ = e;
          } || function (t, e) {
            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
          })(t, e);
        }, function (t, e) {
          if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          function r() {
            this.constructor = t;
          }
          n(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());
        }),
        i = this && this.__assign || function () {
          return (i = Object.assign || function (t) {
            for (var e, r = 1, n = arguments.length; r < n; r++) for (var o in e = arguments[r]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t;
          }).apply(this, arguments);
        };
      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.MDCCircularProgressFoundation = void 0;
      var s,
        u = r(0),
        a = r(90),
        c = (s = u.MDCFoundation, o(l, s), Object.defineProperty(l, "cssClasses", {
          get: function () {
            return a.cssClasses;
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(l, "strings", {
          get: function () {
            return a.strings;
          },
          enumerable: !1,
          configurable: !0
        }), Object.defineProperty(l, "defaultAdapter", {
          get: function () {
            return {
              addClass: function () {},
              getDeterminateCircleAttribute: function () {
                return null;
              },
              hasClass: function () {
                return !1;
              },
              removeClass: function () {},
              removeAttribute: function () {},
              setAttribute: function () {},
              setDeterminateCircleAttribute: function () {}
            };
          },
          enumerable: !1,
          configurable: !0
        }), l.prototype.init = function () {
          this.closed = this.adapter.hasClass(a.cssClasses.CLOSED_CLASS), this.determinate = !this.adapter.hasClass(a.cssClasses.INDETERMINATE_CLASS), this.progress = 0, this.determinate && this.adapter.setAttribute(a.strings.ARIA_VALUENOW, this.progress.toString()), this.radius = Number(this.adapter.getDeterminateCircleAttribute(a.strings.RADIUS));
        }, l.prototype.setDeterminate = function (t) {
          this.determinate = t, this.determinate ? (this.adapter.removeClass(a.cssClasses.INDETERMINATE_CLASS), this.setProgress(this.progress)) : (this.adapter.addClass(a.cssClasses.INDETERMINATE_CLASS), this.adapter.removeAttribute(a.strings.ARIA_VALUENOW));
        }, l.prototype.isDeterminate = function () {
          return this.determinate;
        }, l.prototype.setProgress = function (t) {
          if (this.progress = t, this.determinate) {
            var e = (1 - this.progress) * (2 * Math.PI * this.radius);
            this.adapter.setDeterminateCircleAttribute(a.strings.STROKE_DASHOFFSET, "" + e), this.adapter.setAttribute(a.strings.ARIA_VALUENOW, this.progress.toString());
          }
        }, l.prototype.getProgress = function () {
          return this.progress;
        }, l.prototype.open = function () {
          this.closed = !1, this.adapter.removeClass(a.cssClasses.CLOSED_CLASS), this.adapter.removeAttribute(a.strings.ARIA_HIDDEN);
        }, l.prototype.close = function () {
          this.closed = !0, this.adapter.addClass(a.cssClasses.CLOSED_CLASS), this.adapter.setAttribute(a.strings.ARIA_HIDDEN, "true");
        }, l.prototype.isClosed = function () {
          return this.closed;
        }, l);
      function l(t) {
        return s.call(this, i(i({}, l.defaultAdapter), t)) || this;
      }
      e.MDCCircularProgressFoundation = c, e.default = c;
    },
    90: function (t, e, r) {
      "use strict";

      Object.defineProperty(e, "__esModule", {
        value: !0
      }), e.strings = e.cssClasses = void 0, e.cssClasses = {
        INDETERMINATE_CLASS: "mdc-circular-progress--indeterminate",
        CLOSED_CLASS: "mdc-circular-progress--closed"
      }, e.strings = {
        ARIA_HIDDEN: "aria-hidden",
        ARIA_VALUENOW: "aria-valuenow",
        DETERMINATE_CIRCLE_SELECTOR: ".mdc-circular-progress__determinate-circle",
        RADIUS: "r",
        STROKE_DASHOFFSET: "stroke-dashoffset"
      };
    }
  }, o.c = n, o.d = function (t, e, r) {
    o.o(t, e) || Object.defineProperty(t, e, {
      enumerable: !0,
      get: r
    });
  }, o.r = function (t) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(t, "__esModule", {
      value: !0
    });
  }, o.t = function (e, t) {
    if (1 & t && (e = o(e)), 8 & t) return e;
    if (4 & t && "object" == typeof e && e && e.__esModule) return e;
    var r = Object.create(null);
    if (o.r(r), Object.defineProperty(r, "default", {
      enumerable: !0,
      value: e
    }), 2 & t && "string" != typeof e) for (var n in e) o.d(r, n, function (t) {
      return e[t];
    }.bind(null, n));
    return r;
  }, o.n = function (t) {
    var e = t && t.__esModule ? function () {
      return t.default;
    } : function () {
      return t;
    };
    return o.d(e, "a", e), e;
  }, o.o = function (t, e) {
    return Object.prototype.hasOwnProperty.call(t, e);
  }, o.p = "", o(o.s = 168);
  function o(t) {
    if (n[t]) return n[t].exports;
    var e = n[t] = {
      i: t,
      l: !1,
      exports: {}
    };
    return r[t].call(e.exports, e, e.exports, o), e.l = !0, e.exports;
  }
  var r, n;
});

var coreMenu = {
  _user: null,
  _system: null,
  _modules: null,
  _events: {},
  /**
   * Получение страницы кабинета
   * @returns {*}
   */
  getPageContent: function getPageContent() {
    return coreTpl['menu/main.html'];
  },
  /**
   * Инициализация
   */
  init: function init() {
    // Нужно для первого открытия страницы
    if (window.screen.width > 600 && localStorage.getItem('core3_drawer_toggle') === '1') {
      $('.page-menu').addClass('drawer-toggle');
      $('.page-menu .menu-drawer').css('transition', 'none 0s ease 0s');
      $('.page-menu .mdc-top-app-bar').css('transition', 'none 0s ease 0s');
    }
    var conf = localStorage.getItem('core3_conf');
    if (typeof conf === 'string') {
      try {
        conf = JSON.parse(conf);
        if (_typeof(conf.theme) === 'object') {
          this._setTheme(conf.theme);
        }
      } catch (e) {}
    }
    coreMenu.preloader.show();

    // Инициализация кнопок
    var buttons = document.querySelectorAll('.page-menu .mdc-button');
    var _iterator = _createForOfIteratorHelper(buttons),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var button = _step.value;
        new mdc.ripple.MDCRipple(button);
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    coreMenu._initInstall();
    $('.page-menu .main-content .main-wrapper').html('');

    // Добавление токена при любом ajax запросе
    $(document).ajaxSend(function (event, jqxhr, settings) {
      if (settings.url.indexOf(settings.url) === 0) {
        var accessToken = coreTokens.getAccessToken();
        if (accessToken) {
          jqxhr.setRequestHeader('Access-Token', accessToken);
        }
      }
    });
    $.ajax({
      url: coreMain.options.basePath + '/cabinet',
      method: "GET",
      dataType: "json",
      success: function success(response) {
        if (_typeof(response.user) !== 'object' || typeof response.user.id !== 'number' || typeof response.user.login !== 'string' || typeof response.user.name !== 'string' || typeof response.user.avatar !== 'string' || _typeof(response.system) !== 'object' || typeof response.system.name !== 'string' || _typeof(response.modules) !== 'object') {
          console.warn(response);
          CoreUI.alert.danger('Ошибка', 'Попробуйте обновить страницу или обратитесь к администратору');
        } else {
          coreMenu._user = response.user;
          coreMenu._system = response.system;
          coreMenu._modules = response.modules;
          coreMenu._renderMenu();
          coreMenu._initComponents(response.system.conf);
          coreMenu.preloader.hide();
          var uri = location.hash.substring(1) !== '' && location.hash.substring(1) !== '/' ? '/mod' + location.hash.substring(1) : '/home';
          coreMenu.load(uri);
        }
      },
      error: function error(response) {
        if (response.status === 403) {
          coreTokens.clearAccessToken();
          coreMain.viewPage('auth');
        } else if (response.status === 0) {
          CoreUI.alert.danger('Ошибка', 'Проверьте подключение к интернету');
        } else {
          CoreUI.alert.danger('Ошибка', 'Обновите приложение или обратитесь к администратору');
        }
      }
    });
  },
  /**
   *
   */
  toggleFullscreen: function toggleFullscreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      }
    }
  },
  /**
   * Перезагрузка содержимого страницы
   */
  reload: function reload() {
    coreMenu.load('/mod' + location.hash.substring(1));
  },
  /**
   * Загрузка содержимого модуля
   * @param url
   */
  load: function load(url) {
    url = url || '/home';
    coreMenu.preloader.show();
    $.ajax({
      url: coreMain.options.basePath + url,
      method: "GET",
      dataType: 'text',
      success: function success(response, textStatus, jqXHR) {
        coreMenu.preloader.hide();
        var params = coreTools.getParams(url);
        coreMenu._setActiveModule(params.module, params.section);
        var contentType = jqXHR.getResponseHeader('Content-type');
        var contents = [];

        // Обработка json
        if (/^application\/json/.test(contentType)) {
          try {
            var responseObj = JSON.parse(response);
            if (_typeof(responseObj) === 'object' && responseObj.hasOwnProperty('_buffer') && responseObj._buffer !== '') {
              contents.push(responseObj._buffer);
            }
            var renderContents = coreMenu._renderContent(responseObj);
            $.each(renderContents, function (i, contentItem) {
              contents.push(contentItem);
            });
          } catch (e) {
            contents = [response];
            console.warn(e);
          }
        } else {
          contents = [response];
        }
        var mainContainer = $('.page-menu .main-content .main-wrapper');
        mainContainer.empty();
        $.each(contents, function (key, content) {
          mainContainer.append(content);
        });
        mainContainer.css({
          'opacity': '0',
          'margin-top': '15px'
        }).animate({
          marginTop: 0,
          opacity: 1
        }, {
          duration: 235,
          specialEasing: {
            width: "linear",
            height: "easeOutBounce"
          },
          complete: function complete() {
            $(this).css({
              'opacity': '',
              'margin-top': ''
            });
          }
        });
        coreMenu._trigger('shown.load.core3', this, [url]);
      },
      error: function error(response) {
        coreMenu.preloader.hide();
        if (response.status === 403) {
          coreTokens.clearAccessToken();
          coreMain.viewPage('auth');
        } else if (response.status === 0) {
          CoreUI.alert.danger('Ошибка', 'Проверьте подключение к интернету');
        } else {
          CoreUI.alert.danger('Ошибка', 'Обновите приложение или обратитесь к администратору');
        }
      }
    });
  },
  /**
   * @param action
   * @param options
   * @returns {boolean}
   */
  loader: {
    /**
     * @param options
     */
    show: function show(options) {
      if ($('#loader')[0]) {
        return false;
      }
      $('.page-menu > header').append(coreTpl['menu/loader.html']);
      var loaderElement = $('#loader .loader-progress');
      var linearProgress = new mdc['linear-progress'].MDCLinearProgress(loaderElement[0]);
      linearProgress.determinate = false;
    },
    /**
     *
     */
    hide: function hide() {
      $('#loader').remove();
    }
  },
  /**
   * @param action
   * @param options
   * @returns {boolean}
   */
  preloader: {
    /**
     * @param options
     * @returns {boolean}
     */
    show: function show(options) {
      if ($('#preloader')[0]) {
        this.hide();
      }
      options = _typeof(options) === 'object' ? options : {};
      $('.page-menu').prepend(ejs.render(coreTpl['menu/preloader.html'], {
        text: options.text || 'Загрузка...'
      }));
    },
    /**
     *
     */
    hide: function hide() {
      $('#preloader').fadeOut('fast', function () {
        $(this).remove();
      });
    }
  },
  /**
   * @param eventName
   * @param callback
   * @param context
   * @param singleExec
   */
  on: function on(eventName, callback, context, singleExec) {
    if (_typeof(this._events[eventName]) !== 'object') {
      this._events[eventName] = [];
    }
    this._events[eventName].push({
      context: context || this,
      callback: callback,
      singleExec: singleExec
    });
  },
  /**
   * Сборка содержимого
   * @param data
   * @return {*[]}
   * @private
   */
  _renderContent: function _renderContent(data) {
    var that = this;
    var result = [];
    if (typeof data === 'string' || typeof data === 'bigint' || typeof data === 'number' || _typeof(data) === 'symbol') {
      result.push(data);
    } else if (data instanceof Object) {
      if (!Array.isArray(data)) {
        data = [data];
      }
      for (var i = 0; i < data.length; i++) {
        if (typeof data[i] === 'string') {
          result.push(data[i]);
        } else {
          if (!Array.isArray(data[i]) && data[i].hasOwnProperty('component') && data[i].component.substring(0, 6) === 'coreui') {
            var name = data[i].component.split('.')[1];
            if (CoreUI.hasOwnProperty(name) && that.isObject(CoreUI[name])) {
              var instance = CoreUI[name].create(data[i]);
              result.push(instance.render());
              this.on('shown.load.core3', instance.initEvents, instance, true);
            }
          } else {
            result.push(JSON.stringify(data[i]));
          }
        }
      }
    } else {
      result.push(JSON.stringify(data));
    }
    return result;
  },
  /**
   * Проверка на объект
   * @param value
   */
  isObject: function isObject(value) {
    return _typeof(value) === 'object' && !Array.isArray(value) && value !== null;
  },
  /**
   *
   * @param name
   * @param context
   * @param params
   */
  _trigger: function _trigger(name, context, params) {
    if (this._events.hasOwnProperty(name) && this._events[name].length > 0) {
      for (var i = 0; i < this._events[name].length; i++) {
        var callback = this._events[name][i].callback;
        context = this._events[name][i].context || context;
        callback.apply(context, params);
        if (this._events[name][i].singleExec) {
          this._events[name].splice(i, 1);
          i--;
        }
      }
    }
  },
  /**
   *
   */
  _renderMenu: function _renderMenu() {
    $('.page-menu .system-title').text(coreMenu._system.name);
    if (_typeof(coreMenu._system.conf) === 'object') {
      localStorage.setItem('core3_conf', JSON.stringify(coreMenu._system.conf));
      if (_typeof(coreMenu._system.conf.theme) === 'object') {
        this._setTheme(coreMenu._system.conf.theme);
      }
    }
    if (Object.values(coreMenu._modules).length > 0) {
      var params = coreTools.getParams();
      $('.page-menu > aside .menu-list.level-1').empty();
      $.each(coreMenu._modules, function (key, module) {
        if (typeof module.name !== 'string' || !module.name || typeof module.title !== 'string' || !module.title) {
          CoreUI.notice.danger('Не удалось показать некоторые модули из за ошибок!');
          return true;
        }
        module.index = 'index';
        if (!module.isset_index_page && module.sections.length > 0) {
          $.each(module.sections, function (key, section) {
            module.index = section.name;
            return false;
          });
        }
        $('.page-menu > aside .menu-list.level-1').append(ejs.render(coreTpl['menu/module.html'], {
          module: module
        }));
        $('.page-menu > aside .core-module.core-module-' + module.name).hover(function () {
          var level2 = $('.level-2', this);
          if (level2[0]) {
            level2.css('top', $(this).offset().top);
          }
        });
      });
      coreMenu._setActiveModule(params.module, params.section);
      var menuItems = document.querySelectorAll('.page-menu .menu-list-item a');
      var _iterator2 = _createForOfIteratorHelper(menuItems),
        _step2;
      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var menuItem = _step2.value;
          new mdc.ripple.MDCRipple(menuItem);
          $(menuItem).on('click', function (event) {
            if (event.button === 0 && !event.ctrlKey) {
              var module = $(this).data('module');
              var section = $(this).data('section');
              if (location.hash.substring(1) === '/' + module + '/' + section) {
                if (window.screen.width < 600) {
                  coreMenu._drawerToggle();
                }
                coreMenu.load('/mod/' + module + '/' + section);
              }
            }
          });
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
      var _buttons = document.querySelectorAll('.page-menu .menu-list-item .menu-icon-button');
      var _iterator3 = _createForOfIteratorHelper(_buttons),
        _step3;
      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var button = _step3.value;
          new mdc.ripple.MDCRipple(button);
          $(button).on('click', function () {
            $(this).parent().parent().toggleClass('menu-item-nested-open');
          });
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
    }
    $('.page-menu .mdc-top-app-bar__section--align-end').empty();
    $('.page-menu .mdc-top-app-bar__section--align-end').append(ejs.render(coreTpl['menu/navbar.html'], {
      user: coreMenu._user
    }));

    // Выход
    $('.page-menu .menu-logout').on('click', function (e) {
      e.preventDefault();
      CoreUI.alert.warning('Уверены, что хотите выйти?', '', {
        btnAcceptText: "Да",
        btnAcceptColor: "#F57C00",
        btnAcceptEvent: coreAuth.logout,
        btnRejectText: "Отмена"
      });
    });
    $('.page-menu .open-menu, .page-menu .menu-drawer-scrim').on('click', function () {
      coreMenu._drawerToggle();
    });
    $('.page-menu .module-home').on('click', function (event) {
      if (event.button === 0 && !event.ctrlKey) {
        coreMenu.load('/home');
        if (window.screen.width < 600) {
          coreMenu._drawerToggle();
          console.log(11);
        }
      }
    });
    var buttons = document.querySelectorAll('.page-menu .mdc-ripple-surface');
    var _iterator4 = _createForOfIteratorHelper(buttons),
      _step4;
    try {
      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
        var _button = _step4.value;
        new mdc.ripple.MDCRipple(_button);
      }
    } catch (err) {
      _iterator4.e(err);
    } finally {
      _iterator4.f();
    }
    coreMenu._initSwipe($(".page-menu .menu-drawer-swipe")[0], function (direction) {
      if (direction === "right") {
        coreMenu._drawerToggle();
      } else if (direction === "left") {
        coreMenu._drawerToggle();
      }
    });
  },
  /**
   * Инициализация компонентов
   * @param {object} conf
   * @private
   */
  _initComponents: function _initComponents(conf) {
    CoreUI.table.setSettings({
      lang: conf.lang
    });
    CoreUI.form.setSettings({
      lang: conf.lang
    });
  },
  /**
   * @param moduleName
   * @param sectionName
   */
  _setActiveModule: function _setActiveModule(moduleName, sectionName) {
    $('.page-menu > aside .core-module').removeClass('menu-module-index--activated').removeClass('menu-module--activated');
    $('.page-menu > aside .core-module-section').removeClass('menu-module-section--activated');
    $('.page-menu > aside .core-module-section-index').removeClass('menu-module-section--activated');
    $('.page-menu > aside .core-module-' + moduleName).addClass('menu-module--activated').addClass('menu-item-nested-open');
    if (sectionName === 'index') {
      $('.page-menu > aside .core-module.core-module-' + moduleName).addClass('menu-module-index--activated');
      $('.page-menu > aside .core-module-' + moduleName + ' .core-module-section-index').addClass('menu-module-section--activated');
    }
    $('.page-menu > aside .core-module-' + moduleName + '-' + sectionName).addClass('menu-module-section--activated');
    if (!moduleName && !sectionName) {
      $('.page-menu .module-home').addClass('active');
    } else {
      $('.page-menu .module-home').removeClass('active');
    }

    /**
     * @param moduleName
     * @param sectionName
     * @returns {*[]}
     */
    function getModuleTitles(moduleName, sectionName) {
      var title = [];
      $.each(coreMenu._modules, function (key, module) {
        if (module.name === moduleName) {
          title.push(module.title);
          if (module.sections && module.sections.length > 0) {
            $.each(module.sections, function (key, section) {
              if (section.name === sectionName) {
                title.push(section.title);
                return false;
              }
            });
          }
          return false;
        }
      });
      return title;
    }
    var titles = getModuleTitles(moduleName, sectionName);
    $('header .mdc-top-app-bar__title').text(titles[0] || '');
    $('header .mdc-top-app-bar__subtitle').text(titles[1] || '');
    var title = coreMenu._system.name;
    title += titles.hasOwnProperty(0) ? ' - ' + titles[0] + (titles.hasOwnProperty(1) ? ' - ' + titles[1] : '') : '';
    $('head title').text(title);
  },
  /**
   * @param target
   * @param callback
   */
  _initSwipe: function _initSwipe(target, callback) {
    document.addEventListener('touchstart', handleTouchStart, false);
    document.addEventListener('touchmove', handleTouchMove, false);
    var xDown = null;
    var yDown = null;

    /**
     * @param evt
     */
    function handleTouchStart(evt) {
      xDown = evt.touches[0].clientX;
      yDown = evt.touches[0].clientY;
    }

    /**
     * @param evt
     */
    function handleTouchMove(evt) {
      if (!xDown || !yDown) {
        return;
      }
      var xUp = evt.touches[0].clientX;
      var yUp = evt.touches[0].clientY;
      var xDiff = xDown - xUp;
      var yDiff = yDown - yUp;
      if (Math.abs(xDiff) > Math.abs(yDiff)) {
        /*most significant*/
        if (xDiff > 0) {
          if (target === evt.target) {
            callback('left');
          }
        } else {
          if (target === evt.target) {
            callback('right');
          }
        }
      } else {
        if (yDiff > 0) {
          if (target === evt.target) {
            callback('up');
          }
        } else {
          if (target === evt.target) {
            callback('down');
          }
        }
      }
      xDown = null;
      yDown = null;
    }
  },
  /**
   * @private
   */
  _drawerToggle: function _drawerToggle() {
    // Нужно для первого открытия страницы
    $('.page-menu .menu-drawer').css('transition', '');
    $('.page-menu .mdc-top-app-bar').css('transition', '');
    var menu = $('.page.page-menu');
    if (menu.hasClass('drawer-toggle')) {
      localStorage.setItem('core3_drawer_toggle', 0);
    } else {
      localStorage.setItem('core3_drawer_toggle', 1);
    }
    menu.toggleClass('drawer-toggle');
  },
  /**
   * Установка
   */
  _initInstall: function _initInstall() {
    var install = function install(event) {
      event.preventDefault();
      var button = $('.page-menu .install-button');
      if (event.platforms.includes('web')) {
        button.show();
        button.on('click', function () {
          event.prompt();
        });
      }
      event.userChoice.then(function (choiceResult) {
        switch (choiceResult.outcome) {
          case "accepted":
            button.hide();
            break;
          case "dismissed":
            button.css('opacity', '0.7');
            break;
        }
      });
    };
    if (coreMain.install.event) {
      install(coreMain.install.event);
    } else {
      coreMain.install.promise.then(install);
    }
  },
  /**
   * Установка темы
   * @param {object} theme
   * @private
   */
  _setTheme: function _setTheme(theme) {
    var styles = [];
    if (_typeof(theme.main) === 'object' && typeof theme.main.bg_color === 'string' && theme.main.bg_color) {
      styles.push('--menu-drawer: ' + theme.main.bg_color + ';');
    }
    if (_typeof(theme.main) === 'object' && typeof theme.main.text_color === 'string' && theme.main.text_color) {
      styles.push('--menu-drawer-text:' + theme.main.text_color + ';');
    }
    if (styles.length > 0) {
      var content = ':root{' + styles.join('') + '}';
      var coreTheme = $('head #theme-main');
      if (!coreTheme[0] || content !== coreTheme.html()) {
        if (coreTheme[0]) {
          coreTheme.remove();
        }
        $('head').append('<style id="theme-main">' + content + '</style>');
      }
    }
  }
};
$(function () {
  coreMain.on('hashchange', function () {
    if ($('.page.page-menu')[0]) {
      if (window.screen.width < 600 && $('.page.page-menu.drawer-toggle')[0]) {
        coreMenu._drawerToggle();
      }
      coreMenu.load('/mod' + location.hash.substring(1));
    }
  });
});

/**
 * @property {object} _table
 */
var coreUiTableInstance = /*#__PURE__*/function () {
  /**
   * @param {object} table
   */
  function coreUiTableInstance(table) {
    _classCallCheck(this, coreUiTableInstance);
    if (_typeof(table) !== 'object' || Array.isArray(table) || table === null) {
      throw new Error('Ошибка инициализации таблицы');
    }
    this._table = table;
  }

  /**
   * Запрос на удаление выбранных записей
   * @param {string}   url
   * @param {function} callbackSuccess
   */
  _createClass(coreUiTableInstance, [{
    key: "deleteSelected",
    value: function deleteSelected(url, callbackSuccess) {
      var recordsId = this._table.getSelectedRecordsId();
      if (recordsId.length === 0) {
        CoreUI.notice.warning(Core$1._('Нужно выбрать хотя бы одну запись'));
        return;
      }
      CoreUI.alert.warning(Core$1._("Удалить выбранные записи?"), Core$1._('Количество: ') + ' ' + recordsId.length, {
        btnRejectText: Core$1._("Отмена"),
        btnAcceptText: Core$1._("Да"),
        btnAcceptColor: "#F57C00",
        btnAcceptEvent: function btnAcceptEvent() {
          Core$1.menu.preloader.show();
          $.ajax({
            url: url,
            method: 'delete',
            dataType: 'json',
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({
              id: recordsId
            }),
            success: function success(response) {
              if (response.status !== 'success') {
                CoreUI.alert.danger(response.error_message || Core$1._("Ошибка. Попробуйте обновить страницу и выполнить удаление еще раз."));
              } else {
                CoreUI.notice.info(Core$1._('Выбранные записи удалены'));
                if (callbackSuccess && typeof callbackSuccess == 'function') {
                  callbackSuccess();
                }
              }
            },
            error: function error(response) {
              CoreUI.alert.danger(Core$1._("Ошибка. Попробуйте обновить страницу и выполнить удаление еще раз."));
            },
            complete: function complete() {
              Core$1.menu.preloader.hide();
            }
          });
        }
      });
    }

    /**
     * Переключение состояния у записи
     * @param {string} url
     * @param {string} checked
     * @param {string} id
     * @param {string} questionY
     * @param {string} questionN
     */
  }, {
    key: "switch",
    value: function _switch(url, checked, id, questionY, questionN) {
      var question;
      var isChecked = $(checked).is(':checked');
      if (isChecked) {
        question = questionY || "Активировать запись?";
      } else {
        question = questionN || "Деактивировать запись?";
      }
      CoreUI.alert.create({
        type: 'warning',
        title: question,
        btnRejectText: Core$1._("Отмена"),
        btnAcceptText: Core$1._("Да"),
        btnAcceptColor: "#F57C00",
        btnAcceptEvent: function btnAcceptEvent() {
          Core$1.menu.loader.show();
          $.ajax({
            url: url.replace('[id]', id),
            method: 'patch',
            dataType: 'json',
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({
              checked: isChecked ? 'Y' : 'N'
            }),
            success: function success(response) {
              if (response.status !== 'success') {
                $(checked).prop('checked', !isChecked);
                CoreUI.notice.danger(response.error_message || Core$1._("Ошибка. Попробуйте обновить страницу и выполните это действие еще раз."));
              }
            },
            error: function error(response) {
              $(checked).prop('checked', !isChecked);
              CoreUI.notice.danger(Core$1._("Ошибка. Попробуйте обновить страницу и выполните это действие еще раз."));
            },
            complete: function complete() {
              Core$1.menu.loader.hide();
            }
          });
        },
        btnRejectEvent: function btnRejectEvent() {
          $(checked).prop('checked', !isChecked);
        },
        btnCancelEvent: function btnCancelEvent() {
          $(checked).prop('checked', !isChecked);
        }
      });
    }
  }]);
  return coreUiTableInstance;
}();

var coreUiTable = {
  /**
   * Получение таблицы ядра
   * @param tableId
   */
  get: function get(tableId) {
    var table = CoreUI.table.get(tableId);
    if (!table) {
      throw new Error('Не удалось найти таблицу с id' + table);
    }
    return new coreUiTableInstance(table);
  }
};

var coreUiFormInstance = /*#__PURE__*/_createClass(
/**
 * @param {object} form
 */
function coreUiFormInstance(form) {
  _classCallCheck(this, coreUiFormInstance);
  if (_typeof(form) !== 'object' || Array.isArray(form) || form === null) {
    throw new Error('Ошибка инициализации формы');
  }
  this._form = form;
});

var coreUiTable$1 = {
  /**
   * Получение таблицы ядра
   * @param formId
   */
  get: function get(formId) {
    var form = CoreUI.form.get(formId);
    if (!form) {
      throw new Error('Не удалось найти форму с id' + formId);
    }
    return new coreUiFormInstance(form);
  }
};

var Core$1 = {
  _settings: {
    lang: 'en'
  },
  main: coreMain,
  auth: coreAuth,
  menu: coreMenu,
  tools: coreTools,
  ui: {
    table: coreUiTable,
    form: coreUiTable$1
  },
  lang: {},
  /**
   * Перевод
   * @param  {string} text
   * @return {string}
   */
  _: function _(text) {
    var lang = {};
    if (this._settings.lang && this.lang.hasOwnProperty(this._settings.lang) && _typeof(this.lang[this._settings.lang]) === 'object' && this.lang[this._settings.lang] !== null) {
      lang = this.lang[this._settings.lang];
    }
    return lang.hasOwnProperty(text) ? lang[text] : text;
  },
  /**
   * Установка настроек
   * @param {object} settings
   */
  setSettings: function setSettings(settings) {
    this._settings = $.extend({}, this._settings, settings);
  },
  /**
   * Получение значения настройки
   * @param {string} name
   */
  getSetting: function getSetting(name) {
    var value = null;
    if (this._settings.hasOwnProperty(name)) {
      value = this._settings[name];
    }
    return value;
  }
};

Core$1.lang.en = {
  'Вход': 'Login'
};

return Core$1;

})));
