!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Core=t()}(this,function(){"use strict";function M(){M=function(){return i};var c,i={},e=Object.prototype,l=e.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(c){a=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o,a,i,s,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype),r=new k(r||[]);return u(t,"_invoke",{value:(o=e,a=n,i=r,s=f,function(e,t){if(s===h)throw new Error("Generator is already running");if(s===m){if("throw"===e)throw t;return{value:c,done:!0}}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){n=function e(t,n){var r=n.method,o=t.iterator[r];if(o===c)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=c,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,i);if(n){if(n===g)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(s===f)throw s=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s=h;n=d(o,a,i);if("normal"===n.type){if(s=i.done?m:p,n.arg===g)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(s=m,i.method="throw",i.arg=n.arg)}})}),t}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=s;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var t={},w=(a(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(E([]))),_=(w&&w!==e&&l.call(w,r)&&(t=w),b.prototype=v.prototype=Object.create(t));function A(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function C(i,s){var t;u(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,o){var a,e=d(i[e],i,n);if("throw"!==e.type)return(n=(a=e.arg).value)&&"object"==typeof n&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):s.resolve(n).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)});o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=c,e.done=!0,e}).next=e}throw new TypeError(typeof t+" is not iterable")}return u(_,"constructor",{value:y.prototype=b,configurable:!0}),u(b,"constructor",{value:y,configurable:!0}),y.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,a(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},i.awrap=function(e){return{__await:e}},A(C.prototype),a(C.prototype,n,function(){return this}),i.AsyncIterator=C,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new C(s(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},A(_),a(_,o,"Generator"),a(_,r,function(){return this}),a(_,"toString",function(){return"[object Generator]"}),i.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=l.call(o,"catchLoc"),s=l.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,x(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=c),g}},i}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function F(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=s.apply(e,i);function o(e){N(r,t,n,o,a,"next",e)}function a(e){N(r,t,n,o,a,"throw",e)}o(void 0)})}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}(r.key),r)}}function z(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function V(e){this.message=e}(V.prototype=new Error).name="InvalidCharacterError";var q="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new V("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,a=0,i="";r=t.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)&&(i+=String.fromCharCode(255&n>>(-2*o&6))))r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function W(e){this.message=e}function J(e,t){if("string"!=typeof e)throw new W("Invalid token specified");t=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(q(t).replace(/(.)/g,function(e,t){t=t.charCodeAt(0).toString(16).toUpperCase();return"%"+(t=t.length<2?"0"+t:t)}))}catch(e){return q(t)}}(e.split(".")[t]))}catch(e){throw new W("Invalid token specified: "+e.message)}}(W.prototype=new Error).name="InvalidTokenError";var X=function(e,t){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,i,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,o)}a((c=c.apply(e,i||[])).next())})}function h(r,o){var a,i,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function e(n){return function(e){var t=[n,e];if(a)throw new TypeError("Generator is already executing.");for(;c=l&&t[l=0]?0:c;)try{if(a=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=o.call(r,c)}catch(e){t=[6,e],i=0}finally{a=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}function Z(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}var Q="3.3.3";function m(t,n){return new Promise(function(e){return setTimeout(e,t,n)})}function ee(e,t){try{var n=e();(r=n)&&"function"==typeof r.then?n.then(function(e){return t(!0,e)},function(e){return t(!1,e)}):t(!0,n)}catch(e){t(!1,e)}var r}function te(o,a,i){return void 0===i&&(i=16),p(this,void 0,void 0,function(){var t,n,r;return h(this,function(e){switch(e.label){case 0:t=Date.now(),n=0,e.label=1;case 1:return n<o.length?(a(o[n],n),r=Date.now(),t+i<=r?(t=r,[4,m(0)]):[3,3]):[3,4];case 2:e.sent(),e.label=3;case 3:return++n,[3,1];case 4:return[2]}})})}function d(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function g(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:[e[1]<<(t-=32)|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t]}function v(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function y(e,t){return[e[0]^t[0],e[1]^t[1]]}function ne(e){return e=y(e,[0,e[0]>>>1]),e=y(e=f(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=y(e=f(e,[3301882366,444984403]),[0,e[0]>>>1])}function re(e){return parseInt(e)}function t(e){return parseFloat(e)}function n(e,t){return"number"==typeof e&&isNaN(e)?t:e}function b(e){return e.reduce(function(e,t){return e+(t?1:0)},0)}function oe(e,t){return void 0===t&&(t=1),1<=Math.abs(t)?Math.round(e/t)*t:(t=1/t,Math.round(e*t)/t)}function ae(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function ie(o,i,a){var s=Object.keys(o).filter(function(e){for(var t=a,n=e,r=0,o=t.length;r<o;++r)if(t[r]===n)return!1;return!0}),c=Array(s.length);return te(s,function(e,t){var n,a,r;c[t]=(n=o[e],a=i,r=new Promise(function(r){var o=Date.now();ee(n.bind(null,a),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,a=Date.now()-o;return e[0]?"function"!=typeof(n=e[1])?r(function(){return{value:n,duration:a}}):void r(function(){return new Promise(function(r){var o=Date.now();ee(n,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a+Date.now()-o;if(!e[0])return r({error:ae(e[1]),duration:n});r({value:e[1],duration:n})})})}):r(function(){return{error:ae(e[1]),duration:a}})})}),function(){return r.then(function(e){return e()})})}),function(){return p(this,void 0,void 0,function(){var r,t,n,o,a,i;return h(this,function(e){switch(e.label){case 0:for(r={},t=0,n=s;t<n.length;t++)o=n[t],r[o]=void 0;a=Array(s.length),i=function(){var n;return h(this,function(e){switch(e.label){case 0:return n=!0,[4,te(s,function(t,e){a[e]||(c[e]?a[e]=c[e]().then(function(e){return r[t]=e}):n=!1)})];case 1:return e.sent(),n?[2,"break"]:[4,m(1)];case 2:return e.sent(),[2]}})},e.label=1;case 1:return[5,i()];case 2:if("break"===e.sent())return[3,4];e.label=3;case 3:return[3,1];case 4:return[4,Promise.all(a)];case 5:return e.sent(),[2,r]}})})}}function se(){var e=window,t=navigator;return 4<=b(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])}function ce(){var e=window,t=navigator;return 5<=b(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])}function le(){var e=window,t=navigator;return 4<=b(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])}function ue(){var e=window;return 3<=b(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])}function de(){var e=ce(),t=(n=window,4<=b(["buildID"in navigator,"MozAppearance"in(null!=(t=null==(t=document.documentElement)?void 0:t.style)?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n]));if(!e&&!t)return!1;var n=window;return 2<=b(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])}function fe(e){var t=new Error(e);return t.name=e,t}function pe(t,c,n){var r;return void 0===n&&(n=50),p(this,void 0,void 0,function(){var i,s;return h(this,function(e){switch(e.label){case 0:i=document,e.label=1;case 1:return i.body?[3,3]:[4,m(n)];case 2:return e.sent(),[3,1];case 3:s=i.createElement("iframe"),e.label=4;case 4:return e.trys.push([4,,10,11]),[4,new Promise(function(e,t){var n=!1,r=function(){n=!0,e()},o=(s.onload=r,s.onerror=function(e){n=!0,t(e)},s.style),a=(o.setProperty("display","block","important"),o.position="absolute",o.top="0",o.left="0",o.visibility="hidden",c&&"srcdoc"in s?s.srcdoc=c:s.src="about:blank",i.body.appendChild(s),function(){var e;n||("complete"===(null==(e=null==(e=s.contentWindow)?void 0:e.document)?void 0:e.readyState)?r():setTimeout(a,10))});a()})];case 5:e.sent(),e.label=6;case 6:return null!=(r=null==(r=s.contentWindow)?void 0:r.document)&&r.body?[3,8]:[4,m(n)];case 7:return e.sent(),[3,6];case 8:return[4,t(s,s.contentWindow)];case 9:return[2,e.sent()];case 10:return null!=(r=s.parentNode)&&r.removeChild(s),[7];case 11:return[2]}})})}function he(e){for(var e=function(e){for(var t,n="Unexpected syntax '"+e+"'",r=/^\s*([a-z-]*)(.*)$/i.exec(e),e=r[1]||void 0,o={},a=/([.:#][\w-]+|\[.+?\])/gi,i=function(e,t){o[e]=o[e]||[],o[e].push(t)};;){var s=a.exec(r[2]);if(!s)break;var c=s[0];switch(c[0]){case".":i("class",c.slice(1));break;case"#":i("id",c.slice(1));break;case"[":var l=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(!l)throw new Error(n);i(l[1],null!=(t=null!=(t=l[4])?t:l[5])?t:"");break;default:throw new Error(n)}}return[e,o]}(e),t=e[0],n=e[1],r=document.createElement(null!=t?t:"div"),o=0,a=Object.keys(n);o<a.length;o++){var i=a[o],s=n[i].join(" ");if("style"===i){h=p=f=h=h=d=u=l=c=void 0;for(var c=r.style,l=s,u=0,d=l.split(";");u<d.length;u++){var f,p,h=d[u],h=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(h);h&&(f=h[1],p=h[2],h=h[4],c.setProperty(f,p,h||""))}}else r.setAttribute(i,s)}return r}var w=["monospace","sans-serif","serif"],me=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function ge(e){return e.toDataURL()}var ve,ye,be=2500;function we(){var t,e=this;return void 0===ye&&(t=function(){var e=_e();ye=Ae(e)?setTimeout(t,be):void(ve=e)})(),function(){return p(e,void 0,void 0,function(){var n;return h(this,function(e){switch(e.label){case 0:return Ae(n=_e())?ve?[2,K(ve)]:(t=document).fullscreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement?[4,((t=document).exitFullscreen||t.msExitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen).call(t)]:[3,2]:[3,2];case 1:e.sent(),n=_e(),e.label=2;case 2:return Ae(n)||(ve=n),[2,n]}var t})})}}function _e(){var e=screen;return[n(t(e.availTop),null),n(t(e.width)-t(e.availWidth)-n(t(e.availLeft),0),null),n(t(e.height)-t(e.availHeight)-n(t(e.availTop),0),null),n(t(e.availLeft),null)]}function Ae(e){for(var t=0;t<4;++t)if(e[t])return;return 1}var Ce={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function Se(e){e.style.setProperty("display","block","important")}function xe(e){return matchMedia("(inverted-colors: "+e+")").matches}function ke(e){return matchMedia("(forced-colors: "+e+")").matches}function e(e){return matchMedia("(prefers-contrast: "+e+")").matches}function Ee(e){return matchMedia("(prefers-reduced-motion: "+e+")").matches}function Te(e){return matchMedia("(dynamic-range: "+e+")").matches}function _(){return 0}var A=Math;var Ie={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var Oe={fonts:function(){return pe(function(e,t){var r=t.document,t=r.body,o=(t.style.fontSize="48px",r.createElement("div")),a={},i={},n=function(e){var t=r.createElement("span"),n=t.style;return n.position="absolute",n.top="0",n.left="0",n.fontFamily=e,t.textContent="mmMwWLliI0O&1",o.appendChild(t),t},s=function(e,t){return n("'"+e+"',"+t)},c=w.map(n),l=function(){for(var e={},t=0,n=me;t<n.length;t++)!function(t){e[t]=w.map(function(e){return s(t,e)})}(n[t]);return e}();t.appendChild(o);for(var u=0;u<w.length;u++)a[w[u]]=c[u].offsetWidth,i[w[u]]=c[u].offsetHeight;return me.filter(function(e){return n=l[e],w.some(function(e,t){return n[t].offsetWidth!==a[e]||n[t].offsetHeight!==i[e]});var n})})},domBlockers:function(e){var f=(void 0===e?{}:e).debug;return p(this,void 0,void 0,function(){var l,u,d;return h(this,function(e){switch(e.label){case 0:return le()||de()?(l=Object.keys(Ce),[4,function(c){var l;return p(this,void 0,void 0,function(){var t,n,r,o,a,i,s;return h(this,function(e){switch(e.label){case 0:for(t=document,n=t.createElement("div"),r=new Array(c.length),o={},Se(n),s=0;s<c.length;++s)a=he(c[s]),Se(i=t.createElement("div")),i.appendChild(a),n.appendChild(i),r[s]=a;e.label=1;case 1:return t.body?[3,3]:[4,m(50)];case 2:return e.sent(),[3,1];case 3:t.body.appendChild(n);try{for(s=0;s<c.length;++s)r[s].offsetParent||(o[c[s]]=!0)}finally{null!=(l=n.parentNode)&&l.removeChild(n)}return[2,o]}})})}((d=[]).concat.apply(d,l.map(function(e){return Ce[e]})))]):[2,void 0];case 1:if(u=e.sent(),f){for(var t=u,n="DOM blockers debug:\n```",r=0,o=Object.keys(Ce);r<o.length;r++){var a=o[r];n+="\n"+a+":";for(var i=0,s=Ce[a];i<s.length;i++){var c=s[i];n+="\n  "+c+" "+(t[c]?"🚫":"➡️")}}console.log(n+"\n```")}return(d=l.filter(function(e){e=Ce[e];return b(e.map(function(e){return u[e]}))>.6*e.length})).sort(),[2,d]}})})},fontPreferences:function(){var a=function(e,t){for(var n={},r={},o=0,a=Object.keys(Ie);o<a.length;o++){var i=a[o],s=Ie[i],c=s[0],l=void 0===c?{}:c,c=s[1],s=void 0===c?"mmMwWLliI0fiflO&1":c,u=e.createElement("span");u.textContent=s,u.style.whiteSpace="nowrap";for(var d=0,f=Object.keys(l);d<f.length;d++){var p=f[d],h=l[p];void 0!==h&&(u.style[p]=h)}n[i]=u,t.appendChild(e.createElement("br")),t.appendChild(u)}for(var m=0,g=Object.keys(Ie);m<g.length;m++)r[i=g[m]]=n[i].getBoundingClientRect().width;return r},i=void 0;return void 0===i&&(i=4e3),pe(function(e,t){var n=t.document,r=n.body,o=r.style,o=(o.width=i+"px",o.webkitTextSizeAdjust=o.textSizeAdjust="none",ce()?r.style.zoom=""+1/t.devicePixelRatio:le()&&(r.style.zoom="reset"),n.createElement("div"));return o.textContent=K(Array(i/20<<0)).map(function(){return"word"}).join(" "),r.appendChild(o),a(n,r)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')},audio:function(){if(!(e=(e=window).OfflineAudioContext||e.webkitOfflineAudioContext))return-2;if(le()&&!ue()&&!function(){var e=window;return 3<=b(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])}())return-1;var s,c,e=new e(1,5e3,44100),t=((n=e.createOscillator()).type="triangle",n.frequency.value=1e4,e.createDynamicsCompressor());t.threshold.value=-50,t.knee.value=40,t.ratio.value=12,t.attack.value=0,t.release.value=.25,n.connect(t),t.connect(e.destination),n.start(0),s=e,c=function(){};var n=(t=[new Promise(function(t,n){var e=!1,r=0,o=0,a=(s.oncomplete=function(e){return t(e.renderedBuffer)},function(){setTimeout(function(){return n(fe("timeout"))},Math.min(500,o+5e3-Date.now()))}),i=function(){try{switch(s.startRendering(),s.state){case"running":o=Date.now(),e&&a();break;case"suspended":document.hidden||r++,e&&3<=r?n(fe("suspended")):setTimeout(i,500)}}catch(e){n(e)}};i(),c=function(){e||(e=!0,0<o&&a())}}),c])[0],r=t[1],o=n.then(function(e){for(var t=e.getChannelData(0).subarray(4500),n=0,r=0;r<t.length;++r)n+=Math.abs(t[r]);return n},function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e});return o.catch(function(){}),function(){return r(),o}},screenFrame:function(){var e=this,r=we();return function(){return p(e,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:return[4,r()];case 1:return t=e.sent(),[2,[(n=function(e){return null===e?null:oe(e,10)})(t[0]),n(t[1]),n(t[2]),n(t[3])]]}})})}},osCpu:function(){return navigator.oscpu},languages:function(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;return void 0!==n&&t.push([n]),Array.isArray(e.languages)?ce()&&3<=b([!("MediaSettingsRange"in(n=window)),"RTCEncodedAudioFrame"in n,""+n.Intl=="[object Intl]",""+n.Reflect=="[object Reflect]"])||t.push(e.languages):"string"==typeof e.languages&&(n=e.languages)&&t.push(n.split(",")),t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return n(t(navigator.deviceMemory),void 0)},screenResolution:function(){function e(e){return n(re(e),null)}var t=screen;return(t=[e(t.width),e(t.height)]).sort().reverse(),t},hardwareConcurrency:function(){return n(re(navigator.hardwareConcurrency),void 0)},timezone:function(){var e=null==(e=window.Intl)?void 0:e.DateTimeFormat;if(e){e=(new e).resolvedOptions().timeZone;if(e)return e}return e=(new Date).getFullYear(),"UTC"+(0<=(e=-Math.max(t(new Date(e,0,1).getTimezoneOffset()),t(new Date(e,6,1).getTimezoneOffset())))?"+":"")+Math.abs(e)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(se()||(e=window,t=navigator,3<=b(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])&&!se())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&le()&&!ue()?function(){if("iPad"===navigator.platform)return 1;var e=(e=screen).width/e.height;return 2<=b(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,.65<e&&e<1.53])}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var o=[],a=0;a<r.length;++a){var i=r[a];o.push({type:i.type,suffixes:i.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:o})}}return t}},canvas:function(){(t=document.createElement("canvas")).width=1,t.height=1;var e,t=[t,t.getContext("2d")],n=t[0];return e=n,(t=t[1])&&e.toDataURL?{winding:((e=t).rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")),geometry:function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var o=r[n],a=o[0],i=o[1],o=o[2];t.fillStyle=a,t.beginPath(),t.arc(i,o,40,0,2*Math.PI,!0),t.closePath(),t.fill()}return t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd"),ge(e)}(n,t),text:(e=t,(t=n).width=240,t.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"',n="Cwm fjordbank gly "+String.fromCharCode(55357,56835),e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(n,4,45),ge(t))}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var t,e=navigator,n=0;void 0!==e.maxTouchPoints?n=re(e.maxTouchPoints):void 0!==e.msMaxTouchPoints&&(n=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:n,touchEvent:t,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],o=window[r];o&&"object"==typeof o&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: "+n+")").matches)return n}},invertedColors:function(){return!!xe("inverted")||!xe("none")&&void 0},forcedColors:function(){return!!ke("active")||!ke("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: "+e+")").matches)return e;throw new Error("Too high value")}},contrast:function(){return e("no-preference")?0:e("high")||e("more")?1:e("low")||e("less")?-1:e("forced")?10:void 0},reducedMotion:function(){return!!Ee("reduce")||!Ee("no-preference")&&void 0},hdr:function(){return!!Te("high")||!Te("standard")&&void 0},math:function(){var e=A.acos||_,t=A.acosh||_,n=A.asin||_,r=A.asinh||_,o=A.atanh||_,a=A.atan||_,i=A.sin||_,s=A.sinh||_,c=A.cos||_,l=A.cosh||_,u=A.tan||_,d=A.tanh||_,f=A.exp||_,p=A.expm1||_,h=A.log1p||_;return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:(e=1e154,A.log(e+A.sqrt(e*e-1))),asin:n(.12312423423423424),asinh:r(1),asinhPf:(t=1,A.log(t+A.sqrt(t*t+1))),atanh:o(.5),atanhPf:(e=.5,A.log((1+e)/(1-e))/2),atan:a(.5),sin:i(-1e300),sinh:s(1),sinhPf:(n=1,A.exp(n)-1/A.exp(n)/2),cos:c(10.000000000123),cosh:l(1),coshPf:(r=1,(A.exp(r)+1/A.exp(r))/2),tan:u(-1e300),tanh:d(1),tanhPf:(t=1,(A.exp(2*t)-1)/(A.exp(2*t)+1)),exp:f(1),expm1:p(1),expm1Pf:A.exp(1)-1,log1p:h(10),log1pPf:A.log(11),powPI:A.pow(A.PI,-100)}}};function Pe(e){var e=function(e){if(de())return.4;if(le())return ue()?.5:.3;e=e.platform.value||"";if(/^Win/.test(e))return.6;if(/^Mac/.test(e))return.5;return.7}(e),t=oe(.99+.01*e,1e-4);return{score:e,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+t)}}function Le(e){return JSON.stringify(e,function(e,t){return t instanceof Error?o({name:(n=t).name,message:n.message,stack:null==(r=n.stack)?void 0:r.split("\n")},n):t;var n,r},2)}function Re(e){for(var t=function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var o=r[n],a=e[o],a=a.error?"error":JSON.stringify(a.value);t+=(t?"|":"")+o.replace(/([:|\\])/g,"\\$1")+":"+a}return t}(e),e=void 0,n=(t=t||"").length%16,r=t.length-n,o=[0,e=e||0],a=[0,e],i=[0,0],s=[0,0],c=[2277735313,289559509],l=[1291169091,658871167],u=0;u<r;u+=16)i=[255&t.charCodeAt(u+4)|(255&t.charCodeAt(u+5))<<8|(255&t.charCodeAt(u+6))<<16|(255&t.charCodeAt(u+7))<<24,255&t.charCodeAt(u)|(255&t.charCodeAt(u+1))<<8|(255&t.charCodeAt(u+2))<<16|(255&t.charCodeAt(u+3))<<24],s=[255&t.charCodeAt(u+12)|(255&t.charCodeAt(u+13))<<8|(255&t.charCodeAt(u+14))<<16|(255&t.charCodeAt(u+15))<<24,255&t.charCodeAt(u+8)|(255&t.charCodeAt(u+9))<<8|(255&t.charCodeAt(u+10))<<16|(255&t.charCodeAt(u+11))<<24],i=g(i=f(i,c),31),o=d(o=g(o=y(o,i=f(i,l)),27),a),o=d(f(o,[0,5]),[0,1390208809]),s=g(s=f(s,l),33),a=d(a=g(a=y(a,s=f(s,c)),31),o),a=d(f(a,[0,5]),[0,944331445]);switch(i=[0,0],s=[0,0],n){case 15:s=y(s,v([0,t.charCodeAt(u+14)],48));case 14:s=y(s,v([0,t.charCodeAt(u+13)],40));case 13:s=y(s,v([0,t.charCodeAt(u+12)],32));case 12:s=y(s,v([0,t.charCodeAt(u+11)],24));case 11:s=y(s,v([0,t.charCodeAt(u+10)],16));case 10:s=y(s,v([0,t.charCodeAt(u+9)],8));case 9:s=f(s=y(s,[0,t.charCodeAt(u+8)]),l),a=y(a,s=f(s=g(s,33),c));case 8:i=y(i,v([0,t.charCodeAt(u+7)],56));case 7:i=y(i,v([0,t.charCodeAt(u+6)],48));case 6:i=y(i,v([0,t.charCodeAt(u+5)],40));case 5:i=y(i,v([0,t.charCodeAt(u+4)],32));case 4:i=y(i,v([0,t.charCodeAt(u+3)],24));case 3:i=y(i,v([0,t.charCodeAt(u+2)],16));case 2:i=y(i,v([0,t.charCodeAt(u+1)],8));case 1:i=f(i=y(i,[0,t.charCodeAt(u)]),c),o=y(o,i=f(i=g(i,31),l))}return o=d(o=y(o,[0,t.length]),a=y(a,[0,t.length])),a=d(a,o),o=d(o=ne(o),a=ne(a)),a=d(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}function je(e){return void 0===(t=2*(e=e=void 0===e?50:e))&&(t=1/0),(n=window.requestIdleCallback)?new Promise(function(e){return n.call(window,function(){return e()},{timeout:t})}):m(Math.min(e,t));var t,n}function De(c,l){var u=Date.now();return{get:function(s){return p(this,void 0,void 0,function(){var o,a,i;return h(this,function(e){switch(e.label){case 0:return o=Date.now(),[4,c()];case 1:return a=e.sent(),r=Pe(t=a),i={get visitorId(){return n=void 0===n?Re(this.components):n},set visitorId(e){n=e},confidence:r,components:t,version:Q},(l||null!=s&&s.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+i.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(o-u)+"\nvisitorId: "+i.visitorId+"\ncomponents: "+Le(a)+"\n```"),[2,i]}var t,n,r})})}}}var Me,Ne={load:function(e){var n=(e=void 0===e?{}:e).delayFallback,r=e.debug,o=void 0===(e=e.monitoring)||e;return p(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:if(o&&!(window.__fpjs_d_m||.001<=Math.random()))try{var t=new XMLHttpRequest;t.open("get","https://m1.openfpcdn.io/fingerprintjs/v"+Q+"/npm-monitoring",!0),t.send()}catch(e){console.error(e)}return[4,je(n)];case 1:return e.sent(),[2,De(ie(Oe,{debug:r},[]),r)]}})})},hashComponents:Re,componentsToDebugString:Le},C={getParams:function(e){e=(e=void 0===e?"/mod"+location.hash.substring(1):e).match(/^\/mod\/([a-z0-9_]*)(?:\/|)([a-z0-9_]*)(?:(\?[^?]*)|)/),e={module:null!==e&&"string"==typeof e[1]?e[1]:"",section:null!==e&&"string"==typeof e[2]?e[2]:"",query:null!==e&&"string"==typeof e[3]?e[3]:""};return e.query=C.parseQuery(e.query),e},parseQuery:function(e){for(var t=(e="string"==typeof e?e.replace(/^\?/,""):"").split("&"),n={},r=0;r<t.length;r++){var o=t[r].split("="),a=decodeURIComponent(o[0]),o=decodeURIComponent(o[1]);void 0===n[a]?n[a]=decodeURIComponent(o):"string"==typeof n[a]?n[a]=[n[a],decodeURIComponent(o)]:n[a].push(decodeURIComponent(o))}return n},toggleFullscreen:function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},formatNumber:function(e){return(e=e.toString()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},formatMoney:function(e,t){return isNaN(e)?this.formatNumber(e):(t=t||" ",(e=Number(e).toFixed(2).toString()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1"+t))},clipboardText:function(e){return e=e,navigator.clipboard?navigator.clipboard.writeText(e):(o=e,new Promise(function(e,t){var n=document.createElement("textarea");n.value=o,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{var r=document.execCommand("copy");document.body.removeChild(n),(r?e:t)()}catch(e){document.body.removeChild(n),t()}}));var o},hashCode:function(){for(var e="A"+(new Date).getTime(),t=0,n=0;n<e.length;t&=t)t=31*t+e.charCodeAt(n++);return Math.abs(t)},getFingerprint:function(){return Ne.load().then(function(e){return e.get()}).then(function(e){return e.visitorId})},jwtDecode:function(e){return J(e)}},a={_refreshInterval:0,initRefresh:function(){this.deinitRefresh(),this._refreshInterval=setInterval(this.refreshToken,3e5)},deinitRefresh:function(){this._refreshInterval&&clearInterval(this._refreshInterval)},refreshToken:(Me=F(M().mark(function e(t,n){var r,o;return M().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getRefreshToken(),o=C.jwtDecode(r),new Date(1e3*o.exp)<=new Date)return a.clearRefreshToken(),"function"==typeof n&&n(),e.abrupt("return");e.next=6;break;case 6:return e.t0=$,e.t1=I.options.basePath+"/auth/refresh",e.t2=JSON,e.t3=r,e.next=12,C.getFingerprint();case 12:e.t4=e.sent,e.t5={refresh_token:e.t3,fp:e.t4},e.t6=e.t2.stringify.call(e.t2,e.t5),e.t7={url:e.t1,method:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:e.t6},e.t0.ajax.call(e.t0,e.t7).done(function(e){"string"==typeof e.access_token&&"string"==typeof e.refresh_token&&e.access_token&&e.refresh_token?(a.setAccessToken(e.access_token),a.setRefreshToken(e.refresh_token),"function"==typeof t&&t()):(e=e.error_message||"Ошибка. Попробуйте позже, либо обратитесь к администратору",CoreUI.notice.danger(e),"function"==typeof n&&n())}).fail(function(e){var t="";t=(t=e.responseJSON&&e.responseJSON.error_message?e.responseJSON.error_message:$("<div>"+e.responseText+"</div>").text())||"Ошибка. Попробуйте позже, либо обратитесь к администратору",CoreUI.notice.danger(t),"function"==typeof n&&n()});case 17:case"end":return e.stop()}},e)})),function(e,t){return Me.apply(this,arguments)}),setAccessToken:function(e){localStorage.setItem("core3_access_token",e);var t=C.jwtDecode(a.getAccessToken()),t=new Date(1e3*t.exp);t>new Date&&(t="; expires="+t.toUTCString(),document.cookie="Core-Access-Token="+e+t+"; path=/"+I.options.basePath)},setRefreshToken:function(e){localStorage.setItem("core3_refresh_token",e)},getAccessToken:function(){var e=localStorage.getItem("core3_access_token");return e||(a.clearAccessToken(),e=!1),e},getRefreshToken:function(){var e=localStorage.getItem("core3_refresh_token");return e||(a.clearRefreshToken(),e=!1),e},clearAccessToken:function(){localStorage.removeItem("core3_access_token"),document.cookie="Core-Access-Token=; Path=/"+I.options.basePath+"; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},clearRefreshToken:function(){localStorage.removeItem("core3_refresh_token")}},S=Object.create(null);function $e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}S["auth/main.html"]='<div class="container container-login" style="display: none"> <div class="mdc-card"> <div class="mdc-card__content"> <img src="" alt="logo" class="logo" style="display: none"> <form class="mb-5" novalidate> <span class="text-danger"></span> <div class="form-controls mb-5"> <div class="mb-3 text-start"> <label class="form-label" for="auth-login">Логин или Email</label> <div class="control-icon position-relative"> <input type="text" name="login" class="form-control" id="auth-login" required> <i class="bi bi-person-fill"></i> </div> </div> <div class="mb-5 text-start"> <label class="form-label" for="auth-password">Пароль</label> <div class="control-icon position-relative"> <input type="password" name="password" class="form-control" id="auth-password" required> <i class="bi bi-shield-lock"></i> </div> </div> <button class="btn btn-primary w-100 py-2" type="submit">Войти</button> </div> </form> <div class="links-container"> <a class="install-button" style="display: none">Установить</a> <a href="#/registration" class="reg-button">Регистрация</a> </div> </div> </div> </div> <div class="container container-registration" style="display: none"> <div class="mdc-card"> <div class="mdc-card__content"> <img src="" alt="logo" class="logo" style="display: none"> <p class="mdc-typography--headline5">Регистрация</p> <div class="text-danger mdc-typography--subtitle2"></div> <div class="text-success mdc-typography--subtitle2"></div> <form class="mb-5" novalidate> <div class="form-controls mb-5"> <div class="mb-3 text-start"> <label class="form-label" for="registration-name">Имя</label> <input type="text" name="name" class="form-control" id="registration-name" required> </div> <div class="mb-3 text-start"> <label class="form-label" for="registration-email">Email</label> <input type="email" name="email" class="form-control" id="registration-email" required> </div> <div class="mb-3 text-start"> <label class="form-label" for="registration-pass">Пароль</label> <input type="password" name="password" class="form-control" id="registration-pass" required> </div> <div class="mb-5 text-start"> <label class="form-label" for="registration-pass2">Пароль еще раз</label> <input type="password" class="form-control" id="registration-pass2" required> </div> <button class="btn btn-primary w-100 py-2" type="submit">Зарегистрироваться</button> </div> </form> <div class="links-container"> <a class="install-button" style="display: none">Установить</a> <a href="#" class="login-button">Войти</a> </div> </div> </div> </div>',S["menu/loader.html"]='<div id="loader"> <div role="progressbar" class="mdc-linear-progress loader-progress" aria-label="Example Progress Bar" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0"> <div class="mdc-linear-progress__buffer"> <div class="mdc-linear-progress__buffer-bar"></div> <div class="mdc-linear-progress__buffer-dots"></div> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> </div> <div class="loader-block"></div> </div>',S["menu/main.html"]='<header class="mdc-top-app-bar mdc-top-app-bar--fixed app-bar"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"> <button class="mdc-ripple-surface open-menu"><i class="fa-solid fa-bars"></i></button> <div class="header-title-container"> <span class="mdc-top-app-bar__title"></span> <span class="mdc-top-app-bar__subtitle"></span> </div> </section> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar"></section> </div> </header> <aside class="menu-drawer"> <div class="menu-drawer__content"> <div class="menu-drawer__header"> <a class="module-home" href="#/"> <span class="fa-solid fa-house"></span> <h3 class="system-title"></h3> </a> </div> <ul class="menu-list level-1"></ul> </div> </aside> <div class="menu-drawer-scrim"></div> <div class="menu-drawer-swipe"></div> <div class="menu-drawer-app"> <main class="main-content"> <div class="main-wrapper"></div> </main> </div>',S["menu/module.html"]='<li class="menu-list-item core-module core-module-<%= module.name %> <% if (module.sections && module.sections.length > 0) { %>menu-item-nested<% } %>"> <div class="item-control"> <a href="#/<%= module.name %>/<%= module.index %>" class="mdc-ripple-surface" data-module="<%= module.name %>" data-section="<%= module.index %>"> <% if (module.icon) { %> <i class="<%= module.icon %>"></i> <% } else { %> <span class="module-icon-letter"><%= module.title.trim().substring(0, 1) %></span> <% } %> <span class="menu-list-item__text"><%= module.title %></span> </a> <% if (module.sections && module.sections.length > 0) { %> <button class="menu-icon-button mdc-ripple-surface"><i class="fa-solid fa-sort-down"></i></button> <% } %> </div> <ul class="menu-list level-2"> <li class="menu-list-item core-module-section-index"> <a href="#/<%= module.name %>/<%= module.index %>" class="mdc-ripple-surface" data-module="<%= module.name %>" data-section="<%= module.index %>"> <%= module.title %> </a> </li> <% if (module.sections && module.sections.length > 0) { %> <% module.sections.forEach(function(section) { %> <li class="menu-list-item core-module-section core-module-<%= module.name %>-<%= section.name %>"> <a href="#/<%= module.name %>/<%= section.name %>" class="mdc-ripple-surface" data-module="<%= module.name %>" data-section="<%= section.name %>"> <span class="menu-list-item__text"><%= section.title %></span> </a> </li> <% }); %> <% } %> </ul> </li>',S["menu/navbar.html"]='<ul class="navbar-nav"> <li class="nav-item dropdown cabinet-user"> <button class="btn btn-link text-dark dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown"> <% if (user.avatar) { %> <img src="<%= user.avatar %>" alt="avatar" class="rounded-circle border" loading="lazy"/> <% } else { %> <i class="fa-solid fa-circle-user"></i> <% } %> </button> <ul class="dropdown-menu shadow"> <li class="cabinet-user-info"> <b class="cabinet-user-name"><%= user.name %></b><br> <span class="cabinet-user-login"><%= user.login %></span> </li> <li> <hr class="dropdown-divider"/> </li> <li> <a class="dropdown-item menu-logout" href="#"> <i class="fa-solid fa-arrow-right-from-bracket"></i> Выйти </a> </li> </ul> </li> </ul>',S["menu/preloader.html"]='<div id="preloader"> <div class="loading-lock"></div> <div class="loading-block"> <div class="spinner-border text-secondary"> <span class="visually-hidden"></span> </div> <div class="loading-text"><%= text %></div> </div> </div>';var Fe;(function n(r,o,a){function i(t,e){if(!o[t]){if(!r[t]){if(!e&&$e)return $e(t);if(s)return s(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}e=o[t]={exports:{}},r[t][0].call(e.exports,function(e){return i(r[t][1][e]||e)},e,e.exports,n,r,o,a)}return o[t].exports}for(var s=$e,e=0;e<a.length;e++)i(a[e]);return i})({1:[function(e,t,c){var a=e("fs"),u=e("path"),d=e("./utils"),n=!1,e=e("../package.json").version,r=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],l=r.concat("cache"),i=/^\uFEFF/,f=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function s(t,e){var n;if(e.some(function(e){return n=c.resolveInclude(t,e,!0),a.existsSync(n)}))return n}function p(e,t){var n,r=e.filename,o=1<arguments.length;if(e.cache){if(!r)throw new Error("cache option requires a filename");if(n=c.cache.get(r))return n;o||(t=h(r).toString().replace(i,""))}else if(!o){if(!r)throw new Error("Internal EJS error: no file name or template provided");t=h(r).toString().replace(i,"")}return n=c.compile(t,e),e.cache&&c.cache.set(r,n),n}function h(e){return c.fileLoader(e)}function m(e,t){var n=d.shallowCopy(d.createNullProtoObjWherePossible(),t);if(n.filename=function(e,t){var n,r=t.views,o=/^[A-Za-z]+:\\|^\//.exec(e);if(o&&o.length)e=e.replace(/^\/*/,""),n=Array.isArray(t.root)?s(e,t.root):c.resolveInclude(e,t.root||"/",!0);else if(t.filename&&(o=c.resolveInclude(e,t.filename),a.existsSync(o)&&(n=o)),!(n=!n&&Array.isArray(r)?s(e,r):n)&&"function"!=typeof t.includer)throw new Error('Could not find the include file "'+t.escapeFunction(e)+'"');return n}(e,n),"function"==typeof t.includer){t=t.includer(e,n.filename);if(t&&(t.filename&&(n.filename=t.filename),t.template))return p(n,t.template)}return p(n)}function g(e,t,n,r,o){var t=t.split("\n"),a=Math.max(r-3,0),i=Math.min(t.length,r+3),o=o(n),n=t.slice(a,i).map(function(e,t){t=t+a+1;return(t==r?" >> ":"    ")+t+"| "+e}).join("\n");throw e.path=o,e.message=(o||"ejs")+":"+r+"\n"+n+"\n\n"+e.message,e}function v(e){return e.replace(/;(\s*$)/,"$1")}function y(e,t){var t=d.hasOwnOnlyObject(t),n=d.createNullProtoObjWherePossible();this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=t.client||!1,n.escapeFunction=t.escape||t.escapeFunction||d.escapeXML,n.compileDebug=!1!==t.compileDebug,n.debug=!!t.debug,n.filename=t.filename,n.openDelimiter=t.openDelimiter||c.openDelimiter||"<",n.closeDelimiter=t.closeDelimiter||c.closeDelimiter||">",n.delimiter=t.delimiter||c.delimiter||"%",n.strict=t.strict||!1,n.context=t.context,n.cache=t.cache||!1,n.rmWhitespace=t.rmWhitespace,n.root=t.root,n.includer=t.includer,n.outputFunctionName=t.outputFunctionName,n.localsName=t.localsName||c.localsName||"locals",n.views=t.views,n.async=t.async,n.destructuredLocals=t.destructuredLocals,n.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,n.strict?n._with=!1:n._with=void 0===t._with||t._with,this.opts=n,this.regex=this.createRegex()}c.cache=d.cache,c.fileLoader=a.readFileSync,c.localsName="locals",c.promiseImpl=new Function("return this;")().Promise,c.resolveInclude=function(e,t,n){var r=u.dirname,o=u.extname,n=(0,u.resolve)(n?t:r(t),e);return o(e)||(n+=".ejs"),n},c.compile=function(e,t){return t&&t.scope&&(n||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),n=!0),t.context||(t.context=t.scope),delete t.scope),new y(e,t).compile()},c.render=function(e,t,n){t=t||d.createNullProtoObjWherePossible(),n=n||d.createNullProtoObjWherePossible();return 2==arguments.length&&d.shallowCopyFromList(n,t,r),p(n,e)(t)},c.renderFile=function(){var e,t,n,r=Array.prototype.slice.call(arguments),o=r.shift(),a={filename:o},i=("function"==typeof arguments[arguments.length-1]&&(e=r.pop()),r.length?(t=r.shift(),r.length?d.shallowCopy(a,r.pop()):(t.settings&&(t.settings.views&&(a.views=t.settings.views),t.settings["view cache"]&&(a.cache=!0),(r=t.settings["view options"])&&d.shallowCopy(a,r)),d.shallowCopyFromList(a,t,l)),a.filename=o):t=d.createNullProtoObjWherePossible(),a),s=t,r=e;if(!r){if("function"==typeof c.promiseImpl)return new c.promiseImpl(function(e,t){try{e(n=p(i)(s))}catch(e){t(e)}});throw new Error("Please provide a callback function")}try{n=p(i)(s)}catch(e){return r(e)}r(null,n)},c.Template=y,c.clearCache=function(){c.cache.reset()},y.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},y.prototype={createRegex:function(){var e="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",t=d.escapeRegExpChars(this.opts.delimiter),n=d.escapeRegExpChars(this.opts.openDelimiter),r=d.escapeRegExpChars(this.opts.closeDelimiter),e=e.replace(/%/g,t).replace(/</g,n).replace(/>/g,r);return new RegExp(e)},compile:function(){var e,o=this.opts,t="",n="",a=o.escapeFunction,r=o.filename?JSON.stringify(o.filename):"undefined";if(!this.source){if(this.generateSource(),t+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',o.outputFunctionName){if(!f.test(o.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");t+="  var "+o.outputFunctionName+" = __append;\n"}if(o.localsName&&!f.test(o.localsName))throw new Error("localsName is not a valid JS identifier.");if(o.destructuredLocals&&o.destructuredLocals.length){for(var i="  var __locals = ("+o.localsName+" || {}),\n",s=0;s<o.destructuredLocals.length;s++){var c=o.destructuredLocals[s];if(!f.test(c))throw new Error("destructuredLocals["+s+"] is not a valid JS identifier.");0<s&&(i+=",\n  "),i+=c+" = __locals."+c}t+=i+";\n"}!1!==o._with&&(t+="  with ("+o.localsName+" || {}) {\n",n+="  }\n"),this.source=t+this.source+(n+="  return __output;\n")}t=o.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+r+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,o.client&&(t="escapeFn = escapeFn || "+a.toString()+";\n"+t,o.compileDebug&&(t="rethrow = rethrow || "+g.toString()+";\n"+t)),o.strict&&(t='"use strict";\n'+t),o.debug&&console.log(t),o.compileDebug&&o.filename&&(t=t+"\n//# sourceURL="+r+"\n");try{if(o.async)try{l=new Function("return (async function(){}).constructor;")()}catch(e){throw e instanceof SyntaxError?new Error("This environment does not support async/await"):e}else l=Function;e=new l(o.localsName+", escapeFn, include, rethrow",t)}catch(e){throw e instanceof SyntaxError&&(o.filename&&(e.message+=" in "+o.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint",o.async||(e.message+="\n",e.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),e}n=o.client?e:function(r){return e.apply(o.context,[r||d.createNullProtoObjWherePossible(),a,function(e,t){var n=d.shallowCopy(d.createNullProtoObjWherePossible(),r);return t&&(n=d.shallowCopy(n,t)),m(e,o)(n)},g])};if(o.filename&&"function"==typeof Object.defineProperty){var r=o.filename,l=u.basename(r,u.extname(r));try{Object.defineProperty(n,"name",{value:l,writable:!1,enumerable:!1,configurable:!0})}catch(e){}}return n},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,r=this.parseTemplateText(),o=this.opts.delimiter,a=this.opts.openDelimiter,i=this.opts.closeDelimiter;r&&r.length&&r.forEach(function(e,t){if(0===e.indexOf(a+o)&&0!==e.indexOf(a+o+o)&&(t=r[t+2])!=o+i&&t!="-"+o+i&&t!="_"+o+i)throw new Error('Could not find matching close tag for "'+e+'".');n.scanLine(e)})},parseTemplateText:function(){for(var e,t=this.templateText,n=this.regex,r=n.exec(t),o=[];r;)0!==(e=r.index)&&(o.push(t.substring(0,e)),t=t.slice(e)),o.push(r[0]),t=t.slice(r[0].length),r=n.exec(t);return t&&o.push(t),o},_addOutput:function(e){if(this.truncate&&(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var t=this.opts.delimiter,n=this.opts.openDelimiter,r=this.opts.closeDelimiter,o=e.split("\n").length-1;switch(e){case n+t:case n+t+"_":this.mode=y.modes.EVAL;break;case n+t+"=":this.mode=y.modes.ESCAPED;break;case n+t+"-":this.mode=y.modes.RAW;break;case n+t+"#":this.mode=y.modes.COMMENT;break;case n+t+t:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+e.replace(n+t+t,n+t)+'")\n';break;case t+t+r:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+e.replace(t+t+r,t+r)+'")\n';break;case t+r:case"-"+t+r:case"_"+t+r:this.mode==y.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case y.modes.EVAL:case y.modes.ESCAPED:case y.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case y.modes.EVAL:this.source+="    ; "+e+"\n";break;case y.modes.ESCAPED:this.source+="    ; __append(escapeFn("+v(e)+"))\n";break;case y.modes.RAW:this.source+="    ; __append("+v(e)+")\n";break;case y.modes.COMMENT:break;case y.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&o&&(this.currentLine+=o,this.source+="    ; __line = "+this.currentLine+"\n")}},c.escapeXML=d.escapeXML,c.__express=c.renderFile,c.VERSION=e,c.name="ejs","undefined"!=typeof window&&(window.ejs=c)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(e,t,r){function a(e,t){return o.apply(e,[t])}var n=/[|\\{}()[\]^$+*?.]/g,o=Object.prototype.hasOwnProperty,i=(r.escapeRegExpChars=function(e){return e?String(e).replace(n,"\\$&"):""},{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"}),s=/[&<>'"]/g;function c(e){return i[e]||e}function l(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}r.escapeXML=function(e){return null==e?"":String(e).replace(s,c)};try{"function"==typeof Object.defineProperty?Object.defineProperty(r.escapeXML,"toString",{value:l}):r.escapeXML.toString=l}catch(e){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}r.shallowCopy=function(e,t){if(t=t||{},null!=e)for(var n in t)a(t,n)&&"__proto__"!==n&&"constructor"!==n&&(e[n]=t[n]);return e},r.shallowCopyFromList=function(e,t,n){if(n=n||[],t=t||{},null!=e)for(var r=0;r<n.length;r++){var o=n[r];void 0!==t[o]&&a(t,o)&&"__proto__"!==o&&"constructor"!==o&&(e[o]=t[o])}return e},r.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},remove:function(e){delete this._data[e]},reset:function(){this._data={}}},r.hyphenToCamel=function(e){return e.replace(/-[a-z]/g,function(e){return e[1].toUpperCase()})},r.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}},r.hasOwnOnlyObject=function(e){var t,n=r.createNullProtoObjWherePossible();for(t in e)a(e,t)&&(n[t]=e[t]);return n}},{}],3:[function(e,t,n){},{}],4:[function(e,t,l){!function(o){function a(e,t){for(var n=0,r=e.length-1;0<=r;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:o.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=a(i(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===r(e,-1);return(e=(e=a(i(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),a=Math.min(r.length,o.length),i=a,s=0;s<a;s++)if(r[s]!==o[s]){i=s;break}for(var c=[],s=i;s<r.length;s++)c.push("..");return(c=c.concat(o.slice(i))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,o=e.length-1;1<=o;--o)if(47===e.charCodeAt(o)){if(!r){n=o;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"/":e.slice(0,n)},l.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,n=-1,r=!0,o=e.length-1;0<=o;--o)if(47===e.charCodeAt(o)){if(!r){t=o+1;break}}else-1===n&&(r=!1,n=o+1);return-1===n?"":e.slice(t,n)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,a=0,i=e.length-1;0<=i;--i){var s=e.charCodeAt(i);if(47===s){if(o)continue;n=i+1;break}-1===r&&(o=!1,r=i+1),46===s?-1===t?t=i:1!==a&&(a=1):-1!==t&&(a=-1)}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}.call(this,e("_process"))},{_process:5}],5:[function(e,t,n){var r,o,t=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){for(var e=s(f),t=(u=!0,l.length);t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,!function(t){if(o===clearTimeout)return clearTimeout(t);if((o===i||!o)&&clearTimeout)return(o=clearTimeout)(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],6:[function(e,t,n){t.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.9",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"npx jake test"}}},{}]},{},[1])(1);Object.defineProperty(r,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.destroy=function(){};var Ue=r;function r(e){this.adapter=e=void 0===e?{}:e}i.attachTo=function(e){return new i(e,new Ue({}))},i.prototype.initialize=function(){},i.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},i.prototype.initialSyncWithDOM=function(){},i.prototype.destroy=function(){this.foundation.destroy()},i.prototype.listen=function(e,t,n){this.root.addEventListener(e,t,n)},i.prototype.unlisten=function(e,t,n){this.root.removeEventListener(e,t,n)},i.prototype.emit=function(e,t,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(e,{bubbles:n,detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,n,!1,t),this.root.dispatchEvent(r)};var Be=i;function i(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=e,this.initialize.apply(this,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}(n))),this.foundation=void 0===t?this.getDefaultFoundation():t,this.foundation.init(),this.initialSyncWithDOM()}function ze(e){return!!function(e){void 0===e&&(e=window);var t=!1;try{var n={get passive(){return!(t=!0)}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch(e){t=!1}return t}(e=void 0===e?window:e)&&{passive:!0}}var He,Ge={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Ve={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},qe={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},We=["touchstart","pointerdown","mousedown","keydown"],Je=["touchend","pointerup","mouseup","contextmenu"],Xe=[],Ye=(Y(x,He=Ue),Object.defineProperty(x,"cssClasses",{get:function(){return Ge},enumerable:!1,configurable:!0}),Object.defineProperty(x,"strings",{get:function(){return Ve},enumerable:!1,configurable:!0}),Object.defineProperty(x,"numbers",{get:function(){return qe},enumerable:!1,configurable:!0}),Object.defineProperty(x,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),x.prototype.init=function(){var e,t,n=this,r=this.supportsPressRipple();this.registerRootHandlers(r),r&&(e=(r=x.cssClasses).ROOT,t=r.UNBOUNDED,requestAnimationFrame(function(){n.adapter.addClass(e),n.adapter.isUnbounded()&&(n.adapter.addClass(t),n.layoutInternal())}))},x.prototype.destroy=function(){var e,t,n,r=this;this.supportsPressRipple()&&(this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(x.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(x.cssClasses.FG_DEACTIVATION)),t=(e=x.cssClasses).ROOT,n=e.UNBOUNDED,requestAnimationFrame(function(){r.adapter.removeClass(t),r.adapter.removeClass(n),r.removeCssVars()})),this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},x.prototype.activate=function(e){this.activateImpl(e)},x.prototype.deactivate=function(){this.deactivateImpl()},x.prototype.layout=function(){var e=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){e.layoutInternal(),e.layoutFrame=0})},x.prototype.setUnbounded=function(e){var t=x.cssClasses.UNBOUNDED;e?this.adapter.addClass(t):this.adapter.removeClass(t)},x.prototype.handleFocus=function(){var e=this;requestAnimationFrame(function(){return e.adapter.addClass(x.cssClasses.BG_FOCUSED)})},x.prototype.handleBlur=function(){var e=this;requestAnimationFrame(function(){return e.adapter.removeClass(x.cssClasses.BG_FOCUSED)})},x.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},x.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},x.prototype.registerRootHandlers=function(e){var t,n;if(e){try{for(var r=Z(We),o=r.next();!o.done;o=r.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},x.prototype.registerDeactivationHandlers=function(e){var t,n;if("keydown"===e.type)this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var r=Z(Je),o=r.next();!o.done;o=r.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},x.prototype.deregisterRootHandlers=function(){var t,e;try{for(var n=Z(We),r=n.next();!r.done;r=n.next()){var o=r.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},x.prototype.deregisterDeactivationHandlers=function(){var t,e;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=Z(Je),r=n.next();!r.done;r=n.next()){var o=r.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},x.prototype.removeCssVars=function(){var t=this,n=x.strings;Object.keys(n).forEach(function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)})},x.prototype.activateImpl=function(e){var t,n,r=this;this.adapter.isSurfaceDisabled()||((t=this.activationState).isActivated||((n=this.previousActivationEvent)&&void 0!==e&&n.type!==e.type||(t.isActivated=!0,t.isProgrammatic=void 0===e,t.activationEvent=e,t.wasActivatedByPointer=!t.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&0<Xe.length&&Xe.some(function(e){return r.adapter.containsEventTarget(e)})?this.resetActivationState():(void 0!==e&&(Xe.push(e.target),this.registerDeactivationHandlers(e)),t.wasElementMadeActive=this.checkElementMadeActive(e),t.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){Xe=[],t.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(t.wasElementMadeActive=r.checkElementMadeActive(e),t.wasElementMadeActive&&r.animateActivation()),t.wasElementMadeActive||(r.activationState=r.defaultActivationState())})))))},x.prototype.checkElementMadeActive=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},x.prototype.animateActivation=function(){var e,t,n=this,r=x.strings,o=r.VAR_FG_TRANSLATE_START,r=r.VAR_FG_TRANSLATE_END,a=x.cssClasses,i=a.FG_DEACTIVATION,a=a.FG_ACTIVATION,s=x.numbers.DEACTIVATION_TIMEOUT_MS,c=(this.layoutInternal(),""),l="";this.adapter.isUnbounded()||(e=(t=this.getFgTranslationCoordinates()).startPoint,t=t.endPoint,c=e.x+"px, "+e.y+"px",l=t.x+"px, "+t.y+"px"),this.adapter.updateCssVariable(o,c),this.adapter.updateCssVariable(r,l),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(i),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},s)},x.prototype.getFgTranslationCoordinates=function(){var e=this.activationState,t=e.activationEvent,e=e.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var r,o=t.x,t=t.y,o=o+n.left,t=t+n.top;return n="touchstart"===e.type?(r=e.changedTouches[0].pageX-o,e.changedTouches[0].pageY-t):(r=e.pageX-o,e.pageY-t),{x:r,y:n}}(t,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2};return{startPoint:e={x:e.x-this.initialSize/2,y:e.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},x.prototype.runDeactivationUXLogicIfReady=function(){var e=this,t=x.cssClasses.FG_DEACTIVATION,n=this.activationState,r=n.hasDeactivationUXRun,n=n.isActivated;!r&&n||!this.activationAnimationHasEnded||(this.rmBoundedActivationClasses(),this.adapter.addClass(t),this.fgDeactivationRemovalTimer=setTimeout(function(){e.adapter.removeClass(t)},qe.FG_DEACTIVATION_MS))},x.prototype.rmBoundedActivationClasses=function(){var e=x.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},x.prototype.resetActivationState=function(){var e=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return e.previousActivationEvent=void 0},x.numbers.TAP_DELAY_MS)},x.prototype.deactivateImpl=function(){var e,t=this,n=this.activationState;n.isActivated&&(e=o({},n),n.isProgrammatic?(requestAnimationFrame(function(){t.animateDeactivation(e)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){t.activationState.hasDeactivationUXRun=!0,t.animateDeactivation(e),t.resetActivationState()})))},x.prototype.animateDeactivation=function(e){var t=e.wasActivatedByPointer,e=e.wasElementMadeActive;(t||e)&&this.runDeactivationUXLogicIfReady()},x.prototype.layoutInternal=function(){var e=this,t=(this.frame=this.adapter.computeBoundingRect(),Math.max(this.frame.height,this.frame.width)),e=(this.maxRadius=this.adapter.isUnbounded()?t:Math.sqrt(Math.pow(e.frame.width,2)+Math.pow(e.frame.height,2))+x.numbers.PADDING,Math.floor(t*x.numbers.INITIAL_ORIGIN_SCALE));this.adapter.isUnbounded()&&e%2!=0?this.initialSize=e-1:this.initialSize=e,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},x.prototype.updateLayoutCssVars=function(){var e=x.strings,t=e.VAR_FG_SIZE,n=e.VAR_LEFT,r=e.VAR_TOP,e=e.VAR_FG_SCALE;this.adapter.updateCssVariable(t,this.initialSize+"px"),this.adapter.updateCssVariable(e,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(n,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(r,this.unboundedCoords.top+"px"))},x);function x(e){var t=He.call(this,o(o({},x.defaultAdapter),e))||this;return t.activationAnimationHasEnded=!1,t.activationTimer=0,t.fgDeactivationRemovalTimer=0,t.fgScale="0",t.frame={width:0,height:0},t.initialSize=0,t.layoutFrame=0,t.maxRadius=0,t.unboundedCoords={left:0,top:0},t.activationState=t.defaultActivationState(),t.activationTimerCallback=function(){t.activationAnimationHasEnded=!0,t.runDeactivationUXLogicIfReady()},t.activateHandler=function(e){t.activateImpl(e)},t.deactivateHandler=function(){t.deactivateImpl()},t.focusHandler=function(){t.handleFocus()},t.blurHandler=function(){t.handleBlur()},t.resizeHandler=function(){t.layout()},t}Y(s,Ze=Be),s.attachTo=function(e,t){void 0===t&&(t={isUnbounded:void 0});e=new s(e);return void 0!==t.isUnbounded&&(e.unbounded=t.isUnbounded),e},s.createAdapter=function(n){return{addClass:function(e){return n.root.classList.add(e)},browserSupportsCssVars:function(){var e=window,t=void 0;if(void 0===t&&(t=!1),e=e.CSS,"boolean"==typeof Fe&&!t)return Fe;if(!(e&&"function"==typeof e.supports))return!1;var n=e.supports("--css-vars","yes"),e=e.supports("(--css-vars: yes)")&&e.supports("color","#00000000"),n=n||e;return t||(Fe=n),n},computeBoundingRect:function(){return n.root.getBoundingClientRect()},containsEventTarget:function(e){return n.root.contains(e)},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t,ze())},deregisterInteractionHandler:function(e,t){return n.root.removeEventListener(e,t,ze())},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return e=n.root,t=":active",(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t);var e,t},isSurfaceDisabled:function(){return Boolean(n.disabled)},isUnbounded:function(){return Boolean(n.unbounded)},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,ze())},registerInteractionHandler:function(e,t){return n.root.addEventListener(e,t,ze())},registerResizeHandler:function(e){return window.addEventListener("resize",e)},removeClass:function(e){return n.root.classList.remove(e)},updateCssVariable:function(e,t){return n.root.style.setProperty(e,t)}}},Object.defineProperty(s.prototype,"unbounded",{get:function(){return Boolean(this.isUnbounded)},set:function(e){this.isUnbounded=Boolean(e),this.setUnbounded()},enumerable:!1,configurable:!0}),s.prototype.activate=function(){this.foundation.activate()},s.prototype.deactivate=function(){this.foundation.deactivate()},s.prototype.layout=function(){this.foundation.layout()},s.prototype.getDefaultFoundation=function(){return new Ye(s.createAdapter(this))},s.prototype.initialSyncWithDOM=function(){var e=this.root;this.isUnbounded="mdcRippleIsUnbounded"in e.dataset},s.prototype.setUnbounded=function(){this.foundation.setUnbounded(Boolean(this.isUnbounded))};var Ze,Ke=s;function s(){var e=null!==Ze&&Ze.apply(this,arguments)||this;return e.disabled=!1,e}var Qe={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}};function et(e,t){var n,r;return r=e,Boolean(r.document)&&"function"==typeof r.document.createElement&&t in Qe?(r=e.document.createElement("div"),n=(e=Qe[t]).standard,e=e.prefixed,n in r.style?n:e):t}var tt,c={CLOSED_CLASS:"mdc-linear-progress--closed",CLOSED_ANIMATION_OFF_CLASS:"mdc-linear-progress--closed-animation-off",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed",ANIMATION_READY_CLASS:"mdc-linear-progress--animation-ready"},l={ARIA_HIDDEN:"aria-hidden",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},nt=.8367142,rt=2.00611057,ot=.37651913,at=.84386165,it=1.60277782,st=(Y(k,tt=Ue),Object.defineProperty(k,"cssClasses",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(k,"strings",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(k,"defaultAdapter",{get:function(){return{addClass:function(){},attachResizeObserver:function(){return null},forceLayout:function(){},getWidth:function(){return 0},hasClass:function(){return!1},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},setStyle:function(){},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!1,configurable:!0}),k.prototype.init=function(){var i=this;this.determinate=!this.adapter.hasClass(c.INDETERMINATE_CLASS),this.adapter.addClass(c.ANIMATION_READY_CLASS),this.progress=0,this.buffer=1,this.observer=this.adapter.attachResizeObserver(function(e){var t,n;if(!i.determinate)try{for(var r=Z(e),o=r.next();!o.done;o=r.next()){var a=o.value;a.contentRect&&i.calculateAndSetDimensions(a.contentRect.width)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),!this.determinate&&this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth())},k.prototype.setDeterminate=function(e){if(this.determinate=e,this.determinate)return this.adapter.removeClass(c.INDETERMINATE_CLASS),this.adapter.setAttribute(l.ARIA_VALUENOW,this.progress.toString()),this.adapter.setAttribute(l.ARIA_VALUEMAX,"1"),this.adapter.setAttribute(l.ARIA_VALUEMIN,"0"),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth()),this.adapter.addClass(c.INDETERMINATE_CLASS),this.adapter.removeAttribute(l.ARIA_VALUENOW),this.adapter.removeAttribute(l.ARIA_VALUEMAX),this.adapter.removeAttribute(l.ARIA_VALUEMIN),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},k.prototype.isDeterminate=function(){return this.determinate},k.prototype.setProgress=function(e){this.progress=e,this.determinate&&(this.setPrimaryBarProgress(e),this.adapter.setAttribute(l.ARIA_VALUENOW,e.toString()))},k.prototype.getProgress=function(){return this.progress},k.prototype.setBuffer=function(e){this.buffer=e,this.determinate&&this.setBufferBarProgress(e)},k.prototype.getBuffer=function(){return this.buffer},k.prototype.open=function(){this.adapter.removeClass(c.CLOSED_CLASS),this.adapter.removeClass(c.CLOSED_ANIMATION_OFF_CLASS),this.adapter.removeAttribute(l.ARIA_HIDDEN)},k.prototype.close=function(){this.adapter.addClass(c.CLOSED_CLASS),this.adapter.setAttribute(l.ARIA_HIDDEN,"true")},k.prototype.isClosed=function(){return this.adapter.hasClass(c.CLOSED_CLASS)},k.prototype.handleTransitionEnd=function(){this.adapter.hasClass(c.CLOSED_CLASS)&&this.adapter.addClass(c.CLOSED_ANIMATION_OFF_CLASS)},k.prototype.destroy=function(){tt.prototype.destroy.call(this),this.observer&&this.observer.disconnect()},k.prototype.restartAnimation=function(){this.adapter.removeClass(c.ANIMATION_READY_CLASS),this.adapter.forceLayout(),this.adapter.addClass(c.ANIMATION_READY_CLASS)},k.prototype.setPrimaryBarProgress=function(e){var e="scaleX("+e+")",t="undefined"!=typeof window?et(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(t,e)},k.prototype.setBufferBarProgress=function(e){this.adapter.setBufferBarStyle(l.FLEX_BASIS,100*e+"%")},k.prototype.calculateAndSetDimensions=function(e){var t=e*nt,n=e*rt,r=e*ot,o=e*at,e=e*it;this.adapter.setStyle("--mdc-linear-progress-primary-half",t+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-half-neg",-t+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full",n+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full-neg",-n+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter",r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg",-r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half",o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg",-o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full",e+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg",-e+"px"),this.restartAnimation()},k);function k(e){e=tt.call(this,o(o({},k.defaultAdapter),e))||this;return e.observer=null,e}Y(E,ct=Be),E.attachTo=function(e){return new E(e)},Object.defineProperty(E.prototype,"determinate",{set:function(e){this.foundation.setDeterminate(e)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"progress",{set:function(e){this.foundation.setProgress(e)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffer",{set:function(e){this.foundation.setBuffer(e)},enumerable:!1,configurable:!0}),E.prototype.open=function(){this.foundation.open()},E.prototype.close=function(){this.foundation.close()},E.prototype.initialSyncWithDOM=function(){var e=this;this.root.addEventListener("transitionend",function(){e.foundation.handleTransitionEnd()})},E.prototype.getDefaultFoundation=function(){var r=this;return new st({addClass:function(e){r.root.classList.add(e)},forceLayout:function(){r.root.getBoundingClientRect()},setBufferBarStyle:function(e,t){var n=r.root.querySelector(st.strings.BUFFER_BAR_SELECTOR);n&&n.style.setProperty(e,t)},setPrimaryBarStyle:function(e,t){var n=r.root.querySelector(st.strings.PRIMARY_BAR_SELECTOR);n&&n.style.setProperty(e,t)},hasClass:function(e){return r.root.classList.contains(e)},removeAttribute:function(e){r.root.removeAttribute(e)},removeClass:function(e){r.root.classList.remove(e)},setAttribute:function(e,t){r.root.setAttribute(e,t)},setStyle:function(e,t){r.root.style.setProperty(e,t)},attachResizeObserver:function(e){var t=window.ResizeObserver;return t?((t=new t(e)).observe(r.root),t):null},getWidth:function(){return r.root.offsetWidth}})};var ct,lt=E;function E(){return null!==ct&&ct.apply(this,arguments)||this}var T={_user:null,_system:null,_modules:null,_events:{},getPageContent:function(){return S["menu/main.html"]},init:function(){600<window.screen.width&&"1"===localStorage.getItem("core3_drawer_toggle")&&($(".page-menu").addClass("drawer-toggle"),$(".page-menu .menu-drawer").css("transition","none 0s ease 0s"),$(".page-menu .mdc-top-app-bar").css("transition","none 0s ease 0s"));var e=localStorage.getItem("core3_conf");if("string"==typeof e)try{"object"===u((e=JSON.parse(e)).theme)&&this._setTheme(e.theme)}catch(e){}T.preloader.show();var t,n=G(document.querySelectorAll(".page-menu .mdc-button"));try{for(n.s();!(t=n.n()).done;){var r=t.value;new Ke(r)}}catch(e){n.e(e)}finally{n.f()}T._initInstall(),$(".page-menu .main-content .main-wrapper").html(""),$(document).ajaxSend(function(e,t,n){0===n.url.indexOf(n.url)&&(n=a.getAccessToken())&&t.setRequestHeader("Access-Token",n)}),$.ajax({url:I.options.basePath+"/cabinet",method:"GET",dataType:"json",success:function(e){"object"!==u(e.user)||"number"!=typeof e.user.id||"string"!=typeof e.user.login||"string"!=typeof e.user.name||"string"!=typeof e.user.avatar||"object"!==u(e.system)||"string"!=typeof e.system.name||"object"!==u(e.modules)?(console.warn(e),CoreUI.alert.danger("Ошибка","Попробуйте обновить страницу или обратитесь к администратору")):(T._user=e.user,T._system=e.system,T._modules=e.modules,T._renderMenu(),T._initComponents(e.system.conf),T.preloader.hide(),e=""!==location.hash.substring(1)&&"/"!==location.hash.substring(1)?"/mod"+location.hash.substring(1):"/home",T.load(e))},error:function(e){403===e.status?(a.clearAccessToken(),I.viewPage("auth")):0===e.status?CoreUI.alert.danger("Ошибка","Проверьте подключение к интернету"):CoreUI.alert.danger("Ошибка","Обновите приложение или обратитесь к администратору")}})},toggleFullscreen:function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},reload:function(){T.load("/mod"+location.hash.substring(1))},load:function(l){l=l||"/home",T.preloader.show(),$.ajax({url:I.options.basePath+l,method:"GET",dataType:"text",success:function(t,e,n){T.preloader.hide();var r=C.getParams(l),r=(T._setActiveModule(r.module,r.section),n.getResponseHeader("Content-type")),o=[];if(/^application\/json/.test(r))try{var a,i=JSON.parse(t),s=("object"===u(i)&&i.hasOwnProperty("_buffer")&&""!==i._buffer&&(o.push(i._buffer),delete i._buffer,a=[],$.each(i,function(e,t){a.push(t)}),i=a),T._renderContent(i));$.each(s,function(e,t){o.push(t)})}catch(e){o=[t],console.warn(e)}else o=[t];var c=$(".page-menu .main-content .main-wrapper");c.empty(),$.each(o,function(e,t){c.append(t)}),c.css({opacity:"0","margin-top":"15px"}).animate({marginTop:0,opacity:1},{duration:235,specialEasing:{width:"linear",height:"easeOutBounce"},complete:function(){$(this).css({opacity:"","margin-top":""})}}),T._trigger("shown.load.core3",this,[l])},error:function(e){T.preloader.hide(),403===e.status?(a.clearAccessToken(),I.viewPage("auth")):0===e.status?CoreUI.alert.danger("Ошибка","Проверьте подключение к интернету"):CoreUI.alert.danger("Ошибка","Обновите приложение или обратитесь к администратору")}})},loader:{show:function(e){if($("#loader")[0])return!1;$(".page-menu > header").append(S["menu/loader.html"]);var t=$("#loader .loader-progress");new lt(t[0]).determinate=!1},hide:function(){$("#loader").remove()}},preloader:{show:function(e){$("#preloader")[0]&&this.hide(),e="object"===u(e)?e:{},$(".page-menu").prepend(ejs.render(S["menu/preloader.html"],{text:e.text||"Загрузка..."}))},hide:function(){$("#preloader").fadeOut("fast",function(){$(this).remove()})}},on:function(e,t,n,r){"object"!==u(this._events[e])&&(this._events[e]=[]),this._events[e].push({context:n||this,callback:t,singleExec:r})},_renderContent:function(e){var t=[];if("string"==typeof e||"bigint"==typeof e||"number"==typeof e||"symbol"===u(e))t.push(e);else if(e instanceof Object){Array.isArray(e)||(e=[e]);for(var n,r=0;r<e.length;r++)"string"==typeof e[r]?t.push(e[r]):!Array.isArray(e[r])&&e[r].hasOwnProperty("component")&&"coreui"===e[r].component.substring(0,6)?(n=e[r].component.split(".")[1],CoreUI.hasOwnProperty(n)&&this.isObject(CoreUI[n])&&(n=CoreUI[n].create(e[r]),t.push(n.render()),this.on("shown.load.core3",n.initEvents,n,!0))):t.push(JSON.stringify(e[r]))}else t.push(JSON.stringify(e));return t},isObject:function(e){return"object"===u(e)&&!Array.isArray(e)&&null!==e},_trigger:function(e,t,n){if(this._events.hasOwnProperty(e)&&0<this._events[e].length)for(var r=0;r<this._events[e].length;r++){var o=this._events[e][r].callback;t=this._events[e][r].context||t,o.apply(t,n),this._events[e][r].singleExec&&(this._events[e].splice(r,1),r--)}},_renderMenu:function(){if($(".page-menu .system-title").text(T._system.name),"object"===u(T._system.conf)&&(localStorage.setItem("core3_conf",JSON.stringify(T._system.conf)),"object"===u(T._system.conf.theme)&&this._setTheme(T._system.conf.theme)),0<Object.values(T._modules).length){var e=C.getParams();$(".page-menu > aside .menu-list.level-1").empty(),$.each(T._modules,function(e,n){if("string"!=typeof n.name||!n.name||"string"!=typeof n.title||!n.title)return CoreUI.notice.danger("Не удалось показать некоторые модули из за ошибок!"),!0;n.index="index",!n.is_visible_index&&0<n.sections.length&&$.each(n.sections,function(e,t){return n.index=t.name,!1}),$(".page-menu > aside .menu-list.level-1").append(ejs.render(S["menu/module.html"],{module:n})),$(".page-menu > aside .core-module.core-module-"+n.name).hover(function(){var e=$(".level-2",this);e[0]&&e.css("top",$(this).offset().top)})}),T._setActiveModule(e.module,e.section);var t,n=G(document.querySelectorAll(".page-menu .menu-list-item a"));try{for(n.s();!(t=n.n()).done;){var r=t.value;new Ke(r),$(r).on("click",function(e){var t;0!==e.button||e.ctrlKey||(e=$(this).data("module"),t=$(this).data("section"),location.hash.substring(1)==="/"+e+"/"+t&&(window.screen.width<600&&T._drawerToggle(),T.load("/mod/"+e+"/"+t)))})}}catch(e){n.e(e)}finally{n.f()}var o,a=G(document.querySelectorAll(".page-menu .menu-list-item .menu-icon-button"));try{for(a.s();!(o=a.n()).done;){var i=o.value;new Ke(i),$(i).on("click",function(){$(this).parent().parent().toggleClass("menu-item-nested-open")})}}catch(e){a.e(e)}finally{a.f()}}$(".page-menu .mdc-top-app-bar__section--align-end").empty(),$(".page-menu .mdc-top-app-bar__section--align-end").append(ejs.render(S["menu/navbar.html"],{user:T._user})),$(".page-menu .menu-logout").on("click",function(e){e.preventDefault(),CoreUI.alert.warning(Core._("Уверены, что хотите выйти?"),"",{buttons:[{text:Core._("Отмена")},{text:Core._("Да"),type:"warning",click:j.logout}]})}),$(".page-menu .open-menu, .page-menu .menu-drawer-scrim").on("click",function(){T._drawerToggle()}),$(".page-menu .module-home").on("click",function(e){0!==e.button||e.ctrlKey||(T.load("/home"),window.screen.width<600&&(T._drawerToggle(),console.log(11)))});var s,c=G(document.querySelectorAll(".page-menu .mdc-ripple-surface"));try{for(c.s();!(s=c.n()).done;){var l=s.value;new Ke(l)}}catch(e){c.e(e)}finally{c.f()}T._initSwipe($(".page-menu .menu-drawer-swipe")[0],function(e){("right"===e||"left"===e)&&T._drawerToggle()})},_initComponents:function(e){CoreUI.table.setSettings({lang:e.lang}),CoreUI.form.setSettings({lang:e.lang})},_setActiveModule:function(e,t){$(".page-menu > aside .core-module").removeClass("menu-module-index--activated").removeClass("menu-module--activated"),$(".page-menu > aside .core-module-section").removeClass("menu-module-section--activated"),$(".page-menu > aside .core-module-section-index").removeClass("menu-module-section--activated"),$(".page-menu > aside .core-module-"+e).addClass("menu-module--activated").addClass("menu-item-nested-open"),"index"===t&&($(".page-menu > aside .core-module.core-module-"+e).addClass("menu-module-index--activated"),$(".page-menu > aside .core-module-"+e+" .core-module-section-index").addClass("menu-module-section--activated")),$(".page-menu > aside .core-module-"+e+"-"+t).addClass("menu-module-section--activated"),e||t?$(".page-menu .module-home").removeClass("active"):$(".page-menu .module-home").addClass("active");n=e,r=t,o=[],$.each(T._modules,function(e,t){if(t.name===n)return o.push(t.title),t.sections&&0<t.sections.length&&$.each(t.sections,function(e,t){if(t.name===r)return o.push(t.title),!1}),!1});var n,r,o,e=o;$("header .mdc-top-app-bar__title").text(e[0]||""),$("header .mdc-top-app-bar__subtitle").text(e[1]||"");t=((t=e.hasOwnProperty(0)?(e.hasOwnProperty(1)?e[1]+" - ":"")+e[0]:"")?t+" - ":"")+T._system.name;$("head title").text(t)},_initSwipe:function(r,o){document.addEventListener("touchstart",function(e){a=e.touches[0].clientX,i=e.touches[0].clientY},!1),document.addEventListener("touchmove",function(e){var t,n;a&&i&&(t=e.touches[0].clientX,n=e.touches[0].clientY,t=a-t,n=i-n,Math.abs(t)>Math.abs(n)?0<t?r===e.target&&o("left"):r===e.target&&o("right"):0<n?r===e.target&&o("up"):r===e.target&&o("down"),i=a=null)},!1);var a=null,i=null},_drawerToggle:function(){$(".page-menu .menu-drawer").css("transition",""),$(".page-menu .mdc-top-app-bar").css("transition","");var e=$(".page.page-menu");e.hasClass("drawer-toggle")?localStorage.setItem("core3_drawer_toggle",0):localStorage.setItem("core3_drawer_toggle",1),e.toggleClass("drawer-toggle")},_initInstall:function(){function e(e){e.preventDefault();var t=$(".page-menu .install-button");e.platforms.includes("web")&&(t.show(),t.on("click",function(){e.prompt()})),e.userChoice.then(function(e){switch(e.outcome){case"accepted":t.hide();break;case"dismissed":t.css("opacity","0.7")}})}I.install.event?e(I.install.event):I.install.promise.then(e)},_setTheme:function(e){var t=[];"object"===u(e.main)&&"string"==typeof e.main.bg_color&&e.main.bg_color&&t.push("--menu-drawer: "+e.main.bg_color+";"),"object"===u(e.main)&&"string"==typeof e.main.text_color&&e.main.text_color&&t.push("--menu-drawer-text:"+e.main.text_color+";"),0<t.length&&(e=":root{"+t.join("")+"}",(t=$("head #theme-main"))[0]&&e===t.html()||(t[0]&&t.remove(),$("head").append('<style id="theme-main">'+e+"</style>")))}},I={activePage:null,options:{basePath:"core3"},install:{event:null,promise:null},_hashChangeCallbacks:[],viewPage:function(e){var t,n;Core[e]?(t=Core[e].getPageContent(),$(".main").append('<div class="page page-'+e+'">'+t+"</div>"),Core[e].init(),I.activePage=e,(n=$(".main > .page:not(.page-"+e+")"))[0]?n.fadeOut("fast",function(){n.remove(),$(".main > .page-"+e).fadeIn("fast")}):$(".main > .page-"+e).fadeIn("fast")):CoreUI.alert.danger("Ошибка","Страница "+e+" не найдена")},on:function(e,t){"hashchange"===e&&I._hashChangeCallbacks.push(t)},hashChange:function(){if(0<I._hashChangeCallbacks.length)for(var e=0;e<I._hashChangeCallbacks.length;e++)I._hashChangeCallbacks[e]()},_:function(e,t){return e}};document.addEventListener("DOMContentLoaded",function(){I.on("hashchange",function(){$(".page-auth")[0]&&j.viewActualContainer(),$(".page.page-menu")[0]&&(window.screen.width<600&&$(".page.page-menu.drawer-toggle")[0]&&T._drawerToggle(),T.load("/mod"+location.hash.substring(1)))}),I.install.promise=new Promise(function(t,e){window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),I.install.event=e,t(e)})}),a.getAccessToken()?a.refreshToken(function(){a.initRefresh(),I.viewPage("menu")},function(){I.viewPage("auth")}):I.viewPage("auth"),"onhashchange"in window&&(window.onhashchange=I.hashChange),alert=function(e){CoreUI.alert.create({type:"warning",message:e})}});const ut=(e,t)=>{var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},dt=(e,t,n,r,o,a)=>ut(((e,t)=>e<<t|e>>>32-t)(ut(ut(t,e),ut(r,a)),o),n),O=(e,t,n,r,o,a,i)=>dt(t&n|~t&r,e,t,o,a,i),P=(e,t,n,r,o,a,i)=>dt(t&r|n&~r,e,t,o,a,i),L=(e,t,n,r,o,a,i)=>dt(t^n^r,e,t,o,a,i),R=(e,t,n,r,o,a,i)=>dt(n^(t|~r),e,t,o,a,i),ft=(e,t,n)=>{var[e,r,o,a]=e,e=O(e,r,o,a,t[n+0],7,-680876936),a=O(a,e,r,o,t[n+1],12,-389564586),o=O(o,a,e,r,t[n+2],17,606105819),r=O(r,o,a,e,t[n+3],22,-1044525330);return e=O(e,r,o,a,t[n+4],7,-176418897),a=O(a,e,r,o,t[n+5],12,1200080426),o=O(o,a,e,r,t[n+6],17,-1473231341),r=O(r,o,a,e,t[n+7],22,-45705983),e=O(e,r,o,a,t[n+8],7,1770035416),a=O(a,e,r,o,t[n+9],12,-1958414417),o=O(o,a,e,r,t[n+10],17,-42063),r=O(r,o,a,e,t[n+11],22,-1990404162),e=O(e,r,o,a,t[n+12],7,1804603682),a=O(a,e,r,o,t[n+13],12,-40341101),o=O(o,a,e,r,t[n+14],17,-1502002290),[e,O(r,o,a,e,t[n+15],22,1236535329),o,a]},pt=(e,t,n)=>{var[e,r,o,a]=e,e=P(e,r,o,a,t[n+1],5,-165796510),a=P(a,e,r,o,t[n+6],9,-1069501632),o=P(o,a,e,r,t[n+11],14,643717713),r=P(r,o,a,e,t[n],20,-373897302);return e=P(e,r,o,a,t[n+5],5,-701558691),a=P(a,e,r,o,t[n+10],9,38016083),o=P(o,a,e,r,t[n+15],14,-660478335),r=P(r,o,a,e,t[n+4],20,-405537848),e=P(e,r,o,a,t[n+9],5,568446438),a=P(a,e,r,o,t[n+14],9,-1019803690),o=P(o,a,e,r,t[n+3],14,-187363961),r=P(r,o,a,e,t[n+8],20,1163531501),e=P(e,r,o,a,t[n+13],5,-1444681467),a=P(a,e,r,o,t[n+2],9,-51403784),o=P(o,a,e,r,t[n+7],14,1735328473),[e,P(r,o,a,e,t[n+12],20,-1926607734),o,a]},ht=(e,t,n)=>{var[e,r,o,a]=e,e=L(e,r,o,a,t[n+5],4,-378558),a=L(a,e,r,o,t[n+8],11,-2022574463),o=L(o,a,e,r,t[n+11],16,1839030562),r=L(r,o,a,e,t[n+14],23,-35309556);return e=L(e,r,o,a,t[n+1],4,-1530992060),a=L(a,e,r,o,t[n+4],11,1272893353),o=L(o,a,e,r,t[n+7],16,-155497632),r=L(r,o,a,e,t[n+10],23,-1094730640),e=L(e,r,o,a,t[n+13],4,681279174),a=L(a,e,r,o,t[n],11,-358537222),o=L(o,a,e,r,t[n+3],16,-722521979),r=L(r,o,a,e,t[n+6],23,76029189),e=L(e,r,o,a,t[n+9],4,-640364487),a=L(a,e,r,o,t[n+12],11,-421815835),o=L(o,a,e,r,t[n+15],16,530742520),[e,L(r,o,a,e,t[n+2],23,-995338651),o,a]},mt=(e,t,n)=>{var[e,r,o,a]=e,e=R(e,r,o,a,t[n],6,-198630844),a=R(a,e,r,o,t[n+7],10,1126891415),o=R(o,a,e,r,t[n+14],15,-1416354905),r=R(r,o,a,e,t[n+5],21,-57434055);return e=R(e,r,o,a,t[n+12],6,1700485571),a=R(a,e,r,o,t[n+3],10,-1894986606),o=R(o,a,e,r,t[n+10],15,-1051523),r=R(r,o,a,e,t[n+1],21,-2054922799),e=R(e,r,o,a,t[n+8],6,1873313359),a=R(a,e,r,o,t[n+15],10,-30611744),o=R(o,a,e,r,t[n+6],15,-1560198380),r=R(r,o,a,e,t[n+13],21,1309151649),e=R(e,r,o,a,t[n+4],6,-145523070),a=R(a,e,r,o,t[n+11],10,-1120210379),o=R(o,a,e,r,t[n+2],15,718787259),[e,R(r,o,a,e,t[n+9],21,-343485551),o,a]},gt=(o,e)=>{o[e>>5]|=128<<e%32,o[14+(e+64>>>9<<4)]=e;let t=[ft,pt,ht,mt];return Array.from({length:Math.floor(o.length/16)+1},(e,t)=>16*t).reduce((n,r)=>t.reduce((e,t)=>t(e,o,r),n.slice()).map((e,t)=>ut(e,n[t])),[1732584193,-271733879,-1732584194,271733878])},vt=r=>Array(4*r.length).fill(8).reduce((e,t,n)=>e+String.fromCharCode(r[n*t>>5]>>>n*t%32&255),""),yt=e=>Array.from(e).map(e=>e.charCodeAt(0)).reduce((e,t,n)=>{let r=e.slice();return r[8*n>>5]|=(255&t)<<8*n%32,r},[]),bt=e=>vt(gt(yt(e),8*e.length)),wt=(e,t)=>{let n=yt(e),r=Array(16).fill(909522486),o=Array(16).fill(1549556828);return(n=16<n.length?gt(n,8*e.length):n).forEach((e,t)=>{r[t]=909522486^e,o[t]=1549556828^e}),vt(gt(o.concat(gt(r.concat(yt(t)),512+8*t.length)),640))},_t=e=>{const r=e=>"0123456789abcdef".charAt(e);return Array.from(e).map(e=>e.charCodeAt(0)).reduce((e,t,n)=>e+r(t>>>4&15)+r(15&t),"")},At=e=>{if("string"!=typeof e)throw new TypeError("parameter ‘unicodeString’ is not a string");const t=e=>e.charCodeAt(0);return e.replace(/[\u0080-\u07ff]/g,e=>String.fromCharCode(192|t(e)>>6,128|63&t(e))).replace(/[\u0800-\uffff]/g,e=>String.fromCharCode(224|t(e)>>12,128|t(e)>>6&63,128|63&t(e)))},Ct=e=>bt(At(e)),St=(e,t)=>wt(At(e),At(t));var xt,kt=(e,t,n)=>{return t?n?St(t,e):(t=t,r=e,_t(St(t,r))):n?Ct(e):(t=e,_t(Ct(t)));var r},j={getPageContent:function(){return S["auth/main.html"]},init:function(){var e,t=this,n=G(document.querySelectorAll(".page-auth .mdc-button"));try{for(n.s();!(e=n.n()).done;){var r=e.value;new Ke(r)}}catch(e){n.e(e)}finally{n.f()}$(".container-login form").on("submit",function(){return j.login(this),!1}),$(".container-registration form").on("submit",function(){return j.registration(this),!1});var o=localStorage.getItem("core3_conf");if("string"==typeof o)try{"string"==typeof(o=JSON.parse(o)).name&&$("head title").text(o.name),"string"==typeof o.logo&&this._setLogo(o.logo),"object"===u(o.theme)&&this._setTheme(o.theme)}catch(e){}j.loadConfig().then(function(e){localStorage.setItem("core3_conf",JSON.stringify(e)),"string"==typeof e.name&&$("head title").text(e.name),"string"==typeof e.logo?t._setLogo(e.logo):t._setLogo(""),"object"===u(e.theme)&&t._setTheme(e.theme)}),j.viewActualContainer();function a(e){e.preventDefault();var t=$(".page-auth .install-button");e.platforms.includes("web")&&(t.show(),t.on("click",function(){e.prompt()})),e.userChoice.then(function(e){"accepted"===e.outcome&&t.hide()})}I.install.event?a(I.install.event):I.install.promise.then(a)},viewActualContainer:function(){var e=C.getParams().module;-1===["login","registration","registration_complete"].indexOf(e)&&(e="login"),j._viewContainer(e)},preloader:function(e){var t=$(".page-auth button[type=submit]:visible");switch(e){case"show":t.attr("disabled","disabled"),0===t.find(".spinner-border").length&&t.prepend('<div class="spinner-border spinner-border-sm"></div> ');break;case"hide":t.find(".spinner-border").remove(),t.removeAttr("disabled")}},loadConfig:function(){return new Promise(function(t,e){$.ajax({url:I.options.basePath+"/conf",method:"GET",dataType:"json",success:function(e){t(e)}})})},login:(xt=F(M().mark(function e(t){var n;return M().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkValidity()){e.next=5;break}return $(t).addClass("was-validated"),e.abrupt("return",!1);case 5:$(t).removeClass("was-validated");case 6:return j.preloader("show"),$(".page-auth form .text-danger").text(""),e.next=10,C.getFingerprint();case 10:if(n=e.sent){e.next=15;break}return j.preloader("hide"),$(".page-auth form .text-danger").text("Не удалось получить отпечаток"),e.abrupt("return",!1);case 15:$.ajax({url:I.options.basePath+"/auth/login",method:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({login:$("[name=login]",t).val(),password:kt($("[name=password]",t).val()),fp:n}),success:function(e){"string"==typeof e.access_token&&"string"==typeof e.refresh_token&&e.access_token&&e.refresh_token?($(".page-auth form .text-danger").text(""),a.setAccessToken(e.access_token),a.setRefreshToken(e.refresh_token),$(".page-auth [name=login]").val(""),$(".page-auth [name=password]").val(""),I.viewPage("menu"),a.initRefresh()):(e=e.error_message||"Ошибка. Попробуйте позже, либо обратитесь к администратору",$(".page-auth form .text-danger").text(e))},error:function(e){j.preloader("hide");var t="";t=(t=0===e.status?"Проверьте подключение к интернету":e.responseJSON&&e.responseJSON.error_message?e.responseJSON.error_message:$("<div>"+e.responseText+"</div>").text())||"Ошибка. Попробуйте позже, либо обратитесь к администратору",$(".container-login .text-danger").text(t)},complete:function(e,t){j.preloader("hide")}});case 16:case"end":return e.stop()}},e)})),function(e){return xt.apply(this,arguments)}),logout:function(){$.ajax({url:I.options.basePath+"/auth/logout",method:"PUT",headers:{"Access-Token":a.getAccessToken()},dataType:"json",success:function(e){a.clearAccessToken(),a.deinitRefresh(),I.viewPage("auth"),$(".page-menu > aside .menu-logout").removeClass("mdc-list-item--activated")},error:function(e){0===e.status?CoreUI.alert.danger("Ошибка","Проверьте подключение к интернету"):CoreUI.alert.danger("Ошибка","Обновите приложение или обратитесь к администратору")}})},registration:function(e){if(!e.checkValidity())return $(e).addClass("was-validated"),!1;$(e).removeClass("was-validated"),j.preloader("show"),$(".container-registration .text-danger").text(""),$.ajax({url:I.options.basePath+"/auth/registration/email",dataType:"json",method:"POST",data:$(e).serialize(),success:function(e){j.preloader("hide"),"string"==typeof e.access_token&&"string"==typeof e.refresh_token&&e.access_token&&e.refresh_token?($(".page-auth form .text-danger").text(""),a.setAccessToken(e.access_token),a.setRefreshToken(e.refresh_token),$(".page-auth [name=login]").val(""),$(".page-auth [name=password]").val(""),I.viewPage("menu"),a.initRefresh()):(e=e.error_message||"Ошибка. Попробуйте позже, либо обратитесь к администратору",$(".container-registration .text-danger").text(e))},error:function(e){j.preloader("hide");var t="";t=(t=0===e.status?"Проверьте подключение к интернету":e.responseJSON&&e.responseJSON.error_message?e.responseJSON.error_message:$(e.responseText).text())||"Ошибка. Попробуйте позже, либо обратитесь к администратору",$(".container-registration .text-danger").text(t)},complete:function(e,t){j.preloader("hide")}})},registrationComplete:function(t){var e=$("[name=password]",t).val(),n=$("[name=password2]",t).val();if(!e||!n)return $(".container-registration_complete .text-danger").text("Введите пароль"),!1;if(e!==n)return $(".container-registration_complete .text-danger").text("Пароли не совпадают").show(),!1;j.preloader("show"),$(".container-registration_complete .text-danger").text("");e=C.getParams();$.ajax({url:I.options.basePath+"/auth/registration/email/check",dataType:"json",method:"POST",data:{key:e.query.key,password:kt(t.password.value)},success:function(e){j.preloader("hide"),"success"===e.status?($(".container-registration_complete .text-success").html(e.message).css("margin-bottom","50px"),$(t).hide()):$(".container-registration_complete .text-danger").text(e.error_message)},error:function(e){j.preloader("hide");var t="",t=0===e.status?"Ошибка. Проверьте подключение к интернету":"Ошибка. Попробуйте позже, либо обратитесь к администратору";$(".container-registration_complete .text-danger").text(t)}})},_viewContainer:function(e){$(".page-auth > .container").hide(),$(".page-auth > .container-"+e).fadeIn("fast")},_setLogo:function(e){e?$(".page-auth img.logo").attr("src",e).show():$(".page-auth img.logo").hide()},_setTheme:function(e){var t=[];"object"===u(e.login)&&"string"==typeof e.login.bg_video&&e.login.bg_video&&!$(".page.page-auth > video")[0]&&$(".page.page-auth").prepend('<video autoplay muted loop><source src="'+e.login.bg_video+'" type="video/mp4"></video>'),"object"===u(e.login)&&"string"==typeof e.login.bg_img&&e.login.bg_img?t.push('--login-bg:url("'+e.login.bg_img+'");'):"object"===u(e.login)&&"string"==typeof e.login.bg_color&&e.login.bg_color&&t.push("--login-bg: "+e.login.bg_color+";"),0<t.length&&(e=":root{"+t.join("")+"}",(t=$("head #theme-login"))[0]&&e===t.html()||(t[0]&&t.remove(),$("head").append('<style id="theme-login">'+e+"</style>")))}},Et=function(){return z(function e(t){if(U(this,e),"object"!==u(t)||Array.isArray(t)||null===t)throw new Error("Ошибка инициализации таблицы");this._table=t},[{key:"deleteSelected",value:function(e,t){var n=this._table.getSelectedRecordsId();0===n.length?CoreUI.notice.warning(D._("Нужно выбрать хотя бы одну запись")):CoreUI.alert.warning(D._("Удалить выбранные записи?"),D._("Количество: ")+" "+n.length,{buttons:[{text:D._("Отмена")},{text:D._("Да"),type:"warning",click:function(){D.menu.preloader.show(),$.ajax({url:e,method:"delete",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({id:n}),success:function(e){"success"!==e.status?CoreUI.alert.danger(e.error_message||D._("Ошибка. Попробуйте обновить страницу и выполнить удаление еще раз.")):(CoreUI.notice.defalt(D._("Выбранные записи удалены")),t&&"function"==typeof t&&t())},error:function(e){CoreUI.alert.danger(D._("Ошибка. Попробуйте обновить страницу и выполнить удаление еще раз."))},complete:function(){D.menu.preloader.hide()}})}}]})}},{key:"switch",value:function(e,t,n,r,o){var a=$(t).is(":checked"),r=a?r||"Активировать запись?":o||"Деактивировать запись?",i=!1;CoreUI.alert.create({type:"warning",title:r,onHide:function(){i||$(t).prop("checked",!a)},buttons:[{text:D._("Отмена"),click:function(){$(t).prop("checked",!a)}},{text:D._("Да"),type:"warning",click:function(){D.menu.loader.show(),i=!0,$.ajax({url:e.replace("[id]",n),method:"patch",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({checked:a?"Y":"N"}),success:function(e){"success"!==e.status&&($(t).prop("checked",!a),CoreUI.notice.danger(e.error_message||D._("Ошибка. Попробуйте обновить страницу и выполните это действие еще раз.")))},error:function(e){$(t).prop("checked",!a),CoreUI.notice.danger(D._("Ошибка. Попробуйте обновить страницу и выполните это действие еще раз."))},complete:function(){D.menu.loader.hide()}})}}]})}}])}(),Be={get:function(e){e=CoreUI.table.get(e);if(e)return new Et(e);throw new Error("Не удалось найти таблицу с id"+e)}},Tt=z(function e(t){if(U(this,e),"object"!==u(t)||Array.isArray(t)||null===t)throw new Error("Ошибка инициализации формы");this._form=t}),D={_settings:{lang:"en"},main:I,auth:j,menu:T,tools:C,ui:{table:Be,form:{get:function(e){var t=CoreUI.form.get(e);if(t)return new Tt(t);throw new Error("Не удалось найти форму с id"+e)}}},lang:{},_:function(e){var t={};return(t=this._settings.lang&&this.lang.hasOwnProperty(this._settings.lang)&&"object"===u(this.lang[this._settings.lang])&&null!==this.lang[this._settings.lang]?this.lang[this._settings.lang]:t).hasOwnProperty(e)?t[e]:e},setSettings:function(e){this._settings=$.extend({},this._settings,e)},getSetting:function(e){var t=null;return t=this._settings.hasOwnProperty(e)?this._settings[e]:t}};return D.lang.en={"Вход":"Login"},D});
//# sourceMappingURL=core.min.js.map
